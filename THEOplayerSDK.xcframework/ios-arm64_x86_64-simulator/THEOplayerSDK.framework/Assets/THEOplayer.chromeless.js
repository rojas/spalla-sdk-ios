/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: long.js
 (Apache 2.0), promise-polyfill (MIT - Copyright (c) 2014
 Taylor Hakes & Forbes Lindesay), shaka-player (Apache 2.0 -
 Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
(http://www.apache.org/licenses/LICENSE-2.0), MIT
(https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2023.2.0 (4.12.9)
 Created: 2024-09-25T12:02:44.537Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i,e,r=t.window,s=t.document,u=t.location,o=t.navigator,a=t.setTimeout,h=t.clearTimeout,c=t.setInterval,f=t.clearInterval,l=t.Error,v=t.TypeError,d=t.SyntaxError,w=t.Object,g=t.Math,_=t.parseInt,y=t.parseFloat,m=t.isNaN,p=t.Uint8Array,k=t.Worker,b=(t.WorkerGlobalScope,t.XMLHttpRequest);function A(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),w.defineProperty(t,e.key,e)}}function T(t,n,i){return n&&A(t.prototype,n),i&&A(t,i),w.defineProperty(t,"prototype",{writable:!1}),t}function S(t,n){return(S=w.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function E(t,n){t.prototype=w.create(n.prototype),t.prototype.constructor=t,S(t,n)}!function(t){t.l="web",t.g="android",t.I="android-tv",t.R="ios",t.N="tvos",t.M="chromecast"}(e||(e={}));var I=o?o.userAgent:"",R=I.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),N=I.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),D=I.match(/Android ([0-9\.]+)/i),C=I.match(/Windows NT ([0-9\.]+)/i),P=I.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),O=I.match(/Firefox\/([0-9\.]+)/i),x=I.match(/OPR\/(\d+\.\d+)/i),B=I.match(/Tizen ([0-9\.]+)/i),L=I.match(/(iPhone OS|iPad OS|iPod OS|Mac OS X) (\d+)_(\d+)_?(\d+)?/),M=function(){function n(){this.F=Boolean("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch||o&&o.msMaxTouchPoints),this.U=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(I)||/(macintosh|mac(?=_powerpc)\s)/i.test(I),this.j=/Windows NT/i.test(I),this.V=C?y(C[1]):0,this.G=/Android/i.test(I),this.Y=D?y(D[1]):0,this.J=/windows phone (8|8\.1)/i.test(I),this.Z=/iPhone/i.test(I),this.K=/iPad/i.test(I),this.nt=this.U&&this.F&&!this.K,this.ut=/iPod/i.test(I),this.ot=/Mobile Safari/i.test(I),this.ct=/EOSSTB/i.test(I),this.ft=(this.Z||this.K||this.nt||this.ut)&&!this.J,this.vt=L?y(L[2]):0,this.dt=this.J||this.ft||this.G||this.ot,this.wt=/CriOS/i.test(I),this._t=Boolean(t.chrome&&/google/i.test(o.vendor))||this.wt,this.yt=this._t&&/Edg\//i.test(o.userAgent),this.kt=N?_(N[1],10):0,this.bt=Boolean(t.chrome||/Chrome/i.test(I)||/CriOS/i.test(I)),this.At=R?_(R[1],10):0,this.Tt=/SMART-TV.*Tizen/i.test(I),this.St=B?y(B[1]):0,this.Et=/webos|web0s/i.test(I),this.It=/Edge\/\d+/i.test(I),this.Rt=/Trident/i.test(I),this.Nt=this.Rt&&!t.ActiveXObject&&"ActiveXObject"in t,this.Dt=/Vivaldi/i.test(I),this.Ct=/Firefox/i.test(I)&&!/Seamonkey/i.test(I),this.Pt=O?y(O[1]):0,this.Ot=/Safari/i.test(I)&&!/Chrome/i.test(I)&&!this.J&&!this.Tt,this.xt=P?y(P[2]):0,this.Bt=Boolean(x),this.Lt=x?y(x[1]):0,this.Mt=/CrKey/.test(I),this.Ft=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(I),this.Ut="ios"===e.I,this.jt="ios"===e.g,this.Ht=this.jt||this.Ut,this.Xt="ios"===e.R,this.Vt="ios"===e.N,this.zt="ios"===e.M}return T(n,[{key:"Wt",get:function(){return this.F}},{key:"Gt",get:function(){return this.U}},{key:"qt",get:function(){return this.j}},{key:"$t",get:function(){return this.V}},{key:"Yt",get:function(){return this.G}},{key:"Qt",get:function(){return this.Y}},{key:"Jt",get:function(){return this.J}},{key:"Zt",get:function(){return this.Z}},{key:"Kt",get:function(){return this.K}},{key:"in",get:function(){return this.nt}},{key:"un",get:function(){return this.ut}},{key:"hn",get:function(){return this.ft}},{key:"cn",get:function(){return this.vt}},{key:"fn",get:function(){return this.ct}},{key:"vn",get:function(){return this.ot}},{key:"dn",get:function(){return this.dt}},{key:"wn",get:function(){return this.wt}},{key:"_n",get:function(){return this._t}},{key:"yn",get:function(){return this.At}},{key:"pn",get:function(){return this.yt}},{key:"An",get:function(){return this.kt}},{key:"Tn",get:function(){return this.Tt}},{key:"Sn",get:function(){return this.St}},{key:"En",get:function(){return this.Et}},{key:"In",get:function(){return this.It}},{key:"Rn",get:function(){return this.Rt}},{key:"Nn",get:function(){return this.Nt}},{key:"Dn",get:function(){return this.Dt}},{key:"Cn",get:function(){return this.Ct}},{key:"Pn",get:function(){return this.Pt}},{key:"On",get:function(){return this.Ot}},{key:"xn",get:function(){return this.xt}},{key:"Bn",get:function(){return this.Bt}},{key:"Ln",get:function(){return this.Lt}},{key:"Mn",get:function(){return this.Mt}},{key:"Fn",get:function(){return this.Ft}},{key:"Un",get:function(){return!(!this.En&&!this.Tn)&&this.yn<=56}},{key:"jn",get:function(){return this.Ut}},{key:"Hn",get:function(){return this.jt}},{key:"Xn",get:function(){return this.Ht}},{key:"Vn",get:function(){return this.Xt}},{key:"zn",get:function(){return this.Vt}},{key:"Wn",get:function(){return this.zt}},{key:"Gn",get:function(){return this.bt}}]),n}();M.qn=new M;var F=M.qn,U={}.hasOwnProperty,j={}.toString;function H(t){return null!=t}function X(t){return void 0===t}var V=Array.isArray||function(t){return"[object Array]"===j.call(t)};function z(t){return W(t)&&U.call(t,"length")&&J(t.length)}function W(t){return"object"==typeof t&&null!==t}function G(t){return W(t)&&t.constructor&&t.constructor===w}function q(t){return"string"==typeof t}function $(t){return"boolean"==typeof t}function Y(t){return Boolean(t)&&"function"==typeof t.then}function Q(t){return"[object Date]"===j.call(t)}function J(t){return"number"==typeof t}var Z=function(){},K=function(t){return t};function tt(t,n,e){var r;return function(){for(var s=arguments.length,u=new Array(s),o=0;o<s;o++)u[o]=arguments[o];var a=this,h=e&&!r;void 0!==r&&i.$n(r),r=i.Yn(function(){r=void 0,e||t.apply(a,u)},n),h&&t.apply(a,u)}}var nt=!(F.Rn&&!F.Nn),it=t.console;function et(t){if(W(t))try{return JSON.stringify(t)}catch(t){}return t}function rt(t){return t.map(et).join(" ")}function st(t){var n=it&&it[t];return n?n.bind&&nt?n.bind(it):function(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];it[t](rt(i))}:void 0}var ut,ot=st("log")||Z,at=st("warn")||ot.bind(void 0,"WARNING:"),ht=st("error")||ot.bind(void 0,"ERROR:"),ct=(ut=it&&it.assert)?ut.bind&&nt?ut.bind(it):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];it.assert(t,rt(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];ht.apply(void 0,["Assertion failed:"].concat(i))}},ft=null;try{ft=new WebAssembly.Instance(new WebAssembly.Module(new p([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function lt(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function vt(t){return!0===(t&&t.Qn)}function dt(t){var n=g.clz32(t&-t);return t?31-n:n}lt.prototype.Qn,w.defineProperty(lt.prototype,"Qn",{value:!0}),lt.isLong=vt;var wt={},gt={};function _t(t,n){var i,e,r;return n?(r=0<=(t>>>=0)&&t<256)&&(e=gt[t])?e:(i=mt(t,0,!0),r&&(gt[t]=i),i):(r=-128<=(t|=0)&&t<128)&&(e=wt[t])?e:(i=mt(t,t<0?-1:0,!1),r&&(wt[t]=i),i)}function yt(t,n){if(m(t))return n?Rt:It;if(n){if(t<0)return Rt;if(t>=Tt)return Ot}else{if(t<=-St)return xt;if(t+1>=St)return Pt}return t<0?yt(-t,n).neg():mt(t%At|0,t/At|0,n)}function mt(t,n,i){return new lt(t,n,i)}lt.fromInt=_t,lt.fromNumber=yt,lt.fromBits=mt;var pt=g.pow;function kt(t,n,i){if(0===t.length)throw l("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?Rt:It;if((i=i||10)<2||36<i)throw RangeError("radix");var e;if((e=t.indexOf("-"))>0)throw l("interior hyphen");if(0===e)return kt(t.substring(1),n,i).neg();for(var r=yt(pt(i,8)),s=It,u=0;u<t.length;u+=8){var o=g.min(8,t.length-u),a=_(t.substring(u,u+o),i);if(o<8){var h=yt(pt(i,o));s=s.mul(h).add(yt(a))}else s=(s=s.mul(r)).add(yt(a))}return s.unsigned=n,s}function bt(t,n){return"number"==typeof t?yt(t,n):"string"==typeof t?kt(t,n):mt(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}lt.fromString=kt,lt.fromValue=bt;var At=4294967296,Tt=At*At,St=Tt/2,Et=_t(1<<24),It=_t(0);lt.ZERO=It;var Rt=_t(0,!0);lt.UZERO=Rt;var Nt=_t(1);lt.ONE=Nt;var Dt=_t(1,!0);lt.UONE=Dt;var Ct=_t(-1);lt.NEG_ONE=Ct;var Pt=mt(-1,2147483647,!1);lt.MAX_VALUE=Pt;var Ot=mt(-1,-1,!0);lt.MAX_UNSIGNED_VALUE=Ot;var xt=mt(0,-2147483648,!1);lt.MIN_VALUE=xt;var Bt=lt.prototype;Bt.toInt=function(){return this.unsigned?this.low>>>0:this.low},Bt.toNumber=function(){return this.unsigned?(this.high>>>0)*At+(this.low>>>0):this.high*At+(this.low>>>0)},Bt.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(xt)){var n=yt(t),i=this.div(n),e=i.mul(n).sub(this);return i.toString(t)+e.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=yt(pt(t,6),this.unsigned),s=this,u="";;){var o=s.div(r),a=(s.sub(o.mul(r)).toInt()>>>0).toString(t);if((s=o).isZero())return a+u;for(;a.length<6;)a="0"+a;u=""+a+u}},Bt.getHighBits=function(){return this.high},Bt.getHighBitsUnsigned=function(){return this.high>>>0},Bt.getLowBits=function(){return this.low},Bt.getLowBitsUnsigned=function(){return this.low>>>0},Bt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(xt)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Bt.isZero=function(){return 0===this.high&&0===this.low},Bt.eqz=Bt.isZero,Bt.isNegative=function(){return!this.unsigned&&this.high<0},Bt.isPositive=function(){return this.unsigned||this.high>=0},Bt.isOdd=function(){return 1==(1&this.low)},Bt.isEven=function(){return 0==(1&this.low)},Bt.equals=function(t){return vt(t)||(t=bt(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Bt.eq=Bt.equals,Bt.notEquals=function(t){return!this.eq(t)},Bt.neq=Bt.notEquals,Bt.ne=Bt.notEquals,Bt.lessThan=function(t){return this.comp(t)<0},Bt.lt=Bt.lessThan,Bt.lessThanOrEqual=function(t){return this.comp(t)<=0},Bt.lte=Bt.lessThanOrEqual,Bt.le=Bt.lessThanOrEqual,Bt.greaterThan=function(t){return this.comp(t)>0},Bt.gt=Bt.greaterThan,Bt.greaterThanOrEqual=function(t){return this.comp(t)>=0},Bt.gte=Bt.greaterThanOrEqual,Bt.ge=Bt.greaterThanOrEqual,Bt.compare=function(t){if(vt(t)||(t=bt(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Bt.comp=Bt.compare,Bt.negate=function(){return!this.unsigned&&this.eq(xt)?xt:this.not().add(Nt)},Bt.neg=Bt.negate,Bt.add=function(t){vt(t)||(t=bt(t));var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,a=0,h=0,c=0,f=0;return c+=(f+=r+(65535&t.low))>>>16,h+=(c+=e+o)>>>16,a+=(h+=i+u)>>>16,a+=n+s,mt((c&=65535)<<16|(f&=65535),(a&=65535)<<16|(h&=65535),this.unsigned)},Bt.subtract=function(t){return vt(t)||(t=bt(t)),this.add(t.neg())},Bt.sub=Bt.subtract,Bt.multiply=function(t){if(this.isZero())return this;if(vt(t)||(t=bt(t)),ft)return mt(ft.mul(this.low,this.high,t.low,t.high),ft.get_high(),this.unsigned);if(t.isZero())return this.unsigned?Rt:It;if(this.eq(xt))return t.isOdd()?xt:It;if(t.eq(xt))return this.isOdd()?xt:It;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Et)&&t.lt(Et))return yt(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,a=65535&t.low,h=0,c=0,f=0,l=0;return f+=(l+=r*a)>>>16,c+=(f+=e*a)>>>16,f&=65535,c+=(f+=r*o)>>>16,h+=(c+=i*a)>>>16,c&=65535,h+=(c+=e*o)>>>16,c&=65535,h+=(c+=r*u)>>>16,h+=n*a+i*o+e*u+r*s,mt((f&=65535)<<16|(l&=65535),(h&=65535)<<16|(c&=65535),this.unsigned)},Bt.mul=Bt.multiply,Bt.divide=function(t){if(vt(t)||(t=bt(t)),t.isZero())throw l("division by zero");var n,i,e;if(ft)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?mt((this.unsigned?ft.div_u:ft.div_s)(this.low,this.high,t.low,t.high),ft.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Rt:It;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Rt;if(t.gt(this.shru(1)))return Dt;e=Rt}else{if(this.eq(xt))return t.eq(Nt)||t.eq(Ct)?xt:t.eq(xt)?Nt:(n=this.shr(1).div(t).shl(1)).eq(It)?t.isNegative()?Nt:Ct:(i=this.sub(t.mul(n)),e=n.add(i.div(t)));if(t.eq(xt))return this.unsigned?Rt:It;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();e=It}for(i=this;i.gte(t);){n=g.max(1,g.floor(i.toNumber()/t.toNumber()));for(var r=g.ceil(g.log(n)/g.LN2),s=r<=48?1:pt(2,r-48),u=yt(n),o=u.mul(t);o.isNegative()||o.gt(i);)o=(u=yt(n-=s,this.unsigned)).mul(t);u.isZero()&&(u=Nt),e=e.add(u),i=i.sub(o)}return e},Bt.div=Bt.divide,Bt.modulo=function(t){return vt(t)||(t=bt(t)),ft?mt((this.unsigned?ft.rem_u:ft.rem_s)(this.low,this.high,t.low,t.high),ft.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Bt.mod=Bt.modulo,Bt.rem=Bt.modulo,Bt.not=function(){return mt(~this.low,~this.high,this.unsigned)},Bt.countLeadingZeros=function(){return this.high?g.clz32(this.high):g.clz32(this.low)+32},Bt.clz=Bt.countLeadingZeros,Bt.countTrailingZeros=function(){return this.low?dt(this.low):dt(this.high)+32},Bt.ctz=Bt.countTrailingZeros,Bt.and=function(t){return vt(t)||(t=bt(t)),mt(this.low&t.low,this.high&t.high,this.unsigned)},Bt.or=function(t){return vt(t)||(t=bt(t)),mt(this.low|t.low,this.high|t.high,this.unsigned)},Bt.xor=function(t){return vt(t)||(t=bt(t)),mt(this.low^t.low,this.high^t.high,this.unsigned)},Bt.shiftLeft=function(t){return vt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?mt(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):mt(0,this.low<<t-32,this.unsigned)},Bt.shl=Bt.shiftLeft,Bt.shiftRight=function(t){return vt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?mt(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):mt(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Bt.shr=Bt.shiftRight,Bt.shiftRightUnsigned=function(t){return vt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?mt(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):mt(32===t?this.high:this.high>>>t-32,0,this.unsigned)},Bt.shru=Bt.shiftRightUnsigned,Bt.shr_u=Bt.shiftRightUnsigned,Bt.rotateLeft=function(t){var n;return vt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?mt(this.high,this.low,this.unsigned):t<32?(n=32-t,mt(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),mt(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},Bt.rotl=Bt.rotateLeft,Bt.rotateRight=function(t){var n;return vt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?mt(this.high,this.low,this.unsigned):t<32?(n=32-t,mt(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),mt(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},Bt.rotr=Bt.rotateRight,Bt.toSigned=function(){return this.unsigned?mt(this.low,this.high,!1):this},Bt.toUnsigned=function(){return this.unsigned?this:mt(this.low,this.high,!0)},Bt.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Bt.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Bt.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},lt.fromBytes=function(t,n,i){return i?lt.fromBytesLE(t,n):lt.fromBytesBE(t,n)},lt.fromBytesLE=function(t,n){return new lt(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},lt.fromBytesBE=function(t,n){return new lt(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var Lt=9007199254740991,Mt=g.pow(2,-52);function Ft(t,n,i){return g.min(g.max(t,n),i)}function Ut(t,n,i){return t===n||g.abs(t-n)<=i}function jt(t,n){if(t===n)return!0;var i=g.abs(t-n);return i<Mt||i<g.max(g.abs(t),g.abs(n))*Mt}function Ht(t){return t!=t}function Xt(t,n){return t===n||Ht(t)&&Ht(n)}function Vt(t,n){for(var i=t,e=n;0!==e;){var r=i%e;i=e,e=r}return i<0?-i:i}function zt(t){return!m(t.getTime())}function Wt(){return Date.now()||(new Date).getTime()}function Gt(t){return t/1e3}function qt(t){return 1e3*t}var $t,Yt=lt.fromNumber(Lt);function Qt(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(Yt))return t.toNumber()/n;var i=t.divide(n),e=t.subtract(i.multiply(n));return i.toNumber()+e.toNumber()/n}function Jt(t){return t.Jn===$t.Zn}function Zt(t){return t.Jn===$t.Kn}function Kt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.Zn=1]="Zn",t[t.ni=2]="ni",t[t.Kn=3]="Kn",t[t.ei=4]="ei",t[t.ri=9]="ri"}($t||($t={}));var tn=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];l.apply(this,n)};(tn.prototype=w.create(l.prototype)).constructor=tn;var nn=function(t){function n(n,i){var e;return(e=t.call(this)||this).cause=void 0,e.message=n||"Unknown error",e.cause=i,l.captureStackTrace&&l.captureStackTrace(Kt(e),e.constructor),e}return E(n,t),T(n,[{key:"name",get:function(){return"BaseError"}}]),n}(tn),en=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return E(n,t),n}(nn),rn=function(){function t(){}return t.prototype.oi=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new en(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new en;return new fn(n)},t}(),sn=function(){function t(t){this.ai=void 0,this.ai=t}var n=t.prototype;return n.ci=function(t){return this.ai.isEqualNode(t.ai)},n.di=function(n){return new t(this.ai.cloneNode(n))},T(t,[{key:"Jn",get:function(){return $t.ni}},{key:"wi",get:function(){var t;return null!=(t=this.ai.localName)?t:dn(this.ai.nodeName)}},{key:"gi",get:function(){return this.ai.nodeName}},{key:"_i",get:function(){var t;return null!=(t=this.ai.namespaceURI)?t:void 0}},{key:"Ai",get:function(){var t;return null!=(t=this.ai.prefix)?t:void 0}},{key:"Ti",get:function(){return this.ai.nodeValue}}]),t}(),un=function(){function t(t){this.Si=void 0,this.Ei=void 0,this.Si=t}var n=t.prototype;return n.Ii=function(t){return this.Ri.filter(function(n){return ln(n)&&n.Ni===t})},n.Di=function(t,n){return this.Ri.filter(function(i){return ln(i)&&i.wi===n&&i._i===t})},n.Ci=function(t){this.Si.appendChild(t.Pi),this.Ei&&this.Ei.push(t)},n.ci=function(t){return this.Si.isEqualNode(t.Pi)},T(t,[{key:"Ri",get:function(){return void 0===this.Ei&&(this.Ei=function(t){for(var n=[],i=0;i<t.length;i++){var e=vn(t.item(i));e&&n.push(e)}return n}(this.Si.childNodes)),this.Ei}},{key:"Oi",get:function(){return this.Ri.filter(ln)}},{key:"Pi",get:function(){return this.Si}}]),t}(),on=function(t){function n(n){return t.call(this,n)||this}E(n,t);var i=n.prototype;return i.xi=function(t){if(this.Si.hasAttribute(t))return this.Si.getAttribute(t)},i.Bi=function(t,n){if(this.Si.hasAttributeNS(t,n))return this.Si.getAttributeNS(t,n)},i.Li=function(t){this.Si.removeAttribute(t)},i.Mi=function(t,n){this.Si.removeAttributeNS(t,n)},i.Fi=function(t,n){this.Si.setAttribute(t,n)},i.Ui=function(t,n,i){this.Si.setAttributeNS(t,n,i)},i.di=function(t){return new n(this.Si.cloneNode(t))},T(n,[{key:"Jn",get:function(){return $t.Zn}},{key:"wi",get:function(){var t;return null!=(t=this.Si.localName)?t:dn(this.Si.nodeName)}},{key:"_i",get:function(){var t;return null!=(t=this.Si.namespaceURI)?t:void 0}},{key:"Ai",get:function(){var t;return null!=(t=this.Si.prefix)?t:void 0}},{key:"Ni",get:function(){return this.Si.nodeName}},{key:"ji",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new sn(t.item(i)));return n}(this.Si.attributes)}},{key:"Hi",get:function(){return this.Si.textContent}}]),n}(un),an=function(){function t(t){this.Si=void 0,this.Si=t}return t.prototype.ci=function(t){return this.Xi===t.Xi},T(t,[{key:"Xi",get:function(){return this.Si.nodeValue}},{key:"Pi",get:function(){return this.Si}}]),t}(),hn=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n.prototype.di=function(t){return new n(this.Si.cloneNode(t))},T(n,[{key:"Jn",get:function(){return $t.Kn}}]),n}(an),cn=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n.prototype.di=function(t){return new n(this.Si.cloneNode(t))},T(n,[{key:"Jn",get:function(){return $t.ei}}]),n}(an),fn=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n.prototype.di=function(t){return new n(this.Si.cloneNode(t))},T(n,[{key:"Jn",get:function(){return $t.ri}},{key:"Vi",get:function(){return new on(this.Si.documentElement)}}]),n}(un);function ln(t){return Jt(t)}function vn(t){switch(t.nodeType){case $t.Zn:return new on(t);case $t.Kn:return new hn(t);case $t.ei:return new cn(t)}}function dn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function wn(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),w.defineProperty(t,e.key,e)}}function gn(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var e=new Array(i),r=1;r<i;r*=2){_n(t,n,r,e);var s=t;t=e,e=s}return t}(t,n);return i!==t&&_n(i,null,t.length,t),t}function _n(t,n,i,e){var r,s,u,o,a,h=t.length,c=0,f=2*i;for(r=0;r<h;r+=f)for(u=(s=r+i)+i,s>h&&(s=h),u>h&&(u=h),o=r,a=s;;)if(o<s&&a<u)n(t[o],t[a])<=0?e[c++]=t[o++]:e[c++]=t[a++];else if(o<s)e[c++]=t[o++];else{if(!(a<u))break;e[c++]=t[a++]}}var yn=/[a-zA-Z]/,mn=/[0-9]/,pn=/[0-9a-fA-F]/,kn=/^0x/i,bn=/^[0-9]+$/,An=/^[0-9a-fA-F]+$/,Tn=/^[0-7]+$/,Sn=w.prototype.toString,En=Array.isArray||function(t){return"[object Array]"===Sn.call(t)},In="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function Rn(t){return En(t)?t:Array.from(t)}function Nn(t){return t>=65&&t<=90}function Dn(t){return Nn(t)||function(t){return t>=97&&t<=122}(t)}function Cn(t){return t>=48&&t<=57}function Pn(t){return Cn(t)||Dn(t)}function On(t){return Cn(t)||t>=65&&t<=70||t>=97&&t<=102}function xn(t){return Nn(t)?t+32:t}function Bn(t){return Cn(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Ln(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var Mn=g.min,Fn=String.fromCharCode,Un=16384;function jn(t){for(var n=t.length,i=[],e=0;e<n;e+=Un){var r=Mn(e+Un,n);i.push(Fn.apply(null,t.slice(e,r)))}return i.join("")}var Hn=/[^\0-\x7E]/,Xn=/[\x2E\u3002\uFF0E\uFF61]/g,Vn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},zn=g.floor,Wn=String.fromCharCode;function Gn(t){throw new RangeError(Vn[t])}function qn(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}var $n,Yn,Qn,Jn=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},Zn=function(t,n,i){var e=0;for(t=i?zn(t/700):t>>1,t+=zn(t/n);t>455;e+=36)t=zn(t/35);return zn(e+36*t/(t+38))},Kn=function(t){return function(t,n){var i=t.split("@"),e="";i.length>1&&(e=i[0]+"@",t=i[1]);var r=function(t,n){for(var i=[],e=t.length;e--;)i[e]=n(t[e]);return i}((t=t.replace(Xn,".")).split("."),n).join(".");return e+r}(t,function(t){return Hn.test(t)?"xn--"+function(t){for(var n=[],i=(t=qn(t)).length,e=128,r=0,s=72,u=0,o=t;u<o.length;u++){var a=o[u];a<128&&n.push(Wn(a))}var h=n.length,c=h;for(h&&n.push("-");c<i;){for(var f=2147483647,l=0,v=t;l<v.length;l++){var d=v[l];d>=e&&d<f&&(f=d)}var w=c+1;f-e>zn((2147483647-r)/w)&&Gn("overflow"),r+=(f-e)*w,e=f;for(var g=0,_=t;g<_.length;g++){var y=_[g];if(y<e&&++r>2147483647&&Gn("overflow"),y==e){for(var m=r,p=36;;p+=36){var k=p<=s?1:p>=s+26?26:p-s;if(m<k)break;var b=m-k,A=36-k;n.push(Wn(Jn(k+b%A,0))),m=zn(b/A)}n.push(Wn(Jn(m,0))),s=Zn(r,w,c==h),r=0,++c}}++r,++e}return n.join("")}(t):t})};function ti(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return jn(n)}function ni(t){if(t>=55296&&t<=57343)throw new l("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function ii(t,n){return t>>n&63|128}function ei(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(ni(t),n.push(t>>12&15|224),n.push(ii(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(ii(t,12)),n.push(ii(t,6))),n.push(63&t|128)):n.push(t)}function ri(t){for(var n=[],i=0;i<t.length;i++){ei(t[i],n)}return n}function si(){if(Qn>=Yn)throw new l("Invalid byte index");var t=255&$n[Qn];if(Qn++,128==(192&t))return 63&t;throw new l("Invalid continuation byte")}function ui(){var t,n;if(Qn>Yn)throw new l("Invalid byte index");if(Qn===Yn)return!1;if(t=255&$n[Qn],Qn++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|si())>=128)return n;throw new l("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|si()<<6|si())>=2048)return ni(n),n;throw new l("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|si()<<12|si()<<6|si())>=65536&&n<=1114111)return n;throw new l("Invalid UTF-8 detected")}function oi(t){return[37,Ln(t>>4),Ln(15&t)]}function ai(t){return function(t){return t>=0&&t<=31}(t)||t>126}function hi(t){return ai(t)||32===t||34===t||60===t||62===t||96===t}function ci(t){return hi(t)||35===t||63===t||123===t||125===t}function fi(t){return ci(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function li(t){return t<33||t>126||34===t||35===t||60===t||62===t}function vi(t){return li(t)||39===t}function di(t,n){if(!n(t))return[t];for(var i=ri([t]),e=[],r=0;r<i.length;r++){var s=i[r];e.push.apply(e,oi(s))}return e}function wi(t,n){for(var i=[],e=0,r=qn(t);e<r.length;e++){var s=r[e];i.push.apply(i,di(s,n))}return ti(i)}function gi(t){return function(t){for(var n=[],i=t.length,e=0;e<i;e++){var r=t[e];if(37===r&&e+2<i&&On(t[e+1])&&On(t[e+2])){var s=Bn(t[e+1])<<4|Bn(t[e+2]);n.push(s),e+=2}else n.push(r)}return n}(ri(t))}function _i(t){return ti(function(t){$n=t.slice(),Yn=$n.length,Qn=0;for(var n,i=[];!1!==(n=ui());)i.push(n);return i}(gi(qn(t))))}function yi(t){var n,i,e,r,s=t.length,u=[0,0,0,0,0,0,0,0],o=0,a=null,h=0;if(h<s&&":"===t[h]){if(!(h+1<s&&":"===t[h+1]))throw new v;h+=2,a=o+=1}for(;h<s;){if(8===o)throw new v("Too many groups");if(":"!==t[h]){for(var c=0,f=0;f<4&&h<s&&pn.test(t[h]);)c=c<<4|_(t[h],16),h+=1,f+=1;if("."===t[h]){if(0===f)throw new v;if(h-=f,o>6)throw new v;for(var l=0;h<s;){var d=null;if(l>0){if(!("."===t[h]&&l<4))throw new v;h+=1}if(!mn.test(t[h]))throw new v;for(;h<s&&mn.test(t[h]);){var w=_(t[h],10);if(null===d)d=w;else{if(0===d)throw new v;if((d=10*d+w)>255)throw new v}h+=1}u[o]=u[o]<<8|d,2!==(l+=1)&&4!==l||(o+=1)}if(4!==l)throw new v;break}if(":"===t[h]){if((h+=1)===s)throw new v}else if(h<s)throw new v;u[o]=c,o+=1}else{if(null!==a)throw new v("Too many :: groups");h+=1,a=o+=1}}if(null!==a){var g=o-a;for(o=7;0!==o&&g>0;)e=a+g-1,r=void 0,r=(n=u)[i=o],n[i]=n[e],n[e]=r,o-=1,g-=1}else if(8!==o)throw new v;return u}function mi(t){var n=10,i=bn;return kn.test(t)?(t=t.slice(2),n=16,i=An):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=Tn),""===t?0:i.test(t)?_(t,n):void 0}var pi={zi:4},ki=/[\0\t\n\r #%/:?@\[\\\]]/,bi=/[\0\t\n\r #/:?@\[\\\]]/;function Ai(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new v("Invalid IPv6 address");return{zi:2,Wi:yi(t.slice(1,-1))}}if(!n)return function(t){if(bi.test(t))throw new v("Invalid code point in opaque host");var n=wi(t,ai);return""===n?pi:{zi:3,Gi:n}}(t);var i=function(t){return function(t){return Kn(t.toLowerCase())}(t)}(_i(t));if(ki.test(i))throw new v("Invalid code point in host");var e=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],e=0;e<n.length;e++){var r=n[e];if(""===r)return;var s=mi(r);if(void 0===s)return;i.push(s)}for(var u=0;u<i.length-1;u++)if(i[u]>255)throw new v;if(i[i.length-1]>=g.pow(256,5-i.length))throw new v;for(var o=i.pop(),a=0;a<i.length;a++)o+=i[a]*g.pow(256,3-a);return o}}(i);return void 0!==e?{zi:1,Wi:e}:""===i?pi:{zi:0,qi:i}}function Ti(t){switch(t.zi){case 0:return t.qi;case 1:return function(t){for(var n=[],i=t,e=1;e<=4;e++)n.push(""+(255&i)),4!==e&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Wi);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,e=0,r=0,s=0;s<8;s++)0===t[s]?(0===r&&(e=s),r++):(r>i&&(n=e,i=r),r=0);return r>i&&(n=e,i=r),i>1?n:null}(t),e=!1,r=0;r<8;r++){if(e){if(0===t[r])continue;e=!1}i!==r?(n+=t[r].toString(16),7!==r&&(n+=":")):(n+=0===r?"::":":",e=!0)}return n}(t.Wi)+"]";case 3:return t.Gi;case 4:return""}}var Si=/\+/g;function Ei(t){for(var n=t.split("&"),i=[],e=0;e<n.length;e++){var r=n[e];if(""!==r){var s=r.indexOf("="),u=void 0,o=void 0;-1!==s?(u=r.slice(0,s),o=r.slice(s+1)):(u=r,o=""),u=u.replace(Si," "),o=o.replace(Si," ");var a=_i(u),h=_i(o);i.push([a,h])}}return i}function Ii(t){for(var n="",i=0;i<t.length;i++){var e=t[i];i>0&&(n+="&"),n+=Ri(ri(qn(e[0])))+"="+Ri(ri(qn(e[1])))}return n}function Ri(t){for(var n,i=[],e=0;e<t.length;e++){var r=t[e];32===r?i.push(43):42===(n=r)||45===n||46===n||95===n||Pn(n)?i.push(r):i.push.apply(i,oi(r))}return jn(i)}var Ni=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Di(t){var n=""+t,i=Ni.exec(n);return i?function(t,n){for(var i=t.length,e=[],r=n;r<i;r++){var s=t.charCodeAt(r);if(Pi(s))if(Oi(s)||r===i-1)e.push(Ci);else{var u=t.charCodeAt(r+1);Oi(u)?(e.push(s,u),r++):e.push(Ci)}else e.push(s)}return t.slice(0,n)+jn(e)}(n,i.index):n}var Ci=65533,Pi=function(t){return 55296==(63488&t)},Oi=function(t){return 0!=(1024&t)};function xi(t,n){var i=t[0],e=n[0];return i===e?0:i<e?-1:1}function Bi(t){t.$i.length=0}function Li(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.$i,Ei(n))}function Mi(t){if(t.Yi){var n=Ii(t.$i);""===n&&(n=null),t.Yi.Yi.Qi=n}}var Fi=function(){function t(t){if(void 0===t&&(t=void 0),this.Yi=null,null==t)this.$i=[];else if("object"==typeof t||"function"==typeof t)if((s=t)instanceof Fi&&En(s.$i)&&(!In||s[Symbol.iterator]===Ui))this.$i=t.$i.slice();else if(function(t){return null!=t&&(!!En(t)||!!In&&"function"==typeof t[Symbol.iterator])}(t)){this.$i=[];for(var n=0,i=Rn(t);n<i.length;n++){var e=Rn(i[n]);if(2!==e.length)throw new v("Invalid name-value pair");this.$i.push([Di(e[0]),Di(e[1])])}}else for(var r in this.$i=[],t)w.prototype.hasOwnProperty.call(t,r)&&this.$i.push([Di(r),Di(t[r])]);else(t=Di(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.$i=Ei(t);var s}var n=t.prototype;return n.append=function(t,n){t=Di(t),n=Di(n),this.$i.push([t,n]),Mi(this)},n.delete=function(t){t=Di(t);for(var n=this.$i,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}Mi(this)},n.get=function(t){t=Di(t);for(var n=this.$i,i=0;i<n.length;i++){var e=n[i];if(e[0]===t)return e[1]}return null},n.getAll=function(t){t=Di(t);for(var n=this.$i,i=[],e=0;e<n.length;e++){var r=n[e];r[0]===t&&i.push(r[1])}return i},n.has=function(t){t=Di(t);for(var n=this.$i,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=Di(t),n=Di(n);for(var i=this.$i,e=!1,r=0;r<i.length;){var s=i[r];s[0]===t?e?i.splice(r,1):(s[1]=n,e=!0,r++):r++}e||i.push([t,n]),Mi(this)},n.sort=function(){gn(this.$i,xi),Mi(this)},n.toString=function(){return Ii(this.$i)},n.entries=function(){return new Vi(this.$i,ji)},n.keys=function(){return new Vi(this.$i,Hi)},n.values=function(){return new Vi(this.$i,Xi)},n.forEach=function(t){var n=this;this.$i.forEach(function(i){return t(i[1],i[0],n)})},t}(),Ui=Fi.prototype.entries;In&&(Fi.prototype[Symbol.iterator]=Ui);var ji=function(t){return[t[0],t[1]]},Hi=function(t){return t[0]},Xi=function(t){return t[1]},Vi=function(){function t(t,n){this.Ji=0,this.$i=t,this.Zi=n}return t.prototype.next=function(){return this.Ji<this.$i.length?{done:!1,value:this.Zi(this.$i[this.Ji++])}:{done:!0,value:void 0}},t}(),zi="null";var Wi=w.create(null);Wi.ftp=21,Wi.file=0,Wi.gopher=70,Wi.http=80,Wi.https=443,Wi.ws=80,Wi.wss=443;var Gi=/^(?:\.|%2e)$/i,qi=/^(?:\.|%2e){2}$/i;function $i(t){return Gi.test(t)}function Yi(t){return qi.test(t)}function Qi(t){return void 0!==Wi[t]}function Ji(t){return Qi(t.Ki)}function Zi(t){return""!==t.re||""!==t.ue}function Ki(t){var n=t.length;if(!(n>=2))return!1;if(!ne(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function te(t){return 2===t.length&&yn.test(t[0])&&(":"===t[1]||"|"===t[1])}function ne(t){return 2===t.length&&te(jn(t))}function ie(t){return te(t)&&":"===t[1]}function ee(t){var n=t.oe;0!==n.length&&("file"===t.Ki&&1===n.length&&ie(n[0])||n.pop())}function re(t){return null===t.fe||pi===t.fe||t.we||"file"===t.Ki}var se=-1,ue=/\t|\n|\r/g,oe=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function ae(t,n,i,e){void 0===i&&(i=null),void 0===e&&(e=null),i||(i=new ce,t=t.replace(oe,""));var r=null!==e?e:0;n=n||null;for(var s=[],u=!1,o=!1,a=!1,h=qn(t=t.replace(ue,"")),c=h.length,f=0;f<=c;){var l=f<c?h[f]:se;switch(r){case 0:if(!Dn(l)){if(null===e){s.length=0,r=2;continue}throw new v("Invalid scheme")}s.push(xn(l)),r=1;break;case 1:if(Pn(l)||43===l||45===l||46===l)s.push(xn(l));else{if(58!==l){if(null===e){s.length=0,r=2,f=0;continue}throw new v("Invalid scheme")}var d=ti(s);if(null!==e){if(Qi(i.Ki)&&!Qi(d))return;if(!Qi(i.Ki)&&Qi(d))return;if((Zi(i)||null!==i._e)&&"file"===d)return;if("file"===i.Ki&&(i.fe===pi||null===i.fe))return}if(i.Ki=d,null!==e)return void(Ji(i)&&i._e===Wi[i.Ki]&&(i._e=null));s.length=0,"file"===i.Ki?r=13:Ji(i)&&n&&n.Ki===i.Ki?r=3:Ji(i)?r=7:47===h[f+1]?(r=4,f+=1):(i.we=!0,i.oe.push(""),r=18)}break;case 2:if(!n||n.we&&35!==l)throw new v("Invalid scheme");n.we&&35===l?(i.Ki=n.Ki,i.oe=n.oe.slice(),i.Qi=n.Qi,i.ye="",i.we=!0,r=20):"file"!==n.Ki?(r=5,f-=1):(r=13,f-=1);break;case 3:47===l&&47===h[f+1]?r=8:(r=5,f-=1);break;case 4:47===l?r=9:(r=17,f-=1);break;case 5:i.Ki=n.Ki,se===l?(i.re=n.re,i.ue=n.ue,i.fe=n.fe,i._e=n._e,i.oe=n.oe.slice(),i.Qi=n.Qi):47===l?r=6:63===l?(i.re=n.re,i.ue=n.ue,i.fe=n.fe,i._e=n._e,i.oe=n.oe.slice(),i.Qi="",r=19):35===l?(i.re=n.re,i.ue=n.ue,i.fe=n.fe,i._e=n._e,i.oe=n.oe.slice(),i.Qi=n.Qi,i.ye="",r=20):92===l&&Ji(i)?r=6:(i.re=n.re,i.ue=n.ue,i.fe=n.fe,i._e=n._e,i.oe=n.oe.slice(),i.oe.pop(),r=17,f-=1);break;case 6:!Ji(i)||47!==l&&92!==l?47===l?r=9:(i.re=n.re,i.ue=n.ue,i.fe=n.fe,i._e=n._e,r=17,f-=1):r=8;break;case 7:if(47!==l||47!==h[f+1]){r=8;continue}r=8,f+=1;break;case 8:47!==l&&92!==l&&(r=9,f-=1);break;case 9:if(64===l){u&&s.unshift(37,52,48),u=!0;for(var w=0;w<s.length;w++){var g=s[w];if(58!==g||a){var y=ti(di(g,fi));a?i.ue+=y:i.re+=y}else a=!0}s.length=0}else if(se===l||47===l||63===l||35===l||Ji(i)&&92===l){if(u&&0===s.length)throw new v("Invalid host");f-=s.length+1,s.length=0,r=10}else s.push(l);break;case 10:case 11:if(null!==e&&"file"===i.Ki)f-=1,r=15;else if(58!==l||o)if(se===l||47===l||63===l||35===l||Ji(i)&&92===l){if(f-=1,Ji(i)&&0===s.length)throw new v("Invalid host");if(null!==e&&0===s.length&&(Zi(i)||null!==i._e))return;var m=Ai(ti(s),Ji(i));if(i.fe=m,s.length=0,r=16,null!==e)return}else 91===l?o=!0:93===l&&(o=!1),s.push(l);else{if(0===s.length)throw new v("Invalid host");var p=Ai(ti(s),Ji(i));if(i.fe=p,s.length=0,r=12,11===e)return}break;case 12:if(Cn(l))s.push(l);else{if(!(se===l||47===l||63===l||35===l||Ji(i)&&92===l||null!==e))throw new v("Invalid port");if(0!==s.length){var k=_(ti(s),10);if(k>65535)throw new v("Invalid port");i._e=k===Wi[i.Ki]?null:k,s.length=0}if(null!==e)return;r=16,f-=1}break;case 13:i.Ki="file",47===l||92===l?r=14:n&&"file"===n.Ki?se===l?(i.fe=n.fe,i.oe=n.oe.slice(),i.Qi=n.Qi):63===l?(i.fe=n.fe,i.oe=n.oe.slice(),i.Qi="",r=19):35===l?(i.fe=n.fe,i.oe=n.oe.slice(),i.Qi=n.Qi,i.ye="",r=20):(Ki(h.slice(f))||(i.fe=n.fe,i.oe=n.oe.slice(),ee(i)),r=17,f-=1):(r=17,f-=1);break;case 14:47===l||92===l?r=15:(n&&"file"===n.Ki&&!Ki(h.slice(f))&&(ie(n.oe[0])?i.oe.push(n.oe[0]):i.fe=n.fe),r=17,f-=1);break;case 15:if(se===l||47===l||92===l||63===l||35===l)if(f-=1,null===e&&ne(s))r=17;else if(0===s.length){if(i.fe=pi,null!==e)return;r=16}else{var b=Ai(ti(s),Ji(i));if(0===b.zi&&"localhost"===b.qi&&(b=pi),i.fe=b,null!==e)return;s.length=0,r=16}else s.push(l);break;case 16:Ji(i)?(r=17,47!==l&&92!==l&&(f-=1)):null===e&&63===l?(i.Qi="",r=19):null===e&&35===l?(i.ye="",r=20):se!==l&&(r=17,47!==l&&(f-=1));break;case 17:if(se===l||47===l||Ji(i)&&92===l||null===e&&(63===l||35===l)){var A=ti(s);if(Yi(A)?(ee(i),47===l||Ji(i)&&92===l||i.oe.push("")):!$i(A)||47===l||Ji(i)&&92===l?$i(A)||("file"===i.Ki&&0===i.oe.length&&ne(s)&&(pi!==i.fe&&null!==i.fe&&(i.fe=pi),s[1]=58,A=ti(s)),i.oe.push(A)):i.oe.push(""),s.length=0,"file"===i.Ki&&(se===l||63===l||35===l))for(;i.oe.length>1&&""===i.oe[0];)i.oe.shift();63===l?(i.Qi="",r=19):35===l&&(i.ye="",r=20)}else s.push.apply(s,di(l,ci));break;case 18:63===l?(i.Qi="",r=19):35===l?(i.ye="",r=20):se!==l&&(i.oe[0]+=ti(di(l,ai)));break;case 19:null===e&&35===l?(i.ye="",r=20):se!==l&&(i.Qi+=ti(di(l,Ji(i)?vi:li)));break;case 20:se===l||0===l||(i.ye+=ti(di(l,hi)))}f++}return i}function he(t,n,i,e){try{ae(t,n,i,e)}catch(t){}}var ce=function(){this.Ki="",this.re="",this.ue="",this.fe=null,this._e=null,this.oe=[],this.Qi=null,this.ye=null,this.we=!1};function fe(t){switch(t.Ki){case"blob":var n;try{n=ae(t.oe[0],null)}catch(t){return zi}return fe(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.Ki,e=t.fe,r=t._e,i+"://"+Ti(e)+(null===r?"":":"+r);case"file":default:return zi}var i,e,r}var le,ve,de,we,ge,_e,ye=function(){function t(t,n){var i,e,r=null;if(null!=n)if(null!=(i=n)&&i instanceof ye&&"object"==typeof i.Yi)r=n.Yi;else try{r=ae(String(n),null)}catch(t){throw new v("Invalid base URL: "+t.message)}try{e=ae(String(t),r)}catch(t){throw new v("Invalid URL: "+t.message)}var s=e.Qi;this.Yi=e,this.Qi=function(t){var n=new Fi;return null!==t&&Li(n,t),n}(s),this.Qi.Yi=this}var n,i,e,r=t.prototype;return r.toString=function(){return this.href},r.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.Ki+":";if(null!==t.fe?(i+="//",Zi(t)&&(i+=t.re,""!==t.ue&&(i+=":"+t.ue),i+="@"),i+=Ti(t.fe),null!==t._e&&(i+=":"+t._e)):null===t.fe&&"file"===t.Ki&&(i+="//"),t.we)i+=t.oe[0];else for(var e=0,r=t.oe;e<r.length;e++)i+="/"+r[e];return null!==t.Qi&&(i+="?"+t.Qi),n||null===t.ye||(i+="#"+t.ye),i}(this.Yi)},set:function(t){var n;try{n=ae(String(t),null)}catch(t){throw new v("Invalid URL: "+t.message)}this.Yi=n,Bi(this.Qi);var i=this.Yi.Qi;null!==i&&Li(this.Qi,i)}},{key:"origin",get:function(){return fe(this.Yi)}},{key:"protocol",get:function(){return this.Yi.Ki+":"},set:function(t){he(t+":",null,this.Yi,0)}},{key:"username",get:function(){return this.Yi.re},set:function(t){re(this.Yi)||(this.Yi.re=wi(t,fi))}},{key:"password",get:function(){return this.Yi.ue},set:function(t){re(this.Yi)||(this.Yi.ue=wi(t,fi))}},{key:"host",get:function(){var t=this.Yi,n=t.fe;if(null===n)return"";var i=t._e,e=Ti(n);return null!==i&&(e+=":"+i),e},set:function(t){this.Yi.we||he(t,null,this.Yi,10)}},{key:"hostname",get:function(){var t=this.Yi.fe;return null===t?"":Ti(t)},set:function(t){this.Yi.we||he(t,null,this.Yi,11)}},{key:"port",get:function(){var t=this.Yi._e;return null===t?"":""+t},set:function(t){re(this.Yi)||(""===t?this.Yi._e=null:he(t,null,this.Yi,12))}},{key:"pathname",get:function(){var t=this.Yi.oe;return this.Yi.we?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Yi.we||(this.Yi.oe.length=0,he(t,null,this.Yi,16))}},{key:"search",get:function(){var t=this.Yi.Qi;return null===t||""===t?"":"?"+t},set:function(t){t=Di(t);var n=this.Yi;if(""===t)return n.Qi=null,void Bi(this.Qi);"?"===t[0]&&(t=t.slice(1)),n.Qi="",he(t,null,n,19),Li(this.Qi,t)}},{key:"searchParams",get:function(){return this.Qi}},{key:"hash",get:function(){var t=this.Yi.ye;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Yi.ye="",he(t,null,this.Yi,20)):this.Yi.ye=null}}])&&wn(n.prototype,i),e&&wn(n,e),t}();function me(t){return t.document&&t.document.baseURI||t.location.href||""}var pe=a;function ke(t){return Boolean(t&&void 0!==t.length)}function be(){}function Ae(t){if(!(this instanceof Ae))throw new v("Promises must be constructed via new");if("function"!=typeof t)throw new v("not a function");this.me=0,this.pe=!1,this.ke=void 0,this.Ae=[],Ne(t,this)}function Te(t,n){for(;3===t.me;)t=t.ke;0!==t.me?(t.pe=!0,Ae.Te(function(){var i=1===t.me?n.onFulfilled:n.onRejected;if(null!==i){var e;try{e=i(t.ke)}catch(t){return void Ee(n.promise,t)}Se(n.promise,e)}else(1===t.me?Se:Ee)(n.promise,t.ke)})):t.Ae.push(n)}function Se(t,n){try{if(n===t)throw new v("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof Ae)return t.me=3,t.ke=n,void Ie(t);if("function"==typeof i)return void Ne((e=i,r=n,function(){e.apply(r,arguments)}),t)}t.me=1,t.ke=n,Ie(t)}catch(n){Ee(t,n)}var e,r}function Ee(t,n){t.me=2,t.ke=n,Ie(t)}function Ie(t){2===t.me&&0===t.Ae.length&&Ae.Te(function(){t.pe||Ae.Se(t.ke)});for(var n=0,i=t.Ae.length;n<i;n++)Te(t,t.Ae[n]);t.Ae=null}function Re(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function Ne(t,n){var i=!1;try{t(function(t){i||(i=!0,Se(n,t))},function(t){i||(i=!0,Ee(n,t))})}catch(t){if(i)return;i=!0,Ee(n,t)}}Ae.prototype.catch=function(t){return this.then(null,t)},Ae.prototype.then=function(t,n){var i=new this.constructor(be);return Te(this,new Re(t,n,i)),i},Ae.prototype.finally=function(t){var n=this.constructor;return this.then(function(i){return n.resolve(t()).then(function(){return i})},function(i){return n.resolve(t()).then(function(){return n.reject(i)})})},Ae.all=function(t){return new Ae(function(n,i){if(!ke(t))return i(new v("Promise.all accepts an array"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function s(t,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var o=u.then;if("function"==typeof o)return void o.call(u,function(n){s(t,n)},i)}e[t]=u,0==--r&&n(e)}catch(t){i(t)}}for(var u=0;u<e.length;u++)s(u,e[u])})},Ae.allSettled=function(t){return new this(function(n,i){if(!t||void 0===t.length)return i(new v(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function s(t,i){if(i&&("object"==typeof i||"function"==typeof i)){var u=i.then;if("function"==typeof u)return void u.call(i,function(n){s(t,n)},function(i){e[t]={status:"rejected",reason:i},0==--r&&n(e)})}e[t]={status:"fulfilled",value:i},0==--r&&n(e)}for(var u=0;u<e.length;u++)s(u,e[u])})},Ae.resolve=function(t){return t&&"object"==typeof t&&t.constructor===Ae?t:new Ae(function(n){n(t)})},Ae.reject=function(t){return new Ae(function(n,i){i(t)})},Ae.race=function(t){return new Ae(function(n,i){if(!ke(t))return i(new v("Promise.race accepts an array"));for(var e=0,r=t.length;e<r;e++)Ae.resolve(t[e]).then(n,i)})},Ae.Te="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){pe(t,0)},Ae.Se=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var De=function(){var n=t.Promise;if(void 0!==n)try{if(-1!==n.toString().indexOf("[native code]"))return n}catch(t){}}(),Ce=o?o.userAgent:"",Pe=Ce.match(/Firefox\/([0-9]+)/i),Oe=null!=Pe,xe=Pe?Number(Pe[1]):0,Be=Ce.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),Le=null!=Be,Me=Be?Number(Be[3]):0,Fe=function(){function t(t){this.Ee=0,this.Ie=0,this.Gi=[],this.Re=t}return t.prototype.Ne=function(t){var n=this.length();this.De(n+1);var i=this.Ie+n&this.Re-1;this.Gi[i]=t,this.Ee=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.Re<n)this.Ne(t);else{var i=this.Ie+n-1,e=this.Re-1;this.Gi[i&e]=t,this.Ee=n}},t.prototype.shift=function(){var t=this.Ie,n=this.Gi[t];return this.Gi[t]=void 0,this.Ie=t+1&this.Re-1,this.Ee--,n},t.prototype.length=function(){return this.Ee},t.prototype.De=function(t){this.Re<t&&this.Ce(this.Re<<1)},t.prototype.Ce=function(t){var n=this.Re;this.Re=t;var i=this.Ie+this.Ee&n-1;!function(t,n,i,e){for(var r=0;r<e;++r)t[r+i]=t[r+n],t[r+n]=void 0}(this.Gi,0,n,i)},t}();var Ue="unhandledrejection",je=t.PromiseRejectionEvent,He=t.CustomEvent;function Xe(t){return new je(Ue,{reason:t,promise:De.reject(t).catch(function(){}),cancelable:!0})}function Ve(t){var n=new He(Ue,{detail:{reason:t},cancelable:!0});return w.defineProperty(n,"reason",{value:t}),n}function ze(t){var n=s.createEvent("CustomEvent");return n.initCustomEvent(Ue,!1,!0,{reason:t}),n}var We,Ge,qe,$e,Ye,Qe,Je,Ze=function(t){return(Ze=function(){try{var t=De.resolve(),n=new je(Ue,{reason:"error",promise:t});return Ue===n.type&&"error"===n.reason}catch(t){}return!1}()?Xe:function(){try{var t=new He(Ue,{detail:{reason:"error"}});return Ue===t.type&&"error"===t.detail.reason}catch(t){}return!1}()?Ve:ze)(t)};if(De&&!(Oe&&xe<60||Le&&Me<15))Ge=De;else{Ge=Ae;var Ke=null!==(We=function(){var n=t.queueMicrotask;if("function"==typeof n)return function(t){return n(t)};var i=De;if(i&&"function"==typeof i.resolve){var e=i.resolve();return function(t){return e.then(t)}}}())&&void 0!==We?We:Ae.Te,tr=(qe=Ke,$e=new Fe(16),Ye=!1,{Pe:function(t){$e.push(t),Ye||(Ye=!0,qe(Qe))},Oe:Qe=function(){for(;$e.length()>0;)$e.shift()();Ye=!1}});Ae.Te=tr.Pe,Ae.Se=function(n){try{var i=Ze(n);if(!t.dispatchEvent(i)||i.defaultPrevented)return}catch(t){}a(function(){throw new l("Unhandled promise rejection: ".concat(n))},0)}}function nr(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function ir(t){if(t)for(var n;n=t.firstChild;)t.removeChild(n)}function er(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}function rr(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}function sr(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=er(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&rr(t,(i+" "+n).trim())}}function ur(t,n){if(void 0!==t.classList)t.classList.remove(n);else if(void 0!==t.className){for(var i=" "+er(t)+" ",e=" "+n+" ";-1!==i.indexOf(e);)i=i.replace(e," ");rr(t,i.trim())}}function or(t){t.stopPropagation()}function ar(t,n){F.Tn&&F.Sn<3?function(t,n){var i=n;switch(n){case"flex":i="-webkit-flex";break;case"inline-flex":i="-webkit-inline-flex"}t.display=i}(t,n):function(t,n){if(t.display=n,t.display!==n){var i=n;switch(n){case"flex":i="-ms-flexbox";break;case"inline-flex":i="-ms-inline-flexbox"}t.display=i}}(t,n)}function hr(t){return new Ge(function(n,i){var e=s.createElement("script");e.onload=function(){return n()},e.onerror=function(t){return i((null==t?void 0:t.error)||t)},e.type="text/javascript",e.src=t,(s.head||s.documentElement).appendChild(e)})}function cr(t,n){var i=n.style;if(i)for(var e in t)i[e]=t[e]}function fr(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function lr(t){t.removeAttribute("title")}function vr(t){return"video"===((n=t)&&n.nodeName&&n.nodeName.toLowerCase()||"");var n}function dr(t){t.src&&(t.removeAttribute("src"),t.load())}function wr(){return void 0!==s?s.createElement("video"):void 0}function gr(){return Je||(Je=wr()),Je}var _r=!!("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch)||!(!o||!o.msMaxTouchPoints),yr=gr(),mr=!(!yr||!yr.webkitShowPlaybackTargetPicker),pr=function(){function t(){this.xe=void 0,this.Be=!1,this.Wt=_r,this.dn=!1,this.Le=!0}var n=t.prototype;return n.Me=function(){return 0},n.Fe=function(t,n){return!0},n.Ue=function(t){return t>=1/6*2},T(t,[{key:"je",get:function(){return void 0===this.xe&&(this.xe=this.Me()),this.xe}},{key:"He",get:function(){return!F.Fn}},{key:"Xe",get:function(){}},{key:"Ve",get:function(){return r.devicePixelRatio||1}},{key:"ze",get:function(){return mr}},{key:"We",get:function(){return!1}},{key:"Ge",get:function(){return!0}},{key:"qe",get:function(){return F.On||F.hn}},{key:"$e",get:function(){return!0}},{key:"Ye",get:function(){return!0}},{key:"Qe",get:function(){return!1}},{key:"Je",get:function(){}},{key:"Ze",get:function(){return!0}},{key:"Ke",get:function(){return!1}},{key:"ir",get:function(){return!1}}]),t}(),kr=function(){var t=wr();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(F.in)return!1;var t=wr();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var br=function(t){function n(n){var i;return(i=t.call(this)||this).er=void 0,i.er=n,i.er&&(i.Be=i.er.Be,i.Wt=i.er.Wt,i.Le=kr&&i.er.Le),i}E(n,t);var i=n.prototype;return i.Me=function(){return this.er?this.er.je:t.prototype.Me.call(this)},i.Fe=function(n,i){return this.er?this.er.Fe(n,i):t.prototype.Fe.call(this,n,i)},i.Ue=function(n){return this.er?this.er.Ue(n):t.prototype.Ue.call(this,n)},T(n,[{key:"Je",get:function(){var t;return null==(t=this.er)?void 0:t.Je}},{key:"Ze",get:function(){var t,n;return null==(t=null==(n=this.er)?void 0:n.Ze)||t}}]),n}(pr),Ar=function(t){function n(n){var i;return(i=t.call(this,n)||this).Be=!0,i.dn=!0,i}return E(n,t),T(n,[{key:"Qe",get:function(){return F.hn}}]),n}(br),Tr=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Me=function(){return we.MediaSource?t.prototype.Me.call(this):1},T(n,[{key:"Qe",get:function(){return!0}}]),n}(Ar),Sr=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).rr=void 0,n}return E(n,t),n.prototype.Fe=function(n,i){return t.prototype.Fe.call(this,n,i)},T(n,[{key:"We",get:function(){return F.Sn<3}},{key:"Ge",get:function(){return F.Sn>=3}},{key:"Xe",get:function(){var t=this;return r.tizen&&!this.rr&&r.tizen.systeminfo.getPropertyValue("DISPLAY",function(n){var i=n.resolutionWidth,e=n.resolutionHeight;1===i&&1===e||(t.rr={width:i,height:e})}),this.rr}},{key:"Ke",get:function(){return F.Sn<3}},{key:"ir",get:function(){return!0}}]),n}(br),Er=function(t){function n(){return t.call(this)||this}return E(n,t),n}(pr),Ir=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Fe=function(t,n){if(t&&t.dr&&n&&n.dr){var i=Rr(t.dr,"mp4a.40.2")&&Rr(n.dr,"mp4a.40.5"),e=Rr(t.dr,"mp4a.40.5")&&Rr(n.dr,"mp4a.40.2"),r=Rr(t.dr,"mp4a.40.2")&&Rr(n.dr,"mp4a.40.34"),s=Rr(t.dr,"mp4a.40.34")&&Rr(n.dr,"mp4a.40.2"),u=Rr(t.dr,"mp4a.40.5")&&Rr(n.dr,"mp4a.40.34"),o=Rr(t.dr,"mp4a.40.34")&&Rr(n.dr,"mp4a.40.5");return!(i||e||r||s||u||o)}return!0},T(n,[{key:"Je",get:function(){if(F.Gt)return 4096}}]),n}(Er);function Rr(t,n){return t.indexOf(n)>-1}var Nr=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Ue=function(t){return t>=2},n}(Er),Dr=function(t){function n(){var n;return(n=t.call(this)||this).Be=F.xn>=11,n.Le=F.On&&!(F.hn&&F.xn<10),n}return E(n,t),n}(Er),Cr=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).rr=void 0,n}return E(n,t),T(n,[{key:"Xe",get:function(){var t=this;return r.webOS&&!this.rr&&r.webOS.deviceInfo(function(n){t.rr={width:n.screenWidth,height:n.screenHeight}}),this.rr}},{key:"$e",get:function(){return!1}},{key:"ir",get:function(){return!0}}]),n}(br),Pr=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),T(n,[{key:"Ze",get:function(){return!F.qt||(F.pn?92!==F.An:F.yn>=100)}}]),n}(Er),Or=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),T(n,[{key:"Qe",get:function(){return!0}}]),n}(br),xr=function(){function n(){var n;this.wr=void 0,this.gr=new rn,this._r=new Br,this.yr=(n=function(){if(F.Cn)return new Ir;if(F.In||F.Rn)return new Nr;if(F.On)return new Dr;if(F._n)return new Pr;return new Er}(),F.hn?new Tr(n):F.dn?new Ar(n):F.Tn?new Sr(n):F.En?new Cr(n):F.Gt?new Or(n):new br(n)),this.pr=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.wr=function(){return t.performance.now()}:this.wr=Wt}var i=n.prototype;return i.Ar=function(){ot.apply(void 0,arguments)},i.Tr=function(){at.apply(void 0,arguments)},i.Sr=function(){ht.apply(void 0,arguments)},i.Er=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];ct.apply(void 0,[t].concat(i))},i.Yn=function(t,n){return a(t,n)},i.Ir=function(t,n){return c(t,n)},i.$n=function(t){h(t)},i.Rr=function(t){f(t)},i.oi=function(t){return this.gr.oi(t)},i.Nr=function(){return this.Dr.Nr()},i.Cr=function(){return this.Dr.Cr()},i.Pr=function(){return this.Dr.Pr()},i.Or=function(){return this.Dr.Or()},i.xr=function(){return this.Dr.xr()},i.Br=function(t,n){return this.Dr.Br(t,n)},i.Lr=function(t){return this.Dr.Lr(t)},i.Mr=function(t,n){var i;return void 0===n&&(n=me(we)),i="object"!=typeof n||n instanceof ye?n:n.href,new ye(t,i)},i.Fr=function(n,i){if(void 0===i&&(i=me(we)),this.pr){var e=q(i)?i:i.toString();return new t.URL(n,e).href}return this.Mr(n,i).href},T(n,[{key:"Ur",get:function(){return this._r}},{key:"jr",get:function(){return this.yr}},{key:"Hr",get:function(){return{Xr:o&&o.userAgent.match(/Android /i)?"Android":"other",Vr:Boolean(o&&o.userAgent.match(/Android 8.0.0/i))}}},{key:"zr",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"Wr",get:function(){return"languages"in o?o.languages.slice():[o.language]}}]),n}(),Br=function(){function t(){}return T(t,[{key:"Gr",get:function(){return o.oscpu}},{key:"jr",get:function(){return o.platform}},{key:"qr",get:function(){return o.vendor}},{key:"$r",get:function(){return o.vendorSub}}]),t}();var Lr="undefined"!=typeof globalThis?globalThis:void 0!==r?r:"undefined"!=typeof global?global:void 0!==t?t:{};function Mr(t){return t&&t.__esModule&&w.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Fr={exports:{}};!function(t){var n,i=w.prototype,e=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",u=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function a(t,n,i,e){var r=n&&n.prototype instanceof y?n:y,s=w.create(r.prototype),u=new C(e||[]);return s.Yr=function(t,n,i){var e=c;return function(r,s){if(e===d)throw new l("Generator is already running");if(e===g){if("throw"===r)throw s;return O()}for(i.method=r,i.arg=s;;){var u=i.delegate;if(u){var o=R(u,i);if(o){if(o===_)continue;return o}}if("next"===i.method)i.sent=i.Qr=i.arg;else if("throw"===i.method){if(e===c)throw e=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);e=d;var a=h(t,n,i);if("normal"===a.type){if(e=i.done?g:f,a.arg===_)continue;return{value:a.arg,done:i.done}}"throw"===a.type&&(e=g,i.method="throw",i.arg=a.arg)}}}(t,i,u),s}function h(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=a;var c="suspendedStart",f="suspendedYield",d="executing",g="completed",_={};function y(){}function p(){}function k(){}var b={};b[s]=function(){return this};var A=w.getPrototypeOf,T=A&&A(A(P([])));T&&T!==i&&e.call(T,s)&&(b=T);var S=k.prototype=y.prototype=w.create(b);function E(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.Yr(n,t)}})}function I(t){var n;this.Yr=function(i,r){function s(){return new Ge(function(n,s){!function n(i,r,s,u){var o=h(t[i],t,r);if("throw"!==o.type){var a=o.arg,c=a.value;return c&&"object"==typeof c&&e.call(c,"Jr")?Ge.resolve(c.Jr).then(function(t){n("next",t,s,u)},function(t){n("throw",t,s,u)}):Ge.resolve(c).then(function(t){a.value=t,s(a)},function(t){return n("throw",t,s,u)})}u(o.arg)}(i,r,n,s)})}return n=n?n.then(s,s):s()}}function R(t,i){var e=t.iterator[i.method];if(e===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,R(t,i),"throw"===i.method))return _;i.method="throw",i.arg=new v("The iterator does not provide a 'throw' method")}return _}var r=h(e,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,_;var s=r.arg;return s?s.done?(i[t.resultName]=s.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,_):s:(i.method="throw",i.arg=new v("iterator result is not an object"),i.delegate=null,_)}function N(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function D(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function P(t){if(t){var i=t[s];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!m(t.length)){var r=-1,u=function i(){for(;++r<t.length;)if(e.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=n,i.done=!0,i};return u.next=u}}return{next:O}}function O(){return{value:n,done:!0}}p.prototype=S.constructor=k,k.constructor=p,k[o]=p.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return w.setPrototypeOf?w.setPrototypeOf(t,k):(t.__proto__=k,o in t||(t[o]="GeneratorFunction")),t.prototype=w.create(S),t},t.awrap=function(t){return{Jr:t}},E(I.prototype),I.prototype[u]=function(){return this},t.AsyncIterator=I,t.async=function(n,i,e,r){var s=new I(a(n,i,e,r));return t.isGeneratorFunction(i)?s:s.next().then(function(t){return t.done?t.value:s.next()})},E(S),S[o]="Generator",S[s]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var e=n.pop();if(e in t)return i.value=e,i.done=!1,i}return i.done=!0,i}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.Qr=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(D),!t)for(var i in this)"t"===i.charAt(0)&&e.call(this,i)&&!m(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(e,r){return o.type="throw",o.arg=t,i.next=e,r&&(i.method="next",i.arg=n),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var u=this.tryEntries[s],o=u.completion;if("root"===u.tryLoc)return r("end");if(u.tryLoc<=this.prev){var a=e.call(u,"catchLoc"),h=e.call(u,"finallyLoc");if(a&&h){if(this.prev<u.catchLoc)return r(u.catchLoc,!0);if(this.prev<u.finallyLoc)return r(u.finallyLoc)}else if(a){if(this.prev<u.catchLoc)return r(u.catchLoc,!0)}else{if(!h)throw new l("try statement without catch or finally");if(this.prev<u.finallyLoc)return r(u.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=n&&n<=s.finallyLoc&&(s=null);var u=s?s.completion:{};return u.type=t,u.arg=n,s?(this.method="next",this.next=s.finallyLoc,_):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),_},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),D(i),_}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var e=i.completion;if("throw"===e.type){var r=e.arg;D(i)}return r}}throw new l("illegal catch attempt")},delegateYield:function(t,i,e){return this.delegate={iterator:P(t),resultName:i,nextLoc:e},"next"===this.method&&(this.arg=n),_}}}(Fr.exports);var Ur=Fr.exports;function jr(){return(jr=w.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)w.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t}).apply(this,arguments)}function Hr(){var t=w.create(null);return t.Zr=void 0,delete t.Zr,t}function Xr(){return new $r}function Vr(){return new Jr}function zr(t){var n=Xr();for(var i in t)U.call(t,i)&&n.set(i,t[i]);return n}function Wr(t){var n=[];return t.forEach(function(t){return n.push(t)}),n}var Gr,qr="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,$r=qr||(Gr=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=w.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=Hr(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=Hr(),this.size=0},n.keys=function(){return new Gr(this.data,function(t,n){return n})},n.values=function(){return new Gr(this.data,function(t,n){return t[n]})},n.entries=function(){return new Gr(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var Yr,Qr,Jr=qr||(Yr=function(){function t(t,n){this.Kr=void 0,this.rs=void 0,this.Kr=t,this.rs=n}var n=t.prototype;return n.next=function(){var t=this.Kr.next();return t.done?t:{value:this.rs(t.value),done:!1}},t}(),function(){function t(){this.us=Xr()}var n=t.prototype;return n.get=function(t){return this.us.get(""+t)},n.set=function(t,n){return this.us.set(""+t,n),this},n.has=function(t){return this.us.has(""+t)},n.delete=function(t){return this.us.delete(""+t)},n.clear=function(){this.us.clear()},n.keys=function(){return new Yr(this.us.keys(),function(t){return Number(t)})},n.values=function(){return this.us.values()},n.entries=function(){return new Yr(this.us.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.us.forEach(function(n,i){t(n,Number(i))})},T(t,[{key:"size",get:function(){return this.us.size}}]),t}());!function(t){t.hs="9a04f079-9840-4286-ab92-e65be0885f95",t.fs="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t.ls="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",t.vs="94ce86fb-07ff-4f43-adb8-93d2fa968ca2"}(Qr||(Qr={}));var Zr,Kr="urn:mpeg:dash:mp4protection:2011",ts="cenc",ns="sinf",is="skd",es=Qr.hs,rs="urn:uuid:"+es,ss="com.microsoft.playready",us=Qr.fs,os="urn:uuid:"+us,as=Qr.ls,hs="urn:uuid:"+as,cs=Qr.vs,fs="urn:uuid:"+cs,ls="com.apple.fps.1_0",vs="com.apple.streamingkeydelivery";!function(t){t.hs="playready",t.fs="widevine",t.vs="fairplay",t.ls="clearkey",t.ds="aes128"}(Zr||(Zr={}));var ds={gs:Zr.hs,_s:ss,ys:"cenc",As:es,Ts:rs,Ss:"PlayReady"},ws={gs:Zr.fs,_s:"com.widevine.alpha",ys:"cenc",As:us,Ts:os,Ss:"Widevine"},gs={gs:Zr.vs,_s:ls,ys:"skd",As:cs,Ts:fs,Ss:"FairPlay"},_s={gs:Zr.vs,_s:"com.apple.fps",ys:"sinf",As:cs,Ts:fs,Ss:"FairPlay"},ys={gs:Zr.ls,_s:"org.w3.clearkey",ys:"cenc",As:as,Ts:hs,Ss:"ClearKey"},ms=[ds,ws,gs,ys];function ps(t){return ms.filter(function(n){return n.Ts===t.toLowerCase()})}function ks(t,n,i){return t.split(n).join(i)}function bs(t,n){return null!=t&&-1!==t.indexOf(n)}function As(t,n){return null!=t&&t.substr(0,n.length)===n}function Ts(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function Ss(t,n){return t.toUpperCase()===n.toUpperCase()}function Es(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var e=t,r="";1==(1&i)&&(r+=e),0!=(i>>>=1);)e+=e;return r}function Is(t,n,i){void 0===i&&(i=" ");var e=i,r=(0|n)-t.length;return r<=0?t:(r>e.length&&(e+=Es(e,r/e.length)),e.slice(0,r)+t)}function Rs(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Ds(n)}var Ns=16384;function Ds(t){var n=t.length;if(n<=Ns)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=Ns)i.push(String.fromCharCode.apply(String,t.slice(e,e+Ns)));return i.join("")}function Cs(t){return t.replace(/[\\"]/g,function(t){return"\\"+t})}var Ps=F._n&&F.yn>=42||F.Cn&&F.Pn>=38||F.In||F.Nn||F.Bn&&F.Ln>=29;function Os(t,n){return bs(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[jr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[jr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function xs(){return void 0!==o&&"function"==typeof o.requestMediaKeySystemAccess}function Bs(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var Ls,Ms=function(){function t(t){this.Es=void 0,this.Is=Xr(),this.Rs=void 0,this.Es=t}var n=t.prototype;return n.xr=function(){return this.Lr(ws)},n.Cr=function(){return this.Lr(ys)},n.Or=function(){return this.Lr(ds)},n.Pr=function(){return this.Lr(gs)},n.Lr=function(t){var n=t.Ts,i=this.Is.get(n);if(i)return i;var e=this.Br(t,'video/mp4; codecs="avc1.42000a"');return this.Is.set(n,e),e},n.Br=function(t,n){return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Ur.awrap(this.Es.Ns(t._s,[Os(n,!0)]));case 3:return i.abrupt("return",!0);case 6:return i.prev=6,i.t0=i.catch(0),i.prev=8,i.next=11,Ur.awrap(this.Es.Ns(t._s,[Os(n,!1)]));case 11:return i.abrupt("return",!0);case 14:return i.prev=14,i.t1=i.catch(8),i.abrupt("return",!1);case 17:case"end":return i.stop()}},null,this,[[0,6],[8,14]],Ge)},n.Nr=function(){return this.Rs||(this.Rs=this.Ds()),this.Rs},n.Ds=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==ge.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(Ps){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,Ur.awrap(this.Cr());case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},null,this,null,Ge)},t}();function Fs(t,n){return js(t.slice(),n)}function Us(t,n){var i=js(t,n);return i!==t&&Hs(i,void 0,t.length,t),t}function js(t,n){var i=t,e=i.length;if(e<=1)return i;for(var r=new Array(e),s=1;s<e;s*=2){Hs(i,n,s,r);var u=i;i=r,r=u}return i}function Hs(t,n,i,e){var r,s,u,o,a,h=t.length,c=0,f=2*i;for(s=0;s<h;s+=f)for(r=(u=s+i)+i,u>h&&(u=h),r>h&&(r=h),o=s,a=u;;)if(o<u&&a<r)n&&n(t[o],t[a])<=0?e[c++]=t[o++]:e[c++]=t[a++];else if(o<u)e[c++]=t[o++];else{if(!(a<r))break;e[c++]=t[a++]}}!function(t){t[t.Cs=0]="Cs",t[t.Ps=1]="Ps",t[t.Os=-1]="Os"}(Ls||(Ls={}));var Xs=function(t,n){return(0|t)-(0|n)},Vs=function(t,n){return t===n?Ls.Cs:t<n?Ls.Os:t>n?Ls.Ps:m(t)?m(n)?Ls.Cs:Ls.Ps:Ls.Os};function zs(t,n,i){return Ut(t,n,i)?Ls.Cs:Vs(t,n)}var Ws=function(t,n){return jt(t,n)?Ls.Cs:Vs(t,n)};function Gs(t,n,i){var e=$s(t,n,i);return-1===e?void 0:t[e]}function qs(t,n,i){var e=function(t,n,i){for(var e=t.length-1;e>=0;e-=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}(t,n,i);return-1===e?void 0:t[e]}function $s(t,n,i){for(var e=0;e<t.length;e+=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}function Ys(t,n){var i=t.indexOf(n);return-1!==i&&(Qs(t,i),!0)}function Qs(t,n){t.splice(n,1)}function Js(t,n){return-1!==t.indexOf(n)}function Zs(t){t.length=0}function Ks(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++){if(!Js(n,t[i]))return!1}return!0}function tu(t,n){for(var i=[],e=0;e<t.length;e++)i.push.apply(i,n(t[e],e));return i}function nu(t,n){return eu(t,function(t,i){return Vs(n(t),n(i))})}function iu(t,n){return function(t,n){return eu(t,function(t,i){return n(i,t)})}(t,function(t,i){return Vs(n(t),n(i))})}function eu(t,n){if(0!==t.length)return t.reduce(function(t,i){return n(t,i)<=0?t:i})}function ru(t,n){return Ge.all(t.map(n)).then(function(n){return t.filter(function(t,i){return n[i]})})}function su(t,n){var i,e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:i=0;case 1:if(!(i<t.length)){r.next=10;break}return e=t[i],r.next=5,Ur.awrap(n(e));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:i++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,null,null,Ge)}function uu(t,n,i){if(t.length!==n.length)return!1;for(var e=0;e<t.length;e++)if(!i(t[e],n[e]))return!1;return!0}var ou=function(){function t(){this.xs=!1,this.Bs=!1,this.Ls=[],this.Ms=[]}var n=t.prototype;return n.Fs=function(){if(!this.xs&&!this.Bs){this.xs=!0;for(var t=0,n=this.Ls.slice();t<n.length;t++){(0,n[t])()}this.Us()}},n.Us=function(){if(!this.Bs){this.Bs=!0;for(var t=0,n=this.Ms.slice();t<n.length;t++){(0,n[t])()}Zs(this.Ls),Zs(this.Ms)}},n.js=function(t){this.Bs||this.Ls.push(t)},n.Hs=function(t){this.Bs||Ys(this.Ls,t)},n.Xs=function(t){this.Bs||this.Ms.push(t)},n.Vs=function(t){this.Bs||Ys(this.Ms,t)},t}(),au=function(){function t(){this.zs=new ou}var n=t.prototype;return n.Ws=function(){this.zs.Fs()},n.Us=function(){this.zs.Us()},n.Gs=function(t){var n=this.zs;if(!n.xs)if(t.xs)n.Fs();else if(!n.Bs&&!t.Bs){var i=function(){e(),n.Fs()},e=function e(){t.Hs(i),t.Vs(e),n.Hs(i),n.Vs(e)};t.js(i),t.Xs(e),n.js(i),n.Xs(e)}},n.qs=function(){var n=new t,i=new t,e=n.$s,r=i.$s,s=this.zs,u=function(){e.xs&&r.Bs||r.xs&&e.Bs?s.Fs():e.Bs&&r.Bs&&s.Us()};e.js(u),r.js(u),e.Xs(u),r.Xs(u),n.Gs(s),i.Gs(s);return s.Xs(function(){e.Hs(u),r.Hs(u),e.Vs(u),r.Vs(u)}),[n,i]},T(t,[{key:"$s",get:function(){return this.zs}}]),t}(),hu=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return E(n,t),T(n,[{key:"name",get:function(){return"AbortError"}}]),n}(nn);function cu(t){return t instanceof l&&"AbortError"===t.name}function fu(t){if(t&&t.xs)throw new hu}function lu(t){if(cu(t))throw t}function vu(t){if(!cu(t))throw t}function du(t,n){return n?new Ge(function(i,e){if(n.xs)return t.catch(Z),e(new hu);var r=function t(){n.Hs(t),e(new hu)};n.js(r),t.then(function(t){n.Hs(r),i(t)},function(t){n.Hs(r),e(t)})}):t}function wu(t,n){return t.then(function(t){return n.Us(),t},function(t){throw n.Us(),t})}function gu(t,n){var i=new au;return n&&i.Gs(n),t(i.$s).then(function(t){return i.Ws(),t},function(t){throw i.Ws(),t})}var _u=Ge.resolve();function yu(t){_u.then(t)}function mu(t){t.then(Z,Z)}function pu(t){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ur.awrap(Ge.all(t));case 3:return n.abrupt("return",n.sent);case 6:return n.prev=6,n.t0=n.catch(0),n.next=10,Ur.awrap(Ge.all(t.map(function(t){return t.catch(Z)})));case 10:throw n.t0;case 11:case"end":return n.stop()}},null,null,[[0,6]],Ge)}function ku(t,n){return new Ge(function(e,r){if(void 0!==n&&n.xs)r(new hu);else{var s=i.Yn(function(){void 0!==n&&n.Hs(u),e()},t),u=function(){i.$n(s),r(new hu)};void 0!==n&&n.js(u)}})}function bu(t){return t&&"function"!=typeof t?t.slice():t}function Au(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var e=0;e<i.length;e++){i[e].call(t,n)}}var Tu,Su=function(){function t(t){var n=this;this.Ys=Hr(),this.Qs=void 0,this.Js=void 0,this.Zs=function(t){n.Ks(t)},this.Js=t||this}var n=t.prototype;return n.tu=function(t,n){if("function"==typeof n)if("string"==typeof t)this.nu(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.nu(e,n)}},n.nu=function(t,n){var i=this.Ys[t];i?"function"==typeof i?this.Ys[t]=[i,n]:i.push(n):this.Ys[t]=n},n.uu=function(t){if("function"==typeof t){var n=this.Qs;n?"function"==typeof n?this.Qs=[n,t]:n.push(t):this.Qs=t}},n.ou=function(){this.Ys=Hr(),this.Qs=void 0},n.Ks=function(t){var n=bu(this.Ys[t.type]),i=bu(this.Qs);Au(this.Js,t,n),Au(this.Js,t,i)},n.au=function(t,n){if("function"==typeof n)if("string"==typeof t)this.fu(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.fu(e,n)}},n.fu=function(t,n){var i=this.Ys[t];i&&("function"==typeof i?i===n&&(this.Ys[t]=void 0):Ys(i,n))},n.vu=function(t){if("string"==typeof t)this.Ys[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.Ys[i]=void 0}},n.du=function(t){var n=this.Qs;n&&("function"==typeof n?n===t&&(this.Qs=void 0):Ys(n,t))},n.wu=function(t,n){var i=this;return new Ge(function(e,r){if(n&&n.xs)return r(new hu);var s=function(t){o(),e(t)},u=function(){o(),r(new hu)},o=function(){i.au(t,s),n&&n.Hs(u)};i.tu(t,s),n&&n.js(u)})},t}(),Eu=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Ks=function(n){var i=this;yu(function(){t.prototype.Ks.call(i,n)})},n}(Su),Iu=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},Ru=["cenc"],Nu=["cbcs","cbcs-1-9"],Du=function(t){function n(n){var i;return(i=t.call(this,"yu")||this)._u=n,i}return E(n,t),n}(Iu),Cu=function(t){function n(n,i,e,r){var s;return(s=t.call(this,"mu")||this)._u=n,s.pu=i,s.mu=e,s.bu=r,s}return E(n,t),n}(Iu),Pu=function(t){function n(){return t.call(this,"Au")||this}return E(n,t),n}(Iu);!function(t){t.Tu="Su",t.Eu="Iu"}(Tu||(Tu={}));var Ou=function(t){function n(n,i){var e;return(e=t.call(this,Tu.Tu)||this).ys=n,e.Ru=i,e}return E(n,t),n}(Iu),xu=function(t){function n(){return t.call(this,Tu.Eu)||this}return E(n,t),n}(Iu),Bu=new p([0]).buffer,Lu=function(){function t(){this.Nu=void 0,this.Nu=[]}var n=t.prototype;return n.Du=function(t){for(var n=0,i=this.Nu;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.Cu=function(t){for(var n=0,i=this.Nu;n<i.length;n++){var e=i[n];if(e[0]===t)return e[1]}},n.Pu=function(t,n){this.Nu.forEach(function(n){return t(n[1],n[0])},n)},n.Ou=function(t,n){this.Nu.push([t,n])},n.xu=function(){Zs(this.Nu)},T(t,[{key:"Bu",get:function(){return this.Nu.length}}]),t}(),Mu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Fu=16383,Uu=/[\t\n\f\r ]/g;function ju(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Hu()}function Hu(){throw new l("Invalid base64 input")}function Xu(t){var n=t;Uu.test(n)&&(n=n.replace(Uu,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var e=i%4;if(1===e)return Hu();for(var r,s=0===e?0:4-e,u=new p(function(t,n){return 3*(t+n)/4-n}(i,s)),o=s>0?i-4:i,a=0,h=0;a<o;a+=4)r=ju(n.charCodeAt(a))<<18|ju(n.charCodeAt(a+1))<<12|ju(n.charCodeAt(a+2))<<6|ju(n.charCodeAt(a+3)),u[h++]=r>>16&255,u[h++]=r>>8&255,u[h++]=255&r;return 2===s?(r=ju(n.charCodeAt(a))<<2|ju(n.charCodeAt(a+1))>>4,u[h++]=255&r):1===s&&(r=ju(n.charCodeAt(a))<<10|ju(n.charCodeAt(a+1))<<4|ju(n.charCodeAt(a+2))>>2,u[h++]=r>>8&255,u[h++]=255&r),u}function Vu(t,n,i){for(var e,r,s,u=[],o=n;o<i;o+=3)u.push((e=t[o],r=t[o+1],s=t[o+2],Mu[e>>2]+Mu[(3&e)<<4|r>>4]+Mu[(15&r)<<2|s>>6]+Mu[63&s]));return u.join("")}function zu(t){for(var n=t.length,i=n%3,e=[],r=n-i,s=0;s<r;s+=Fu)e.push(Vu(t,s,g.min(r,s+Fu)));if(1===i){var u=t[n-1];e.push(Mu[u>>2]+Mu[(3&u)<<4]+"==")}else if(2===i){var o=t[n-2],a=t[n-1];e.push(Mu[o>>2]+Mu[(3&o)<<4|a>>4]+Mu[(15&a)<<2]+"=")}return e.join("")}var Wu=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],Gu=ArrayBuffer.isView||function(t){return t&&Js(Wu,j.call(t))};function qu(t,n){return t===n||t.byteLength===n.byteLength&&$u(new p(t),new p(n))}function $u(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}function Yu(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return Qu(t,n)}function Qu(t,n){for(var i=new p(n),e=0,r=0;r<t.length;r++){var s=t[r];i.set(s,e),e+=s.byteLength}return i}function Ju(t){return Xu(t).buffer}function Zu(t){return zu(new p(t))}function Ku(t){return zu(Lo(t))}function to(t,n){var i=n.Lu,e=t.getUint8(i>>3),r=1<<7-(7&i);return n.Mu(1),(e&r)===r?1:0}function no(t,n,i){for(var e=0,r=0;r<i;r++)e=2*e+to(t,n);return e}var io=function(){function t(t){void 0===t&&(t=0),this.Fu=t}var n=t.prototype;return n.Mu=function(t){this.Fu+=t},n.Uu=function(t){this.Fu=t},n.ju=function(){return new t(this.Lu)},T(t,[{key:"Lu",get:function(){return this.Fu}}]),t}();function eo(t){if(t>=55296&&t<=57343)throw new l("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function ro(t,n){return t>>n&63|128}function so(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(eo(t),n.push(t>>12&15|224),n.push(ro(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(ro(t,12)),n.push(ro(t,6))),n.push(63&t|128)):n.push(t)}function uo(t,n){if(n.Lu>=t.length)throw new l("Invalid byte index");var i=255&t[n.Lu];if(n.Mu(1),128==(192&i))return 63&i;throw new l("Invalid continuation byte")}function oo(t,n){var i=n.Lu;if(i>t.length)throw new l("Invalid byte index");if(i===t.length)return!1;var e=255&t[i];if(n.Mu(1),0==(128&e))return e;if(192==(224&e)){var r=(31&e)<<6|uo(t,n);if(r>=128)return r;throw new l("Invalid continuation byte")}if(224==(240&e)){var s=(15&e)<<12|uo(t,n)<<6|uo(t,n);if(s>=2048)return eo(s),s;throw new l("Invalid continuation byte")}if(240==(248&e)){var u=(7&e)<<18|uo(t,n)<<12|uo(t,n)<<6|uo(t,n);if(u>=65536&&u<=1114111)return u}throw new l("Invalid UTF-8 detected")}var ao=65279;var ho=[128,64,32,16,8,4,2,1],co=function(){function t(t){this.Hu=t}return t.prototype.Xu=function(t){return fo(this.Hu,t)},t}();function fo(t,n){return(t&n)===n}function lo(t,n){return fo(t,ho[n])}function vo(t,n){var i=t.getUint8(n.Lu);return n.Mu(1),i}function wo(t,n,i){t.setUint8(n.Lu,i),n.Mu(1)}function go(t,n,i){var e=zo(qo(t),n.Lu,n.Lu+i);return n.Mu(e.byteLength),e}function _o(t,n,i){qo(t).set(qo(i),n.Lu),n.Mu(i.byteLength)}function yo(t,n,i){return n.Lu+i<=t.byteLength}function mo(t,n,i,e){return void 0===e&&(e=!1),e?function(t,n,i){for(var e=0,r=1,s=0;s<i;s++)e+=vo(t,n)*r,r*=256;return e}(t,n,i):function(t,n,i){for(var e=0,r=0;r<i;r++)e=256*e+vo(t,n);return e}(t,n,i)}function po(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.Lu,i);return n.Mu(2),e}function ko(t,n,i,e){void 0===e&&(e=!1),t.setUint16(n.Lu,i,e),n.Mu(2)}function bo(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.Lu,i);return n.Mu(4),e}function Ao(t,n,i,e){void 0===e&&(e=!1),t.setUint32(n.Lu,i,e),n.Mu(4)}function To(t,n,i){void 0===i&&(i=!1);var e=bo(t,n,i),r=bo(t,n,i),s=i?r:e,u=i?e:r;return lt.fromBits(u,s,!0)}function So(t,n){return Ro(t,n)}function Eo(t,n,i){return Ds(Zo(go(t,n,i)))}function Io(t,n){var i,e=vo(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&vo(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&vo(t,n))+(63&vo(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&vo(t,n))+64*(63&vo(t,n))+(63&vo(t,n))),i}function Ro(t,n){return No(t,n,!0)}function No(t,n,i){for(var e=[];n.Lu<t.byteLength;){var r=vo(t,n);if(i&&!r)break;e.push(r)}return Ds(e)}function Do(t,n){if(n.Lu+2<=t.byteLength){var i=t.getUint8(n.Lu),e=t.getUint8(n.Lu+1);return(254!==i||255!==e)&&(255===i&&254===e||void 0)}}function Co(t,n){var i=Do(t,n);return void 0!==i&&n.Mu(2),Po(t,n,!0===i)}function Po(t,n,i){return void 0===i&&(i=!1),Oo(t,n,i,!0)}function Oo(t,n,i,e){for(var r=[];n.Lu+2<=t.byteLength;){var s=po(t,n,i);if(e&&!s)break;r.push(s)}return Ds(r)}function xo(t,n,i,e){void 0===e&&(e=!1);for(var r=i.length,s=0;s<r;s+=1){ko(t,n,i.charCodeAt(s),e)}}function Bo(t){return No(Go(t),new Ko,!1)}function Lo(t){var n=new p(t.length);return function(t,n,i){for(var e=i.length,r=0;r<e;r+=1)wo(t,n,i.charCodeAt(r))}(Go(n),new Ko,t),n}function Mo(t,n){return void 0===n&&(n=!1),Oo(Go(t),new Ko,n,!1)}function Fo(t,n){void 0===n&&(n=!1);var i=new p(2*t.length);return xo(Go(i),new Ko,t,n),i}function Uo(t,n){return n.Lu+3<=t.byteLength&&(239===t.getUint8(n.Lu)&&187===t.getUint8(n.Lu+1)&&191===t.getUint8(n.Lu+2))}function jo(t,n){return function(t,n,i){var e=[];Uo(t,n)&&n.Mu(3);for(;n.Lu<t.byteLength;){var r=Io(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return Rs(e)}(t,n,!0)}function Ho(t){return Rs(function(t,n){var i,e=[],r=new Ko;if(!n){if(!1===(i=oo(t,r)))return e;i===ao||e.push(i)}for(;!1!==(i=oo(t,r));)e.push(i);return e}(qo(t)))}function Xo(t){return new p(function(t){for(var n=[],i=0;i<t.length;i++)so(t[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t)))}function Vo(t,n){if(Uo(t,n))return jo(t,n);if(void 0!==Do(t,n))return Co(t,n);if(n.Lu+4<=t.byteLength){if(0===t.getUint8(n.Lu)&&0===t.getUint8(n.Lu+2))return Po(t,n,!1);if(0===t.getUint8(n.Lu+1)&&0===t.getUint8(n.Lu+3))return Po(t,n,!0)}return jo(t,n)}function zo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new p(t.buffer,t.byteOffset+n,i-n)}function Wo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function Go(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function qo(t){return new p(t.buffer,t.byteOffset,t.byteLength)}function $o(t){return t instanceof ArrayBuffer||Gu(t)}function Yo(t){return t instanceof ArrayBuffer?new p(t):qo(t)}function Qo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):Jo(zo(t,n,i))}function Jo(t){if(t.slice)return t.slice(0);var n=new p(t.byteLength);return n.set(t,0),n}function Zo(t){return[].slice.call(t)}var Ko=function(){function t(t){void 0===t&&(t=0),this.Fu=t}var n=t.prototype;return n.Mu=function(t){this.Fu+=t},n.Uu=function(t){this.Fu=t},n.ju=function(){return new t(this.Lu)},n.Vu=function(){return new io(this.Lu<<3)},T(t,[{key:"Lu",get:function(){return this.Fu}}]),t}();function ta(t){var n=t.toLowerCase(),i=0,e=0;As(n,"0x")&&(n=n.substring(2));var r=new p(g.ceil(n.length/2));for(1==(1&n.length)&&(i=1,r[e++]=_(n[0],16));i<n.length;i+=2)r[e++]=_(n.substr(i,2),16);return r}var na=function(){function t(){var t=this;this.Wu=void 0,this.Gu=void 0,this.$u=void 0,this.Wu=new Ge(function(n,i){t.Gu=n,t.$u=i})}var n=t.prototype;return n.Yu=function(t){this.Gu&&(this.Gu(t),this.Us())},n.Qu=function(t){this.$u&&(this.$u(t),this.Us())},n.Ws=function(){this.Wu.catch(Z),this.Qu(new hu)},n.Us=function(){this.Gu=void 0,this.$u=void 0},t}();function ia(){return new p([8,4]).buffer}function ea(t){return qu(t,ia())}function ra(t,n){return t===ss?function(t){if(t.byteLength<2*sa.length)return t;if(Mo(new DataView(t,0,2*sa.length),!0)===sa)return t;return n=t,Fo('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+Zu(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var sa="<PlayReady";var ua=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,r)||this).Ju=void 0,s.Zu=void 0,s.Ju=i,s.Zu=e,s}return E(n,t),n}(nn),oa=function(t,n){return(oa=w.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)w.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function aa(t,n){if("function"!=typeof n&&null!==n)throw new v("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}oa(t,n),t.prototype=null===n?w.create(n):(i.prototype=n.prototype,new i)}function ha(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}function ca(t,n,i){return g.min(g.max(t,n),i)}function fa(t,n){return t>>8-n}function la(t,n){return t&(1<<n)-1}!function(){function t(t,n){this.Ku=t,this.uo=n}t.prototype.get=function(t){var n=this.Ku.get(t);if(0===this.uo||void 0===n)return n;var i=this.Ku.get(t+1)||0,e=n&(1<<8-this.uo)-1,r=i>>8-this.uo;return(e<<this.uo)+r},t.prototype.getBit=function(t){if(!(t<0)){var n=this.Ku.get(g.floor((t+this.uo)/8));if(void 0!==n)return(n&1<<7-this.uo-t%8)>0?1:0}},w.defineProperty(t.prototype,"bitLength",{get:function(){return this.Ku.bitLength-this.uo},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"length",{get:function(){return this.Ku.length},enumerable:!1,configurable:!0})}();var va=function(){function t(t){this.oo=t,this.ao=0,this.do=0}return w.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.ao+this.do},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"done",{get:function(){return this.ao===this.oo.length&&0===this.do},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"location",{get:function(){return{byte:this.ao,bit:this.do}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.oo);return n.seek(this.ao,this.do),n},t.prototype.canReadBits=function(t){return 8*this.ao+t+this.do<=8*this.oo.length},t.prototype.canReadBytes=function(t){return 0===this.do?this.ao+t<=this.oo.length:this.ao+t<this.oo.length},t.prototype.incBit=function(){this.do++,this.do>7&&(this.ao++,this.do=0)},t.prototype.seek=function(t,n){this.ao=t,this.do=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new l("Cannot read past end of buffer.");return this.oo.get(this.ao)>>7-this.do&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new l("Cannot read past end of buffer.");if(0===this.do)return this.oo.get(this.ao++);var t=la(this.oo.get(this.ao),8-this.do),n=fa(this.oo.get(this.ao+1),this.do);return this.ao++,t<<this.do|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new l("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new l("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new l("Cannot read past end of buffer.");var n=0;if(0===this.do&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new l("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new l("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-g.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new l("Skipping over the buffer edge is not allowed.");var n=this.do+t;this.ao+=n>>3,this.do=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new l("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)},t}(),da=function(t,n){return t===n?0:t<n?-1:t>n?1:m(t)?m(n)?0:1:-1},wa=function(){function t(){this._o=[],this.mo=[],this.Ee=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var e=new t,r=0,s=n;r<s.length;r++){var u=s[r];e.pushRange(u)}return e},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new l("The buffer length must be positive.");if(0!==i){if(0===this.mo.length)this.mo.push(0);else{var e=this.mo[this.mo.length-1]+this._o[this._o.length-1].length;this.mo.push(e)}this._o.push(t.subarray(n,n+i)),this.Ee+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,e){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===e&&(e=this.length),n<0||i<0||e<0)throw new RangeError;return this.slice(i,e).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,e=n,r=0,s=this._o;r<s.length;r++){var u=s[r];t.set(u,e),i+=u.length,e+=u.length}return i},t.prototype.clear=function(){this._o=[],this.mo=[],this.Ee=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.mo[n];return this._o[n][i]}},w.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this._o.length<1)return-1;if(this._o.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this._o[0];return"number"==typeof t?ha(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],e=n.length,r=t.length-e,s=0;s<=r&&!((s=ha(t,i,s))<0||s>r);s++){for(var u=s+1,o=s+e,a=1;u<o&&t[u]===n[a];u++,a++);if(u===o)return s}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var e=0,r=t.length-1;if(1!==i(t[e],n)){if(1===i(n,t[r]))return r;for(;e!==r;){var s=g.ceil((e+r)/2);i(t[s],n)<=0?e=s:r=s-1}return e}}}(this.mo,t,da)},t.prototype.join=function(){if(1===this._o.length)return this._o[0];var t=new p(this.length);return this.copyInternal(t,0),t},w.defineProperty(t.prototype,"length",{get:function(){return this.Ee},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new l("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new l("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,e=0;e<n;e++)i+=this.get(t+e)*g.pow(2,8*(n-e-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var e=ca(n,0,this.length),r=ca(i,0,this.length);if(e>r)return new t;if(e===r)return new t;for(var s=new t,u=this.findContainingBufferIndex(e),o=this._o[u],a=e,h=a-this.mo[u];a+o.length-h<r;)s.pushRange(o,h,o.length-h),u+=1,h=(a+=o.length-h)-this.mo[u],o=this._o[u];var c=r-a;return s.pushRange(o,h,c),s},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this._o.length-1,e=this._o[i],r=e.length-1;n>=0&&i>=0;){if(0!==e[r])break;if(0===r){if(0===i)return new t;i-=1,r=(e=this._o[i]).length-1}else r-=1;n-=1}return this.slice(0,n+1)},t}(),ga=function(){function t(n){this.po=n||t.BUFFER_CHUNK_SIZE,this.Ao=!1,this.To=new wa,this.oo=new p(this.po),this.So=0,this.Eo=0,this.do=7}return t.prototype.closeByte=function(){this.oo[this.So++]=this.Eo,this.So>=this.po&&this.closeBuffer(),this.Eo=0,this.do=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.So&&(this.To.pushRange(this.oo,0,this.So),t&&(this.oo=new p(this.po)),this.So=0)},w.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.do},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.Ao)throw new l("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.Ao=!0,this.To},t.prototype.writeBit=function(t){if(this.Ao)throw new l("Cannot write to a closed BitWriter.");this.Eo|=t<<this.do,0===this.do?this.closeByte():this.do--},t.prototype.writeByte=function(t){if(this.Ao)throw new l("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.Eo=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.do;this.Eo|=fa(t,n+1),this.closeByte(),this.Eo=la(t,8-n)<<n+1,this.do=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];this.writeBit(e)}},t.prototype.writeBytes=function(t){if(this.Ao)throw new l("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.So+t.length<=this.po?(this.oo.set(t,this.So),this.So+=t.length,this.So===this.po&&this.closeBuffer()):(this.closeBuffer(),this.To.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.do;this.Eo|=fa(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var e=la(t[i-1],8-n),r=fa(t[i],n+1);this.Eo=e<<n+1|r,this.closeByte()}this.Eo=la(t[t.length-1],8-n)<<n+1,this.do=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new l("Received a negative number.");if(n>32)throw new l("The max bitlength that can be provided is 32.");if(t>=g.pow(2,n))throw new l("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new l("The max bitlength that can be provided is 32.");if(g.abs(t)>=g.pow(2,n-1))throw new l("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+g.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new l("Received a negative number.");for(var n=g.floor(g.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new p(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}(),_a=function(){function t(t){this.rb=new wa,this.Io=t}return t.prototype.closeWriter=function(){void 0!==this.Io&&(this.rb=this.rb.concat(this.Io.close()),this.Io=void 0)},w.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.Io&&(this.Io=new ga),this.Io},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),ya=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new l("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),e=i>=t.LARGE_SIZE/8,r=16===this.boxType.length;n.writeUInt(e?1:i,32),n.writeString(r?"uuid":this.boxType),e&&(n.writeUInt(g.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),r&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new _a;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=g.pow(2,32),t}();function ma(t,n){return t instanceof lt?64===n:t<g.pow(2,n)}function pa(t,n){return g.round(t*g.pow(2,n))}function ka(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}function ba(t,n){return t/g.pow(2,n)}var Aa=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!ma(i,8))throw new l("the provided version cannot fit in 8 bits.");return r.flags=e,r}return aa(n,t),w.defineProperty(n.prototype,"flags",{get:function(){return this.Ro},set:function(t){this.Ro=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new l("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(ya),Ta=function(t){function n(n,i){var e=t.call(this,n)||this;return e.data=i,e}return aa(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(wa.from(this.data))},n}(ya),Sa=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();var Ea=16384;function Ia(t){var n=t.length;if(n<=Ea)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=Ea)i.push(String.fromCharCode.apply(String,t.slice(e,e+Ea)));return i.join("")}var Ra=function(){function t(t){this.raw=t}return t.prototype.isSet=function(t){return function(t,n){return(t&n)===n}(this.raw,t)},t}();function Na(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function Da(t,n,i){var e=Ma(Ua(t),n.offset,n.offset+i);return n.shift(e.byteLength),e}function Ca(t,n,i){return n.offset+i<=t.byteLength}function Pa(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.offset,i);return n.shift(4),e}function Oa(t,n,i){void 0===i&&(i=!1);var e=Pa(t,n,i),r=Pa(t,n,i),s=i?r:e,u=i?e:r;return lt.fromBits(u,s,!0)}function xa(t,n,i){var e,r=Da(t,n,i);return Ia((e=r,[].slice.call(e)))}function Ba(t,n){var i,e=Na(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&Na(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&Na(t,n))+(63&Na(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&Na(t,n))+64*(63&Na(t,n))+(63&Na(t,n))),i}function La(t,n){return function(t,n,i){var e=[];(function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)})(t,n)&&n.shift(3);for(;n.offset<t.byteLength;){var r=Ba(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return function(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return Ia(n)}(e)}(t,n,!0)}function Ma(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new p(t.buffer,t.byteOffset+n,i-n)}function Fa(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ua(t){return new p(t.buffer,t.byteOffset,t.byteLength)}var ja=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new Sa(this.offset<<3)},t}(),Ha=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return Na(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextUint32=function(){return Pa(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.offset,i);return n.shift(4),e}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var e=Pa(t,n,i),r=Pa(t,n,i),s=i?r:e,u=i?e:r;return lt.fromBits(u,s,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return Oa(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return Da(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(Pa(t,n));return e}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return xa(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return La(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function Xa(t,n){return t.type===n}var Va=8;function za(t){var n=function(t,n){var i=[];for(;n.offset<t.byteLength;){var e=Wa(t,n);if(!e.complete)return{complete:!1,boxes:i};i.push(e.box)}return{complete:!0,boxes:i}}(t.data,t.cursor);if(!n.complete)throw new l("Data incomplete");return n.boxes}function Wa(t,n){var i=n.offset,e=function(t,n){var i=n.offset;if(!Ca(t,n,Va)){var e=n.offset+Va;return{complete:!1,neededOffset:e}}var r=Pa(t,n),s=xa(t,n,4);if(1===r){if(!Ca(t,n,8)){var e=n.offset+8;return n.seek(i),{complete:!1,neededOffset:e}}r=Oa(t,n).toNumber()}if("uuid"===s){if(!Ca(t,n,16)){var e=n.offset+16;return n.seek(i),{complete:!1,neededOffset:e}}s=xa(t,n,16)}var u=n.offset;return{complete:!0,header:{type:s,size:r,headerSize:u-i}}}(t,n);if(!e.complete)return e;var r=e.header,s=r.size;0===s&&(s=t.byteLength-i);var u=i+s;if(u>t.byteLength){var o=u;return n.seek(i),{complete:!1,neededOffset:o}}var a,h,c,f={type:r.type,offset:i,data:new Ha((a=t,h=i,c=u,void 0===h&&(h=0),void 0===c&&(c=a.byteLength),new DataView(a.buffer,a.byteOffset+h,c-h)),new ja(r.headerSize))};return n.seek(u),{complete:!0,box:f}}function Ga(t){return{version:t>>24,flags:new Ra(16777215&t)}}function qa(t,n){var i,e,r,s;return 1===n?(i=t.nextUint64(),e=t.nextUint64(),r=t.nextUint32(),s=t.nextUint64()):(i=t.nextUint32(),e=t.nextUint32(),r=t.nextUint32(),s=t.nextUint32()),{creation:i,modification:e,scale:r,duration:s}}function $a(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function Ya(t){var n=t.nextUint32Array(9);return{a:ba(n[0],16),b:ba(n[1],16),u:ba(n[2],30),c:ba(n[3],16),d:ba(n[4],16),v:ba(n[5],30),x:ba(n[6],16),y:ba(n[7],16),w:ba(n[8],30)}}function Qa(t){return new Ta(t.type,Ma(Ua(t.data.data),t.data.cursor.offset))}var Ja=function(t){function n(n,i,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var s=t.call(this,"hdlr",e,r)||this;return s.name=i,s.handlerType=n,s}return aa(n,t),w.defineProperty(n.prototype,"handlerType",{get:function(){return this.No},set:function(t){this.No=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(Aa);function Za(t){var n=t.data,i=Ga(n.nextUint32()),e=i.version,r=i.flags;n.skip(4);var s=n.nextChars(4);n.skip(12);var u=n.nextUTF8String();return new Ja(s,u,e,r.raw)}!function(t){function n(){return t.call(this,"mdir")||this}aa(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(Ja);var Ka=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},w.defineProperty(t.prototype,"tag",{get:function(){return this.Do},set:function(t){if(!ma(t,8))throw new l("Provided tag does not fit in 8 bits.");this.Do=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var e=i[n];t.writer.writeByte(e)}this.serializeDescriptorContent(t)},t}();!function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o={});var a=t.call(this,4,o.fixed28BitMode)||this;return a.upStream=e,a.decoderSpecificInfo=u,a.objectTypeIndication=n,a.streamType=i,a.bufferSizeDb=r,a.maxBitrate=s.max,a.avgBitrate=s.avg,a}aa(n,t),w.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.Co},set:function(t){if(!ma(t,8))throw new l("Provided objectTypeIndication does not fit in 8 bits.");this.Co=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"streamType",{get:function(){return this.Po},set:function(t){if(!ma(t,6))throw new l("Provided streamType does not fit in 6 bits.");this.Po=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Oo},set:function(t){if(!ma(t,24))throw new l("Provided bufferSizeDb does not fit in 24 bits.");this.Oo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.xo},set:function(t){if(!ma(t,32))throw new l("Provided maxBitrate does not fit in 32 bits.");this.xo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.Bo},set:function(t){if(!ma(t,32))throw new l("Provided avgBitrate does not fit in 32 bits.");this.Bo=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(Ka),function(t){function n(n,i){void 0===i&&(i={});var e=t.call(this,5,i.fixed28BitMode)||this;return e.data=n,e}aa(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(wa.from(this.data))}}(Ka);var th=function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return aa(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(Ka);!function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,3,r.fixed28BitMode)||this;return s.decoderConfigDescriptor=e,s.esId=n,s.streamPriority=i,s.dependsOnEsId=null==r?void 0:r.dependsOnEsId,s.urlString=null==r?void 0:r.url,s.ocrEsId=null==r?void 0:r.ocrEsId,s.slConfigDescriptor=new th(r.fixed28BitMode),s}aa(n,t),w.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"esId",{get:function(){return this.Lo},set:function(t){if(!ma(t,16))throw new l("Provided esId does not fit in 16 bits.");this.Lo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"streamPriority",{get:function(){return this.Mo},set:function(t){if(!ma(t,5))throw new l("Provided streamPriority does not fit in 5 bits.");this.Mo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.Fo},set:function(t){if(t&&!ma(t,16))throw new l("Provided dependsOnEsId does not fit in 16 bits.");this.Fo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.Uo},set:function(t){if(t&&!ma(t,16))throw new l("Provided ocrEsId does not fit in 16 bits.");this.Uo=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(Ka);var nh=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return aa(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,e=this.boxes;i<e.length;i++){var r=e[i];n=n.concat(r.serialize())}return n},n}(ya),ih=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return aa(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(nh),eh=function(t){function n(n,i){var e=t.call(this,n)||this;return e.dataReferenceIndex=i,e}return aa(n,t),w.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.jo},set:function(t){if(!ma(t,16))throw new l("Provided dataReferenceIndex does not fit in 16 bits.");this.jo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(ih),rh=function(t){function n(n,i,e,r){var s,u,o=this;return(o=t.call(this,n,i)||this).extra=r,o.channelCount=null!==(s=e.channelCount)&&void 0!==s?s:2,o.sampleSize=null!==(u=e.sampleSize)&&void 0!==u?u:16,o.sampleRate=e.sampleRate,o}return aa(n,t),w.defineProperty(n.prototype,"channelCount",{get:function(){return this.Ho},set:function(t){if(!ma(t,16))throw new l("Provided channelCount does not fit in 16 bits.");this.Ho=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"sampleSize",{get:function(){return this.Xo},set:function(t){if(!ma(t,16))throw new l("Provided sampleSize does not fit in 16 bits.");this.Xo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"sampleRate",{get:function(){return this.Vo},set:function(t){if(!ma(pa(t,16),32))throw new l("Provided rate does not fit in 32 bits (fixed 16.16).");this.Vo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(pa(this.sampleRate,16),32),this.extra&&ka(n.writer,this.extra)},n}(eh);!function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}aa(n,t),w.defineProperty(n.prototype,"entries",{get:function(){return this.zo},set:function(t){if(!ma(t.length,32))throw new l("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ma(t,32)}))throw new l("Not all entries can be represented in 32 bits.");this.zo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(Aa),function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}aa(n,t),w.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.Wo},set:function(t){if(!ma(t,32))throw new l("Provided cleanApertureWidthN does not fit in 32 bits.");this.Wo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.Go},set:function(t){if(!ma(t,32))throw new l("Provided cleanApertureWidthD does not fit in 32 bits.");this.Go=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.qo},set:function(t){if(!ma(t,32))throw new l("Provided cleanApertureHeightN does not fit in 32 bits.");this.qo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.$o},set:function(t){if(!ma(t,32))throw new l("Provided cleanApertureHeightD does not fit in 32 bits.");this.$o=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"horizOffN",{get:function(){return this.Yo},set:function(t){if(!ma(t,32))throw new l("Provided horizOffN does not fit in 32 bits.");this.Yo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"horizOffD",{get:function(){return this.Qo},set:function(t){if(!ma(t,32))throw new l("Provided horizOffD does not fit in 32 bits.");this.Qo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"vertOffN",{get:function(){return this.Jo},set:function(t){if(!ma(t,32))throw new l("Provided vertOffN does not fit in 32 bits.");this.Jo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"vertOffD",{get:function(){return this.Zo},set:function(t){if(!ma(t,32))throw new l("Provided vertOffD does not fit in 32 bits.");this.Zo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(ya),function(t){function n(n,i){var e=t.call(this,"ctts",n,0)||this;return e.entries=i,e}aa(n,t),w.defineProperty(n.prototype,"entries",{get:function(){return this.zo},set:function(t){if(!ma(t.length,32))throw new l("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ma(t.sampleCount,32)||!ma(t.sampleOffset,32)}))throw new l("Not all entries can be represented in 64 bits.");this.zo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),0===this.version?n.writer.writeUInt(r.sampleOffset,32):1===this.version&&n.writer.writeInt(r.sampleOffset,32)}}}(Aa),function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}aa(n,t),w.defineProperty(n.prototype,"location",{get:function(){return this.Ko},set:function(t){this.flags=void 0===t?1:0,this.Ko=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(Aa),function(t){function n(n,i,e){var r=t.call(this,"urn ",0,e)||this;return r.name=n,r.location=i,r}aa(n,t),w.defineProperty(n.prototype,"location",{get:function(){return this.Ko},set:function(t){if(1&this.flags)throw new l("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.Ko=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(Aa),function(t){function n(){return t.call(this,"dinf")||this}aa(n,t)}(ih);var sh=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!ma(i,8))throw new l("the provided version cannot fit in 8 bits.");return r.flags=e,r}return aa(n,t),w.defineProperty(n.prototype,"flags",{get:function(){return this.Ro},set:function(t){this.Ro=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new l("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(nh);!function(t){function n(){return t.call(this,"dref",0,0)||this}aa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(sh);var uh=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"elst",i,e)||this;return r.entries=n,r}return aa(n,t),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"entries",{get:function(){return this.zo},set:function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!ma(e.segmentDuration,this.bitSize))throw new l("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!ma(e.mediaTime,this.bitSize))throw new l("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!ma(e.mediaRateInteger,16))throw new l("Provided mediaRateInteger does not fit in 16 bits.");if(e.mediaRateFraction&&!ma(e.mediaRateFraction,16))throw new l("Provided mediaRateFraction does not fit in 16 bits.")}this.zo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(Aa),oh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return aa(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration,32),t.writer.writeInt(r.mediaTime,32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(uh),ah=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return aa(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(r.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(r.mediaTime.getHighBits(),32),t.writer.writeInt(r.mediaTime.getLowBits(),32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(uh);function hh(t){for(var n=t.data,i=Ga(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=[],o=0;o<s;o++){var a=void 0,h=void 0;0===e?(a=n.nextUint32(),h=n.nextInt32()):(a=n.nextUint64(),h=n.nextInt64());var c=n.nextInt16(),f=n.nextInt16();u.push({segmentDuration:a,mediaTime:h,mediaRateFraction:f,mediaRateInteger:c})}return 0===e?new oh(u,r.raw):new ah(u,r.raw)}var ch=function(t){function n(){return t.call(this,"edts")||this}return aa(n,t),n}(ih);function fh(t){for(var n=new ch,i=0,e=za(t.data);i<e.length;i++){var r=e[i];Xa(r,"elst")?n.boxes.push(hh(r)):n.boxes.push(Qa(r))}return n}var lh=function(t){function n(n,i,e,r){var s=t.call(this,n)||this;return s.majorBrand=i,s.minorVersion=e,s.compatibleBrands=r,s}return aa(n,t),w.defineProperty(n.prototype,"majorBrand",{get:function(){return this.ea},set:function(t){if(4!==t.length)throw new l("the provided major brand does not conform to the 4 character requirement");this.ea=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"minorVersion",{get:function(){return this.ra},set:function(t){if(!ma(t,32))throw new l("the provided minor version does not fit in 32 bits.");this.ra=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.ua},set:function(t){if(t.some(function(t){return 4!==t.length}))throw new l("Some of the compatible brands do not conform to the 4 character requirement");this.ua=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var e=i[n];t.writer.writeString(e)}},n}(ya),vh=function(t){function n(n,i,e){return t.call(this,"ftyp",n,i,e)||this}return aa(n,t),n}(lh);function dh(t){for(var n=t.data,i=n.nextChars(4),e=n.nextUint32(),r=[];n.cursor.offset<n.data.byteLength;)r.push(n.nextChars(4));return new vh(i,e,r)}var wh=function(t){function n(n,i){void 0===i&&(i="free");var e=t.call(this,i)||this;return e.data=n,e}return aa(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(wa.from(this.data))},n}(ya),gh=function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=t.call(this,"mdhd",e,r)||this;return s.creationTime=n.creation,s.modificationTime=n.modification,s.timescale=n.scale,s.duration=n.duration,s.language=i,s}return aa(n,t),w.defineProperty(n.prototype,"creationTime",{get:function(){return this.oa},set:function(t){if(!ma(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.oa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"modificationTime",{get:function(){return this.va},set:function(t){if(!ma(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.va=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"timescale",{get:function(){return this._a},set:function(t){if(!ma(t,32))throw new l("Provided sequence number does not fit in 32 bits.");this._a=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"duration",{get:function(){return this.ya},set:function(t){if(!ma(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ya=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"language",{get:function(){return this.ma},set:function(t){if(!ph(t))throw new l("Expected an ISO-639-2/T language code");this.ma=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,e=this.language;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(Aa),_h=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,0,e)||this}return aa(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(gh),yh=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,1,e)||this}return aa(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(gh);function mh(t){var n=t.data,i=Ga(n.nextUint32()),e=i.version,r=i.flags,s=qa(n,e),u=new va(wa.from(n.nextUint8Array(2)));u.skipBits(1);for(var o=[],a=0;a<3;a++)o.push(u.readUInt(5));var h=o.map(function(t){return String.fromCharCode(t+96)}).join("");return ph(h)||(h="und"),n.skip(2),0===e?new _h(s,h,r.raw):new yh(s,h,r.raw)}function ph(t){return/^[a-z]{3}$/.test(t)}var kh=function(t){function n(){return t.call(this,"mdia")||this}return aa(n,t),n}(ih);function bh(t){for(var n=new kh,i=0,e=za(t.data);i<e.length;i++){var r=e[i];Xa(r,"mdhd")?n.boxes.push(mh(r)):Xa(r,"hdlr")?n.boxes.push(Za(r)):n.boxes.push(Qa(r))}return n}var Ah,Th=function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new wa,n}return aa(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)},n}(ya);function Sh(t){var n=t.data,i=n.nextUint8Array(n.data.byteLength-n.cursor.offset),e=new Th;return e.data.pushRange(i),e}!function(t){function n(){return t.call(this,"minf")||this}aa(n,t)}(ih),function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}aa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(sh),function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(Ah||(Ah={}));var Eh,Ih,Rh={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function Nh(t,n){n.writer.writeUInt(pa(t.a,16),32),n.writer.writeUInt(pa(t.b,16),32),n.writer.writeUInt(pa(0,30),32),n.writer.writeUInt(pa(t.c,16),32),n.writer.writeUInt(pa(t.d,16),32),n.writer.writeUInt(pa(0,30),32),n.writer.writeUInt(pa(t.x,16),32),n.writer.writeUInt(pa(t.y,16),32),n.writer.writeUInt(pa(1,30),32)}function Dh(t,n){var i,e,r,s;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:Eh.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleDependsOn)&&void 0!==e?e:Ih.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleIsDependedOn)&&void 0!==r?r:Ih.UNKNOWN,2),n.writer.writeUInt(null!==(s=t.sampleHasRedundancy)&&void 0!==s?s:Ih.UNKNOWN,2)}function Ch(t,n){var i,e,r;n.writer.writeUInt(0,4),Dh(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(e=t.sampleIsNonSyncSample)&&void 0!==e&&e),n.writer.writeUInt(null!==(r=t.sampleDegradationPriority)&&void 0!==r?r:0,16)}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(Eh||(Eh={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(Ih||(Ih={}));var Ph=function(){return function(){}}(),Oh=function(t){function n(n,i,e){var r=t.call(this,"pssh",n,0)||this;return r.systemId=i,r.data=e,r}return aa(n,t),w.defineProperty(n.prototype,"systemId",{get:function(){return this.Aa},set:function(t){if(16!==t.length)throw new l("Provided systemId length is not 16.");this.Aa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"data",{get:function(){return this.Gi},set:function(t){if(!ma(t.length,32))throw new l("Provided data length does not fit in 32 bits.");this.Gi=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(wa.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(wa.from(this.data))},n}(Aa),xh=function(t){function n(n,i){return t.call(this,0,n,i)||this}return aa(n,t),n}(Oh),Bh=function(t){function n(n,i,e){var r=t.call(this,1,n,i)||this;return r.kIds=e,r}return aa(n,t),w.defineProperty(n.prototype,"kIds",{get:function(){return this.Ta},set:function(t){if(!ma(t.length,32))throw new l("Provided kIds length cannot fit in 32 bits.");if(t.some(function(t){return 16!==t.length}))throw new l("Not all provided key ids are 16 bytes long.");this.Ta=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var e=i[n];t.concat(wa.from(e))}},n}(Oh);function Lh(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),e=[];if(1===n)for(var r=t.data.nextUint32(),s=0;s<r;s++)e.push(t.data.nextUint8Array(16));var u=t.data.nextUint32(),o=t.data.nextUint8Array(u);return 1===n?new Bh(i,o,e):new xh(i,o)}var Mh=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"mehd",i,e)||this;return r.fragmentDuration=n,r}return aa(n,t),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.Sa},set:function(t){if(!ma(t,this.bitSize))throw new l("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.Sa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(Aa),Fh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return aa(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)},n}(Mh),Uh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return aa(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},n}(Mh);function jh(t){var n=t.data,i=Ga(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new Fh(n.nextUint32(),r.raw):new Uh(n.nextUint64(),r.raw)}var Hh=function(t){function n(n,i,e,r){void 0===i&&(i={}),void 0===e&&(e=0),void 0===r&&(r=0);var s,u,o,a=this;return(a=t.call(this,"trex",e,r)||this).trackId=n,a.defaultSampleDescriptionIndex=null!==(s=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==s?s:0,a.defaultSampleDuration=null!==(u=i.sampleDuration)&&void 0!==u?u:0,a.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,a.defaultSampleFlags=i.sampleFlags,a}return aa(n,t),w.defineProperty(n.prototype,"trackId",{get:function(){return this.Ea},set:function(t){if(!ma(t,32))throw new l("Provided track id does not fit in 32 bits.");this.Ea=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Ia},set:function(t){if(!ma(t,32))throw new l("Provided default sample description index does not fit in 32 bits.");this.Ia=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Ra},set:function(t){if(!ma(t,32))throw new l("Provided default sample duration does not fit in 32 bits.");this.Ra=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Na},set:function(t){if(!ma(t,32))throw new l("Provided default sample size does not fit in 32 bits.");this.Na=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Da},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!ma(t.samplePaddingValue,3))throw new l("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!ma(t.sampleDegradationPriority,16))throw new l("Provided sample degradation priority does not fit in 16 bits.");this.Da=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),Ch(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)},n}(Aa);function Xh(t){var n=t.data,i=Ga(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=n.nextUint32(),o=n.nextUint32(),a=n.nextUint32(),h=$a(new va(wa.from(n.nextUint8Array(4))));return new Hh(s,{sampleDescriptionIndex:u,sampleDuration:o,sampleSize:a,sampleFlags:h},e,r.raw)}var Vh=function(t){function n(){return t.call(this,"mvex")||this}return aa(n,t),n}(ih);function zh(t){for(var n=new Vh,i=0,e=za(t.data);i<e.length;i++){var r=e[i];Xa(r,"mehd")?n.boxes.push(jh(r)):Xa(r,"trex")?n.boxes.push(Xh(r)):n.boxes.push(Qa(r))}return n}var Wh=function(t){function n(i,e,r,s,u){void 0===u&&(u=0);var o,a,h,c=this;return(c=t.call(this,"mvhd",s,u)||this).creationTime=i.creation,c.modificationTime=i.modification,c.timescale=i.scale,c.duration=i.duration,c.rate=null!==(o=r.rate)&&void 0!==o?o:n.DEFAULT_RATE,c.volume=null!==(a=r.volume)&&void 0!==a?a:n.DEFAULT_VOLUME,c.matrix=null!==(h=r.matrix)&&void 0!==h?h:Rh,c.Ca=e,c}return aa(n,t),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"creationTime",{get:function(){return this.oa},set:function(t){if(!ma(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.oa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"modificationTime",{get:function(){return this.va},set:function(t){if(!ma(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.va=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"timescale",{get:function(){return this._a},set:function(t){if(!ma(t,32))throw new l("Provided sequence number does not fit in 32 bits.");this._a=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"duration",{get:function(){return this.ya},set:function(t){if(!ma(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ya=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"rate",{get:function(){return this.Pa},set:function(t){if(!ma(pa(t,16),32))throw new l("Provided rate does not fit in 32 bits (fixed 16.16).");this.Pa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"volume",{get:function(){return this.Oa},set:function(t){if(!ma(pa(t,8),16))throw new l("Provided volume does not fit in 16 bits (fixed 8.8).");this.Oa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"matrix",{get:function(){return this.xa},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new l("(u, v, w) does not match the required (0, 0, 1)");this.xa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.Ca},set:function(t){if(0===t)throw new l("NextTrackId cannot be 0.");if(!ma(t,32))throw new l("NextTrackId cannot exceed 32 bits.");this.Ca=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(pa(this.rate,16),32),n.writer.writeUInt(pa(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),Nh(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(Aa),Gh=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,0,r)||this}return aa(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(Wh),qh=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,1,r)||this}return aa(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Wh);function $h(t){var n=t.data,i=Ga(n.nextUint32()),e=i.version,r=i.flags,s=qa(n,e),u=ba(n.nextUint32(),16),o=ba(n.nextUint16(),8);n.skip(2),n.skip(8);var a=Ya(n);n.skip(24);var h=n.nextUint32();return 0===e?new Gh(s,h,{rate:u,volume:o,matrix:a},r.raw):new qh(s,h,{rate:u,volume:o,matrix:a},r.raw)}var Yh=function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o={});var a,h,c,f=this;return(f=t.call(this,"tkhd",n,function(t){var n,i,e,r;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(e=null==t?void 0:t.trackInPreview)||void 0===e||e,trackSizeIsAspectRatio:null!==(r=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==r&&r}}(o))||this).creationTime=i.creation,f.modificationTime=i.modification,f.trackId=e,f.duration=i.duration,f.volume=r,f.width=s,f.height=u,f.layer=null!==(a=o.layer)&&void 0!==a?a:0,f.alternateGroup=null!==(h=o.alternateGroup)&&void 0!==h?h:0,f.matrix=null!==(c=o.matrix)&&void 0!==c?c:Rh,f}return aa(n,t),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"creationTime",{get:function(){return this.oa},set:function(t){if(!ma(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.oa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"modificationTime",{get:function(){return this.va},set:function(t){if(!ma(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.va=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"trackId",{get:function(){return this.Ea},set:function(t){if(0===t)throw new l("trackId cannot be 0.");if(!ma(t,32))throw new l("trackId cannot exceed 32 bits.");this.Ea=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"duration",{get:function(){return this.ya},set:function(t){if(!ma(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ya=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"volume",{get:function(){return this.Oa},set:function(t){if(!ma(pa(t,8),16))throw new l("Provided volume does not fit in 16 bits (fixed 8.8).");this.Oa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"width",{get:function(){return this.Ba},set:function(t){if(!ma(pa(t,16),32))throw new l("Provided width does not fit in 32 bits (fixed 16.16).");this.Ba=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"height",{get:function(){return this.La},set:function(t){if(!ma(pa(t,16),32))throw new l("Provided height does not fit in 32 bits (fixed 16.16).");this.La=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"layer",{get:function(){return this.Ma},set:function(t){if(!ma(t,16))throw new l("Provided layer does not fit in 16 bits.");this.Ma=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.Fa},set:function(t){if(!ma(t,16))throw new l("Provided alternateGroup does not fit in 16 bits.");this.Fa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"matrix",{get:function(){return this.xa},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new l("(u, v, w) does not match the required (0, 0, 1)");this.xa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(pa(this.volume,8),16),n.writer.writeUInt(0,16),Nh(this.matrix,n),n.writer.writeUInt(pa(this.width,16),32),n.writer.writeUInt(pa(this.height,16),32)},n}(Aa),Qh=function(t){function n(n,i,e,r,s,u){return t.call(this,0,n,i,e,r,s,u)||this}return aa(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},n}(Yh),Jh=function(t){function n(n,i,e,r,s,u){return t.call(this,1,n,i,e,r,s,u)||this}return aa(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Yh);function Zh(t){var n,i,e,r,s=t.data,u=Ga(s.nextUint32()),o=u.version,a=u.flags,h=a.isSet(8),c=a.isSet(4),f=a.isSet(2),l=a.isSet(1);0===o?(n=s.nextUint32(),i=s.nextUint32(),e=s.nextUint32(),s.skip(4),r=s.nextUint32()):(n=s.nextUint64(),i=s.nextUint64(),e=s.nextUint32(),s.skip(4),r=s.nextUint64()),s.skip(8);var v=s.nextInt16(),d=s.nextInt16(),w=ba(s.nextInt16(),8);s.skip(2);var g=Ya(s),_=ba(s.nextUint32(),16),y=ba(s.nextUint32(),16);return 0===o?new Qh({creation:n,modification:i,duration:r},e,w,_,y,{layer:v,matrix:g,alternateGroup:d,trackSizeIsAspectRatio:h,trackEnabled:l,trackInPreview:c,trackInMovie:f}):new Jh({creation:n,modification:i,duration:r},e,w,_,y,{layer:v,matrix:g,alternateGroup:d,trackSizeIsAspectRatio:h,trackEnabled:l,trackInPreview:c,trackInMovie:f})}var Kh=function(t){function n(){return t.call(this,"trak")||this}return aa(n,t),n}(ih);function tc(t){for(var n=new Kh,i=0,e=za(t.data);i<e.length;i++){var r=e[i];Xa(r,"tkhd")?n.boxes.push(Zh(r)):Xa(r,"mdia")?n.boxes.push(bh(r)):Xa(r,"edts")?n.boxes.push(fh(r)):n.boxes.push(Qa(r))}return n}var nc=function(t){function n(){return t.call(this,"moov")||this}return aa(n,t),n}(ih);function ic(t){for(var n=new nc,i=0,e=za(t.data);i<e.length;i++){var r=e[i];Xa(r,"mvhd")?n.boxes.push($h(r)):Xa(r,"trak")?n.boxes.push(tc(r)):Xa(r,"mvex")?n.boxes.push(zh(r)):Xa(r,"pssh")?n.boxes.push(Lh(r)):n.boxes.push(Qa(r))}return n}var ec=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"tfdt",i,e)||this;return r.baseMediaDecodeTime=n,r}return aa(n,t),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.Ua},set:function(t){if(!ma(t,this.bitSize))throw new l("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.Ua=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(Aa),rc=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return aa(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)},n}(ec),sc=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return aa(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},n}(ec);function uc(t){var n=t.data,i=Ga(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new rc(n.nextUint32(),r.raw):new sc(n.nextUint64(),r.raw)}var oc=function(t){function n(n,i){void 0===i&&(i=0);var e=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return e.trackId=n.trackId,e.baseDataOffset=n.baseDataOffset,e.sampleDescriptionIndex=n.sampleDescriptionIndex,e.defaultSampleDuration=n.defaultSampleDuration,e.defaultSampleSize=n.defaultSampleSize,e.defaultSampleFlags=n.defaultSampleFlags,e}return aa(n,t),w.defineProperty(n.prototype,"trackId",{get:function(){return this.Ea},set:function(t){if(!ma(t,32))throw new l("Provided track id does not fit in 32 bits.");this.Ea=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.Ha},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new l("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new l("The base data offset present flag is not set.");if(t&&!ma(t,64))throw new l("Provided baseDataOffset does not fit in 32 bits.");this.Ha=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.Xa},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new l("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new l("The sample description index flag is not set.");if(t&&!ma(t,32))throw new l("Provided sampleDescriptionIndex does not fit in 32 bits.");this.Xa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Ra},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new l("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new l("The default sample duration present flag is not set.");if(t&&!ma(t,32))throw new l("Provided defaultSampleDuration does not fit in 32 bits.");this.Ra=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Na},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new l("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new l("The default sample size present flag is not set.");if(t&&!ma(t,32))throw new l("Provided defaultSampleSize does not fit in 32 bits.");this.Na=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Da},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new l("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new l("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!ma(t.samplePaddingValue,3))throw new l("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!ma(t.sampleDegradationPriority,16))throw new l("Provided sample degradation priority does not fit in 16 bits.");this.Da=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&Ch(this.defaultSampleFlags,n)},n}(Aa);function ac(t){var n=t.data,i=n.nextUint8(),e=new va(wa.from(n.nextUint8Array(3)));e.skipBits(6);var r=Boolean(e.readBit()),s=Boolean(e.readBit());e.skipBits(10);var u=Boolean(e.readBit()),o=Boolean(e.readBit()),a=Boolean(e.readBit());e.skipBits(1);var h=Boolean(e.readBit()),c=Boolean(e.readBit()),f=n.nextUint32(),l=c?n.nextUint64():void 0,v=h?n.nextUint32():void 0,d=a?n.nextUint32():void 0,w=o?n.nextUint32():void 0,g=u?$a(new va(wa.from(n.nextUint8Array(4)))):void 0;return new oc({trackId:f,defaultBaseIsMoof:r,durationIsEmpty:s,baseDataOffset:l,sampleDescriptionIndex:v,defaultSampleDuration:d,defaultSampleSize:w,defaultSampleFlags:g},i)}var hc=function(t){function n(n,i,e){var r=t.call(this,"trun",n,function(t){var n,i,e,r;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(e=t.sampleFlagsPresent)&&void 0!==e&&e,sampleCompositionTimeOffsetsPresent:null!==(r=t.sampleCompositionTimeOffsetsPresent)&&void 0!==r&&r}}(i))||this;return r.dataOffset=i.dataOffset,r.samples=e,r.firstSampleFlags=i.firstSampleFlags,r}return aa(n,t),w.defineProperty(n.prototype,"dataOffset",{get:function(){return this.Va},set:function(t){if(t&&!ma(t,32))throw new l("Provided data offset does not fit in 32 bits.");this.Va=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.Wa},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!ma(t.samplePaddingValue,3))throw new l("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!ma(t.sampleDegradationPriority,16))throw new l("Provided sample degradation priority does not fit in 16 bits.");this.Wa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"samples",{get:function(){return this.Ga},set:function(t){var n,i;if(!ma(t.length,32))throw new l("The sample count cannot be represented in 32 bits.");for(var e=0,r=t;e<r.length;e++){var s=r[e];if(void 0===s.duration&&this.flags.sampleDurationPresent)throw new l("The sample duration present flag is set.");if(void 0!==s.duration&&!this.flags.sampleDurationPresent)throw new l("The sample duration present flag is not set.");if(s.duration&&!ma(s.duration,32))throw new l("Provided sample duration does not fit in 32 bits.");if(void 0===s.size&&this.flags.sampleSizePresent)throw new l("The sample size present flag is set.");if(void 0!==s.size&&!this.flags.sampleSizePresent)throw new l("The sample size present flag is not set.");if(s.size&&!ma(s.size,32))throw new l("Provided sample size does not fit in 32 bits.");if(void 0===s.flags&&this.flags.sampleFlagsPresent)throw new l("The sample flags present flag is set.");if(void 0!==s.flags&&!this.flags.sampleFlagsPresent)throw new l("The sample flags present flag is not set.");if((null===(n=s.flags)||void 0===n?void 0:n.samplePaddingValue)&&!ma(s.flags.samplePaddingValue,3))throw new l("Provided sample padding value does not fit in 3 bits.");if((null===(i=s.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!ma(s.flags.sampleDegradationPriority,16))throw new l("Provided sample degradation priority does not fit in 16 bits.");if(void 0===s.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new l("The sample compositionTimeOffset present flag is set.");if(void 0!==s.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new l("The sample compositionTimeOffset present flag is not set.");if(s.compositionTimeOffset&&!ma(s.compositionTimeOffset,32))throw new l("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.Ga=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&Ch(this.firstSampleFlags,n);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(r.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(r.size,32),this.flags.sampleFlagsPresent&&Ch(r.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(r.compositionTimeOffset,32):n.writer.writeInt(r.compositionTimeOffset,32))}},n}(Aa);function cc(t){var n=t.data,i=n.nextUint8(),e=new va(wa.from(n.nextUint8Array(3)));e.skipBits(12);var r=Boolean(e.readBit()),s=Boolean(e.readBit()),u=Boolean(e.readBit()),o=Boolean(e.readBit());e.skipBits(5);var a=Boolean(e.readBit());e.skipBits(1);var h=Boolean(e.readBit()),c=n.nextUint32(),f={sampleDurationPresent:o,sampleSizePresent:u,sampleFlagsPresent:s,sampleCompositionTimeOffsetsPresent:r};h&&(f.dataOffset=n.nextInt32()),a&&(f.firstSampleFlags=$a(new va(wa.from(n.nextUint8Array(4)))));for(var l=[],v=0;v<c;v++){var d={};o&&(d.duration=n.nextUint32()),u&&(d.size=n.nextUint32()),s&&(d.flags=$a(new va(wa.from(n.nextUint8Array(4))))),r&&(d.compositionTimeOffset=0===i?n.nextUint32():n.nextInt32()),l.push(d)}return new hc(i,f,l)}var fc=function(t){function n(){return t.call(this,"traf")||this}return aa(n,t),n}(ih);function lc(t){for(var n=new fc,i=0,e=za(t.data);i<e.length;i++){var r=e[i];Xa(r,"tfhd")?n.boxes.push(ac(r)):Xa(r,"tfdt")?n.boxes.push(uc(r)):Xa(r,"trun")?n.boxes.push(cc(r)):n.boxes.push(Qa(r))}return n}var vc=function(t){function n(){return t.call(this,"moof")||this}return aa(n,t),n}(ih);function dc(t){for(var n=new vc,i=0,e=za(t.data);i<e.length;i++){var r=e[i];Xa(r,"traf")?n.boxes.push(lc(r)):Xa(r,"pssh")?n.boxes.push(Lh(r)):n.boxes.push(Qa(r))}return n}!function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}aa(n,t),w.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.qa},set:function(t){if(!ma(t,32))throw new l("Provided sequence number does not fit in 32 bits.");this.qa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(Aa);var wc=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return aa(n,t),w.defineProperty(n.prototype,"codingName",{get:function(){return this.$a},set:function(t){if(4!==t.length)throw new l("Provided coding name was not 4 characters long.");this.$a=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(ya);!function(t){function n(n,i){var e=t.call(this,"pasp")||this;return e.hSpacing=n,e.vSpacing=i,e}aa(n,t),w.defineProperty(n.prototype,"hSpacing",{get:function(){return this.Ya},set:function(t){if(!ma(t,32))throw new l("Provided hSpacing does not fit in 32 bits.");this.Ya=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"vSpacing",{get:function(){return this.Qa},set:function(t){if(!ma(t,32))throw new l("Provided vSpacing does not fit in 32 bits.");this.Qa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(ya),function(t){function n(n,i,e){var r=t.call(this,n)||this;return r.sample=i,r.sinf=e,r}aa(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(ih),function(t){function n(n,i,e){var r=t.call(this,"sinf")||this;return r.schm=i,r.schi=e,r.frma=new wc(n),r}aa(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,e;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(e=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(ya);var gc=function(t){function n(n,i,e){var r=t.call(this,"saio",n,void 0===e?0:1)||this;return r.entries=i,r.explicitAuxInfoType=e,r}return aa(n,t),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"entries",{get:function(){return this.zo},set:function(t){var n=this;if(!ma(t.length,32))throw new l("Number of entries provided does not fit in 32 bits.");if(t.some(function(t){return!ma(t,n.bitSize)}))throw new l("Not all provided entries fit in ".concat(this.bitSize," bits."));this.zo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.Ja},set:function(t){if(void 0===t)this.flags=0;else{if(!ma(t.auxInfoType,32))throw new l("Provided auxInfoType does not fit in 32 bits.");if(!ma(t.auxInfoTypeParameter,32))throw new l("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.Ja=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(Aa);!function(t){function n(){return null!==t&&t.apply(this,arguments)||this}aa(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e,32)}}}(gc),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}aa(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.getHighBitsUnsigned(),32),t.writer.writeUInt(e.getLowBitsUnsigned(),32)}}}(gc),function(t){function n(n,i,e){var r=t.call(this,"saiz",0,void 0===e?0:1)||this;return r.defaultSampleInfoSize=n,r.sampleInfoSizes=i,r.explicitAuxInfoType=e,r}aa(n,t),w.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.Za},set:function(t){if(!ma(t,8))throw new l("Provided defaultSampleInfoSize does not fit in a single byte.");this.Za=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.Ka},set:function(t){if(!ma(t.length,32))throw new l("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some(function(t){return!ma(t,8)}))throw new l("Not all provided sampleInfoSizes fit in a byte.");this.Ka=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.Ja},set:function(t){if(void 0===t)this.flags=0;else{if(!ma(t.auxInfoType,32))throw new l("Provided auxInfoType does not fit in 32 bits.");if(!ma(t.auxInfoTypeParameter,32))throw new l("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.Ja=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0!==this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0!==this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new l("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,e=this.sampleInfoSizes;i<e.length;i++){var r=e[i];n.writer.writeByte(r)}}}(Aa),function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}aa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,e=this.samples;i<e.length;i++){Dh(e[i],n)}}}(Aa),function(t){function n(n){return t.call(this,"stsd",n,0)||this}aa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(sh);var _c=function(t){function n(n,i,e){var r=t.call(this,"sgpd",n,0)||this;return r.entries=e,r.groupingType=i,r}return aa(n,t),w.defineProperty(n.prototype,"groupingType",{get:function(){return this.nh},set:function(t){if(4!==t.length)throw new l("The provided groupingType does not equal 4 characters.");this.nh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];this.serializeEntryBoxContent(n,r)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(Aa);!function(t){function n(n,i){return t.call(this,0,n,i)||this}aa(n,t),n.prototype.serializeVersionBoxContent=function(t){}}(_c),function(t){function n(n,i,e){var r=t.call(this,1,n,e)||this;return r.defaultLength=i,r}aa(n,t),w.defineProperty(n.prototype,"defaultLength",{get:function(){return this.ih},set:function(t){if(!ma(t,32))throw new l("The provided defaultLength does not fit in 32 bits.");this.ih=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(_c),function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=this;if(n<2)throw new l("This constructor is only meant for versions 2 and up.");return(s=t.call(this,n,i,e)||this).defaultSampleDescriptionIndex=r,s}aa(n,t),w.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Ia},set:function(t){if(!ma(t,32))throw new l("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.Ia=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(_c),function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}aa(n,t),w.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.eh},set:function(t){if(!ma(t.length,32))throw new l("Number of allowed samples cannot fit in 32 bits.");if(t.some(function(t){return!ma(t,32)}))throw new l("Not all sampleSizes can be represented in 32 bits.");this.eh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,e=this.sampleSizes;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(Aa),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var e=t.call(this,"stsz",0,0)||this;return e.defaultSampleSize=n,e.samples=i,e}aa(n,t),w.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Na},set:function(t){if(!ma(t,32))throw new l("Provided defaultSampleSize does not fit in 32 bits.");this.Na=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"samples",{get:function(){return this.Ga},set:function(t){if(!ma(t,32))throw new l("Number of allowed samples cannot fit in 32 bits.");this.Ga=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(Aa),function(t){function n(){return t.call(this,"stbl")||this}aa(n,t)}(ih),function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}aa(n,t),w.defineProperty(n.prototype,"entries",{get:function(){return this.zo},set:function(t){if(!ma(t.length,32))throw new l("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ma(t.firstChunk,32)||!ma(t.sampleDescriptionIndex,32)||!ma(t.samplesPerChunk,32)}))throw new l("Not all entries can be represented in 96 bits.");this.zo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.firstChunk,32),n.writer.writeUInt(r.samplesPerChunk,32),n.writer.writeUInt(r.sampleDescriptionIndex,32)}}}(Aa),function(t){function n(){return t.call(this,"schi")||this}aa(n,t)}(ih),function(t){function n(n,i,e){var r=t.call(this,"schm",0,void 0===e?0:1)||this;return r.schemeType=n,r.schemeVersion=i,r.schemeUri=e,r}aa(n,t),w.defineProperty(n.prototype,"schemeType",{get:function(){return this.rh},set:function(t){if(4!==t.length)throw new l("The provided schemeType does not have a length of 4.");this.rh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.sh},set:function(t){if(!ma(t,32))throw new l("The provided schemeVersion does not fit in 23 bits.");this.sh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"schemeUri",{get:function(){return this.uh},set:function(t){if(t&&4!==t.length)throw new l("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.uh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(Aa);var yc=function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o=0);var a=t.call(this,"sidx",n,o)||this;return a.referenceId=i,a.timescale=e,a.earliestPresentationTime=r,a.firstOffset=s,a.references=u,a}return aa(n,t),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"referenceId",{get:function(){return this.oh},set:function(t){if(!ma(t,32))throw new l("Provided referenceId does not fit in 32 bits.");this.oh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"timescale",{get:function(){return this._a},set:function(t){if(!ma(t,32))throw new l("Provided timescale does not fit in 32 bits.");this._a=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.ah},set:function(t){if(!ma(t,this.bitSize))throw new l("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.ah=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"firstOffset",{get:function(){return this.hh},set:function(t){if(!ma(t,this.bitSize))throw new l("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.hh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"references",{get:function(){return this.fh},set:function(t){if(!ma(t.length,16))throw new l("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!ma(e.referencedSize,31))throw new l("Provided referenced size does not fit in 31 bits.");if(!ma(e.subsegmentDuration,32))throw new l("Provided subsegment duration does not fit in 31 bits.");if(!ma(e.sapType,3))throw new l("Provided SAP type does not fit in 3 bits.");if(!ma(e.sapDeltaTime,28))throw new l("Provided SAP delta time does not fit in 28 bits.")}this.fh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,e=this.references;i<e.length;i++){var r=e[i];n.writer.writeBit(r.referenceType),n.writer.writeUInt(r.referencedSize,31),n.writer.writeUInt(r.subsegmentDuration,32),n.writer.writeBool(r.startsWithSap),n.writer.writeUInt(r.sapType,3),n.writer.writeUInt(r.sapDeltaTime,28)}},n}(Aa),mc=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,0,n,i,e,r,s,u)||this}return aa(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},n}(yc),pc=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,1,n,i,e,r,s,u)||this}return aa(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},n}(yc);var kc=function(t){function n(n,i,e){return t.call(this,"styp",n,i,e)||this}return aa(n,t),n}(lh);function bc(t){for(var n=t.data,i=n.nextChars(4),e=n.nextUint32(),r=[];n.cursor.offset<n.data.byteLength;)r.push(n.nextChars(4));return new kc(i,e,r)}!function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}aa(n,t),w.defineProperty(n.prototype,"balance",{get:function(){return this.lh},set:function(t){if(t<-1||t>1)throw new l("Provided balance does not fit in the allowed range [-1, 1].");if(!ma(pa(t,8),16))throw new l("Provided balance does not fit in 16 bits (fixed 8.8).");this.lh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(pa(this.balance,8),16),n.writer.writeUInt(0,16)}}(Aa),function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}aa(n,t),w.defineProperty(n.prototype,"entries",{get:function(){return this.zo},set:function(t){if(!ma(t.length,32))throw new l("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ma(t,32)}))throw new l("Not all entries can be represented in 32 bits.");this.zo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(Aa),function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}aa(n,t),w.defineProperty(n.prototype,"entries",{get:function(){return this.zo},set:function(t){if(!ma(t.length,32))throw new l("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ma(t.sampleCount,32)||!ma(t.sampleDelta,32)}))throw new l("Not all entries can be represented in 64 bits.");this.zo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),n.writer.writeUInt(r.sampleDelta,32)}}}(Aa),function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}aa(n,t),w.defineProperty(n.prototype,"trackId",{get:function(){return this.Ea},set:function(t){if(!ma(t,32))throw new l("The provided trackId does not fit in 32 bits.");this.Ea=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(sh),function(t){function n(){return t.call(this,"udta")||this}aa(n,t)}(ih);var Ac={red:0,green:0,blue:0};!function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=Ac);var e=t.call(this,"vmhd",0,1)||this;return e.graphicsMode=n,e.opColor=i,e}aa(n,t),w.defineProperty(n.prototype,"opColor",{get:function(){return this.vh},set:function(t){if(!ma(t.red,16)||!ma(t.green,16)||!ma(t.blue,16))throw new l("Not all colors could be represented in 16 bits.");this.vh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(Aa);var Tc=function(t){function n(n,i,e,r,s){void 0===r&&(r={}),void 0===s&&(s=void 0);var u,o,a,h,c,f=this;return(f=t.call(this,n,i)||this).width=e.width,f.height=e.height,f.horizontalResolution=null!==(u=e.horizontal)&&void 0!==u?u:72,f.verticalResolution=null!==(o=e.vertical)&&void 0!==o?o:72,f.compressorName=null!==(a=r.compressorName)&&void 0!==a?a:"",f.frameCount=null!==(h=r.frameCount)&&void 0!==h?h:1,f.depth=null!==(c=r.depth)&&void 0!==c?c:24,f.clap=r.clap,f.pasp=r.pasp,f.extra=s,f}return aa(n,t),w.defineProperty(n.prototype,"width",{get:function(){return this.Ba},set:function(t){if(!ma(t,16))throw new l("Provided width does not fit in 16 bits.");this.Ba=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"height",{get:function(){return this.La},set:function(t){if(!ma(t,16))throw new l("Provided height does not fit in 16 bits.");this.La=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.dh},set:function(t){if(!ma(pa(t,16),32))throw new l("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.dh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.wh},set:function(t){if(!ma(pa(t,16),32))throw new l("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.wh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"compressorName",{get:function(){return this.gh},set:function(t){if(t.length>31)throw new l("The provided compressorName should at most be 31 characters long.");this.gh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"frameCount",{get:function(){return this._h},set:function(t){if(!ma(t,16))throw new l("Provided frameCount does not fit in 16 bits.");this._h=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"depth",{get:function(){return this.yh},set:function(t){if(!ma(t,16))throw new l("Provided depth does not fit in 16 bits.");this.yh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,e,r,s,u;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(r=null===(e=this.pasp)||void 0===e?void 0:e.getSize())&&void 0!==r?r:0)+(null!==(u=null===(s=this.extra)||void 0===s?void 0:s.length)&&void 0!==u?u:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(pa(this.horizontalResolution,16),32),n.writer.writeUInt(pa(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&ka(n.writer,this.extra)},n}(eh);!function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}aa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof p?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof p?n.concat(wa.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(Aa),function(t){function n(n,i,e){var r=t.call(this,"mp4a",n,e)||this;return r.esd=i,r}aa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(rh),function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,"mp4v",n,i,r)||this;return s.esDescriptor=e,s}aa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(Tc),function(t){function n(n,i){var e=t.call(this,"mp4s",n)||this;return e.esDescriptor=i,e}aa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(eh),function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}aa(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(ya),function(){function t(t,n,i,e,r,s){void 0===s&&(s=1),this.lengthSizeMinusOne=i,this.version=s,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=e,this.ppsSets=r}w.defineProperty(t.prototype,"version",{get:function(){return this.ph},set:function(t){if(!ma(t,8))throw new l("Provided version does not fit in 8 bits.");this.ph=t},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"profileIndication",{get:function(){return this.kh},set:function(t){if(!ma(t,8))throw new l("Provided profileIndication does not fit in 8 bits.");this.kh=t},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.Ah},set:function(t){if(!ma(t,8))throw new l("Provided profileCompatibility does not fit in 8 bits.");this.Ah=t},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"levelIndication",{get:function(){return this.Th},set:function(t){if(!ma(t,8))throw new l("Provided levelIndication does not fit in 8 bits.");this.Th=t},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"spsSets",{get:function(){return this.Sh},set:function(t){if(!ma(t.length,5))throw new l("Provided number of spsSets exceeds the max (32)");this.Sh=t},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"ppsSets",{get:function(){return this.Eh},set:function(t){if(!ma(t.length,8))throw new l("Provided number of ppsSets exceeds the max (256)");this.Eh=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce(function(t,n){return t+n.length},0)+2*this.ppsSets.length+this.ppsSets.reduce(function(t,n){return t+n.length},0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.length,16),t.concat(wa.from(e))}t.writer.writeByte(this.ppsSets.length);for(var r=0,s=this.ppsSets;r<s.length;r++){var u=s[r];t.writer.writeUInt(u.length,16),t.concat(wa.from(u))}}}(),function(t){function n(n,i,e,r,s){void 0===r&&(r={}),void 0===s&&(s=void 0);var u=t.call(this,"avc1",n,i,r)||this;return u.configurationBox=e,u.bitrateBox=s,u}aa(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(Tc),function(t){function n(n,i,e){var r=t.call(this,"btrt")||this;return r.bufferSizeDb=n,r.max=i,r.avg=e,r}aa(n,t),w.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Oo},set:function(t){if(!ma(t,32))throw new l("Provided bufferSizeDb does not fit in 32 bits.");this.Oo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"max",{get:function(){return this.Ih},set:function(t){if(!ma(t,32))throw new l("Provided max does not fit in 32 bits.");this.Ih=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"avg",{get:function(){return this.Rh},set:function(t){if(!ma(t,32))throw new l("Provided avg does not fit in 32 bits.");this.Rh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(ya);var Sc=function(t){function n(n,i){var e,r,s,u,o=this;if(o=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(r=null===(e=i.constantIv)||void 0===e?void 0:e.length)&&void 0!==r?r:0)>0)throw new l("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(s=i.isProtected)&&void 0!==s?s:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(u=i.constantIv)&&void 0!==u?u:new p(0),o}return aa(n,t),w.defineProperty(n.prototype,"isProtected",{get:function(){return this.Nh},set:function(t){if(!ma(t,8))throw new l("Provided isProtected does not fit in 1 byte.");this.Nh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.Dh},set:function(t){if(![8,16].includes(t))throw new l("Provided perSampleIvSize does not match any allowed value [8, 16].");this.Dh=t,this.Ch=new p(0)},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"kId",{get:function(){return this.Ph},set:function(t){if(16!==t.length)throw new l("Provided kId length is not 16.");this.Ph=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"constantIv",{get:function(){return this.Ch},set:function(t){if(![8,16].includes(t.length))throw new l("Provided constant IV length does not match any allowed value [8, 16].");this.Ch=t,this.Dh=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),ka(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),ka(t.writer,this.constantIv))},n}(Aa);!function(t){function n(n){return t.call(this,0,n)||this}aa(n,t)}(Sc);var Ec=function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return aa(n,t),w.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.Oh},set:function(t){if(!ma(t,4))throw new l("Provided cryptByteBlocks does not fit in 4 bits.");this.Oh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.Bh},set:function(t){if(!ma(t,4))throw new l("Provided skipByteBlocks does not fit in 4 bits.");this.Bh=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(Sc);function Ic(t){return void 0!==t.iv}function Rc(t){return void 0!==t.subsamples}!function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new Ec(n),i}aa(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(Ph),function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}aa(n,t),w.defineProperty(n.prototype,"samples",{get:function(){return this.Ga},set:function(t){var n;if(!ma(t.length,32))throw new l("The number of samples provided does not fit in 32 bits.");for(var i=0,e=t;i<e.length;i++){var r=e[i];if(Ic(r)&&![8,16].includes(r.iv.length))throw new l("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=Rc(r)),!0===n&&!Rc(r)||!1===n&&Rc(r))throw new l("Mix of samples with and without subsamples detected.");if(Rc(r)){if(!ma(r.subsamples.length,16))throw new l("Subsample length of one of the provided samples does not fit in 16 bits.");for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];if(!ma(o.clearData,16))throw new l("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!ma(o.protectedData,23))throw new l("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.Ga=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,e=this.samples;i<e.length;i++){var r=e[i];Ic(r)&&(n+=r.iv.length),Rc(r)&&(n+=2+6*r.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];if(Ic(r)&&ka(n.writer,r.iv),Rc(r)){n.writer.writeUInt(r.subsamples.length,16);for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(Aa),function(t){function n(n,i,e,r,s){var u=t.call(this,"emsg",0,0)||this;return u.schemeIdUri=n,u.value=i,u.data=s,u.id=e,u.timescale=r.timescale,u.presentationTimeDelta=r.presentationTimeDelta,u.eventDuration=r.eventDuration,u}aa(n,t),w.defineProperty(n.prototype,"timescale",{get:function(){return this._a},set:function(t){if(!ma(t,32))throw new l("The provided timescale does not fit in 32 bits.");this._a=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.Lh},set:function(t){if(!ma(t,32))throw new l("The provided presentationTimeDelta does not fit in 32 bits.");this.Lh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"eventDuration",{get:function(){return this.Mh},set:function(t){if(!ma(t,32))throw new l("The provided eventDuration does not fit in 32 bits.");this.Mh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"id",{get:function(){return this.Fh},set:function(t){if(!ma(t,32))throw new l("The provided id does not fit in 32 bits.");this.Fh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(wa.from(this.data))}}(Aa);var Nc=function(){function t(){this.boxes=[]}return t.prototype.serialize=function(){for(var t=new _a,n=0,i=this.boxes;n<i.length;n++){var e=i[n];t.concat(e.serialize())}return t.toRangedBuffer()},t}();function Dc(t,n){return function(i){var e=function(t,n){for(var i=t.data,e=t.cursor;e.offset<i.byteLength;){var r=Wa(i,e);if(!r.complete)return;if(Xa(r.box,n))return r.box}}(new Ha(Fa(i),new ja),t);if(!e)throw new l("".concat(t," box not found"));return n(e)}}var Cc=Dc("moov",ic),Pc=Dc("sidx",function(t){var n,i,e=t.data,r=Ga(e.nextUint32()),s=r.version,u=r.flags,o=e.nextUint32(),a=e.nextUint32();0===s?(n=e.nextUint32(),i=e.nextUint32()):(n=e.nextUint64(),i=e.nextUint64()),e.skip(2);for(var h=e.nextUint16(),c=[],f=0;f<h;f++){var l=new va(wa.from(e.nextUint8Array(12))),v=l.readBit(),d=l.readUInt(31),w=l.readUInt(32),g=Boolean(l.readBit()),_=l.readUInt(3),y=l.readUInt(28);c.push({referenceType:v,referencedSize:d,subsegmentDuration:w,startsWithSap:g,sapType:_,sapDeltaTime:y})}return 0===s?new mc(o,a,n,i,c,u.raw):new pc(o,a,n,i,c,u.raw)}),Oc=Dc("moof",dc),xc=Dc("pssh",Lh);function Bc(t){return function(t){for(var n=new Nc,i=0,e=za(t);i<e.length;i++){var r=e[i];Xa(r,"ftyp")?n.boxes.push(dh(r)):Xa(r,"styp")?n.boxes.push(bc(r)):Xa(r,"moov")?n.boxes.push(ic(r)):Xa(r,"moof")?n.boxes.push(dc(r)):Xa(r,"mdat")?n.boxes.push(Sh(r)):n.boxes.push(Qa(r))}return n}(new Ha(Fa(t),new ja))}var Lc=function(t){function n(n,i){var e;(e=t.call(this)||this).Uh=void 0,e.jh=!1,e.Hh=void 0,e.Xh=void 0,e.Vh=function(){e.Wh()},e.Gh=function(t){e.Ks(new Cu(Kt(e),t.messageType,ra(e.qh,t.message)))},e.$h=function(){e.jh=!0,e.Uh.Bu>0&&(e.Uh.xu(),e.Ks(new Du(Kt(e)))),e.Yh.removeEventListener("keystatuseschange",e.Vh),e.Yh.removeEventListener("message",e.Gh)},e.Yh=n,e.qh=i,e.Yh.addEventListener("keystatuseschange",e.Vh),e.Yh.addEventListener("message",e.Gh),e.Uh=new Lu;var r=[];return e.Yh.closed&&r.push(Ge.resolve(e.Yh.closed)),e.Xh=new na,r.push(e.Xh.Wu),e.Hh=Ge.race(r).then(e.$h,e.$h),e.Wh(),e}E(n,t);var i=n.prototype;return i.Qh=function(){if(this.jh)return this.Hh;var t=[];return t.push(Ge.resolve(this.Yh.close())),t.push(ku(1e3)),this.Xh.Yu(Ge.race(t).catch(Mc)),this.jh=!0,this.Hh},i.Jh=function(t,n,i){if(F.fn){var e=xc(Yo(n));if(1===e.version)n=new xh(e.systemId,e.data).serialize().join()}return Ge.resolve(this.Yh.generateRequest(t,n)).catch(Mc)},i.Zh=function(t){return Ge.resolve(this.Yh.load(t)).catch(Mc)},i.Kh=function(){return Ge.resolve(this.Yh.remove()).catch(Mc)},i.tc=function(t){return Ge.resolve(this.Yh.update(t)).catch(Mc)},i.Wh=function(){var t=this;this.Uh.xu(),this.Yh.keyStatuses.forEach(function(n,i){t.nc(i,n)}),this.Ks(new Du(this))},i.nc=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var e=Yo(t);if(this.qh===ss&&16===e.byteLength){var r=Go(e),s=r.getUint32(0,!0),u=r.getUint16(4,!0),o=r.getUint16(6,!0);r.setUint32(0,s,!1),r.setUint16(4,u,!1),r.setUint16(6,o,!1)}this.qh===ss&&"status-pending"===n&&(n="usable"),this.Uh.Ou(e,n)},T(n,[{key:"ic",get:function(){return this.Hh}},{key:"ec",get:function(){return this.Yh.expiration}},{key:"rc",get:function(){return this.Uh}},{key:"uc",get:function(){return this.Yh.sessionId}}]),n}(Su);function Mc(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|_(i[1],16))}throw new ua(t.message,void 0,n,t)}var Fc=function(){function t(t,n,i){this.ac=t,this.hc=n,this.cc=i}var n=t.prototype;return n.fc=function(t){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Lc(this.ac.createSession(t),this.hc));case 1:case"end":return n.stop()}},null,this,null,Ge)},n.lc=function(t){return Ge.resolve(this.ac.setServerCertificate(t))},n.vc=function(t){return Ge.resolve(t.setMediaKeys(this.ac))},n.dc=function(t){return Ge.resolve(t.setMediaKeys(null))},n.wc=function(){return Ge.resolve()},t}(),Uc=function(){function t(t,n,i){this.gc=t,this.qh=n,this._c=i}var n=t.prototype;return n.yc=function(){var t;return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ur.awrap(this.gc.createMediaKeys());case 2:return t=n.sent,n.abrupt("return",new Fc(t,this.qh,this._c));case 4:case"end":return n.stop()}},null,this,null,Ge)},n.mc=function(){return this._c},T(t,[{key:"hc",get:function(){return this.gc.keySystem}}]),t}(),jc={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function Hc(t){return bs(t,jc.APPLICATION_MP4)||bs(t,jc.VIDEO_MP4)||bs(t,jc.AUDIO_MP4)}var Xc=function(){function t(t,n){this.gs=void 0,this.pc=void 0,this.gs=t,this.pc=n}return t.prototype.kc=function(t){for(var n=0,i=this.pc;n<i.length;n++){var e=i[n],r=e[0],s=e[1];if(r.toLowerCase()===t.toLowerCase())return s}},t}();function Vc(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new Xc(n,[]);for(var e=n.substr(0,i).trim(),r=n.substr(i+1).trim(),s=[],u=0,o=!1,a=0;a<r.length;a++){var h=r[a];if(o||";"!==h)'"'===h&&(o=!o);else{var c=zc(r.substr(u,a));c&&s.push(c),u=a+1}}if(u!==r.length){var f=zc(r.substr(u));f&&s.push(f)}return new Xc(e,s)}function zc(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),e=t.substr(n+1).trim();return'"'===e[0]&&(e=e.substring(1,e.length-1)),[i,e]}}function Wc(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function Gc(t){var n=t,i=n.match(/^avc1\.(\d+)\.(\d+)$/);i&&(n="avc1."+Is((Number(i[1])<<16|Number(i[2])).toString(16),6,"0"));return n}function qc(t,n,i,e){var r=!1;if(!(e.persistentState&&"optional"!==e.persistentState||e.distinctiveIdentifier&&"optional"!==e.distinctiveIdentifier)){var s={audioCapabilities:[],videoCapabilities:[],persistentState:e.persistentState||"optional",distinctiveIdentifier:e.distinctiveIdentifier||"optional",initDataTypes:e.initDataTypes,sessionTypes:["temporary"],label:e.label,bc:e.bc},u=!1;if(e.audioCapabilities){var o=e.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(s.audioCapabilities=o.filter(function(e){return $c(t,n,i,e)}),u=!0,s.audioCapabilities.length&&(r=!0))}if(e.videoCapabilities){var a=e.videoCapabilities.filter(function(t){return Boolean(t.contentType)});a.length&&(s.videoCapabilities=a.filter(function(e){return $c(t,n,i,e)}),u=!0,s.videoCapabilities.length&&(r=!0))}return u||(r=t(i,"video/mp4")),r?s:void 0}}function $c(t,n,i,e){return!!e.contentType&&(!(e.encryptionScheme&&!Js(n,e.encryptionScheme))&&(!e.robustness&&t(i,Wc(e.contentType))))}function Yc(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var e=i[n];if(e.contentType)return e.contentType}if(t.audioCapabilities)for(var r=0,s=t.audioCapabilities;r<s.length;r++){var u=s[r];if(u.contentType)return u.contentType}}function Qc(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.encryptionScheme&&n.push({contentType:e.contentType,robustness:e.robustness})}return t.concat(n)}function Jc(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(Zc))||!(!t.videoCapabilities||!t.videoCapabilities.some(Zc))}function Zc(t){return!t.robustness}function Kc(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.robustness?i.push(r):i.push(jr({},r,{robustness:n}))}return i}var tf=function(){function t(){}return t.prototype.Ns=function(t,n){var i,e,r,s,u,a,h,c;return Ur.async(function(f){for(;;)switch(f.prev=f.next){case 0:for(n=n.filter(function(t){return!t.bc}),i=0,e=n;i<e.length;i++)(r=e[i]).audioCapabilities&&(r.audioCapabilities=Qc(r.audioCapabilities)),r.videoCapabilities&&(r.videoCapabilities=Qc(r.videoCapabilities));if("com.widevine.alpha"!==t||!n.some(Jc)){f.next=14;break}return s=n.map(function(t){return i="SW_SECURE_CRYPTO",jr({},n=t,{videoCapabilities:n.videoCapabilities?Kc(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?Kc(n.audioCapabilities,i):void 0});var n,i}),f.prev=4,f.next=7,Ur.awrap(o.requestMediaKeySystemAccess(t,s));case 7:return u=f.sent,a=u.getConfiguration(),f.abrupt("return",new Uc(u,t,a));case 12:f.prev=12,f.t0=f.catch(4);case 14:return f.next=16,Ur.awrap(o.requestMediaKeySystemAccess(t,n));case 16:return h=f.sent,c=h.getConfiguration(),f.abrupt("return",new Uc(h,t,c));case 19:case"end":return f.stop()}},null,null,[[4,12]],Ge)},t.Ac=function(){return xs()},t}(),nf=function(t){function n(n,i){var e;return(e=t.call(this)||this).jh=!1,e.Tc=void 0,e.Sc=void 0,e.Ec=void 0,e.Ic=void 0,e.Rc=void 0,e.$h=function(){e.jh=!0,e.Tc.Yu(void 0),e.Rc&&(e.Rc.removeEventListener("mskeyclose",e.$h),e.Rc.removeEventListener("mskeymessage",e.Nc),e.Rc.removeEventListener("mskeyerror",e.Dc),e.Rc.removeEventListener("mskeyadded",e.Cc))},e.Nc=function(t){e.Ec&&(e.Ec.Yu(void 0),e.Ec=void 0),e.Ks(new Cu(Kt(e),"license-request",Jo(t.message).buffer,t.destinationURL||void 0))},e.Dc=function(){var t=e.Rc&&e.Rc.error;if(t){var n=new ua("Unknown CDM error",t.code,t.systemCode);if(e.Ec)e.Ec.Qu(n),e.Ec=void 0;else if(e.Sc)e.Sc.Qu(n),e.Sc=void 0;else switch(n.Ju){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:e.Pc("output-not-allowed");break;default:e.Pc("internal-error")}}},e.Cc=function(){e.Ec&&(e.Pc("usable"),e.Ec.Yu(void 0),e.Ec=void 0),e.Sc&&(e.Pc("usable"),e.Sc.Yu(void 0),e.Sc=void 0)},e.Oc=n,e.xc=i,e.Tc=new na,e.Ic=new Lu,e}E(n,t);var i=n.prototype;return i.Jh=function(t,n,i){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Bc(),this.Ec=new na,this.fc(Yo(n),i),t.next=5,Ur.awrap(this.Ec.Wu);case 5:case"end":return t.stop()}},null,this,null,Ge)},i.fc=function(t,n){if(!t)throw new v("Expected initData to be defined but was "+t+".");var i,e=n&&n.playready&&n.playready.Lc;return(i=n?this.Oc.createSession(this.xc,t,e):this.Oc.createSession(this.xc,t)).addEventListener("mskeyclose",this.$h),i.addEventListener("mskeymessage",this.Nc),i.addEventListener("mskeyerror",this.Dc),i.addEventListener("mskeyadded",this.Cc),this.Rc=i,this.Pc("status-pending"),i},i.Zh=function(t){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Bc(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},null,this,null,Ge)},i.tc=function(t){var n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Sc=new na,this.Bc(),this.Rc){i.next=4;break}return i.abrupt("return",Ge.resolve());case 4:if(0!==(n=Yo(t)).byteLength){i.next=7;break}throw new v("Cannot call update with an empty response.");case 7:return this.Rc.update(n),i.next=10,Ur.awrap(this.Sc.Wu);case 10:case"end":return i.stop()}},null,this,null,Ge)},i.Qh=function(){return!this.jh&&this.Rc&&(this.jh=!0,this.Rc.close()),this.Tc.Wu},i.Kh=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Bc(),t.abrupt("return");case 2:case"end":return t.stop()}},null,this,null,Ge)},i.Bc=function(){if(this.jh)throw new v("Already closing or closed.")},i.Pc=function(t){this.Ic.xu(),this.Ic.Ou(Bu,t),this.Ks(new Du(this))},T(n,[{key:"uc",get:function(){return this.Rc&&this.Rc.sessionId||""}},{key:"ec",get:function(){return NaN}},{key:"ic",get:function(){return this.Tc.Wu}},{key:"rc",get:function(){return this.Ic}}]),n}(Su),ef=function(){function t(t,n,i){this.xc=void 0,this.Oc=t,this.hc=n,this.cc=i;var e=Yc(i)||"video/mp4";this.xc=Wc(e)}var n=t.prototype;return n.fc=function(t){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new nf(this.Oc,this.xc));case 1:case"end":return t.stop()}},null,this,null,Ge)},n.lc=function(t){return Ge.resolve(!1)},n.vc=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.Oc):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.Oc),t.removeEventListener("loadedmetadata",i)}),Ge.resolve()},n.dc=function(t){return Ge.resolve()},n.wc=function(){return Ge.resolve()},t}(),rf=function(){function t(t,n){this.qh=t,this.Mc=n}var n=t.prototype;return n.mc=function(){return this.Mc},n.yc=function(){var t=new we.MSMediaKeys(this.qh);return Ge.resolve(new ef(t,this.qh,this.Mc))},T(t,[{key:"hc",get:function(){return this.qh}}]),t}(),sf=function(){function t(){}return t.prototype.Ns=function(t,n){try{return Ge.resolve(function(t,n){if(!uf())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=qc(of,Ru,t,e);if(r)return new rf(t,r)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return Ge.reject(t)}},t.Ac=function(){return uf()},t}();function uf(){return void 0!==we.MSMediaKeys&&"function"==typeof we.MSMediaKeys.isTypeSupported}function of(t,n){return we.MSMediaKeys.isTypeSupported(t,n)}var af,hf,cf=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Tc=new na,r.Fc=void 0,r.Ic=new Lu,r.Uc=void 0,r.jc=new na,r.Dc=function(){var t=r.Uc&&r.Uc.error;if(t){var n=new ua("Unknown CDM error",t.code,t.systemCode);r.Fc?(r.Fc.Qu(n),r.Fc=void 0):n.Ju===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?r.Pc("output-not-allowed"):r.Pc("internal-error"),r.Ks(new Pu)}},r.Nc=function(t){r.Ks(new Cu(Kt(r),"license-request",Jo(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},r.Cc=function(){r.Fc&&(r.Fc.Yu(void 0),r.Fc=void 0),r.Pc("usable")},r.Hc=n,r.xc=i,r.Xc=e,r}E(n,t);var i=n.prototype;return i.Jh=function(t,n,i){var e=i&&i.fairplay&&i.fairplay.Vc;if(!e)throw new v("Expected FairPlay contentId to be defined but was "+e+".");var r=ff(Yo(n),e,this.Xc);return this.Uc=this.Hc.createSession(this.xc,r),this.Uc.addEventListener("webkitkeymessage",this.Nc,!1),this.Uc.addEventListener("webkitkeyadded",this.Cc,!1),this.Uc.addEventListener("webkitkeyerror",this.Dc,!1),this.Pc("status-pending"),this.jc.Yu(this.Uc),this.jc=new na,Ge.resolve()},i.Zh=function(t){return Ge.resolve(!0)},i.tc=function(t){var n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=Yo(t)).byteLength){i.next=3;break}throw new v("Cannot call update with an empty response.");case 3:if(this.Fc=new na,i.t0=this.Uc,i.t0){i.next=9;break}return i.next=8,Ur.awrap(this.jc.Wu);case 8:i.t0=i.sent;case 9:return i.t0.update(n),i.next=13,Ur.awrap(this.Fc.Wu);case 13:case"end":return i.stop()}},null,this,null,Ge)},i.Qh=function(){var t,n=this.Uc;return n&&(n.removeEventListener("webkitkeymessage",this.Nc,!1),n.removeEventListener("webkitkeyadded",this.Cc,!1),n.removeEventListener("webkitkeyerror",this.Dc,!1),n.close()),this.jc.Ws(),null==(t=this.Fc)||t.Ws(),this.Tc.Yu(void 0),this.Tc.Wu},i.Kh=function(){return Ge.resolve(void 0)},i.Pc=function(t){this.Ic.xu(),this.Ic.Ou(Bu,t),this.Ks(new Du(this))},T(n,[{key:"uc",get:function(){return this.Uc?this.Uc.sessionId:""}},{key:"ec",get:function(){return NaN}},{key:"ic",get:function(){return this.Tc.Wu}},{key:"rc",get:function(){return this.Ic}}]),n}(Su);function ff(t,n,i){var e=Ho(t),r=2*e.length,s=2*n.length,u=new ArrayBuffer(4+r+4+s+4+i.byteLength),o=new DataView(u),a=new Ko;return Ao(o,a,r,!0),xo(o,a,e,!0),Ao(o,a,s,!0),xo(o,a,n,!0),Ao(o,a,i.byteLength,!0),_o(o,a,i),new p(u)}n.ErrorCode=void 0,(af=n.ErrorCode||(n.ErrorCode={}))[af.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",af[af.LICENSE_ERROR=2e3]="LICENSE_ERROR",af[af.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",af[af.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",af[af.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",af[af.LICENSE_INVALID_FEATURE=2004]="LICENSE_INVALID_FEATURE",af[af.SOURCE_INVALID=3e3]="SOURCE_INVALID",af[af.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",af[af.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",af[af.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",af[af.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",af[af.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",af[af.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",af[af.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",af[af.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",af[af.MEDIA_ABORTED=5004]="MEDIA_ABORTED",af[af.NETWORK_ERROR=6e3]="NETWORK_ERROR",af[af.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",af[af.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",af[af.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",af[af.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",af[af.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",af[af.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",af[af.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",af[af.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",af[af.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",af[af.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",af[af.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",af[af.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",af[af.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",af[af.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",af[af.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",af[af.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",af[af.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",af[af.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",af[af.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",af[af.AD_ERROR=1e4]="AD_ERROR",af[af.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",af[af.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",n.ErrorCategory=void 0,(hf=n.ErrorCategory||(n.ErrorCategory={}))[hf.CONFIGURATION=1]="CONFIGURATION",hf[hf.LICENSE=2]="LICENSE",hf[hf.SOURCE=3]="SOURCE",hf[hf.MANIFEST=4]="MANIFEST",hf[hf.MEDIA=5]="MEDIA",hf[hf.NETWORK=6]="NETWORK",hf[hf.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",hf[hf.SUBTITLE=8]="SUBTITLE",hf[hf.VR=9]="VR",hf[hf.AD=10]="AD",hf[hf.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=g.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new v("Invalid error code: "+t)}}();var lf=function(t){function i(n,i,e){var r;return(r=t.call(this,i,e)||this).code=void 0,r.code=n,r}return E(i,t),T(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(nn);var vf=function(){function t(t,n,i){this.xc=void 0,this.Xc=void 0,this.Hc=t,this.hc=n,this.cc=i;var e=Yc(i)||"video/mp4";this.xc=Wc(e)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.Hc},i.fc=function(t){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Xc){t.next=2;break}throw new lf(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new cf(this.Hc,this.xc,this.Xc));case 3:case"end":return t.stop()}},null,this,null,Ge)},i.lc=function(t){return this.Xc=Yo(t),Ge.resolve(!0)},i.vc=function(t){return t.webkitSetMediaKeys(this.Hc),Ge.resolve()},i.dc=function(t){return t.webkitSetMediaKeys(null),Ge.resolve()},i.wc=function(){return Ge.resolve()},t}(),df=function(){function t(t,n){this.qh=t,this.Mc=n}var n=t.prototype;return n.mc=function(){return this.Mc},n.yc=function(){var t=new we.WebKitMediaKeys(this.qh);return Ge.resolve(new vf(t,this.qh,this.Mc))},T(t,[{key:"hc",get:function(){return this.qh}}]),t}(),wf=function(){function t(){}return t.prototype.Ns=function(t,n){try{return Ge.resolve(function(t,n){if(t!==ls)throw new v(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!gf())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=qc(_f,Nu,t,e);if(r)return new df(t,r)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return Ge.reject(t)}},t.Ac=function(){return gf()},t}();function gf(){return void 0!==we.WebKitMediaKeys&&"function"==typeof we.WebKitMediaKeys.isTypeSupported}function _f(t,n){return we.WebKitMediaKeys.isTypeSupported(t,n)}var yf=function(){function t(t){this.zc=t}return t.prototype.Ns=function(t,n){var i,e,r;return Ur.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.zc;case 1:if(!(i<e.length)){s.next=14;break}return r=e[i],s.prev=3,s.next=6,Ur.awrap(r.Ns(t,n));case 6:return s.abrupt("return",s.sent);case 9:s.prev=9,s.t0=s.catch(3);case 11:i++,s.next=1;break;case 14:throw new v("Unsupported key system configuration for "+t);case 15:case"end":return s.stop()}},null,this,[[3,9]],Ge)},t}(),mf=function(){function t(t){var n=this;this.Wc=[],this.Gc=void 0,this.qc=new au,this.$c=void 0,this.Yc=function(){return 0===n.Wc.length?n.$c?pf(n.$c,n.qc.$s).then(n.Qc,n.Qc):n.Qc():n.Wc.shift()().then(n.Yc)},this.Qc=function(){if(0!==n.Wc.length)return n.Yc();n.Gc=void 0},this.$c=t}var n=t.prototype;return n.Jc=function(t,n){var i=this;return new Ge(function(e){var r=new au;r.Gs(i.qc.$s),n&&r.Gs(n);var s=function(){r.Us()};i.Wc.push(function(){var n=pf(t,r.$s);return e(n),n.then(s,s)}),i.Gc||(i.Gc=i.Yc())})},n.Ws=function(){return this.Zc(!0)},n.Kc=function(){return this.$c=void 0,this.Zc(!1)},n.Zc=function(t){var n=this.Gc;return this.qc.Ws(),t&&(this.qc=new au),Ge.resolve(n)},t}();function pf(t,n){return new Ge(function(i){return i(t(n))})}var kf,bf=new mf,Af=function(t){function n(n){var i;return(i=t.call(this)||this).Ec=void 0,i.Fc=void 0,i.Tc=void 0,i.Ao=!1,i.tf=void 0,i.nf=void 0,i.if=void 0,i.ef=void 0,i.rf=void 0,i.qh=n,i.Tc=new na,i.nf="",i.rf=new na,i.if=new Lu,i}E(n,t);var i=n.prototype;return i.sf=function(){this.Fc&&(this.Pc("usable"),this.Fc.Yu(void 0),this.Fc=void 0)},i.uf=function(t){var n=new ua("Unknown CDM error",t.errorCode,t.systemCode);this.Fc?(this.Fc.Qu(n),this.Fc=void 0):this.Ec?(this.Ec.Qu(n),this.Ec=void 0):n.Ju===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Pc("output-restricted"):1===n.Zu?this.Pc("expired"):this.Pc("internal-error")},i.hf=function(t){0!==t.message.byteLength&&(this.Ec&&(this.Ec.Yu(void 0),this.Ec=void 0),this.Ks(new Cu(this,"license-request",ra(this.qh,Jo(t.message).buffer),t.defaultURL||void 0)))},i.cf=function(t){this.ef||(this.ef=t,this.rf.Yu(t))},i.Qh=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.Fc&&(this.Fc.Qu(void 0),this.Fc=void 0),this.Ao=!0,this.Tc.Yu(void 0);case 4:case"end":return t.stop()}},null,this,null,Ge)},i.Jh=function(t,n){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.Ec=new na,this.tf=Yo(n),t.t0=this.ef,t.t0){t.next=8;break}return t.next=7,Ur.awrap(this.rf.Wu);case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.qh,this.tf),t.next=12,Ur.awrap(this.Ec.Wu);case 12:case"end":return t.stop()}},null,this,null,Ge)},i.Zh=function(t){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},null,this,null,Ge)},i.Kh=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},null,this,null,Ge)},i.tc=function(t){var n=this;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.throwIfClosed(),this.Fc=new na,!F.En&&!F.Tn){i.next=4;break}return i.abrupt("return",bf.Jc(function(){return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Ur.awrap(n.doUpdate(t));case 2:case"end":return i.stop()}},null,null,null,Ge)}));case 4:return i.next=6,Ur.awrap(this.doUpdate(t));case 6:case"end":return i.stop()}},null,this,null,Ge)},i.doUpdate=function(t){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==this.Fc){n.next=2;break}return n.abrupt("return");case 2:if(n.t0=this.ef,n.t0){n.next=7;break}return n.next=6,Ur.awrap(this.rf.Wu);case 6:n.t0=n.sent;case 7:return n.t0.webkitAddKey(this.qh,Yo(t),this.tf,this.uc),n.next=11,Ur.awrap(this.Fc.Wu);case 11:case"end":return n.stop()}},null,this,null,Ge)},i.throwIfClosed=function(){if(this.Ao)throw new v("Already closing or closed.")},i.Pc=function(t){this.if.xu(),this.if.Ou(Bu,t),this.Ks(new Du(this))},i.lf=function(){var t;return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.ef,n.t0){n.next=5;break}return n.next=4,Ur.awrap(this.rf.Wu);case 4:n.t0=n.sent;case 5:if(!(t=n.t0).webkitCancelKeyRequest){n.next=17;break}n.prev=7,t.webkitCancelKeyRequest(this.qh,this.nf),n.next=13;break;case 11:n.prev=11,n.t1=n.catch(7);case 13:return n.prev=13,n.next=16,Ur.awrap(ku(500));case 16:return n.finish(13);case 17:case"end":return n.stop()}},null,this,[[7,11,13,17]],Ge)},T(n,[{key:"rc",get:function(){return this.if}},{key:"uc",get:function(){return this.nf},set:function(t){this.nf=t}},{key:"ic",get:function(){return this.Tc.Wu}},{key:"ec",get:function(){return NaN}}]),n}(Su),Tf=function(){function t(t,n){var i=this;this.ef=void 0,this.vf=Xr(),this.df=[],this.Cc=function(t){var n=i.wf(t.sessionId);n&&n.sf()},this.gf=function(t){var n=i.wf(t.sessionId);n&&n.uf(t)},this._f=function(t){var n=i.wf(t.sessionId);n&&n.hf(t)},this.hc=t,this.cc=n}var n=t.prototype;return n.vc=function(t){return this.ef=t,this.ef.addEventListener("webkitkeyadded",this.Cc),this.ef.addEventListener("webkitkeyerror",this.gf),this.ef.addEventListener("webkitkeymessage",this._f),this.vf.forEach(function(n,i){return n.cf(t)}),this.df.forEach(function(n){return n.cf(t)}),Ge.resolve()},n.dc=function(t){return t.removeEventListener("webkitkeyadded",this.Cc),t.removeEventListener("webkitkeyerror",this.gf),t.removeEventListener("webkitkeymessage",this._f),this.ef=void 0,Ge.resolve()},n.wc=function(){var t,n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:t=this.vf.entries(),n=t.next();case 2:if(n.done){i.next=8;break}return i.next=5,Ur.awrap(n.value[1].lf());case 5:n=t.next(),i.next=2;break;case 8:this.vf.clear();case 9:case"end":return i.stop()}},null,this,null,Ge)},n.fc=function(t,n,i){var e;return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Af(this.hc),this.ef&&e.cf(this.ef),this.df.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},null,this,null,Ge)},n.lc=function(t){return Ge.resolve(!1)},n.wf=function(t){if(t){var n=this.vf.get(t);return n||((n=this.df.shift())?(n.uc=t,this.vf.set(t,n),n):void 0)}},t}(),Sf=function(){function t(t,n){this.hc=t,this.yf=n}var n=t.prototype;return n.yc=function(){return Ge.resolve(new Tf(this.hc,this.yf))},n.mc=function(){return this.yf},t}(),Ef=function(){function t(){}return t.prototype.Ns=function(t,n){try{return Ge.resolve(If(t,n))}catch(t){return Ge.reject(t)}},t.Ac=function(){return Bs()},t}();function If(t,n){if(!Ef.Ac())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=qc(Rf,Ru,t,e);if(r)return new Sf(t,r)}throw new v("Unsupported key system configuration for "+t)}function Rf(t,n){var i=gr();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function Nf(){return kf||(kf=function(){var t=[];wf.Ac()&&t.push(new wf);tf.Ac()&&t.push(new tf);sf.Ac()&&t.push(new sf);Ef.Ac()&&t.push(new Ef);return new yf(t)}()),kf}var Df=function(){function t(){this.mf=Xr()}var n=t.prototype;return n.xu=function(t){this.mf.delete(t)},n.pf=function(){this.mf.clear()},n.Cu=function(t){return this.mf.get(t)},n.kf=function(t,n){this.mf.set(t,n)},t}(),Cf=function(){function t(){}return t.bf=function(){return t.qn||(t.qn=Pf.Ac()?new Pf:new Df),t.qn},t.xu=function(n){t.bf().xu(n)},t.pf=function(){t.bf().pf()},t.Cu=function(n){return t.bf().Cu(n)},t.kf=function(n,i){t.bf().kf(n,i)},t}();Cf.qn=void 0;var Pf=function(n){function i(){return n.apply(this,arguments)||this}E(i,n),i.Ac=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var e=i.prototype;return e.xu=function(n){t.sessionStorage.removeItem(n)},e.pf=function(){t.sessionStorage.clear()},e.Cu=function(n){return t.sessionStorage[n]},e.kf=function(n,i){t.sessionStorage[n]=i},i}(Cf);var Of=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var e,r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;if(r)return e=r,function(t,n){var i=new e;if(t)for(var r=0;r<t.length;r++){var s=t[r];i.append(s)}return i.getBlob(n&&n.type||"")}}();function xf(t,n,i){var e=Of([n],{type:"application/octet-stream"}),r=URL.createObjectURL(e),u=function(t,n){var i=t,e=i.indexOf("?");if(e>=0&&(i=i.substr(0,e)),i=i.substr(i.lastIndexOf("/")+1),n){var r=i.indexOf(".");r<0&&(r=i.length),i=i.substr(0,r)+n+i.substr(r)}return i}(t,i),o=s.createElement("a");o.href=r,o.download=u,s.body.appendChild(o),o.click(),s.body.removeChild(o),URL.revokeObjectURL(r)}var Bf,Lf;!function(t){t.Af="Tf",t.Sf="Ef",t.If="contentprotectionerror",t.Rf="contentprotectionsuccess",t.Nf="currentsourcechange",t.Df="destroy",t.Cf="durationchange",t.Pf="emptied",t.Tu="encrypted",t.Of="ended",t.xf="Bf",t.Lf="loadstart",t.Mf="manifestupdate",t.Ff="nosupportedrepresentationfound",t.Uf="offline",t.jf="online",t.Hf="pause",t.Xf="play",t.Vf="progress",t.zf="ratechange",t.Wf="representationchange",t.Gf="resize",t.qf="seeked",t.$f="seeking",t.Yf="segmentnotfound",t.Qf="Jf",t.Zf="Kf",t.il="sourcechange",t.ol="timeupdate",t.al="volumechange",t.hl="cl",t.fl="metricschange"}(Bf||(Bf={})),function(t){t.ll="arraybuffer",t.vl="json",t.dl="stream",t.Kn="text"}(Lf||(Lf={}));var Mf=function(){function t(n){var i=this;this.us=void 0,this.us={},n instanceof t?n.asList().forEach(function(t){var n=t[0],e=t[1];i.append(n,e)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&w.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,e=n;i=Ff(i),e=Uf(e);var r=i.toLowerCase();if(this.us.hasOwnProperty(r)){var s=this.us[r],u=s[1];s[1]=u?u+", "+e:e}else this.us[r]=[i,e]},n.delete=function(t){var n=Ff(t).toLowerCase();delete this.us[n]},n.get=function(t){var n=Ff(t).toLowerCase();return this.us.hasOwnProperty(n)?this.us[n][1]:null},n.has=function(t){var n=Ff(t).toLowerCase();return this.us.hasOwnProperty(n)},n.set=function(t,n){var i=t,e=(i=Ff(i)).toLowerCase();this.us[e]=[i,Uf(n)]},n.forEach=function(t,n){for(var i in this.us)this.us.hasOwnProperty(i)&&t.call(n,this.us[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.us)if(this.us.hasOwnProperty(n)){var i=this.us[n],e=i[0],r=i[1];t.push([e,r])}return t},n.wl=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n._l=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.yl=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function Ff(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new v("Invalid character in header field name");return n}function Uf(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var jf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function Hf(){}var Xf=Number.isNaN||function(t){return t!=t},Vf=Hf;function zf(t){return"object"==typeof t&&null!==t||"function"==typeof t}function Wf(t){return t.slice()}function Gf(t){return!1!==function(t){if("number"!=typeof t)return!1;if(Xf(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function qf(t,n,i){if("function"!=typeof t)throw new v("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function $f(t,n,i,e){var r=t[n];if(void 0!==r){if("function"!=typeof r)throw new v(r+" is not a method");switch(i){case 0:return function(){return Qf(r,t,e)};case 1:return function(n){var i=[n].concat(e);return Qf(r,t,i)}}}return function(){return sl(void 0)}}function Yf(t,n,i){var e=t[n];if(void 0!==e)return qf(e,t,i)}function Qf(t,n,i){try{return sl(qf(t,n,i))}catch(t){return ul(t)}}function Jf(t){return t}function Zf(t){if(t=Number(t),Xf(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function Kf(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new v("size property of a queuing strategy must be a function");return function(n){return t(n)}}var tl=Ge,nl=Ge.prototype.then,il=Ge.resolve.bind(tl),el=Ge.reject.bind(tl);function rl(t){return new tl(t)}function sl(t){return il(t)}function ul(t){return el(t)}function ol(t,n,i){return nl.call(t,n,i)}function al(t,n,i){ol(ol(t,n,i),void 0,Vf)}function hl(t,n){al(t,n)}function cl(t,n){al(t,void 0,n)}function fl(t,n,i){return ol(t,n,i)}function ll(t){ol(t,void 0,Vf)}var vl=function(){function t(){this.bl=0,this.Al=0,this.Ie={Tl:[],Sl:void 0},this.El=this.Ie,this.bl=0,this.Al=0}return w.defineProperty(t.prototype,"length",{get:function(){return this.Al},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.El,i=n;16383===n.Tl.length&&(i={Tl:[],Sl:void 0}),n.Tl.push(t),i!==n&&(this.El=i,n.Sl=i),++this.Al},t.prototype.shift=function(){var t=this.Ie,n=t,i=this.bl,e=i+1,r=t.Tl,s=r[i];return 16384===e&&(n=t.Sl,e=0),--this.Al,this.bl=e,t!==n&&(this.Ie=n),r[i]=void 0,s},t.prototype.forEach=function(t){for(var n=this.bl,i=this.Ie,e=i.Tl;!(n===e.length&&void 0===i.Sl||n===e.length&&(n=0,0===(e=(i=i.Sl).Tl).length));)t(e[n]),++n},t.prototype.peek=function(){var t=this.Ie,n=this.bl;return t.Tl[n]},t}();function dl(t,n,i){var e=null;!0===i&&(e=w.prototype);var r=w.create(e);return r.value=t,r.done=n,r}function wl(t,n){t.Il=!0,t.Rl=n,n.Nl=t,"readable"===n.me?ml(t):"closed"===n.me?function(t){ml(t),bl(t)}(t):pl(t,n.Dl)}function gl(t,n){return Ed(t.Rl,n)}function _l(t){"readable"===t.Rl.me?kl(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){pl(t,n)}(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")),t.Rl.Nl=void 0,t.Rl=void 0}function yl(t){return new v("Cannot "+t+" a stream using a released reader")}function ml(t){t.Hh=rl(function(n,i){t.Cl=n,t.Pl=i})}function pl(t,n){ml(t),kl(t,n)}function kl(t,n){ll(t.Hh),t.Pl(n),t.Cl=void 0,t.Pl=void 0}function bl(t){t.Cl(void 0),t.Cl=void 0,t.Pl=void 0}var Al=jf("[[CancelSteps]]"),Tl=jf("[[PullSteps]]");function Sl(t,n){void 0===n&&(n=!1);var i=new Pl(t);return i.Il=n,i}function El(t){return rl(function(n,i){var e={Gu:n,$u:i};t.Nl.Ol.push(e)})}function Il(t,n,i){var e=t.Nl;e.Ol.shift().Gu(dl(n,i,e.Il))}function Rl(t){return t.Nl.Ol.length}function Nl(t){var n=t.Nl;return void 0!==n&&!!Ol(n)}var Dl,Cl,Pl=function(){function t(t){if(!1===Td(t))throw new v("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===Sd(t))throw new v("This stream has already been locked for exclusive reading by another reader");wl(this,t),this.Ol=new vl}return w.defineProperty(t.prototype,"closed",{get:function(){return Ol(this)?this.Hh:ul(Bl("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Ol(this)?void 0===this.Rl?ul(yl("cancel")):gl(this,t):ul(Bl("cancel"))},t.prototype.read=function(){return Ol(this)?void 0===this.Rl?ul(yl("read from")):xl(this):ul(Bl("read"))},t.prototype.releaseLock=function(){if(!Ol(this))throw Bl("releaseLock");if(void 0!==this.Rl){if(this.Ol.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");_l(this)}},t}();function Ol(t){return!!zf(t)&&!!w.prototype.hasOwnProperty.call(t,"Ol")}function xl(t){var n=t.Rl;return n.xl=!0,"closed"===n.me?sl(dl(void 0,!0,t.Il)):"errored"===n.me?ul(n.Dl):n.Bl[Tl]()}function Bl(t){return new v("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof jf.asyncIterator&&((Dl={})[jf.asyncIterator]=function(){return this},Cl=Dl,w.defineProperty(Cl,jf.asyncIterator,{enumerable:!1}));var Ll={next:function(){if(!1===Ml(this))return ul(Fl("next"));var t=this.Ll;return void 0===t.Rl?ul(yl("iterate")):fl(xl(t),function(n){var i=n.done;return i&&_l(t),dl(n.value,i,!0)})},return:function(t){if(!1===Ml(this))return ul(Fl("next"));var n=this.Ll;if(void 0===n.Rl)return ul(yl("finish iterating"));if(n.Ol.length>0)return ul(new v("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.Ml){var i=gl(n,t);return _l(n),fl(i,function(){return dl(t,!0,!0)})}return _l(n),sl(dl(t,!0,!0))}};function Ml(t){return!!zf(t)&&!!w.prototype.hasOwnProperty.call(t,"Ll")}function Fl(t){return new v("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function Ul(t){var n=t.Fl.shift();return t.Ul-=n.size,t.Ul<0&&(t.Ul=0),n.value}function jl(t,n,i){if(!Gf(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.Fl.push({value:n,size:i}),t.Ul+=i}function Hl(t){t.Fl=new vl,t.Ul=0}void 0!==Cl&&w.setPrototypeOf(Ll,Cl),w.defineProperty(Ll,"next",{enumerable:!1}),w.defineProperty(Ll,"return",{enumerable:!1});var Xl=jf("[[AbortSteps]]"),Vl=jf("[[ErrorSteps]]"),zl=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Gl(this);var i=n.size,e=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var r=Kf(i);void 0===e&&(e=1),function(t,n,i,e){var r=w.create(cv.prototype);var s=$f(n,"write",1,[r]),u=$f(n,"close",0,[]),o=$f(n,"abort",1,[]);fv(t,r,function(){return Yf(n,"start",[r])},s,u,o,i,e)}(this,t,e=Zf(e),r)}return w.defineProperty(t.prototype,"locked",{get:function(){if(!1===ql(this))throw yv("locked");return $l(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===ql(this)?ul(yv("abort")):!0===$l(this)?ul(new v("Cannot abort a stream that already has a writer")):Yl(this,t)},t.prototype.close=function(){return!1===ql(this)?ul(yv("close")):!0===$l(this)?ul(new v("Cannot close a stream that already has a writer")):!0===tv(this)?ul(new v("Cannot close an already-closing stream")):Ql(this)},t.prototype.getWriter=function(){if(!1===ql(this))throw yv("getWriter");return Wl(this)},t}();function Wl(t){return new ev(t)}function Gl(t){t.me="writable",t.Dl=void 0,t.Io=void 0,t.jl=void 0,t.Hl=new vl,t.Xl=void 0,t.Vl=void 0,t.zl=void 0,t.Wl=void 0,t.Gl=!1}function ql(t){return!!zf(t)&&!!w.prototype.hasOwnProperty.call(t,"jl")}function $l(t){return void 0!==t.Io}function Yl(t,n){var i=t.me;if("closed"===i||"errored"===i)return sl(void 0);if(void 0!==t.Wl)return t.Wl.ql;var e=!1;"erroring"===i&&(e=!0,n=void 0);var r=rl(function(i,r){t.Wl={ql:void 0,Gu:i,$u:r,$l:n,Yl:e}});return t.Wl.ql=r,!1===e&&Zl(t,n),r}function Ql(t){var n=t.me;if("closed"===n||"errored"===n)return ul(new v("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,e=rl(function(n,i){var e={Gu:n,$u:i};t.Vl=e}),r=t.Io;return void 0!==r&&!0===t.Gl&&"writable"===n&&Nv(r),jl(i=t.jl,"close",0),dv(i),e}function Jl(t,n){"writable"!==t.me?Kl(t):Zl(t,n)}function Zl(t,n){var i=t.jl;t.me="erroring",t.Dl=n;var e=t.Io;void 0!==e&&ov(e,n),!1===function(t){if(void 0===t.Xl&&void 0===t.zl)return!1;return!0}(t)&&!0===i.Ql&&Kl(t)}function Kl(t){t.me="errored",t.jl[Vl]();var n=t.Dl;if(t.Hl.forEach(function(t){t.$u(n)}),t.Hl=new vl,void 0!==t.Wl){var i=t.Wl;if(t.Wl=void 0,!0===i.Yl)return i.$u(n),void nv(t);al(t.jl[Xl](i.$l),function(){i.Gu(),nv(t)},function(n){i.$u(n),nv(t)})}else nv(t)}function tv(t){return void 0!==t.Vl||void 0!==t.zl}function nv(t){void 0!==t.Vl&&(t.Vl.$u(t.Dl),t.Vl=void 0);var n=t.Io;void 0!==n&&Av(n,t.Dl)}function iv(t,n){var i=t.Io;void 0!==i&&n!==t.Gl&&(!0===n?function(t){Sv(t)}(i):Nv(i)),t.Gl=n}var ev=function(){function t(t){if(!1===ql(t))throw new v("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===$l(t))throw new v("This stream has already been locked for exclusive writing by another writer");this.Jl=t,t.Io=this;var n,i=t.me;if("writable"===i)!1===tv(t)&&!0===t.Gl?Sv(this):Iv(this),kv(this);else if("erroring"===i)Ev(this,t.Dl),kv(this);else if("closed"===i)Iv(this),kv(n=this),Tv(n);else{var e=t.Dl;Ev(this,e),bv(this,e)}}return w.defineProperty(t.prototype,"closed",{get:function(){return!1===rv(this)?ul(mv("closed")):this.Hh},enumerable:!0,configurable:!0}),w.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===rv(this))throw mv("desiredSize");if(void 0===this.Jl)throw pv("desiredSize");return function(t){var n=t.Jl,i=n.me;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return vv(n.jl)}(this)},enumerable:!0,configurable:!0}),w.defineProperty(t.prototype,"ready",{get:function(){return!1===rv(this)?ul(mv("ready")):this.Zl},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===rv(this)?ul(mv("abort")):void 0===this.Jl?ul(pv("abort")):function(t,n){return Yl(t.Jl,n)}(this,t)},t.prototype.close=function(){if(!1===rv(this))return ul(mv("close"));var t=this.Jl;return void 0===t?ul(pv("close")):!0===tv(t)?ul(new v("Cannot close an already-closing stream")):sv(this)},t.prototype.releaseLock=function(){if(!1===rv(this))throw mv("releaseLock");void 0!==this.Jl&&av(this)},t.prototype.write=function(t){return!1===rv(this)?ul(mv("write")):void 0===this.Jl?ul(pv("write to")):hv(this,t)},t}();function rv(t){return!!zf(t)&&!!w.prototype.hasOwnProperty.call(t,"Jl")}function sv(t){return Ql(t.Jl)}function uv(t,n){"pending"===t.Kl?Av(t,n):function(t,n){bv(t,n)}(t,n)}function ov(t,n){"pending"===t.tv?Rv(t,n):function(t,n){Ev(t,n)}(t,n)}function av(t){var n=t.Jl,i=new v("Writer was released and can no longer be used to monitor the stream's closedness");ov(t,i),uv(t,i),n.Io=void 0,t.Jl=void 0}function hv(t,n){var i=t.Jl,e=i.jl,r=function(t,n){try{return t.ev(n)}catch(n){return wv(t,n),1}}(e,n);if(i!==t.Jl)return ul(pv("write to"));var s=i.me;if("errored"===s)return ul(i.Dl);if(!0===tv(i)||"closed"===s)return ul(new v("The stream is closing or closed and cannot be written to"));if("erroring"===s)return ul(i.Dl);var u=function(t){return rl(function(n,i){var e={Gu:n,$u:i};t.Hl.push(e)})}(i);return function(t,n,i){var e={chunk:n};try{jl(t,e,i)}catch(n){return void wv(t,n)}var r=t.rv;if(!1===tv(r)&&"writable"===r.me){var s=gv(t);iv(r,s)}dv(t)}(e,n,r),u}var cv=function(){function t(){throw new v("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!zf(t))return!1;if(!w.prototype.hasOwnProperty.call(t,"rv"))return!1;return!0}(this))throw new v("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.rv.me&&_v(this,t)},t.prototype[Xl]=function(t){var n=this.uv(t);return lv(this),n},t.prototype[Vl]=function(){Hl(this)},t}();function fv(t,n,i,e,r,s,u,o){n.rv=t,t.jl=n,n.Fl=void 0,n.Ul=void 0,Hl(n),n.Ql=!1,n.ev=o,n.ov=u,n.hv=e,n.fv=r,n.uv=s;var a=gv(n);iv(t,a),al(sl(i()),function(){n.Ql=!0,dv(n)},function(i){n.Ql=!0,Jl(t,i)})}function lv(t){t.hv=void 0,t.fv=void 0,t.uv=void 0,t.ev=void 0}function vv(t){return t.ov-t.Ul}function dv(t){var n=t.rv;if(!1!==t.Ql&&void 0===n.Xl)if("erroring"!==n.me){if(0!==t.Fl.length){var i=t.Fl.peek().value;"close"===i?function(t){var n=t.rv;(function(t){t.zl=t.Vl,t.Vl=void 0})(n),Ul(t);var i=t.fv();lv(t),al(i,function(){!function(t){t.zl.Gu(void 0),t.zl=void 0,"erroring"===t.me&&(t.Dl=void 0,void 0!==t.Wl&&(t.Wl.Gu(),t.Wl=void 0)),t.me="closed";var n=t.Io;void 0!==n&&Tv(n)}(n)},function(t){!function(t,n){t.zl.$u(n),t.zl=void 0,void 0!==t.Wl&&(t.Wl.$u(n),t.Wl=void 0),Jl(t,n)}(n,t)})}(t):function(t,n){var i=t.rv;(function(t){t.Xl=t.Hl.shift()})(i),al(t.hv(n),function(){!function(t){t.Xl.Gu(void 0),t.Xl=void 0}(i);var n=i.me;if(Ul(t),!1===tv(i)&&"writable"===n){var e=gv(t);iv(i,e)}dv(t)},function(n){"writable"===i.me&&lv(t),function(t,n){t.Xl.$u(n),t.Xl=void 0,Jl(t,n)}(i,n)})}(t,i.chunk)}}else Kl(n)}function wv(t,n){"writable"===t.rv.me&&_v(t,n)}function gv(t){return vv(t)<=0}function _v(t,n){var i=t.rv;lv(t),Zl(i,n)}function yv(t){return new v("WritableStream.prototype."+t+" can only be used on a WritableStream")}function mv(t){return new v("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function pv(t){return new v("Cannot "+t+" a stream using a released writer")}function kv(t){t.Hh=rl(function(n,i){t.Cl=n,t.Pl=i,t.Kl="pending"})}function bv(t,n){kv(t),Av(t,n)}function Av(t,n){ll(t.Hh),t.Pl(n),t.Cl=void 0,t.Pl=void 0,t.Kl="rejected"}function Tv(t){t.Cl(void 0),t.Cl=void 0,t.Pl=void 0,t.Kl="resolved"}function Sv(t){t.Zl=rl(function(n,i){t.vv=n,t.wv=i}),t.tv="pending"}function Ev(t,n){Sv(t),Rv(t,n)}function Iv(t){Sv(t),Nv(t)}function Rv(t,n){ll(t.Zl),t.wv(n),t.vv=void 0,t.wv=void 0,t.tv="rejected"}function Nv(t){t.vv(void 0),t.vv=void 0,t.wv=void 0,t.tv="fulfilled"}function Dv(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var Cv="undefined"!=typeof DOMException?DOMException:void 0;var Pv,Ov=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Cv)?Cv:((Pv=function(t,n){this.message=t||"",this.name=n||"Error",l.captureStackTrace&&l.captureStackTrace(this,this.constructor)}).prototype=w.create(l.prototype),w.defineProperty(Pv.prototype,"constructor",{value:Pv,writable:!0,configurable:!0}),Pv);function xv(t,n,i,e,r,s){var u=Sl(t),o=Wl(n);t.xl=!0;var a=!1,h=sl(void 0);return rl(function(c,f){var l,d,w,g;if(void 0!==s){if(l=function(){var i=new Ov("Aborted","AbortError"),s=[];!1===e&&s.push(function(){return"writable"===n.me?Yl(n,i):sl(void 0)}),!1===r&&s.push(function(){return"readable"===t.me?Ed(t,i):sl(void 0)}),p(function(){return Ge.all(s.map(function(t){return t()}))},!0,i)},!0===s.aborted)return void l();s.addEventListener("abort",l)}if(m(t,u.Hh,function(t){!1===e?p(function(){return Yl(n,t)},!0,t):k(!0,t)}),m(n,o.Hh,function(n){!1===r?p(function(){return Ed(t,n)},!0,n):k(!0,n)}),d=t,w=u.Hh,g=function(){!1===i?p(function(){return function(t){var n=t.Jl,i=n.me;return!0===tv(n)||"closed"===i?sl(void 0):"errored"===i?ul(n.Dl):sv(t)}(o)}):k()},"closed"===d.me?g():hl(w,g),!0===tv(n)||"closed"===n.me){var _=new v("the destination writable stream closed before all data could be piped to it");!1===r?p(function(){return Ed(t,_)},!0,_):k(!0,_)}function y(){var t=h;return ol(h,function(){return t!==h?y():void 0})}function m(t,n,i){"errored"===t.me?i(t.Dl):cl(n,i)}function p(t,i,e){function r(){al(t(),function(){return b(i,e)},function(t){return b(!0,t)})}!0!==a&&(a=!0,"writable"===n.me&&!1===tv(n)?hl(y(),r):r())}function k(t,i){!0!==a&&(a=!0,"writable"===n.me&&!1===tv(n)?hl(y(),function(){return b(t,i)}):b(t,i))}function b(t,n){av(o),_l(u),void 0!==s&&s.removeEventListener("abort",l),t?f(n):c(void 0)}ll(rl(function(t,n){!function i(e){e?t():ol(!0===a?sl(!0):ol(o.Zl,function(){return ol(xl(u),function(t){return!0===t.done||(h=ol(hv(o,t.value),void 0,Hf),!1)})}),i,n)}(!1)}))})}var Bv=function(){function t(){throw new v}return w.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Lv(this))throw Gv("desiredSize");return Vv(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===Lv(this))throw Gv("close");if(!1===zv(this))throw new v("The stream is not in a state that permits close");jv(this)},t.prototype.enqueue=function(t){if(!1===Lv(this))throw Gv("enqueue");if(!1===zv(this))throw new v("The stream is not in a state that permits enqueue");return Hv(this,t)},t.prototype.error=function(t){if(!1===Lv(this))throw Gv("error");Xv(this,t)},t.prototype[Al]=function(t){Hl(this);var n=this._v(t);return Uv(this),n},t.prototype[Tl]=function(){var t=this.yv;if(this.Fl.length>0){var n=Ul(this);return!0===this.mv&&0===this.Fl.length?(Uv(this),Id(t)):Mv(this),sl(dl(n,!1,t.Nl.Il))}var i=El(t);return Mv(this),i},t}();function Lv(t){return!!zf(t)&&!!w.prototype.hasOwnProperty.call(t,"yv")}function Mv(t){!1!==Fv(t)&&(!0!==t.pv?(t.pv=!0,al(t.bv(),function(){t.pv=!1,!0===t.Av&&(t.Av=!1,Mv(t))},function(n){Xv(t,n)})):t.Av=!0)}function Fv(t){var n=t.yv;return!1!==zv(t)&&(!1!==t.Ql&&(!0===Sd(n)&&Rl(n)>0||Vv(t)>0))}function Uv(t){t.bv=void 0,t._v=void 0,t.ev=void 0}function jv(t){var n=t.yv;t.mv=!0,0===t.Fl.length&&(Uv(t),Id(n))}function Hv(t,n){var i=t.yv;if(!0===Sd(i)&&Rl(i)>0)Il(i,n,!1);else{var e=void 0;try{e=t.ev(n)}catch(n){throw Xv(t,n),n}try{jl(t,n,e)}catch(n){throw Xv(t,n),n}}Mv(t)}function Xv(t,n){var i=t.yv;"readable"===i.me&&(Hl(t),Uv(t),Rd(i,n))}function Vv(t){var n=t.yv.me;return"errored"===n?null:"closed"===n?0:t.ov-t.Ul}function zv(t){var n=t.yv.me;return!1===t.mv&&"readable"===n}function Wv(t,n,i,e,r,s,u){n.yv=t,n.Fl=void 0,n.Ul=void 0,Hl(n),n.Ql=!1,n.mv=!1,n.Av=!1,n.pv=!1,n.ev=u,n.ov=s,n.bv=e,n._v=r,t.Bl=n,al(sl(i()),function(){n.Ql=!0,Mv(n)},function(t){Xv(n,t)})}function Gv(t){return new v("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var qv=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&g.floor(t)===t},$v=function(){function t(){throw new v("ReadableStreamBYOBRequest cannot be used directly")}return w.defineProperty(t.prototype,"view",{get:function(){if(!1===Jv(this))throw vd("view");return this.Tv},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===Jv(this))throw vd("respond");if(void 0===this.Sv)throw new v("This BYOB request has been invalidated");this.Tv.buffer,function(t,n){if(!1===Gf(n=Number(n)))throw new RangeError("bytesWritten must be a finite");od(t,n)}(this.Sv,t)},t.prototype.respondWithNewView=function(t){if(!1===Jv(this))throw vd("respond");if(void 0===this.Sv)throw new v("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new v("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.Ev.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,od(t,n.byteLength)}(this.Sv,t)},t}(),Yv=function(){function t(){throw new v("ReadableByteStreamController constructor cannot be used directly")}return w.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===Qv(this))throw dd("byobRequest");if(void 0===this.Iv&&this.Ev.length>0){var t=this.Ev.peek(),n=new p(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=w.create($v.prototype);!function(t,n,i){t.Sv=n,t.Tv=i}(i,this,n),this.Iv=i}return this.Iv},enumerable:!0,configurable:!0}),w.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Qv(this))throw dd("desiredSize");return fd(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===Qv(this))throw dd("close");if(!0===this.mv)throw new v("The stream has already been closed; do not close it again!");var t=this.Rv.me;if("readable"!==t)throw new v("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.Rv;if(t.Ul>0)return void(t.mv=!0);if(t.Ev.length>0){var i=t.Ev.peek();if(i.bytesFilled>0){var e=new v("Insufficient bytes to fill elements in the given buffer");throw cd(t,e),e}}hd(t),Id(n)}(this)},t.prototype.enqueue=function(t){if(!1===Qv(this))throw dd("enqueue");if(!0===this.mv)throw new v("stream is closed or draining");var n=this.Rv.me;if("readable"!==n)throw new v("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new v("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.Rv,e=n.buffer,r=n.byteOffset,s=n.byteLength,u=Jf(e);if(!0===Nl(i))if(0===Rl(i))nd(t,u,r,s);else{var o=new p(u,r,s);Il(i,o,!1)}else!0===_d(i)?(nd(t,u,r,s),ud(t)):nd(t,u,r,s);Zv(t)}(this,t)},t.prototype.error=function(t){if(!1===Qv(this))throw dd("error");cd(this,t)},t.prototype[Al]=function(t){this.Ev.length>0&&(this.Ev.peek().bytesFilled=0);Hl(this);var n=this._v(t);return hd(this),n},t.prototype[Tl]=function(){var t=this.Rv;if(this.Ul>0){var n=this.Fl.shift();this.Ul-=n.byteLength,rd(this);var i=void 0;try{i=new p(n.buffer,n.byteOffset,n.byteLength)}catch(t){return ul(t)}return sl(dl(i,!1,t.Nl.Il))}var e=this.Nv;if(void 0!==e){var r=void 0;try{r=new ArrayBuffer(e)}catch(t){return ul(t)}var s={buffer:r,byteOffset:0,byteLength:e,bytesFilled:0,elementSize:1,ctor:p,readerType:"default"};this.Ev.push(s)}var u=El(t);return Zv(this),u},t}();function Qv(t){return!!zf(t)&&!!w.prototype.hasOwnProperty.call(t,"Rv")}function Jv(t){return!!zf(t)&&!!w.prototype.hasOwnProperty.call(t,"Sv")}function Zv(t){!1!==function(t){var n=t.Rv;if("readable"!==n.me)return!1;if(!0===t.mv)return!1;if(!1===t.Ql)return!1;if(!0===Nl(n)&&Rl(n)>0)return!0;if(!0===_d(n)&&gd(n)>0)return!0;if(fd(t)>0)return!0;return!1}(t)&&(!0!==t.pv?(t.pv=!0,al(t.bv(),function(){t.pv=!1,!0===t.Av&&(t.Av=!1,Zv(t))},function(n){cd(t,n)})):t.Av=!0)}function Kv(t,n){var i=!1;"closed"===t.me&&(i=!0);var e=td(n);"default"===n.readerType?Il(t,e,i):function(t,n,i){var e=t.Nl;e.Dv.shift().Gu(dl(n,i,e.Il))}(t,e,i)}function td(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function nd(t,n,i,e){t.Fl.push({buffer:n,byteOffset:i,byteLength:e}),t.Ul+=e}function id(t,n){var i=n.elementSize,e=n.bytesFilled-n.bytesFilled%i,r=g.min(t.Ul,n.byteLength-n.bytesFilled),s=n.bytesFilled+r,u=s-s%i,o=r,a=!1;u>e&&(o=u-n.bytesFilled,a=!0);for(var h,c,f,l,v,d=t.Fl;o>0;){var w=d.peek(),_=g.min(o,w.byteLength),y=n.byteOffset+n.bytesFilled;h=n.buffer,c=y,f=w.buffer,l=w.byteOffset,v=_,new p(h).set(new p(f,l,v),c),w.byteLength===_?d.shift():(w.byteOffset+=_,w.byteLength-=_),t.Ul-=_,ed(t,_,n),o-=_}return a}function ed(t,n,i){sd(t),i.bytesFilled+=n}function rd(t){0===t.Ul&&!0===t.mv?(hd(t),Id(t.Rv)):Zv(t)}function sd(t){void 0!==t.Iv&&(t.Iv.Sv=void 0,t.Iv.Tv=void 0,t.Iv=void 0)}function ud(t){for(;t.Ev.length>0;){if(0===t.Ul)return;var n=t.Ev.peek();!0===id(t,n)&&(ad(t),Kv(t.Rv,n))}}function od(t,n){var i=t.Ev.peek();if("closed"===t.Rv.me){if(0!==n)throw new v("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=Jf(n.buffer);var i=t.Rv;if(!0===_d(i))for(;gd(i)>0;)Kv(i,ad(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(ed(t,n,i),!(i.bytesFilled<i.elementSize)){ad(t);var e=i.bytesFilled%i.elementSize;if(e>0){var r=i.byteOffset+i.bytesFilled,s=i.buffer.slice(r-e,r);nd(t,s,0,s.byteLength)}i.buffer=Jf(i.buffer),i.bytesFilled-=e,Kv(t.Rv,i),ud(t)}}(t,n,i);Zv(t)}function ad(t){var n=t.Ev.shift();return sd(t),n}function hd(t){t.bv=void 0,t._v=void 0}function cd(t,n){var i=t.Rv;"readable"===i.me&&(!function(t){sd(t),t.Ev=new vl}(t),Hl(t),hd(t),Rd(i,n))}function fd(t){var n=t.Rv.me;return"errored"===n?null:"closed"===n?0:t.ov-t.Ul}function ld(t,n,i){var e=w.create(Yv.prototype);var r=$f(n,"pull",0,[e]),s=$f(n,"cancel",1,[]),u=n.autoAllocateChunkSize;if(void 0!==u&&(u=Number(u),!1===qv(u)||u<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,e,r,s,u){n.Rv=t,n.Av=!1,n.pv=!1,n.Iv=void 0,n.Fl=n.Ul=void 0,Hl(n),n.mv=!1,n.Ql=!1,n.ov=Zf(s),n.bv=e,n._v=r,n.Nv=u,n.Ev=new vl,t.Bl=n,al(sl(i()),function(){n.Ql=!0,Zv(n)},function(t){cd(n,t)})}(t,e,function(){return Yf(n,"start",[e])},r,s,i,u)}function vd(t){return new v("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function dd(t){return new v("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function wd(t){return rl(function(n,i){var e={Gu:n,$u:i};t.Nl.Dv.push(e)})}function gd(t){return t.Nl.Dv.length}function _d(t){var n=t.Nl;return void 0!==n&&!!md(n)}var yd=function(){function t(t){if(!Td(t))throw new v("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===Qv(t.Bl))throw new v("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(Sd(t))throw new v("This stream has already been locked for exclusive reading by another reader");wl(this,t),this.Dv=new vl}return w.defineProperty(t.prototype,"closed",{get:function(){return md(this)?this.Hh:ul(pd("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return md(this)?void 0===this.Rl?ul(yl("cancel")):gl(this,t):ul(pd("cancel"))},t.prototype.read=function(t){return md(this)?void 0===this.Rl?ul(yl("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?ul(new v("view must have non-zero byteLength")):function(t,n){var i=t.Rl;if(i.xl=!0,"errored"===i.me)return ul(i.Dl);return function(t,n){var i=t.Rv,e=1;n.constructor!==DataView&&(e=n.constructor.BYTES_PER_ELEMENT);var r=n.constructor,s={buffer:Jf(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:e,ctor:r,readerType:"byob"};if(t.Ev.length>0)return t.Ev.push(s),wd(i);if("closed"===i.me)return sl(dl(new r(s.buffer,s.byteOffset,0),!0,i.Nl.Il));if(t.Ul>0){if(!0===id(t,s)){var u=td(s);return rd(t),sl(dl(u,!1,i.Nl.Il))}if(!0===t.mv){var o=new v("Insufficient bytes to fill elements in the given buffer");return cd(t,o),ul(o)}}t.Ev.push(s);var a=wd(i);return Zv(t),a}(i.Bl,n)}(this,t)):ul(new v("view must be an array buffer view")):ul(pd("read"))},t.prototype.releaseLock=function(){if(!md(this))throw pd("releaseLock");if(void 0!==this.Rl){if(this.Dv.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");_l(this)}},t}();function md(t){return!!zf(t)&&!!w.prototype.hasOwnProperty.call(t,"Dv")}function pd(t){return new v("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var kd=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Ad(this);var i=n.size,e=n.highWaterMark,r=t.type;if("bytes"===String(r)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===e&&(e=0),ld(this,t,e=Zf(e))}else{if(void 0!==r)throw new RangeError("Invalid type is specified");var s=Kf(i);void 0===e&&(e=1),function(t,n,i,e){var r=w.create(Bv.prototype),s=$f(n,"pull",0,[r]),u=$f(n,"cancel",1,[]);Wv(t,r,function(){return Yf(n,"start",[r])},s,u,i,e)}(this,t,e=Zf(e),s)}}return w.defineProperty(t.prototype,"locked",{get:function(){if(!1===Td(this))throw Nd("locked");return Sd(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===Td(this)?ul(Nd("cancel")):!0===Sd(this)?ul(new v("Cannot cancel a stream that already has a reader")):Ed(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===Td(this))throw Nd("getReader");if(void 0===n)return Sl(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new yd(t);return i.Il=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,e=t.readable,r=void 0===n?{}:n,s=r.preventClose,u=r.preventAbort,o=r.preventCancel,a=r.signal;if(!1===Td(this))throw Nd("pipeThrough");if(!1===ql(i))throw new v("writable argument to pipeThrough must be a WritableStream");if(!1===Td(e))throw new v("readable argument to pipeThrough must be a ReadableStream");if(s=Boolean(s),u=Boolean(u),o=Boolean(o),void 0!==a&&!Dv(a))throw new v("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===Sd(this))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===$l(i))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return ll(xv(this,i,s,u,o,a)),e},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,e=i.preventClose,r=i.preventAbort,s=i.preventCancel,u=i.signal;return!1===Td(this)?ul(Nd("pipeTo")):!1===ql(t)?ul(new v("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(e=Boolean(e),r=Boolean(r),s=Boolean(s),void 0===u||Dv(u)?!0===Sd(this)?ul(new v("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===$l(t)?ul(new v("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):xv(this,t,e,r,s,u):ul(new v("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===Td(this))throw Nd("tee");var t=function(t,n){var i,e,r,s,u,o=Sl(t),a=!1,h=!1,c=!1,f=rl(function(t){u=t});function l(){return!0===a?sl(void 0):(a=!0,ll(fl(xl(o),function(t){if(a=!1,!0===t.done)return!1===h&&jv(r.Bl),void(!1===c&&jv(s.Bl));var n=t.value,i=n,e=n;!1===h&&Hv(r.Bl,i),!1===c&&Hv(s.Bl,e)})),sl(void 0))}function v(){}return r=bd(v,l,function(n){if(h=!0,i=n,!0===c){var r=Wf([i,e]),s=Ed(t,r);u(s)}return f}),s=bd(v,l,function(n){if(c=!0,e=n,!0===h){var r=Wf([i,e]),s=Ed(t,r);u(s)}return f}),cl(o.Hh,function(t){Xv(r.Bl,t),Xv(s.Bl,t)}),[r,s]}(this);return Wf(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===Td(this))throw Nd("getIterator");return function(t,n){void 0===n&&(n=!1);var i=Sl(t),e=w.create(Ll);return e.Ll=i,e.Ml=Boolean(n),e}(this,i)},t}();function bd(t,n,i,e,r){void 0===e&&(e=1),void 0===r&&(r=function(){return 1});var s=w.create(kd.prototype);return Ad(s),Wv(s,w.create(Bv.prototype),t,n,i,e,r),s}function Ad(t){t.me="readable",t.Nl=void 0,t.Dl=void 0,t.xl=!1}function Td(t){return!!zf(t)&&!!w.prototype.hasOwnProperty.call(t,"Bl")}function Sd(t){return void 0!==t.Nl}function Ed(t,n){return t.xl=!0,"closed"===t.me?sl(void 0):"errored"===t.me?ul(t.Dl):(Id(t),fl(t.Bl[Al](n),Hf))}function Id(t){t.me="closed";var n=t.Nl;void 0!==n&&(Ol(n)&&(n.Ol.forEach(function(t){t.Gu(dl(void 0,!0,n.Il))}),n.Ol=new vl),bl(n))}function Rd(t,n){t.me="errored",t.Dl=n;var i=t.Nl;void 0!==i&&(Ol(i)?(i.Ol.forEach(function(t){t.$u(n)}),i.Ol=new vl):(i.Dv.forEach(function(t){t.$u(n)}),i.Dv=new vl),kl(i,n))}function Nd(t){return new v("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof jf.asyncIterator&&w.defineProperty(kd.prototype,jf.asyncIterator,{value:kd.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var Dd=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),Cd=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var e=n.size,r=n.highWaterMark,s=i.size,u=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=Kf(e);if(void 0===r&&(r=1),r=Zf(r),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var a,h=Kf(s);void 0===u&&(u=0),u=Zf(u),function(t,n,i,e,r,s){function u(){return n}t.Cv=function(t,n,i,e,r,s){void 0===r&&(r=1),void 0===s&&(s=function(){return 1});var u=w.create(zl.prototype);return Gl(u),fv(u,w.create(cv.prototype),t,n,i,e,r,s),u}(u,function(n){return function(t,n){var i=t.Pv;if(!0===t.Gl){var e=t.Ov;return fl(e,function(){var e=t.Cv,r=e.me;if("erroring"===r)throw e.Dl;return jd(i,n)})}return jd(i,n)}(t,n)},function(){return function(t){var n=t.xv,i=t.Pv,e=i.Bv();return Fd(i),fl(e,function(){if("errored"===n.me)throw n.Dl;var t=n.Bl;!0===zv(t)&&jv(t)},function(i){throw Od(t,i),n.Dl})}(t)},function(n){return function(t,n){return Od(t,n),sl(void 0)}(t,n)},i,e),t.xv=bd(u,function(){return function(t){return Bd(t,!1),t.Ov}(t)},function(n){return xd(t,n),sl(void 0)},r,s),t.Gl=void 0,t.Ov=void 0,t.Lv=void 0,Bd(t,!0),t.Pv=void 0}(this,rl(function(t){a=t}),r,o,u,h),function(t,n){var i=w.create(Ld.prototype),e=function(t){try{return Ud(i,t),sl(void 0)}catch(t){return ul(t)}},r=n.transform;if(void 0!==r){if("function"!=typeof r)throw new v("transform is not a method");e=function(t){return Qf(r,n,[t,i])}}var s=$f(n,"flush",0,[i]);!function(t,n,i,e){n.Mv=t,t.Pv=n,n.Fv=i,n.Bv=e}(t,i,e,s)}(this,t);var c=Yf(t,"start",[this.Pv]);a(c)}return w.defineProperty(t.prototype,"readable",{get:function(){if(!1===Pd(this))throw Xd("readable");return this.xv},enumerable:!0,configurable:!0}),w.defineProperty(t.prototype,"writable",{get:function(){if(!1===Pd(this))throw Xd("writable");return this.Cv},enumerable:!0,configurable:!0}),t}();function Pd(t){return!!zf(t)&&!!w.prototype.hasOwnProperty.call(t,"Pv")}function Od(t,n){Xv(t.xv.Bl,n),xd(t,n)}function xd(t,n){Fd(t.Pv),wv(t.Cv.jl,n),!0===t.Gl&&Bd(t,!1)}function Bd(t,n){void 0!==t.Ov&&t.Lv(),t.Ov=rl(function(n){t.Lv=n}),t.Gl=n}var Ld=function(){function t(){throw new v("TransformStreamDefaultController instances cannot be created directly")}return w.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Md(this))throw Hd("desiredSize");return Vv(this.Mv.xv.Bl)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===Md(this))throw Hd("enqueue");Ud(this,t)},t.prototype.error=function(t){if(!1===Md(this))throw Hd("error");var n;n=t,Od(this.Mv,n)},t.prototype.terminate=function(){if(!1===Md(this))throw Hd("terminate");!function(t){var n=t.Mv,i=n.xv.Bl;!0===zv(i)&&jv(i);var e=new v("TransformStream terminated");xd(n,e)}(this)},t}();function Md(t){return!!zf(t)&&!!w.prototype.hasOwnProperty.call(t,"Mv")}function Fd(t){t.Fv=void 0,t.Bv=void 0}function Ud(t,n){var i=t.Mv,e=i.xv.Bl;if(!1===zv(e))throw new v("Readable side is not in a state that permits enqueue");try{Hv(e,n)}catch(t){throw xd(i,t),i.xv.Dl}(function(t){return!0!==Fv(t)})(e)!==i.Gl&&Bd(i,!0)}function jd(t,n){return fl(t.Fv(n),void 0,function(n){throw Od(t.Mv,n),n})}function Hd(t){return new v("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function Xd(t){return new v("TransformStream.prototype."+t+" can only be used on a TransformStream")}var Vd,zd=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return E(n,t),T(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(nn);function Wd(t){return n=[t],new kd({start:function(t){for(var i=0;i<n.length;i++){var e=n[i];t.enqueue(e)}t.close()}});var n}function Gd(t){return Wd(new p(t))}function qd(t,n){return function(t,n){var i=n,e=t.getReader(),r=new na,s=function(){u();var t=new hu;e.cancel(t).catch(Z),r.Qu(t)},u=function(){i&&(i.Hs(s),i=void 0)};i&&(i.xs?s():i.js(s));var o=[];return Ge.resolve(e.read()).then(function t(n){return n.done?(u(),Ge.resolve(o)):(o.push(n.value),Ge.resolve(e.read()).then(t))}).then(function(t){u(),r.Yu(t)},function(t){u(),r.Qu(t)}),r.Wu}(t,n).then(function(t){return Yu(t).buffer})}function $d(t,n){var i=n,e=new Cd,r=e.readable,s=e.writable,u=s.getWriter(),o=function(){i&&i.Ws()};return u.closed.then(o,o),t.then(function(t){return i=void 0,u.releaseLock(),t.pipeTo(s).catch(Z)},function(t){return i=void 0,u.releaseLock(),s.abort(t).catch(Z)}),r}function Yd(t){var n=new Cd,i=n.readable,e=n.writable;return t.pipeTo(e,{preventCancel:!0}).catch(function(n){var i;i=V(n)?n[0]===n[1]||cu(n[0])&&cu(n[1])?n[0]:new zd(n):n,t.cancel(i).catch(Z)}),i.tee()}function Qd(t){return Ho(new p(t))}function Jd(t){return Xo(t).buffer}!function(t){t[t.dl=0]="dl",t[t.Uv=1]="Uv"}(Vd||(Vd={}));var Zd="content-type",Kd="text/plain;charset=UTF-8",tw=function(){function t(){}var n=t.prototype;return n.Hv=function(t){return this.Xv(t).then(JSON.parse)},n.Vv=function(t,n){switch(t){case Lf.ll:return this.zv(n);case Lf.vl:return this.Hv(n);case Lf.dl:return this.Wv();case Lf.Kn:return this.Xv(n);default:throw new v}},t}();function nw(t,n,i){if(t instanceof tw)return t;if(t instanceof kd)return function(t,n){return new ew({gs:Vd.dl,Wv:t,Gv:iw(n)})}(t,i);var e=iw(i),r=Ge.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{gs:Lf.Kn,qv:t,Gv:n||Kd};if(t instanceof ArrayBuffer||Gu(t))return{gs:Lf.ll,qv:cw(t),Gv:n};if(G(t)||V(t))return{gs:Lf.vl,qv:t,Gv:n};throw new v("Unsupported BodyInit type")}return{gs:Lf.Kn,qv:null,Gv:n}}(t,e)});return new ew({gs:Vd.Uv,Wu:r,$v:n})}function iw(t){return(t.get(Zd)||"").toLowerCase()}var ew=function(t){function n(n){var i;return(i=t.call(this)||this).Yv=!1,i.Qv=void 0,i.Jv=new na,i.Jv.Wu.catch(Z),i.Zv(n),i}E(n,t);var i=n.prototype;return i.Kv=function(){return this.Jv.Wu},i.Xv=function(t){return this.td(rw,t)},i.Hv=function(t){return this.td(uw,t)},i.zv=function(t){return this.td(aw,t)},i.Wv=function(){return this.ed((t=this.Qv).gs===Vd.dl?t.Wv:$d(t.Wu.then(hw).then(Gd),t.$v));var t},i.td=function(t,n){if(this.Yv)return Ge.reject(new v("Already used"));this.Yv=!0;var i=t(this.Qv,n);return this.Jv.Yu(i.then(Z)),i},i.ed=function(t){if(this.Yv)throw new v("Already used");if(t.locked)throw new v("Body stream is locked");this.Yv=!0;var n=new Cd,i=Ge.resolve(t.pipeTo(n.writable));return this.Jv.Yu(i),n.readable},i.Zv=function(t){this.Qv=t,t.gs===Vd.Uv&&t.Wu.catch(Z)},i.rd=function(){if(this.Yv)throw new v("Already used");var t=function(t){if(t.gs===Vd.dl){var n=t.Wv.tee(),i=n[0],e=n[1];return[{gs:t.gs,Wv:i,Gv:t.Gv},{gs:t.gs,Wv:e,Gv:t.Gv}]}var r=t.$v.qs(),s=r[0],u=r[1];return[{gs:t.gs,Wu:t.Wu,$v:s},{gs:t.gs,Wu:t.Wu,$v:u}]}(this.Qv),i=t[0],e=t[1];return this.Zv(i),new n(e)},T(n,[{key:"ud",get:function(){return this.Yv}}]),n}(tw);function rw(t,n){return t.gs===Vd.dl?qd(t.Wv,n).then(Qd):(n&&t.$v.Gs(n),wu(t.Wu.then(sw),t.$v))}function sw(t){switch(t.gs){case Lf.Kn:return Ge.resolve(t.qv||"");case Lf.ll:return Ge.resolve(t.qv).then(Qd);case Lf.vl:return Ge.resolve(t.qv).then(JSON.stringify)}}function uw(t,n){return t.gs===Vd.dl?rw(t,n).then(JSON.parse):(n&&t.$v.Gs(n),wu(t.Wu.then(ow),t.$v))}function ow(t){return t.gs===Lf.vl?Ge.resolve(t.qv):sw(t).then(JSON.parse)}function aw(t,n){return t.gs===Vd.dl?qd(t.Wv,n):(n&&t.$v.Gs(n),wu(t.Wu.then(hw),t.$v))}function hw(t){switch(t.gs){case Lf.ll:return Ge.resolve(t.qv);case Lf.Kn:case Lf.vl:return sw(t).then(Jd)}}function cw(t){return t instanceof ArrayBuffer?t:Jo(qo(t)).buffer}function fw(t){return t.od>=200&&t.od<=299||304===t.od}var lw,vw,dw,ww,gw=function(t){function n(n,i){var e,r,s,u,o,a;i?(r=i.hd,s=i.fd,u=i.od,o=i.ld,a=i.vd):(r=[],s=Lf.Kn,u=200,o="OK",a=!1);var h=n.dd,c=new Mf(n.hd||r),f=n.fd||s,l=n.wd||(i&&i.dd===h?i.wd:h._d),v=i?i.yd:null,d=nw(void 0!==n.Xi?n.Xi:v,n.$v||new au,c);return(e=t.call(this,d)||this).hd=void 0,e.dd=void 0,e.wd=void 0,e.fd=void 0,e.od=void 0,e.ld=void 0,e.vd=void 0,e.hd=c,e.dd=h,e.wd=l,e.fd=f,e.od=void 0!==n.od?n.od:u,e.ld=void 0!==n.ld?String(n.ld):o,e.vd=n.vd||a,e}E(n,t);var i=n.prototype;return i.Xi=function(t){return this.Vv(this.fd,t)},i.ju=function(){return new n({Xi:this.rd(),dd:this.dd},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).yd=void 0,i.yd=n,i}E(n,t);var i=n.prototype;return i.Kv=function(){return this.yd.Kv()},i.Xv=function(t){return this.yd.Xv(t)},i.Hv=function(t){return this.yd.Hv(t)},i.zv=function(t){return this.yd.zv(t)},i.Wv=function(){return this.yd.Wv()},i.rd=function(){return this.yd.rd()},T(n,[{key:"ud",get:function(){return this.yd.ud}}]),n}(tw));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(lw||(lw={})),function(t){t.md="",t.pd="manifest",t.kd="segment",t.bd="preload-hint",t.Td="content-protection"}(vw||(vw={})),function(t){t.md="",t.Sd="initialization-segment",t.Ed="fairplay-license",t.Id="fairplay-certificate",t.Rd="widevine-license",t.Nd="widevine-certificate",t.Dd="playready-license",t.Cd="clearkey-license",t.Pd="aes128-key"}(dw||(dw={})),function(t){t.md="",t.Od="audio",t.xd="video",t.Kn="text",t.Bd="image"}(ww||(ww={}));var _w=function(t,n){this.qv=void 0,this.hd=void 0,this.Ld=void 0,this.fd=void 0,this.Md=void 0,this.$s=void 0,this.gs=void 0,this.Fd=void 0,this.Ud=void 0,this._d=void 0,this.jd=void 0,this.Hd=void 0;var i,e,r,s,u,o,a,h,c,f,l,v=t._d;n?(i=n.qv,e=n.hd,r=n.Ld,s=n.fd,u=n.Md,o=n.$s,a=n.gs,h=n.Fd,c=n.Ud,f=n.jd,l=n.Hd):(i=null,e={},r=lw.GET,s=Lf.Kn,u=0,a=vw.md,h=dw.md,c=ww.md,f=!1),this._d=v,this.qv=t.qv||i,this.hd=new Mf(t.hd||e),this.Ld=t.Ld||r,this.fd=t.fd||s,this.Md=void 0!==t.Md?Number(t.Md)||0:u,this.$s=t.$s||o||(new au).$s,this.gs=t.gs||a,this.Fd=t.Fd||h,this.Ud=t.Ud||c,this.jd=void 0!==t.jd?Boolean(t.jd):f,this.Hd=t.Hd||l},yw=function(){function t(){}var n=t.prototype;return n.dd=function(t){var n=function(t){return new gw({Xi:null,hd:{},dd:t,wd:t._d,fd:t.fd,od:0,ld:Bf.Uf})}(new _w(t));return Ge.resolve(n)},n.Xd=function(t){},n.Kc=function(){},t}();var mw=function(){function t(t,n){void 0===n&&(n=!0),this.Vd=void 0,this.zd=void 0,this.Vd=t,this.zd=n}var n=t.prototype;return n.dd=function(t){var n=this.Wd(t);return this.Vd.dd(n)},n.Xd=function(t){return this.Vd.Xd(this.Gd(t))},n.Wd=function(n){var i=new _w(n);if(!this.zd){var e=t.qd(i._d);i=new _w({_d:e},i)}return i},n.Gd=function(n){var i=n._d;return this.zd||(i=t.qd(i)),{_d:i,qv:n.qv}},t.qd=function(t){return i.zr&&As(t,"http://")?t.replace(":","s:"):t},n.Kc=function(){this.Vd.Kc()},T(t,null,[{key:"$d",get:function(){return t.Yd||(t.Yd=new t(new yw)),t.Yd}}]),t}();function pw(t,n){for(var i=0,e=w.keys(n);i<e.length;i++){var r=e[i];t.searchParams.set(r,n[r])}}function kw(t,n){var e=i.Fr(t);return n&&!Ts(e,"/")&&(e+="/"),e}mw.Yd=void 0;var bw,Aw=/cache:(.+)?(?=&|$)/,Tw="http://webcache.googleusercontent.com/search?q=cache:";function Sw(t){if(!As(t,Tw))return"";var n=i.Mr(t).search.match(Aw);return n&&n.length>1?n[1]:""}!function(t){t.Qd="HttpOpenError",t.Jd="HttpResponseError",t.Zd="HttpTimeoutError"}(bw||(bw={}));var Ew=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).Kd=void 0,r.Kd=n,r}return E(n,t),T(n,[{key:"dd",get:function(){return this.Kd}}]),n}(nn);var Iw=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n._d+". Invalid URL.",i)||this}return E(n,t),T(n,[{key:"name",get:function(){return bw.Qd}}]),n}(Ew);var Rw=function(t){function n(n,i,e){var r;return(r=t.call(this,n.dd,null!=e?e:function(t){return"Error while loading "+t.dd._d+", status code "+t.od}(n),i)||this).nw=void 0,r.nw=n,r}return E(n,t),T(n,[{key:"name",get:function(){return bw.Jd}},{key:"iw",get:function(){return this.nw}}]),n}(Ew);var Nw=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t._d+" timed out after "+t.Md+" seconds."}(n),i)||this}return E(n,t),T(n,[{key:"name",get:function(){return bw.Zd}}]),n}(Ew),Dw=function(t,n){return(Dw=w.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function Cw(t,n){function i(){this.constructor=t}Dw(t,n),t.prototype=null===n?w.create(n):(i.prototype=n.prototype,new i)}var Pw="object"==typeof r?r:"object"==typeof t?t:"object"==typeof global?global:null;var Ow=function(){var t=Pw.Blob;if(t)try{return new t,function(t,n){return new Pw.Blob(t,n)}}catch(t){}var n,i=Pw.BlobBuilder||Pw.WebKitBlobBuilder||Pw.MozBlobBuilder||Pw.MSBlobBuilder;return i?(n=i,function(t,i){var e=new n;if(t)for(var r=0,s=t;r<s.length;r++){var u=s[r];e.append(u)}return e.getBlob(i&&i.type||"")}):null}(),xw="function"==typeof kd?kd:void 0;function Bw(t){return t&&"function"==typeof t.getReader}function Lw(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&Bw(i)}catch(t){return!1}}var Mw=function(){function t(t,n){this.Nl=t,this.ew=n}return t.prototype.pull=function(t){var n=this;return this.Nl.read().then(function(i){n.ew&&n.ew(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.Nl.cancel(t)},t}();function Fw(t,n){return n.constructor===t?n:new t(new Mw(n.getReader()),{highWaterMark:0})}var Uw=function(){function t(t,n){this.uw=t,this.ow=n}return t.prototype.pull=function(t){return this.uw().then(function(n){t.enqueue(new p(n)),t.close()})},t.prototype.cancel=function(t){this.ow&&this.ow(t)},t}();function jw(t,n,i){return new t(new Uw(n,i),{highWaterMark:0})}var Hw={searchParams:"URLSearchParams"in Pw,iterable:"Symbol"in Pw&&"iterator"in Symbol,blob:"FileReader"in Pw&&!!Ow,formData:"FormData"in Pw,arrayBuffer:"ArrayBuffer"in Pw,stream:Lw(xw),streamRequest:"Request"in Pw&&"body"in Pw.Request.prototype,streamResponse:"Response"in Pw&&"body"in Pw.Response.prototype,abort:"AbortController"in Pw&&"Request"in Pw&&"signal"in Pw.Request.prototype,encoding:"TextEncoder"in Pw&&"TextDecoder"in Pw,url:"URL"in Pw&&function(t){try{return new Pw.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in Pw&&/Firefox\//.test(Pw.navigator.userAgent)};function Xw(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new v("Invalid character in header field name");return t}function Vw(t){return"string"!=typeof t&&(t=String(t)),t}function zw(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return Hw.iterable&&(n[Symbol.iterator]=function(){return n}),n}var Ww=function(){function t(t){var n=this;this.us={};var i,e=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(e):!function(t){return Hw.iterable&&t&&t[Symbol.iterator]}(t)?t&&w.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(e)}return t.prototype.append=function(t,n){t=Xw(t),n=Vw(n);var i=t.toLowerCase();if(this.us.hasOwnProperty(i)){var e=this.us[i],r=e[1];e[1]=r?r+", "+n:n}else this.us[i]=[t,n]},t.prototype.delete=function(t){var n=Xw(t).toLowerCase();delete this.us[n]},t.prototype.get=function(t){var n=Xw(t).toLowerCase();return this.us.hasOwnProperty(n)?this.us[n][1]:null},t.prototype.has=function(t){var n=Xw(t).toLowerCase();return this.us.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=Xw(t)).toLowerCase();this.us[i]=[t,Vw(n)]},t.prototype.forEach=function(t,n){for(var i in this.us)this.us.hasOwnProperty(i)&&t.call(n,this.us[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),zw(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),zw(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),zw(t)},t.prototype.asList=function(){var t=[];for(var n in this.us)if(this.us.hasOwnProperty(n)){var i=this.us[n],e=i[0],r=i[1];t.push([e,r])}return t},t}();function Gw(){}Hw.iterable&&(Ww.prototype[Symbol.iterator]=Ww.prototype.entries);var qw,$w,Yw,Qw=g.min,Jw=String.fromCharCode,Zw=16384;function Kw(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){for(var n=t.length,i=[],e=0;e<n;e+=Zw){var r=Qw(e+Zw,n);i.push(Jw.apply(null,t.slice(e,r)))}return i.join("")}(n)}function tg(t){if(t>=55296&&t<=57343)throw new l("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function ng(t,n){return t>>n&63|128}function ig(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(tg(t),n.push(t>>12&15|224),n.push(ng(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(ng(t,12)),n.push(ng(t,6))),n.push(63&t|128)):n.push(t)}function eg(){if(Yw>=$w)throw new l("Invalid byte index");var t=255&qw[Yw];if(Yw++,128==(192&t))return 63&t;throw new l("Invalid continuation byte")}function rg(){var t,n;if(Yw>$w)throw new l("Invalid byte index");if(Yw===$w)return!1;if(t=255&qw[Yw],Yw++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|eg())>=128)return n;throw new l("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|eg()<<6|eg())>=2048)return tg(n),n;throw new l("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|eg()<<12|eg()<<6|eg())>=65536&&n<=1114111)return n;throw new l("Invalid UTF-8 detected")}var sg=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function ug(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function og(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function ag(t){return t&&DataView.prototype.isPrototypeOf(t)}var hg,cg=ArrayBuffer.isView||function(t){return t&&(sg.indexOf(w.prototype.toString.call(t))>-1||ag(t))};function fg(t){if(t.bodyUsed)return Ge.reject(new v("Already used"));t.bodyUsed=!0}function lg(t){return new Ge(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function vg(t){return Hw.encoding?new Pw.TextDecoder("utf-8").decode(new p(t)):Kw(function(t){$w=(qw=t).length,Yw=0;for(var n,i=[];!1!==(n=rg());)i.push(n);return i}(new p(t)))}function dg(t){return Hw.encoding?(new Pw.TextEncoder).encode(t).buffer:new p(function(t){for(var n=[],i=0,e=t;i<e.length;i++)ig(e[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t))).buffer}function wg(t){var n=t.getReader(),i=[],e=function(t){var r=t.done,s=t.value;return r?Ge.resolve(i):(i.push(s),n.read().then(e))};return n.read().then(e)}function gg(t){return wg(t).then(function(t){return function(t){for(var n=0,i=0,e=t;i<e.length;i++)n+=(a=e[i]).byteLength;for(var r=new p(n),s=0,u=0,o=t;u<o.length;u++){var a=o[u];r.set(a,s),s+=a.byteLength}return r}(t).buffer})}function _g(t){return t.slice?t.slice(0):yg(new p(t))}function yg(t){if(t.slice)return t.slice(0).buffer;var n=new p(t.byteLength);return n.set(new p(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function mg(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),e=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(e),decodeURIComponent(r))}}),n}function pg(t){var n=t;if(n.bodyUsed)throw new v("Already used");if(n.aw===hg.hw){if(!n.cw.tee)throw new l("could not clone ReadableStream body");var i=n.cw.tee(),e=i[0],r=i[1];return n.body=e,n.cw=e,n.fw=e,r}return n.aw===hg.ll?_g(n.cw):n.aw===hg.Uv?n.cw.then(pg):n.fw}!function(t){t[t.Kn=0]="Kn",t[t.lw=1]="lw",t[t.vw=2]="vw",t[t.ll=3]="ll",t[t.hw=4]="hw",t[t.Uv=5]="Uv"}(hg||(hg={}));var kg=function(){function t(n,i){this.bodyUsed=!1;var e,r,s,u=this;if(this.fw=n||null,n)if("string"==typeof n)this.aw=hg.Kn,this.cw=n;else if((s=n)&&"function"==typeof s.then)this.aw=hg.Uv,this.cw=Ge.resolve(n).then(function(n){return new t(n,i)}),this.cw.catch(Gw);else if(Hw.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.aw=hg.lw,this.cw=n;else if(Hw.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.aw=hg.vw,this.cw=n;else if(Hw.searchParams&&ug(n))this.aw=hg.Kn,this.cw=n.toString();else if(Hw.arrayBuffer&&(og(n)||cg(n)))ag(n)&&(this.fw=new p((r=n).buffer,r.byteOffset,r.byteLength)),this.aw=hg.ll,this.cw=og(e=n)?_g(e):yg(e);else{if(!Hw.stream||!Bw(n))throw new l("unsupported BodyInit type");n=Fw(xw,n),this.aw=hg.hw,this.cw=n,this.fw=n}else this.aw=hg.Kn,this.cw="";this.dw="",i.has("content-type")?this.dw=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.dw="text/plain;charset=UTF-8":u.aw===hg.lw&&u.cw.type?this.dw=u.cw.type:Hw.searchParams&&ug(n)&&(this.dw="application/x-www-form-urlencoded;charset=UTF-8"),this.dw&&i.set("content-type",this.dw)),Hw.stream&&(null==n?this.body=null:u.aw===hg.hw?this.body=u.cw:this.body=jw(xw,function(){return u.arrayBuffer()},function(){u.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,e=fg(this);return e||(this.aw===hg.lw?(t=this.cw,n=new FileReader,i=lg(n),n.readAsText(t),i):this.aw===hg.ll?Ge.resolve(this.cw).then(vg):this.aw===hg.hw?gg(this.cw).then(vg):this.aw===hg.Uv?this.cw.then(function(t){return t.text()}):this.aw===hg.vw?Ge.reject(new l("could not read FormData body as text")):Ge.resolve(this.cw))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();Hw.blob&&(kg.prototype.blob=function(){var t,n,i=fg(this);return i||(this.aw===hg.lw?Ge.resolve(this.cw):this.aw===hg.ll?Ge.resolve(Ow([this.cw],{type:this.dw})):this.aw===hg.hw?(t=this.cw,n=this.dw,wg(t).then(function(t){return Ow(t,{type:n||""})})):this.aw===hg.Uv?this.cw.then(function(t){return t.blob()}):this.aw===hg.vw?Ge.reject(new l("could not read FormData body as Blob")):Ge.resolve(Ow([this.cw],{type:this.dw})))}),Hw.arrayBuffer&&(kg.prototype.arrayBuffer=function(){var t,n,i;return this.aw===hg.ll?fg(this)||Ge.resolve(this.cw):this.aw===hg.lw?fg(this)||(t=this.cw,n=new FileReader,i=lg(n),n.readAsArrayBuffer(t),i):this.aw===hg.hw?gg(this.cw):this.aw===hg.Uv?fg(this)||this.cw.then(function(t){return t.arrayBuffer()}):this.aw===hg.vw?Ge.reject(new l("could not read FormData body as ArrayBuffer")):Ge.resolve(this.cw).then(dg)}),Hw.formData&&(kg.prototype.formData=function(){return this.aw===hg.vw?fg(this)||Ge.resolve(this.cw):this.text().then(mg)});var bg=[301,302,303,307,308],Ag=function(t){function n(n,i){var e=this,r=new Ww((i=i||{}).headers);return(e=t.call(this,n||null,r)||this).type="default",e.status=void 0===i.status?200:i.status,e.ok=e.status>=200&&e.status<300,e.statusText=void 0!==i.statusText?String(i.statusText):"",e.headers=r,e.url=i.url||"",e}return Cw(n,t),n.prototype.clone=function(){return new n(pg(this),{status:this.status,statusText:this.statusText,headers:new Ww(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===bg.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(kg);var Tg,Sg=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}function e(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),w.defineProperty(t,e.key,e)}}function r(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function u(t){return(u=w.setPrototypeOf?w.getPrototypeOf:function(t){return t.__proto__||w.getPrototypeOf(t)})(t)}function o(t,n){return(o=w.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,n,i){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var e=function(t,n){for(;!w.prototype.hasOwnProperty.call(t,n)&&null!==(t=u(t)););return t}(t,n);if(e){var r=w.getOwnPropertyDescriptor(e,n);return r.get?r.get.call(i):r.value}})(t,n,i||t)}w.defineProperty(n,"__esModule",{value:!0});var f=function(){function t(){i(this,t),w.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],e=0,r=i.length;e<r;e++)if(i[e]===n)return void i.splice(e,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){a(function(){return i.call(n,t)})},e=this.listeners[t.type],r=0,s=e.length;r<s;r++)i(e[r]);return!t.defaultPrevented}}}]),t}(),l=function(t){function n(){var t,e,r;return i(this,n),e=this,(t=!(r=u(n).call(this))||"object"!=typeof r&&"function"!=typeof r?h(e):r).listeners||f.call(h(t)),w.defineProperty(h(t),"aborted",{value:!1,writable:!0,configurable:!0}),w.defineProperty(h(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function");t.prototype=w.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&o(t,n)}(n,f),r(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),c(u(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),d=function(){function t(){i(this,t),w.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return r(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==s?s.createEvent?(t=s.createEvent("Event")).initEvent("abort",!1,!1):(t=s.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(d.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=l,n.AbortController=d,n.default=d});(Tg=Sg)&&Tg.__esModule&&w.prototype.hasOwnProperty.call(Tg,"default")&&Tg.default,Sg.AbortSignal;var Eg=Sg.AbortController,Ig=Pw.DOMException;try{new Ig}catch(t){(Ig=function(t,n){l.call(this,t),this.name=n||"Error",l.captureStackTrace&&l.captureStackTrace(this,this.constructor)}).prototype=w.create(l.prototype),Ig.prototype.constructor=Ig}var Rg=Eg;function Ng(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function Dg(t,n,i){return new Ge(function(e,r){if(n.signal.aborted)return t.catch(Gw),r(Cg());var s=function(){n.signal.removeEventListener("abort",s),r(Cg())};n.signal.addEventListener("abort",s),t.then(function(t){n.signal.removeEventListener("abort",s),e(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",s),r(t),i&&n.abort()})})}function Cg(){return new Ig("Aborted","AbortError")}var Pg,Og="moz-chunked-arraybuffer";function xg(t){try{var n=new b;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(Pg||(Pg={}));var Bg=function(){function t(t,n){var i=this;this.ww=!1,this.Kd=t,this.gw=n,this._w=new b,this.yw=new Ge(function(t,n){i.mw=t,i.pw=n})}return t.prototype.send=function(){var t=this;return this.bw().then(function(n){return t.Aw(n,t.gw),t.yw})},t.prototype.bw=function(){var t=this.Kd;return t.aw===hg.hw?t.arrayBuffer():Ge.resolve(t.fw)},t.prototype.Tw=function(t){this.Kd.onprogress&&this.Kd.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.Sw=function(t){this.pw(t)},t.prototype.Ew=function(){this.Sw(new v("Network request failed"))},t.prototype.Iw=function(){this.Sw(new v("Network request failed"))},t.prototype.Rw=function(){this.Sw(Cg())},t.prototype.Aw=function(t,n){var i=this,e=this.Kd,r=this._w,s=function(){return i.Nw()};if(e.signal.aborted)return this.Rw();r.onreadystatechange=function(){if(r.readyState>=Pg.HEADERS_RECEIVED&&!i.ww){var t=function(t){var n=new Ww;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),e=i.shift().trim();if(e){var r=i.join(":").trim();n.append(e,r)}}),n}(r.getAllResponseHeaders()||""),n={status:r.status,statusText:r.statusText,headers:t,url:r.responseURL||t.get("X-Request-URL")};i.ww=!0,i.Dw(n)}},r.onprogress=function(t){return i.Tw(t)},r.onload=function(){return i.Cw()},r.onerror=function(){return i.Ew()},r.ontimeout=function(){return i.Iw()},r.onabort=function(){return i.Rw()},r.open(e.method,e.url,!0),r.withCredentials="include"===e.credentials,"responseType"in r&&n&&(r.responseType=n),e.headers.forEach(function(t,n){r.setRequestHeader(n,t)}),e.signal.addEventListener("abort",s),r.onloadend=function(){e.signal.removeEventListener("abort",s)},t?r.send(t):r.send()},t.prototype.Nw=function(){this.Rw(),this._w.abort()},t}(),Lg=function(t){function n(n,i){var e=t.call(this,n,i)||this;return e.Pw=void 0,e.Ow=void 0,e}return Cw(n,t),n.prototype.Dw=function(t){var n=this;this.Pw=new Ge(function(t,i){n.Ow=t,n.xw=i}),this.mw(new Ag(this.Pw,t))},n.prototype.Cw=function(){var t=this._w.response;if(null==t){var n=this.gw;""===n||"text"===n?t=this._w.responseText:"document"===n?t=this._w.responseXML:"arraybuffer"===n?t=new ArrayBuffer(0):"blob"===n&&(t=Ow([]))}this.Ow(t)},n.prototype.Sw=function(n){t.prototype.Sw.call(this,n),this.xw&&this.xw(n)},n}(Bg),Mg=function(t){function n(n){var i=t.call(this,n,Og)||this;return i.Bw=void 0,i.Lw=void 0,i.Mw=!1,i}return Cw(n,t),n.prototype.Dw=function(t){var n=this;this.Bw=new xw({start:function(t){n.Lw=t},cancel:function(){n.Mw=!0,n.Nw()}}),this.mw(new Ag(this.Bw,t))},n.prototype.Tw=function(n){this.Mw||this.Lw.enqueue(new p(this._w.response)),t.prototype.Tw.call(this,n)},n.prototype.Cw=function(){this.Lw.close()},n.prototype.Sw=function(n){t.prototype.Sw.call(this,n),this.Lw&&!this.Mw&&(this.Mw=!0,this.Lw.error(n))},n}(Bg),Fg=function(){var t=Hw.firefox&&xg(Og);return Fg=function(){return t},t},Ug=function(){var t;return t=Hw.arrayBuffer&&xg("arraybuffer")?"arraybuffer":Hw.blob&&xg("blob")?"blob":"",Ug=function(){return t},t};function jg(t){return(Hw.stream&&Fg()?new Mg(t):new Lg(t,Ug())).send()}var Hg=Pw.fetch,Xg=Pw.Request;Pw.Response;var Vg=Pw.AbortController;var zg=["http:","https:"];var Wg=function(){try{if(Hw.streamRequest){var t=new Xg("about:blank",{body:"",method:"POST"}).body;if(t&&Lw(t.constructor))return t.constructor}}catch(t){}}();function Gg(t,n,i){var e;if(Hw.stream){var r=void 0;if(Hw.streamResponse){var s=t.body;r=s&&Fw(xw,s)}else r=jw(xw,function(){return Dg(t.arrayBuffer(),n,!0)},function(){n.abort()});r&&i&&(r=function(t,n,i){var e=0;return function(t,n,i){return new t(new Mw(n.getReader(),i),{highWaterMark:0})}(xw,t,function(t){var r=t.done,s=t.value;r?i=void 0===i?e:i:e+=s.byteLength,n(e,i)})}(r,i,qg(t.headers))),e=r}else{var u=Dg(t.arrayBuffer(),n,!0);i&&(u=function(t,n,i){return Ge.resolve().then(function(){return n(0,i),t}).then(function(t){var e=t.byteLength;return n(e,i=void 0===i?e:i),t})}(u,i,qg(t.headers))),e=u}return new Ag(e,t)}function qg(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function $g(t){var n=new Rg;return t.signal&&Ng(n,t.signal),function(t,n){var i,e,r=t;if(i=r.aw===hg.hw?Hw.streamRequest&&Wg?Ge.resolve(Fw(Wg,r.cw)):Dg(t.arrayBuffer(),n,!1):Dg(Ge.resolve(t.fw),n,!1),Hw.abort){var s=new Vg;Ng(s,n.signal),e=s.signal}return i.then(function(n){return new Xg(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof Ww?i:new Ww(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:e});var i})}(t,n).then(function(i){return Hg(i).then(function(i){return Gg(i,n,t.onprogress)})})}var Yg=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var Qg=function(t){function n(i,e){var r,s,u,o,a,h,c,f,l,d=this,w=(e=e||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new v("Already used");r=i.url,s=i.credentials,e.headers||(u=new Ww(i.headers)),o=i.method,a=i.mode,h=i.referrer,c=i.referrerPolicy,f=i.signal,l=i.onprogress,w||null==i.fw||(w=i.fw,i.bodyUsed=!0)}else r=String(i),s="same-origin",o="GET",a="cors",h="about:client",c="",f=null,l=null;if(!e.headers&&u||(u=new Ww(e.headers)),e&&(h="about:client",c=""),(d=t.call(this,w,u)||this).url=r,d.headers=u,d.credentials=e.credentials||s,d.method=function(t){var n=t.toUpperCase();return Yg.indexOf(n)>-1?n:t}(e.method||o),d.mode=e.mode||a,d.signal=e.signal||f||(new Rg).signal,d.referrer=void 0!==e.referrer?e.referrer:h,d.referrerPolicy=void 0!==e.referrerPolicy?e.referrerPolicy:c,d.onprogress=e.onprogress||l,("GET"===d.method||"HEAD"===d.method)&&w)throw new v("Body not allowed for GET or HEAD requests");return d}return Cw(n,t),n.prototype.clone=function(){return new n(this,{body:pg(this)})},n}(kg),Jg="function"==typeof Hg&&Hw.stream&&Hw.streamResponse&&Hw.url;function Zg(t,n){return new Ge(function(i){var e=new Qg(t,n);i((Jg&&function(t){try{return zg.indexOf(new Pw.URL(t,Pw.location.href).protocol)>=0}catch(t){return!1}}(e.url)?$g:jg)(e))})}Zg.polyfill=!0;var Kg=function(){function t(t){this.iw=void 0,this.Kd=void 0,this.qc=new au,this.nw=void 0,this.Fw=!1,this.Kd=t,this.qc.Gs(t.$s),this.iw=this.Uw()}var n=t.prototype;return n.Uw=function(){var t,n,e,r,s,u,o,h,c=this;return Ur.async(function(f){for(;;)switch(f.prev=f.next){case 0:(t=this.Kd).Md&&a(function(){c.Fw=!0,c.qc.Ws()},t.Md),f.prev=2,n=Zg(t._d,{method:t.Ld,headers:t.hd.wl(),body:t.qv,credentials:t.jd?"include":"same-origin",signal:i_(this.qc.$s),onprogress:t.Hd}),f.next=9;break;case 6:throw f.prev=6,f.t0=f.catch(2),new Iw(t,f.t0);case 9:return f.prev=9,f.next=12,Ur.awrap(n);case 12:e=f.sent,f.next=20;break;case 15:throw f.prev=15,f.t1=f.catch(9),cu(r=this.jw(f.t1))&&this.qc.Ws(),r;case 20:if(s=e.url||t._d,u=0===e.status&&"file:"===(l=s,i.Mr(l).protocol)?200:e.status,o=new t_(this,e,this.qc),h=new gw({Xi:o,dd:t,fd:t.fd,hd:new Mf(e.headers.asList()),od:u,ld:e.statusText,wd:s}),this.nw=h,!fw(h)){f.next=29;break}return f.abrupt("return",h);case 29:throw new Rw(h);case 30:case"end":return f.stop()}var l},null,this,[[2,6],[9,15]],Ge)},n.jw=function(t){return cu(t)?this.Fw?new Nw(this.Kd):new hu(t.message,t):this.nw?new Rw(this.nw,t):new Iw(this.Kd,t)},t}(),t_=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Hw=void 0,r.Xw=void 0,r.qc=void 0,r.Jv=new na,r.Hw=n,r.Xw=i,r.qc=e,r.Jv.Wu.catch(Z),r}E(n,t);var i=n.prototype;return i.Kv=function(){return this.Jv.Wu},i.Xv=function(t){return this.td(this.Xw.text(),t)},i.zv=function(t){return this.td(this.Xw.arrayBuffer(),t)},i.Wv=function(){var t=this.Xw.body;return t?this.ed(t):$d(this.zv().then(Gd),this.qc)},i.rd=function(){var t=this.Xw.clone(),i=this.qc.qs(),e=i[0],r=i[1];return this.qc=e,new n(this.Hw,t,r)},i.td=function(t,n){var i=this;n&&this.qc.Gs(n);var e=Ge.resolve(t).catch(function(t){throw i.Hw.jw(t)});return e=wu(e,this.qc),this.Jv.Yu(e.then(Z)),e},i.ed=function(t){var n=this,i=new Cd,e=Ge.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var e=n.Hw.jw(t);throw i.writable.abort(e).catch(Z),e});return e=wu(e,this.qc),this.Jv.Yu(e.then(Z)),i.readable},T(n,[{key:"ud",get:function(){return this.Xw.bodyUsed}}]),n}(tw),n_="abort";function i_(t){var n=new Rg;if(t.xs)n.abort();else if(!t.Bs){var i=function(){e(),n.abort()},e=function e(){n.signal.removeEventListener(n_,i),t.Hs(i),t.Vs(e)};n.signal.addEventListener(n_,i),t.js(i),t.Xs(e)}return n.signal}function e_(t,n,i){return new Ge(function(e,r){if(i&&i.xs)return r(new hu);var s=function(t){o(),e(t)},u=function(){o(),r(new hu)},o=function(){t.removeEventListener(n,s),i&&i.Hs(u)};t.addEventListener(n,s),i&&i.js(u)})}var r_,s_,u_=function(){function t(){}var n=t.prototype;return n.dd=function(t){return new Kg(t).iw},n.Xd=function(t){if(_e&&_e.sendBeacon)_e.sendBeacon(t._d,Of([t.qv],{type:t.Gv}));else{var n=t.Gv?{"Content-type":t.Gv}:void 0;mu(this.dd(new _w({Ld:lw.POST,_d:t._d,qv:t.qv,hd:n})))}},n.Kc=function(){},t}();r_=new(function(n){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(i=n.call.apply(n,[this].concat(r))||this).Vw=void 0,i.zw=function(){if(F.fn)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}(),i.Ww=F.Un||F.fn,i.Gw=(F.Un||F.fn)&&!(F.Tn&&F.Sn<3),i.qw=void 0,i}return E(i,n),T(i,[{key:"Dr",get:function(){return this.Vw||(this.Vw=new Ms(Nf())),this.Vw}},{key:"$w",get:function(){return this.zw}},{key:"Yw",get:function(){return this.Ww}},{key:"Qw",get:function(){return this.Gw}},{key:"Jw",get:function(){return!1}},{key:"Zw",get:function(){return Cf.bf()}},{key:"Kw",get:function(){return{eg:xf}}},{key:"rg",get:function(){return o.connection&&o.connection.effectiveType||"default"}},{key:"og",get:function(){return o.connection&&o.connection.type||"unknown"}},{key:"ag",get:function(){return this.qw||(this.qw=new mw(new u_)),this.qw}}]),i}(xr)),i=r_,function(t){t.hg="cg",t.fg="vg"}(s_||(s_={})),s_.hg,s_.fg;var o_=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).dg=void 0,e}return E(n,t),T(n,[{key:"wg",get:function(){return this.dg||(this.dg=this.gg()),this.dg}}]),n}(Iu);function a_(t){return Boolean(t&&t.wg)}var h_,c_=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n}(o_),f_=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n}(Iu),l_=function(t){function n(n){var i;return(i=t.call(this,s_.hg)||this)._g=n,i}return E(n,t),n.prototype.gg=function(){return new v_(this._g.wg)},n}(c_),v_=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return E(n,t),n}(f_),d_=function(t){function n(n){var i;return(i=t.call(this,s_.fg)||this)._g=n,i}return E(n,t),n.prototype.gg=function(){return new w_(this._g.wg)},n}(c_),w_=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return E(n,t),n}(f_);!function(t){t.yg="pg",t.Ag="Tg",t.Sg="Eg",t.Ig="Rg",t.Ng="Dg",t.Cg="Pg",t.Og="xg",t.Bg="Lg",t.Mg="tc",t.Fg="Ug",t.jg="Hg",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(h_||(h_={}));var g_=function(t){function n(){var n;return(n=t.call(this)||this).Xg=[],n.dg=void 0,n}E(n,t);var i=n.prototype;return i.Vg=function(t){return this.Xg[t]},i.zg=function(t){return!(!t||Js(this.Xg,t))&&(this.Xg.push(t),this.dg&&this.dg.push(t.wg),t.tu(h_.Cg,this.Zs),this.Ks(new l_(t)),!0)},i.Wg=function(t){if(!t)return!1;var n=this.Xg.indexOf(t);return!(n<0)&&(Qs(this.Xg,n),this.dg&&Qs(this.dg,n),t.au(h_.Cg,this.Zs),this.Ks(new d_(t)),!0)},i.Gg=function(t){return Js(this.Xg,t)},i.wc=function(){for(var t=this.Xg,n=t.length-1;n>=0;n-=1)this.Wg(t[n])},i.Kc=function(){this.wc(),this.ou()},T(n,[{key:"qg",get:function(){return this.Xg}},{key:"wg",get:function(){return this.dg||(this.dg=this.gg()),this.dg}},{key:"$g",get:function(){return this.Xg.length}}]),n}(Su),__=function(t){function n(n){var i;return(i=t.call(this,h_.Cg)||this)._g=n,i}return E(n,t),n.prototype.gg=function(){return new y_(this._g.wg)},n}(c_),y_=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return E(n,t),n}(f_),m_=function(t){function n(){var n;return(n=t.call(this)||this).Yg=void 0,n.Qg=function(t){var i=t._g;n.zg(i)},n.Jg=function(t){var i=t._g;n.Wg(i)},n}E(n,t);var i=n.prototype;return i.Zg=function(t){t.tu(s_.hg,this.Qg),t.tu(s_.fg,this.Jg)},i.Kg=function(t){t.au(s_.hg,this.Qg),t.au(s_.fg,this.Jg)},i.Kc=function(){this.Yg&&this.Yg.Kc(),t.prototype.Kc.call(this)},T(n,[{key:"t_",get:function(){return this.Yg},set:function(t){var n=this.Yg;if(t!==n){if(n){this.Kg(n);for(var i=0,e=n.qg;i<e.length;i++){var r=e[i];t&&t.Gg(r)||this.Wg(r)}}if(this.Yg=t,t){for(var s=[],u=0,o=t.qg;u<o.length;u++){var a=o[u];this.zg(a),this.n_(a)&&s.push(a)}this.Zg(t);for(var h=0;h<s.length;h++){var c=s[h];c.Ks(new __(c))}}}}}]),n}(g_),p_=w.freeze||K;function k_(t,n,i){w.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function b_(t,n){for(var i=0,e=w.getOwnPropertyNames(n);i<e.length;i++){var r=e[i];w.defineProperty(t,r,w.getOwnPropertyDescriptor(n,r))}return t}function A_(t){if(G(t)){var n={};for(var i in t)U.call(t,i)&&(n[i]=A_(t[i]));return n}if(V(t)){for(var e=new Array(t.length),r=0;r<e.length;r++)r in t&&(e[r]=A_(t[r]));return e}return t}function T_(t,n){return t===n||!(!t||!n)&&(!(!W(t)||!W(n))&&(z(t)?!!z(n)&&function(t,n){var i=t.length,e=n.length;if(i!==e)return!1;for(var r=0;r<i;r+=1)if(!T_(t[r],n[r]))return!1;return!0}(t,n):!z(n)&&function(t,n){var i=w.keys(t),e=w.keys(n);if(!i||!e||i.length!==e.length)return!1;for(var r=0;r<i.length;r++){var s=i[r];if(!U.call(n,s)||!T_(t[s],n[s]))return!1}return!0}(t,n)))}function S_(t,n){return t.constructor===n.constructor}function E_(t){for(var n={},i=0,e=w.keys(t);i<e.length;i++){var r=e[i],s=t[r];null!=s&&(n[r]=s)}return n}function I_(t){for(var n={},i=0,e=w.keys(t);i<e.length;i++){var r=e[i],s=t[r];if(z(s)){for(var u=[],o=0;o<s.length;o+=1){var a=s[o];if(null!=a){var h=W(a)?I_(a):a;u.push(h)}}n[r]=u}else null!=s&&(n[r]=W(s)?I_(s):s)}return n}function R_(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function N_(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function D_(t){var n=N_(t);if(m(n))throw new l("Expected a valid number.");return n}function C_(t){return"string"==typeof t?t:""}function P_(t,n){if(!z(t))return[];for(var i=0|t.length,e=new Array(i),r=0;r<i;r++)e[r]=n(t[r]);return e}function O_(t,n){return z(t)?P_(t,n):n(t)}var x_=[s_.hg,s_.fg,h_.Cg];function B_(t){var n,i=t.qg.map(function(t){return t.wg});return i.item=function(n){var i=0|n,e=t.Vg(i);return e&&e.wg||void 0},i.addEventListener=function(t,i){n.tu(t,i)},i.removeEventListener=function(t,i){n.au(t,i)},n=new Eu(i),t.tu(x_,function(t){return n.Ks(t.wg)}),i}function L_(){}function M_(t){var n,i=[h_.Mg,h_.Cg,h_.Fg,h_.jg,h_.QUALITY_UNAVAILABLE],e={get activeQuality(){return t.i_&&t.i_.wg},get enabled(){return t.e_},set enabled(n){t.e_=R_(n)},get id(){return t.r_},get uid(){return t.s_},get kind(){return t.u_},get label(){return t.o_},set label(n){t.o_=C_(n)},get language(){return t.a_},get qualities(){return t.h_.wg},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],e=0,r=t.h_.qg;e<r.length;e++)for(var s=r[e],u=0;u<n.length;u++){var o=n[u];s.wg===o&&i.push(s)}return i}(t,V(n)?n:[n]):[]).length>0?t.c_=i:t.c_=void 0},get targetQuality(){if(t.c_)return 1===t.c_.length?t.c_[0].wg:t.c_.map(function(t){return t.wg})},addEventListener:function(t,i){var e=O_(t,C_);n.tu(e,i)},removeEventListener:function(t,i){var e=O_(t,C_);n.au(e,i)}};return n=new Eu(e),t.tu(i,function(t){return n.Ks(t.wg)}),w.defineProperty(e,"constructor",{value:L_}),e}function F_(){}function U_(t){var n=B_(t);return w.defineProperty(n,"constructor",{value:F_}),n}var j_,H_,X_=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.gg=function(){return U_(this)},i.n_=function(t){return t.e_},n}(m_);function V_(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case j_.f_:case j_.l_:case j_.v_:return n}}else if("number"==typeof t)switch(t){case 0:return j_.f_;case 1:return j_.l_;case 2:return j_.v_}return j_.f_}function z_(){}function W_(t){var n,i=[h_.Cg,h_.Mg,h_.yg,h_.Ag,h_.Sg,h_.Ig,h_.Ng,h_.Og,h_.Bg],e=[H_.d_],r={get kind(){return t.u_},get label(){return t.o_},set label(n){t.o_=C_(n)},get language(){return t.a_},get id(){return t.r_},get uid(){return t.s_},get inBandMetadataTrackDispatchType(){return t.w_},get mode(){return t.g_},set mode(n){n!==j_.v_&&n!==j_.l_&&n!==j_.f_||t.__(n)},get forced(){return Boolean(t.y_)},get type(){return t.gs},get readyState(){return $_(t.m_)},get cues(){return t.g_===j_.f_?null:t.p_.wg},get activeCues(){return t.g_===j_.f_?null:t.k_.wg},get src(){return t.b_||""},addEventListener:function(t,i){var e=O_(t,C_);n.tu(e,i)},removeEventListener:function(t,i){var e=O_(t,C_);n.au(e,i)}};return n=new Eu(t),t.tu(i,function(t){return n.Ks(t.wg)}),t.tu(e,function(t){return n.Ks(t)}),w.defineProperty(r,"constructor",{value:z_}),r}function G_(){}function q_(t){var n=B_(t);return w.defineProperty(n,"constructor",{value:G_}),n}function $_(t){return t}!function(t){t.f_="disabled",t.l_="hidden",t.v_="showing"}(j_||(j_={})),function(t){t.d_="error"}(H_||(H_={}));var Y_=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.gg=function(){return q_(this)},i.n_=function(t){return t.g_===j_.v_},n}(m_),Q_=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.uu=function(n){t.prototype.uu.call(this,n)},i.du=function(n){t.prototype.du.call(this,n)},n}(Su),J_=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n}(Q_),Z_=function(t){function n(){return t.call(this,Bf.xf)||this}return E(n,t),n}(Iu),K_=function(t){function n(n){var i;return(i=t.call(this,Bf.Nf)||this).currentSource=n,i}return E(n,t),n}(Iu),ty=function(){function t(){}return t.A_=function(n,i){var e=t.T_(n,i);return e?t.S_(e):0},t.E_=function(){return i.rg||"default"},t.I_=function(){return i.og||"unknown"},t.T_=function(n,e){var r,s=null==(r=i.Zw)?void 0:r.Cu(e),u=s&&JSON.parse(s);if(u&&u[n])return t.R_(u,n,e)},t.S_=function(t){var n=t.availableBandwidth;return n||0},t.R_=function(n,i,e){if(!t.N_(n,i))return n[i];t.D_(n,i,e)},t.D_=function(t,n,e){var r;delete t[n],null==(r=i.Zw)||r.kf(e,JSON.stringify(t))},t.N_=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var e=new Date(i),r=(new Date).getTime();return e.setMonth(e.getMonth()+1)<=r},t.C_=function(t,n,i,e){var r;return jr({},t,((r={})[n]={availableBandwidth:i,storedTimestamp:e},r))},t.P_=function(n){var i=t.E_();t.O_(i,"theoplayer-stored-network-info",n,Wt())},t.O_=function(n,e,r,s){var u,o,a=null==(u=i.Zw)?void 0:u.Cu(e),h=a?JSON.parse(a):void 0,c=t.C_(h,n,r,s);null==(o=i.Zw)||o.kf(e,JSON.stringify(c))},t.x_=function(){var n=t.E_();return t.A_(n,"theoplayer-stored-network-info")},t}();var ny,iy,ey,ry,sy,uy,oy="1ADD53F3";function ay(t){return{chromecast:function(t){return{appID:t&&t.appID?C_(t.appID):oy}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return ny.AUTO;case"manual":return ny.MANUAL;case"disabled":return ny.DISABLED;default:return ny.MANUAL}}(t?t.strategy:void 0)}}function hy(t){var n,i=ey.B_;return(n=t)&&bs(n,"mpd")&&(i=ey.L_),function(t){return!!t&&bs(t,"m3u8")}(t)&&(i=ey.M_),i}function cy(t){switch(t){case iy.F_:case iy.U_:return t;default:return iy.j_}}function fy(t){return!!t&&As(t.toLowerCase(),ey.L_)}function ly(t){if(!t)return!1;var n=t.toLowerCase();return As(n,ey.M_)||As(n,ey.H_)}function vy(t){return W(t)&&W(t.ssai)&&"google-dai"===t.ssai.integration}function dy(t){return W(t)&&q(t.integration)&&"verizon-media"===t.integration}function wy(t){if(q(t))return!t;if(dy(t))return!t.id;if(vy(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,e="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&e)}return!t.src}function gy(t){return Boolean(W(t)&&q(t.src))}function _y(t){return t.type===ey.X_||t.type===ey.V_}function yy(t){return q(t)||gy(t)||vy(t)||dy(t)}function my(t){if(t){if(yy(t))return wy(t);for(var n=0;n<t.length;n++){if(!wy(t[n]))return!1}return!0}return!0}function py(){return{crossOrigin:iy.j_,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0}}function ky(){return jr({},py(),{src:void 0,type:ey.B_,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function by(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:ry.ENABLED,googleIma:{useNativeIma:!1,bitrate:-1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return sy.NONE;case"midroll-and-postroll":default:return sy.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=R_(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return ry.INSECURE;case"disabled":return ry.DISABLED;case"enabled":default:return ry.ENABLED}}(t.vpaidMode)),V(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(q)),void 0!==t.googleIma&&(n.googleIma=function(t){var n;return void 0===t?{useNativeIma:!1,bitrate:-1}:{useNativeIma:R_(t.useNativeIma),bitrate:null!=(n=t.bitrate)?n:-1}}(t.googleIma)),n)}function Ay(t){if(!z(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];G(r)&&n.push(r)}return n}function Ty(t){return q(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(ny||(ny={})),function(t){t.j_="",t.F_="anonymous",t.U_="use-credentials"}(iy||(iy={})),function(t){t.L_="application/dash+xml",t.M_="application/vnd.apple.mpegurl",t.H_="application/x-mpegurl",t.B_="video/mp4",t.X_="application/vnd.theoplayer.hesp+json",t.V_="application/vnd.theo.hesp+json"}(ey||(ey={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(ry||(ry={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(sy||(sy={})),function(t){t[t.z_=0]="z_",t[t.W_=1]="W_",t[t.G_=2]="G_",t[t.q_=3]="q_",t[t.Y_=4]="Y_"}(uy||(uy={}));var Sy,Ey=function(t){function n(n,i){var e;return void 0===i&&(i=uy.z_),(e=t.call(this,Bf.Pf)||this).currentTime=n,e.readyState=i,e}return E(n,t),n}(Iu),Iy=function(t){function n(n){var i;return(i=t.call(this,Bf.Hf)||this).currentTime=n,i}return E(n,t),n}(Iu),Ry=function(t){function n(n){var i;return(i=t.call(this,Bf.Xf)||this).currentTime=n,i}return E(n,t),n}(Iu);!function(t){t.Q_="canplay",t.J_="canplaythrough",t.Z_="loadeddata",t.K_="loadedmetadata",t.Og="readystatechange",t.iy="waiting",t.ey="playing"}(Sy||(Sy={}));var Ny,Dy=[Sy.Q_,Sy.J_,Sy.Z_,Sy.K_,Sy.Og,Sy.iy,Sy.ey],Cy=function(t){function n(n,i){var e;return void 0===i&&(i=uy.W_),(e=t.call(this,Sy.K_)||this).currentTime=n,e.readyState=i,e}return E(n,t),n}(Iu),Py=function(t){function n(n){var i;return(i=t.call(this,Bf.Cf)||this).duration=n,i}return E(n,t),n}(Iu),Oy=function(t){function n(n,i){var e;return(e=t.call(this,Bf.zf)||this).currentTime=n,e.playbackRate=i,e}return E(n,t),n}(Iu),xy=function(t){function n(n,i){var e;return(e=t.call(this,Bf.ol)||this).currentTime=n,e.currentProgramDateTime=i,e}return E(n,t),n}(Iu),By=function(t){function n(n){var i;return(i=t.call(this,Bf.Of)||this).currentTime=n,i}return E(n,t),n}(Iu),Ly=function(t){function n(n,i){var e;return void 0===i&&(i=uy.G_),(e=t.call(this,Sy.Z_)||this).currentTime=n,e.readyState=i,e}return E(n,t),n}(Iu),My=function(t){function n(n){var i;return(i=t.call(this,Bf.$f)||this).currentTime=n,i}return E(n,t),n}(Iu),Fy=function(t){function n(n){var i;return(i=t.call(this,Bf.qf)||this).currentTime=n,i}return E(n,t),n}(Iu),Uy=function(t){function n(n,i){var e;return(e=t.call(this,Bf.al)||this).currentTime=n,e.volume=i,e}return E(n,t),n}(Iu),jy=function(t){function n(n,i){var e;return void 0===i&&(i=uy.q_),(e=t.call(this,Sy.Q_)||this).currentTime=n,e.readyState=i,e}return E(n,t),n}(Iu),Hy=function(t){function n(n,i){var e;return void 0===i&&(i=uy.Y_),(e=t.call(this,Sy.J_)||this).currentTime=n,e.readyState=i,e}return E(n,t),n}(Iu),Xy=function(t){function n(n,i){var e;return(e=t.call(this,Sy.Og)||this).currentTime=n,e.readyState=i,e}return E(n,t),n}(Iu),Vy=function(t){function n(n){var i;return(i=t.call(this,H_.d_)||this).errorObject=n,i}return E(n,t),n.prototype.gg=function(){return this},T(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(o_);function zy(t){switch(t){case Ny.ALL:case Ny.CONTENT:return t;default:return Ny.NONE}}function Wy(t){var n,e,r,s=A_(t||{});return s.libraryLocation&&(s.libraryLocation=kw(s.libraryLocation,!0)),s.isEmbeddable=Boolean(s.isEmbeddable),s.cast=ay(s.cast),s.ads=by(s.ads),s.analytics=Ay(s.analytics),s.mutedAutoplay=zy(s.mutedAutoplay),s.allowNativeFullscreen=Boolean(s.allowNativeFullscreen),s.allowMixedContent=Boolean(s.allowMixedContent),s.persistVolume=Boolean(s.persistVolume),s.liveOffset=(n=s.liveOffset,Number(n)||void 0),s.hlsDateRange=(e=s.hlsDateRange,Boolean(e)),s.retainPlaybackRateOnSourceChange=Boolean(s.retainPlaybackRateOnSourceChange),s.license=q(r=s.license)?r:void 0,s.licenseUrl=function(t){if(!t)return;try{return kw(t)}catch(t){return void i.Tr("Invalid 'licenseUrl', falling back to default URL")}}(s.licenseUrl),s.vr=function(t){return{useWebXR:Boolean(t&&t.useWebXR)}}(s.vr),s}function Gy(t){return{sy:t.sy,uy:t.uy,oy:t.oy,Au:t.Au,ly:t.ly,vy:t.vy,wy:t.wy,gy:t.gy,m_:t.m_,_y:t._y,yy:t.yy,py:t.py,by:t.by}}function qy(t,n){var i=n.by,e=n.vy;t.by=i,t.vy=e}function $y(t,n,i){if(n!==i){var e=n.sy,r=n.uy,s=n.vy,u=n.wy,o=n.gy,a=n.m_,h=n._y;n.py,n.yy;var c=n.by,f=i.sy,l=i.uy,v=i.oy,d=i.ly,w=i.vy,g=i.wy,_=i.gy,y=i.m_,p=i._y;i.py,i.yy;var k=i.by;a!==uy.z_&&t.Ks(new Ey(f,y)),g&&!u?t.Ks(new Iy(f)):!g&&u&&t.Ks(new Ry(f)),y>=uy.W_&&t.Ks(new Cy(f,y)),l===r||m(l)&&m(r)||t.Ks(new Py(l)),_!==o&&t.Ks(new Oy(f,_)),f!==e&&t.Ks(new xy(f,void 0)),v&&t.Ks(new By(f)),y>=uy.G_&&t.Ks(new Ly(f,y)),p&&!h?t.Ks(new My(f)):!p&&h&&t.Ks(new Fy(f)),k===c&&w===s||t.Ks(new Uy(f,k)),y>=uy.q_&&t.Ks(new jy(f,y)),y>=uy.Y_&&t.Ks(new Hy(f,y)),y!==a&&t.Ks(new Xy(f,y)),d&&t.Ks(new Vy(d))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(Ny||(Ny={}));var Yy=.25,Qy=400,Jy={Ay:.2,Ty:.45,Sy:.7,Ey:3,Iy:rm,Ry:sm},Zy={Ay:.4,Ty:.65,Sy:1,Ey:3,Iy:rm,Ry:sm},Ky={Ay:.4,Ty:.7,Sy:.9,Ey:3,Iy:rm,Ry:sm},tm={Ay:.4,Ty:.65,Sy:1,Ey:3,Iy:rm,Ry:sm},nm={Ay:.5,Ty:1.125,Sy:1.75,Ey:2.55,Iy:rm,Ry:sm};function im(){var t;return t=i.jr.qe?tm:i.jr.Qe?Zy:i.jr.Ye?"Android"===i.Hr.Xr?Ky:Jy:nm,i.Hr.Vr?function(t){if(i.Hr.Vr){var n=(Qy+250)/1e3,e=g.max(n,t.Ay),r=g.max(e+Yy,t.Ty),s=g.max(r+Yy,t.Sy);return{Ay:e,Ty:r,Sy:s,Ey:g.max(s+Yy,t.Ey),Iy:rm,Ry:sm}}return t}(t):t}var em,rm=.92,sm=1.08;function um(t){return{goLive:function(){return t.Ny()},get isLive(){return t.Dy},get currentServerLiveTime(){return t.Cy},get currentLatency(){return t.Py},get latency(){return t.Oy},set latency(n){if(!function(t){if(!W(t))return!1;var n=t,i=H(n.target)&&"number"==typeof n.target&&H(n.windowEnd)&&"number"==typeof n.windowEnd&&H(n.windowStart)&&"number"==typeof n.windowStart&&H(n.maxOffset)&&"number"==typeof n.maxOffset,e=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&e}(n))throw new l("Invalid latency configuration");t.Oy=n},get manifest(){return t.xy},addEventListener:function(n,i){t.tu(am(n),i)},removeEventListener:function(n,i){t.au(am(n),i)}}}!function(t){t[t.f_=0]="f_",t[t.By=1]="By",t[t.Ly=2]="Ly"}(em||(em={}));var om=["golive"];function am(t){var n=O_(t,C_);return(q(n)?[n]:n).filter(function(t){return Js(om,t)})}var hm,cm=function(t){function n(){var n,i;return(n=t.call(this)||this).Yg=void 0,n.dg=void 0,n.My={windowStart:(i=im()).Ay,windowEnd:i.Sy,target:i.Ty,maxOffset:i.Ey},n.Yg=void 0,n}E(n,t);var i=n.prototype;return i.Zg=function(t){t.tu(om,this.Zs)},i.Kg=function(t){t.au(om,this.Zs)},i.Ny=function(){var t;null==(t=this.Yg)||t.Ny()},i.Kc=function(){this.ou(),this.Yg&&this.Kg(this.Yg),this.Yg=void 0},T(n,[{key:"t_",get:function(){return this.Yg},set:function(t){var n=this.Yg;t!==n&&(n&&this.Kg(n),t&&this.Zg(t),this.Yg=t,this.Yg&&(this.Yg.Oy=this.My))}},{key:"wg",get:function(){return this.dg||(this.dg=um(this)),this.dg}},{key:"Cy",get:function(){var t;return null==(t=this.Yg)?void 0:t.Cy}},{key:"Py",get:function(){var t;return null==(t=this.Yg)?void 0:t.Py}},{key:"Dy",get:function(){return!!this.Yg&&this.Yg.Dy}},{key:"Oy",get:function(){return this.Yg?this.Yg.Oy:this.My},set:function(t){this.Yg&&(this.Yg.Oy=t),this.My=t}},{key:"xy",get:function(){var t;return null==(t=this.Yg)?void 0:t.xy}}]),n}(Su),fm=function(t){function n(n){var i;return(i=t.call(this)||this).Yg=void 0,i.Fy=[],i.Uy=!1,i.jy=new X_,i.Hy=new X_,i.Xy=new Y_,i.Vy=new cm,i.zy=!1,i.Wy(n),n.uu(i.Zs),i.Yg=n,i.jy.t_=n.Gy,i.Hy.t_=n.qy,i.Xy.t_=n.$y,i.Vy.t_=n.Yy,i}E(n,t);var i=n.prototype;return i.Qy=function(){this.Yg.Qy()},i.Jy=function(){this.Yg.Jy()},i.Zy=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",pu(this.Fy.map(function(t){return t.Zy()})).then(Z));case 1:case"end":return t.stop()}},null,this,null,Ge)},i.Ky=function(){return this.Yg.Ky()},i.tm=function(t,n){return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return fu(n),i.next=3,Ur.awrap(this.Yg.tm(t,n));case 3:case"end":return i.stop()}},null,this,null,Ge)},i.nm=function(){return this.t_.nm()},i.im=function(){this.t_.im()},i.um=function(){this.t_.um()},i.hm=function(){if(!this.Uy){for(var t=0,n=this.Fy;t<n.length;t++){n[t].hm()}this.Uy=!0}},i.cm=function(t){this.Yg.cm(t)},i.fm=function(){this.Yg.fm()},i.lm=function(){this.Yg.lm()},i.vm=function(){this.Yg.vm()},i.dm=function(){return this.Yg.dm()},i.wm=function(){return this.Yg.wm()},i.gm=function(){for(var t=[],n=0,i=this.Fy;n<i.length;n++){var e=i[n];t.push.apply(t,e.gm())}return t},i._m=function(t){for(var n=!1,i=0,e=this.Fy;i<e.length;i++){n=e[i]._m(t)||n}return n},i.Ks=function(n){this._m(n)||t.prototype.Ks.call(this,n)},i.Wy=function(t){this.Fy.push(t)},i.ym=function(t){Ys(this.Fy,t)},i.mm=function(t){if(t!==this.Yg){var n=this.Yg;n.fm(),n.du(this.Zs);var i=Gy(this),e=this.pm,r=this.wm();this.Yg=t,this.jy.t_=t.Gy,this.Hy.t_=t.qy,this.Xy.t_=t.$y,this.Vy.t_=t.Yy,$y(this,i,this);var s=this.pm;s!==e&&this.Ks(new K_(s)),this.wm()!==r&&this.Ks(new Z_),t.uu(this.Zs),t.cm(n)}},i.Am=function(){},i.Kc=function(){var t,n,i;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:this.ou(),this.Yg.fm(),t=0,n=this.Fy;case 3:if(!(t<n.length)){e.next=10;break}return i=n[t],e.next=7,Ur.awrap(i.Kc());case 7:t++,e.next=3;break;case 10:this.jy.Kc(),this.Hy.Kc(),this.Xy.Kc(),this.Vy.Kc();case 14:case"end":return e.stop()}},null,this,null,Ge)},i.wc=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",pu(this.Fy.map(function(t){return t.wc()})).then(Z));case 1:case"end":return t.stop()}},null,this,null,Ge)},T(n,[{key:"Gy",get:function(){return this.jy}},{key:"$y",get:function(){return this.Xy}},{key:"qy",get:function(){return this.Hy}},{key:"Tm",get:function(){return this.Yg.Tm}},{key:"Sm",get:function(){return this.Yg.Sm},set:function(t){this.Yg.Sm=t}},{key:"pm",get:function(){return this.Yg.pm}},{key:"sy",get:function(){return this.Yg.sy},set:function(t){this.Yg.sy=t}},{key:"uy",get:function(){return this.Yg.uy}},{key:"Em",get:function(){return this.Yg.Em}},{key:"oy",get:function(){return this.Yg.oy}},{key:"Au",get:function(){return this.Yg.Au}},{key:"ly",get:function(){return this.Yg.ly}},{key:"Yy",get:function(){return this.Vy}},{key:"Im",get:function(){return this.Yg.Im}},{key:"Rm",get:function(){return function(t){for(var n=0,i=0,e=0,r=0,s=0,u={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var a=t[o];n+=a.Nm,i+=a.Dm,e+=a.Cm,r+=a.Pm,s+=a.Om,u.amountOfBufferedAudioSegments+=a.xm.amountOfBufferedAudioSegments,u.amountOfBufferedVideoSegments+=a.xm.amountOfBufferedVideoSegments}return{Nm:n,Dm:i,Cm:e,Pm:r,Om:s,xm:u}}(this.Fy.map(function(t){return t.Rm}))}},{key:"vy",get:function(){return this.Yg.vy},set:function(t){this.Yg.vy=t}},{key:"Bm",get:function(){return this.Yg.Bm}},{key:"wy",get:function(){return this.Yg.wy}},{key:"gy",get:function(){return this.Yg.gy},set:function(t){this.Yg.gy=t}},{key:"Lm",get:function(){return this.Yg.Lm}},{key:"Mm",get:function(){return this.Yg.Mm},set:function(t){this.Yg.Mm=t}},{key:"m_",get:function(){return this.Yg.m_}},{key:"Fm",get:function(){return this.Yg.Fm}},{key:"_y",get:function(){return this.Yg._y}},{key:"yy",get:function(){return this.Yg.yy}},{key:"py",get:function(){return this.Yg.py}},{key:"by",get:function(){return this.Yg.by},set:function(t){this.Yg.by=t}},{key:"Um",get:function(){return this.Yg.Um}},{key:"jm",get:function(){return!1},set:function(t){}},{key:"t_",get:function(){return this.Yg},set:function(t){this.mm(t)}}]),n}(J_),lm=function(t){function n(n,i,e,r,s,u,o,a){var h;return(h=t.call(this,n,i,e)||this).url=void 0,h.status=void 0,h.statusText=void 0,h.response=void 0,h.systemCode=void 0,h.url=r,h.status=s,h.statusText=u,h.response=o,h.systemCode=a,h}return E(n,t),T(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(lf);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(hm||(hm={}));var vm=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i)||this).code=void 0,s.message=void 0,s.cause=void 0,s.systemCode=void 0,s.code=n,s.message=null!=i?i:"Unknown error",s.cause=e,s.systemCode=r,l.captureStackTrace&&l.captureStackTrace(Kt(s),s.constructor),s}return E(n,t),T(n,[{key:"name",get:function(){return"MediaError"}}]),n}(tn);function dm(t){k_(t,"MEDIA_ERR_ABORTED",hm.ABORTED),k_(t,"MEDIA_ERR_NETWORK",hm.NETWORK),k_(t,"MEDIA_ERR_DECODE",hm.DECODE),k_(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",hm.SRC_NOT_SUPPORTED),k_(t,"MEDIA_ERR_ENCRYPTED",hm.ENCRYPTED)}function wm(t){var i,e;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new vm(hm.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new vm(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return hm.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return hm.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return hm.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return hm.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return hm.NETWORK;if(i===n.ErrorCategory.SOURCE)return hm.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return hm.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return hm.ENCRYPTED;if(i===n.ErrorCategory.AD)return hm.ADVERTISEMENT_ERROR;return hm.DECODE}(t.code),t.message,null==(e=t.cause)?void 0:e.message)}function gm(t){return new lf(_m(t.code),t.message,t)}function _m(t){switch(t){case hm.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case hm.NETWORK:return n.ErrorCode.NETWORK_ERROR;case hm.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case hm.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case hm.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case hm.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case hm.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}dm(vm),dm(vm.prototype);var ym,mm=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.zg=function(n){return t.prototype.zg.call(this,n)},i.gg=function(){return U_(this)},n}(g_);!function(t){t.Od="audio",t.xd="video",t.Kn="text",t.Bd="image",t.md="unknown"}(ym||(ym={}));var pm=function(){function t(){this.Hm=[],this.dg=void 0}var n=t.prototype;return n.Xm=function(t){this.Hm.push(t),this.dg&&this.dg.push(t.wg)},n.Kh=function(t){Ys(this.Hm,t),this.dg&&Ys(this.dg,t.wg)},n.Vg=function(t){return this.Hm[t]},n.Vm=function(t){return V(t)?function(t,n){for(var i=0;i<n.length;i++)if(!Js(t,n[i]))return!1;return!0}(this.Hm,t):Js(this.Hm,t)},n.wc=function(){Zs(this.Hm),this.dg&&Zs(this.dg)},T(t,[{key:"qg",get:function(){return this.Hm}},{key:"$g",get:function(){return this.Hm.length}},{key:"wg",get:function(){var t,n;return this.dg||(this.dg=((n=(t=this).qg.map(function(t){return t.wg})).item=function(n){var i=0|n,e=t.Vg(i);return e&&e.wg||void 0},n)),this.dg}}]),t}(),km=function(t){function n(n){var i;return(i=t.call(this,h_.Mg)||this)._g=n,i}return E(n,t),n.prototype.gg=function(){return new bm(this._g.wg)},n}(c_),bm=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return E(n,t),n}(f_),Am=0;function Tm(){return Am++}var Sm=0;var Em=0;function Im(){return Em++}var Rm=0;function Nm(){return Rm++}var Dm=0;var Cm=function(t){function n(n){var i;return(i=t.call(this)||this).gs=ym.Od,i.zm=void 0,i.Fh=void 0,i.Wm=void 0,i.Gm=void 0,i.qm=!1,i.Hm=void 0,i.dg=void 0,i.zm=n,i.Gm=Tm(),i.Fh=Dm+++"",i.Wm=n.label,i.Hm=new pm,i.$m(),i}E(n,t);var i=n.prototype;return i.Ym=function(t){this.e_=t},i.$m=function(){this.e_=this.Qm},T(n,[{key:"i_",get:function(){}},{key:"e_",get:function(){return this.qm},set:function(t){this.qm!==t&&(this.qm=t,this.Qm=t,this.Ks(new __(this)))}},{key:"Qm",get:function(){return this.zm.enabled},set:function(t){this.zm.enabled=t}},{key:"wg",get:function(){return this.dg||(this.dg=M_(this)),this.dg}},{key:"r_",get:function(){return this.Fh}},{key:"s_",get:function(){return this.Gm}},{key:"u_",get:function(){return this.zm.kind}},{key:"o_",get:function(){return this.Wm},set:function(t){t!==this.Wm&&(this.Wm=t,this.Ks(new km(this)))}},{key:"a_",get:function(){return this.zm.language}},{key:"g_",get:function(){return this.e_?"enabled":"disabled"}},{key:"Jm",get:function(){return this.zm}},{key:"h_",get:function(){return this.Hm}},{key:"c_",get:function(){},set:function(t){}}]),n}(Su),Pm=0;var Om,xm,Bm,Lm=function(t){function n(n){var i;return(i=t.call(this)||this).gs=ym.xd,i.zm=void 0,i.Fh=void 0,i.Gm=void 0,i.qm=!1,i.Hm=void 0,i.Wm=void 0,i.dg=void 0,i.zm=n,i.Gm=Tm(),i.Fh=Pm+++"",i.Hm=new pm,i.Wm=n.label,i.$m(),i}E(n,t);var i=n.prototype;return i.$m=function(){this.e_=this.Qm},i.Ym=function(t){this.e_=t},T(n,[{key:"i_",get:function(){}},{key:"e_",get:function(){return this.qm},set:function(t){this.qm!==t&&(this.qm=t,this.Qm=t,this.Ks(new __(this)))}},{key:"Qm",get:function(){return!!this.zm.selected},set:function(t){this.zm.selected=t}},{key:"wg",get:function(){return this.dg||(this.dg=M_(this)),this.dg}},{key:"r_",get:function(){return this.Fh}},{key:"s_",get:function(){return this.Gm}},{key:"u_",get:function(){return"main"}},{key:"o_",get:function(){return this.Wm},set:function(t){t!==this.Wm&&(this.Wm=t,this.Ks(new km(this)))}},{key:"a_",get:function(){return this.zm.language}},{key:"g_",get:function(){return this.e_?"enabled":"disabled"}},{key:"Jm",get:function(){return this.zm}},{key:"h_",get:function(){return this.Hm}},{key:"c_",get:function(){},set:function(t){}}]),n}(Su),Mm=function(t){function n(n){var i;return(i=t.call(this,Bf.Af)||this).Im=n,i}return E(n,t),n}(Iu);function Fm(t){switch(t){case xm.DEFAULT:case xm.SRT:case xm.TTML:case xm.WEBVTT:case xm.EMSG:case xm.EVENT_STREAM:case xm.ID3:case xm.CEA608:case xm.DATE_RANGE:return!0;default:return!1}}!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(Om||(Om={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(xm||(xm={})),function(t){t.Zm="cue",t.Km="region",t.tp="stylesheet"}(Bm||(Bm={}));var Um,jm={"line-left":"start",center:"middle","line-right":"end"},Hm={start:"line-left",middle:"center",end:"line-right"};function Xm(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function Vm(t,n){if("auto"===t)switch(n){case"left":return 0;case"right":return 100;default:return 50}return e=50,r="number"==typeof(i=t)?i:y(i),m(r)?e:r;var i,e,r}!function(t){t.np="ip",t.ep="rp",t.Mg="tc"}(Um||(Um={}));var zm=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).sp=i,e}return E(n,t),n}(c_),Wm=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).cue=i,e}return E(n,t),n}(f_);function Gm(t){var n,i=[Um.np,Um.ep,Um.Mg],e={get track(){return t._g.wg},get id(){return t.r_},get uid(){return t.s_},get startTime(){return t.op},get endTime(){return t.ap},get content(){return t.hp},addEventListener:function(t,i){var e=O_(t,C_);n.tu(e,i)},removeEventListener:function(t,i){var e=O_(t,C_);n.au(e,i)}};return n=new Eu(e),t.tu(i,function(t){return n.Ks(t.wg)}),e}function qm(){}function $m(t){return b_(Gm(t),{get align(){return t.cp},get line(){return t.fp},get lineAlign(){return t.lp},get position(){return t.vp},get positionAlign(){return t.dp},get region(){return t.wp?t.wp.wg:null},get size(){return t.Bu},get snapToLines(){return t.gp},get text(){return t.hp},get vertical(){return t._p}})}var Ym=function(t){function n(n){return t.call(this,Um.Mg,n)||this}return E(n,t),n.prototype.gg=function(){return new Qm(this.sp.wg)},n}(zm),Qm=function(t){function n(n){return t.call(this,"update",n)||this}return E(n,t),n}(Wm),Jm=.02;function Zm(t,n){return Ut(t.op,n.op,Jm)&&Ut(t.ap,n.ap,Jm)&&t.r_===n.r_}var Km=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).Gm=void 0,u.Fh=void 0,u.yp=void 0,u.mp=void 0,u.dg=void 0,u.pp=void 0,u.kp=!1,u.bp=void 0,u.Ap=void 0,u.Tp=-1,u.Gm=Nm(),u.yp=n,u.mp=i,u.bp=e,u.Ap=Boolean(r),u.Fh=null!=s?s:"",u}E(n,t);var i=n.prototype;return i.gg=function(){return Gm(this)},i.Sp=function(t){return this===t||S_(this,t)&&Zm(this,t)},i.Kc=function(){this.ou()},T(n,[{key:"op",get:function(){return this.yp},set:function(t){this.yp!==t&&(this.yp=t,this.Ks(new Ym(this)))}},{key:"ap",get:function(){return this.mp},set:function(t){this.mp!==t&&(this.mp=t,this.Ks(new Ym(this)))}},{key:"r_",get:function(){return this.Fh}},{key:"s_",get:function(){return this.Gm}},{key:"wg",get:function(){return this.dg||(this.dg=this.gg()),this.dg}},{key:"Ep",get:function(){return this.kp},set:function(t){this.kp=t}},{key:"_g",get:function(){return this.pp},set:function(t){this.pp=t}},{key:"hp",get:function(){return this.bp},set:function(t){this.bp!==t&&(this.bp=t,this.Ks(new Ym(this)))}},{key:"Ip",get:function(){return this.Ap},set:function(t){this.Ap=t}}]),n}(Su);function tp(t,n){return t.hp===n.hp&&t.fp===n.fp&&t.lp===n.lp&&t.vp===n.vp&&t.dp===n.dp&&t.wp===n.wp&&t.gp===n.gp&&t.Bu===n.Bu&&t.cp===n.cp&&t._p===n._p}var np=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,s)||this).fp="auto",u.lp="start",u.vp="auto",u.dp="auto",u.wp=void 0,u.gp=!0,u.Bu=100,u.cp="center",u._p="",u}return E(n,t),n.prototype.Sp=function(n){return this===n||S_(this,n)&&t.prototype.Sp.call(this,n)&&tp(this,n)},T(n,[{key:"wg",get:function(){return this.dg||(this.dg=$m(this)),this.dg}},{key:"gs",get:function(){return Bm.Zm}}]),n}(Km);function ip(t){var n=J(t.fp)?t.fp:y(t.fp);return m(n)||t.gp||!(n<0||n>100)?m(n)?t.gp?-1:100:n:100}function ep(t){return Vm(t.vp,t.cp)}function rp(t){return Xm(t.dp,t.cp)}function sp(t){var n,i=rp(t),e=ep(t);switch(i){case"line-left":n=100-e;break;case"line-right":n=e;break;case"center":n=e<=50?2*e:2*(100-e)}return g.min(t.Bu,n)}function up(t){return{get id(){return t.r_},get identifier(){return t.r_},get lines(){return t.Rp},get regionAnchorX(){return t.Np},get regionAnchorY(){return t.Dp},get scrollValue(){return t.Cp},get viewportAnchorX(){return t.Pp},get viewportAnchorY(){return t.Op},get width(){return t.xp}}}var op=function(){function t(t,n,i,e,r,s,u,o){this.dg=void 0,this.r_=t,this.xp=n,this.Rp=i,this.Np=e,this.Dp=r,this.Pp=s,this.Op=u,this.Cp=o}return T(t,[{key:"wg",get:function(){return this.dg||(this.dg=up(this)),this.dg}},{key:"gs",get:function(){return Bm.Km}}]),t}(),ap=function(){function t(){}var n=t.prototype;return n.Bp=function(t){return this.Lp()*t},n.Mp=function(t){return this.Fp(t)>0},n.Up=function(t){return this.Fp(t)>=0},n.jp=function(t,n){return this.Xp(t).Hp(n)},n.Sp=function(t){return 0===this.Fp(t)},n.Vp=function(t){return this.Fp(t)<0},n.Hp=function(t){return this.Fp(t)<=0},n.zp=function(){return this.Wp()?this.Gp():this},n.qp=function(t){return this.Xm(t.Gp())},n.Xp=function(t){return this.qp(t).zp()},t}();function hp(t,n){return t.$p()?n.$p()?Ls.Cs:Ls.Ps:n.$p()?Ls.Os:t.Yp()?n.Yp()&&t.Wp()===n.Wp()?Ls.Cs:t.Wp()?Ls.Os:Ls.Ps:n.Wp()?Ls.Ps:Ls.Os}var cp=function(){function t(t,n){this.Qp=void 0,this.Jp=void 0,this.Qp=t,this.Jp=n}t.Zp=function(n,i,e){return e?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.Kp=function(n){return n.unsigned?new t(n,lt.UZERO):new t(n,n.isNegative()?lt.NEG_ONE:lt.ZERO)},t.nk=function(n,i){if(m(n))return i?t.ek:t.rk;if(i){if(n<0)return t.ek;if(n>=3.402823669209385e38)return t.hk}else{if(n<=-1.7014118346046923e38)return t.ck;if(n+1>=1.7014118346046923e38)return t.fk}return n<0?t.nk(-n,i).Gp():t.Zp(lt.fromNumber(n%0x10000000000000000),lt.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.lk=function(){return this.Jp.unsigned},n.vk=function(){return this.Qp.isZero()&&this.Jp.isZero()},n.Wp=function(){return this.Jp.isNegative()},n.dk=function(){return this.lk()?t.Zp(this.Qp,this.Jp,!1):this},n.wk=function(){return this.lk()?this:t.Zp(this.Qp,this.Jp,!0)},n.gk=function(){return this.Qp},n.Lp=function(){return this.Wp()?-this.Gp().Lp():0x10000000000000000*this.Jp.toNumber()+this.Qp.toUnsigned().toNumber()},n._k=function(){return this.Qp.toInt()},n.Sp=function(t){return(this.lk()===t.lk()||this.Jp.getHighBits()>>>31!=1||t.Jp.getHighBits()>>>31!=1)&&(this.Jp.toUnsigned().eq(t.Jp.toUnsigned())&&this.Qp.toUnsigned().eq(t.Qp.toUnsigned()))},n.Fp=function(t){if(this.Sp(t))return Ls.Cs;var n=this.Wp(),i=t.Wp();if(n&&!i)return Ls.Os;if(!n&&i)return Ls.Ps;if(!this.lk())return this.qp(t).Wp()?Ls.Os:Ls.Ps;var e=this.wk(),r=t.wk(),s=r.Jp.comp(e.Jp);return s>0||0===s&&r.Qp.gt(e.Qp)?Ls.Os:Ls.Ps},n.Vp=function(t){return this.Fp(t)<0},n.Hp=function(t){return this.Fp(t)<=0},n.yk=function(t){return this.Fp(t)>0},n.pk=function(t){return this.Fp(t)>=0},n.bk=function(){return new t(this.Qp.not(),this.Jp.not())},n.Ak=function(n){return new t(this.Qp.and(n.Qp),this.Jp.and(n.Jp))},n.Tk=function(n){return new t(this.Qp.or(n.Qp),this.Jp.or(n.Jp))},n.Sk=function(n){var i=127&n;return 0===i?this:i<64?t.Zp(this.Qp.shl(i),this.Jp.shl(i).or(this.Qp.shru(64-i)),this.lk()):t.Zp(lt.ZERO,this.Qp.shl(i-64),this.lk())},n.Ek=function(n){var i=127&n;return 0===i?this:i<64?t.Zp(this.Qp.shru(i).or(this.Jp.shl(64-i)),this.Jp.shr(i),this.lk()):t.Zp(this.Jp.shr(i-64),this.Jp.isNegative()?lt.NEG_ONE:lt.ZERO,this.lk())},n.Ik=function(n){var i=127&n;return 0===i?this:i<64?t.Zp(this.Qp.shru(i).or(this.Jp.shl(64-i)),this.Jp.shru(i),this.lk()):64===i?t.Zp(this.Jp,lt.ZERO,this.lk()):t.Zp(this.Jp.shru(i-64),lt.ZERO,this.lk())},n.Xm=function(n){var i=this.Jp.high>>>16,e=65535&this.Jp.high,r=this.Jp.low>>>16,s=65535&this.Jp.low,u=this.Qp.high>>>16,o=65535&this.Qp.high,a=this.Qp.low>>>16,h=65535&this.Qp.low,c=n.Jp.high>>>16,f=65535&n.Jp.high,l=n.Jp.low>>>16,v=65535&n.Jp.low,d=n.Qp.high>>>16,w=65535&n.Qp.high,g=n.Qp.low>>>16,_=0,y=0,m=0,p=0,k=0,b=0,A=0,T=0;A+=(T+=h+(65535&n.Qp.low))>>>16,T&=65535,b+=(A+=a+g)>>>16,A&=65535,k+=(b+=o+w)>>>16,b&=65535,p+=(k+=u+d)>>>16,k&=65535,m+=(p+=s+v)>>>16,p&=65535,y+=(m+=r+l)>>>16,m&=65535,_+=(y+=e+f)>>>16,y&=65535,_+=i+c,_&=65535;var S=this.lk(),E=lt.fromBits(m<<16|p,_<<16|y,S),I=lt.fromBits(A<<16|T,k<<16|b,S);return t.Zp(I,E,S)},n.qp=function(t){return this.Xm(t.Gp())},n.Gp=function(){return this.bk().Xm(t.Rk)},n.Nk=function(n){if(this.vk()||n.vk())return this.lk()?t.ek:t.rk;if(this.Wp())return n.Wp()?this.Gp().Nk(n.Gp()):this.Gp().Nk(n).Gp();if(n.Wp())return this.Nk(n.Gp()).Gp();if(this.Jp.isZero()&&0===this.Qp.high&&n.Jp.isZero()&&0===n.Qp.high)return t.Kp(this.Qp.multiply(n.Qp));var i=lt.fromBits(4294967295,0,!0),e=this.Qp.and(i),r=this.Qp.shru(32),s=this.Jp.and(i),u=this.Jp.shru(32),o=n.Qp.and(i),a=n.Qp.shru(32),h=n.Jp.and(i),c=n.Jp.shru(32),f=lt.UZERO,l=lt.UZERO,v=lt.UZERO,d=lt.UZERO;f=f.add(e.mul(o)),l=l.add(f.shru(32)),f=f.and(i),l=l.add(r.mul(o)),v=v.add(l.shru(32)),l=(l=l.and(i)).add(e.mul(a)),v=v.add(l.shru(32)),l=l.and(i),v=v.add(s.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(r.mul(a)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(e.mul(h)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(u.mul(o)).add(s.mul(a)).add(r.mul(h)).add(e.mul(c)).and(i);var w=lt.fromBits(f.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0),g=lt.fromBits(v.getLowBitsUnsigned(),d.getLowBitsUnsigned(),!0);return t.Zp(w,g,this.lk())},n.Dk=function(n){var i,e,r=n;if(r.vk())throw new RangeError("division by zero");if(this.vk())return this.lk()?[t.ek,t.ek]:[t.rk,t.rk];if(this.lk()){if(r.lk()||(r=r.wk()),r.yk(this))return[t.ek,this];if(r.yk(this.Ik(1)))return[e=t.Ck,i=this.qp(r)];e=t.ek}else{if(this.Sp(t.ck)){if(r.Sp(t.Rk)||r.Sp(t.Pk))return[t.ck,t.rk];if(r.Sp(t.ck))return[t.Rk,t.rk];var s=this.Ek(1).Ok(r).Sk(1);return s.Sp(t.rk)?e=r.Wp()?t.Rk:t.Pk:(i=this.qp(r.Nk(s)),e=s.Xm(i.Ok(r))),[e,i=this.qp(r.Nk(e))]}if(r.Sp(t.ck))return this.lk()?[t.ek,this]:[t.rk,this];if(this.Wp()){if(r.Wp())return this.Gp().Dk(r.Gp());var u=this.Gp().Dk(r);return e=u[0],i=u[1],[e.Gp(),i.Gp()]}if(r.Wp()){var o=this.Dk(r.Gp());return e=o[0],i=o[1],[e.Gp(),i.Gp()]}e=t.rk}for(i=this;i.pk(r);){for(var a=g.max(1,g.floor(i.Lp()/r.Lp())),h=g.ceil(g.log(a)/g.LN2),c=h<=48?1:g.pow(2,h-48),f=t.nk(a),l=f.Nk(r);l.Wp()||l.yk(i);)a-=c,l=(f=t.nk(a,this.lk())).Nk(r);f.vk()&&(f=t.Rk),e=e.Xm(f),i=i.qp(l)}return[e,i]},n.Ok=function(t){return this.Dk(t)[0]},n.xk=function(t){return this.Dk(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.vk())return"0";if(this.Wp()){if(this.Sp(t.ck)){var e=t.nk(i),r=this.Ok(e),s=r.Nk(e).qp(this);return r.toString(i)+s._k().toString(i)}return"-"+this.Gp().toString(i)}for(var u=t.nk(g.pow(i,6),this.lk()),o=this,a="";;){var h=o.Ok(u),c=(o.qp(h.Nk(u))._k()>>>0).toString(i);if((o=h).vk())return c+a;for(;c.length<6;)c="0"+c;a=String(c)+a}},t}();cp.rk=cp.Kp(lt.ZERO),cp.ek=cp.Kp(lt.UZERO),cp.Rk=cp.Kp(lt.ONE),cp.Ck=cp.Kp(lt.UONE),cp.Pk=cp.Kp(lt.NEG_ONE),cp.fk=cp.Zp(lt.NEG_ONE,lt.MAX_VALUE,!1),cp.hk=cp.Zp(lt.MAX_UNSIGNED_VALUE,lt.MAX_UNSIGNED_VALUE,!0),cp.ck=cp.Zp(lt.ZERO,lt.MIN_VALUE,!1);var fp=function(){function t(t,n){void 0===n&&(n=1),this.Bk=void 0,this.Lk=void 0,this.Bk=t,this.Lk=n}t.Mk=function(n){return new t(g.ceil(n.Bk),n.Lk)},t.Fk=function(n){return new t(g.floor(n.Bk),n.Lk)},t.Uk=function(t,n){return t.Up(n)?t:n},t.jk=function(t,n){return t.Hp(n)?t:n};var n=t.prototype;return n.Xm=function(n){return this.Lk>=n.Lk?new t(this.Bk+n.Hk(this.Lk).Bk,this.Lk):new t(this.Hk(n.Lk).Bk+n.Bk,n.Lk)},n.Mp=function(t){return t.Vp(this)},n.Up=function(t){return t.Hp(this)},n.Xp=function(n){return this.Lk>=n.Lk?new t(g.abs(this.Bk-n.Hk(this.Lk).Bk),this.Lk):n.Xp(this)},n.jp=function(t,n){return this.Xp(t).Hp(n)},n.Fp=function(t){return i=t,(n=this).Lk>=i.Lk?Ws(n.Bk,i.Hk(n.Lk).Bk):Ws(n.Hk(i.Lk).Bk,i.Bk);var n,i},n.Sp=function(t){return 0===this.Fp(t)},n.Vp=function(t){return this.Fp(t)<0},n.Hp=function(t){return this.Fp(t)<=0},n.Hk=function(n){return new t(this.Bk*(n/this.Lk),n)},n.qp=function(n){return this.Lk>=n.Lk?new t(this.Bk-n.Hk(this.Lk).Bk,this.Lk):new t(this.Hk(n.Lk).Bk-n.Bk,n.Lk)},n.Xk=function(n){return new t(this.Bk*n,this.Lk)},T(t,[{key:"Yp",get:function(){return!isFinite(this.Bk)}},{key:"Vk",get:function(){return this.Bk/this.Lk}}]),t}();fp.zk=new fp(1/6,1),fp.rk=new fp(0),fp.Wk=new fp(1/0),fp.Gk=1e6;var lp=function(t){function n(n,i){var e;return(e=t.call(this)||this).Ti=void 0,e.Lk=void 0,e.Ti=n.toSigned(),e.Lk=i>>>0,e}E(n,t),n.qk=function(t,i){return void 0===i&&(i=1e6),n.nk(t*i,i)},n.nk=function(t,i){return m(t)?n.$k:t===1/0?n.Yk:t===-1/0?n.Qk:new n(lt.fromNumber(t),i)},n.Kp=function(t,i){return new n(t,i)},n.Jk=function(t){return n.qk(t.Vk,1e6)},n.Zk=function(t){return new n(lt.fromNumber(t.getTime()),1e3)},n.Uk=function(t,n){return t.Up(n)?t:n},n.jk=function(t,n){return t.Hp(n)?t:n},n.Kk=function(t,i,e){return n.Uk(i,n.jk(e,t))};var i=n.prototype;return i.Wp=function(){return this.Ti.isNegative()},i.vk=function(){return 0!==this.Lk&&this.Ti.isZero()},i.Yp=function(){return 0===this.Lk&&!this.Ti.isZero()},i.$p=function(){return 0===this.Lk&&this.Ti.isZero()},i.Lp=function(){if(0===this.Lk)return this.Ti.isZero()?NaN:this.Ti.isNegative()?-1/0:1/0;var t=this.Ti.divide(this.Lk),n=this.Ti.subtract(t.multiply(this.Lk));return t.toNumber()+n.toNumber()/this.Lk},i.gk=function(){if(0===this.Lk)throw new l("Failed to convert timestamp");return this.Ti},i.ib=function(){return new Date(0===this.Lk?NaN:this.Hk(1e3).Ti.toNumber())},i.eb=function(){return new fp(0===this.Lk?this.Lp():this.Ti.toNumber(),this.Lk)},i.Hk=function(t,i){void 0===i&&(i=wp.sb);var e=this.Lk;if(e===t)return this;if(0===e)return this;var r=Vt(e,t);return new n(function(t,n,i){var e=t.Dk(n),r=e[0],s=e[1];if(s.vk())return r;if(i===wp.sb)return s.Wp()?r.qp(cp.Rk):r;if(i===wp.ub)return s.Wp()?r:r.Xm(cp.Rk);var u=s.Nk(cp.nk(2));return u.Wp()?u.Gp().Vp(n)?r:r.qp(cp.Rk):u.Vp(n)?r:r.Xm(cp.Rk)}(cp.Kp(this.Ti).Nk(cp.nk(t/r)),cp.nk(e/r),i).gk(),t)},i.Fp=function(t){if(this===t)return Ls.Cs;if(0===this.Lk||0===t.Lk)return hp(this,t);if(this.vk())return t.vk()?Ls.Cs:t.Wp()?Ls.Ps:Ls.Os;if(t.vk())return this.Wp()?Ls.Os:Ls.Ps;var n=g.min(this.Lk,t.Lk),i=this.Hk(n,wp.ob).Ti,e=t.Hk(n,wp.ob).Ti;return i.compare(e)},i.Gp=function(){return 0===this.Lk?vp(this):new n(this.Ti.negate(),this.Lk)},i.Xm=function(t){if(0===this.Lk||0===t.Lk)return dp(this,t);if(this.vk())return t;if(t.vk())return this;var i=g.max(this.Lk,t.Lk),e=this.Hk(i,wp.ob),r=t.Hk(i,wp.ob);return new n(e.Ti.add(r.Ti),i)},i.Nk=function(t){if(this.$p()||m(t))return n.$k;if(this.Yp()||!isFinite(t)){if(this.vk()||0===t)return n.$k;var i=this.Wp()?n.Qk:n.Yk;return t<0?i.Gp():i}return this.vk()?this:new n(0===t?lt.ZERO:this.Ti.multiply(t),this.Lk)},i.Ok=function(t){if(this.$p()||m(t))return n.$k;if(this.Yp())return isFinite(t)?0===t?1/t<0?this.Gp():this:t<0?this.Gp():this:n.$k;if(!isFinite(t))return new n(lt.ZERO,this.Lk);if(this.vk())return 0===t?n.$k:new n(lt.ZERO,this.Lk);if(0===t){var i=this.Wp()?n.Qk:n.Yk;return 1/t<0?i.Gp():i}return new n(this.Ti.divide(t),this.Lk)},i.hb=function(){return[this.Ti.low,this.Ti.high,this.Lk]},n}(ap);function vp(t){return t.$p()?t:t.Wp()?lp.Yk:lp.Qk}function dp(t,n){return t.$p()||n.$p()?lp.$k:t.Yp()&&n.Yp()?t.Wp()===n.Wp()?t:lp.$k:t.Yp()?t:n}lp.rk=new lp(lt.ZERO,1e6),lp.$k=new lp(lt.ZERO,0),lp.Yk=new lp(lt.ONE,0),lp.Qk=new lp(lt.NEG_ONE,0);var wp,gp=function(t){function n(n,i){var e;return(e=t.call(this)||this).Ti=void 0,e.Lk=void 0,e.Ti=BigInt.asIntN(64,n),e.Lk=i>>>0,e}E(n,t),n.qk=function(t,i){return void 0===i&&(i=1e6),n.nk(t*i,i)},n.nk=function(t,i){return m(t)?n.$k:t===1/0?n.Yk:t===-1/0?n.Qk:new n(BigInt(g.floor(t)),i)},n.Kp=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.Jk=function(t){return n.qk(t.Vk,1e6)},n.Zk=function(t){return n.nk(t.getTime(),1e3)},n.Uk=function(t,n){return t.Up(n)?t:n},n.jk=function(t,n){return t.Hp(n)?t:n},n.Kk=function(t,i,e){return n.Uk(i,n.jk(e,t))};var i=n.prototype;return i.Wp=function(){return this.Ti<BigInt(0)},i.vk=function(){return 0!==this.Lk&&this.Ti===BigInt(0)},i.Yp=function(){return 0===this.Lk&&this.Ti!==BigInt(0)},i.$p=function(){return 0===this.Lk&&this.Ti===BigInt(0)},i.Lp=function(){if(0===this.Lk)return this.Ti===BigInt(0)?NaN:this.Ti<BigInt(0)?-1/0:1/0;var t=this.Ti/BigInt(this.Lk),n=this.Ti-t*BigInt(this.Lk);return Number(t)+Number(n)/this.Lk},i.gk=function(){if(0===this.Lk)throw new l("Failed to convert timestamp");return this.cb()},i.cb=function(){var t=this.Ti&BigInt(4294967295),n=this.Ti>>BigInt(32)&BigInt(4294967295);return lt.fromBits(Number(t),Number(n))},i.ib=function(){return new Date(0===this.Lk?NaN:Number(this.Hk(1e3).Ti))},i.eb=function(){return new fp(0===this.Lk?this.Lp():Number(this.Ti),this.Lk)},i.Hk=function(t,i){void 0===i&&(i=wp.sb);var e=this.Lk;if(e===t)return this;if(0===e)return this;var r=Vt(e,t);return new n(function(t,n,i){var e=t/n,r=t-e*n;if(r===BigInt(0))return e;if(i===wp.sb)return r<BigInt(0)?e-BigInt(1):e;if(i===wp.ub)return r<BigInt(0)?e:e+BigInt(1);var s=r*BigInt(2);return s<BigInt(0)?-s<n?e:e-BigInt(1):s<n?e:e+BigInt(1)}(this.Ti*BigInt(t/r),BigInt(e/r),i),t)},i.Fp=function(t){if(this===t)return Ls.Cs;if(0===this.Lk||0===t.Lk)return hp(this,t);if(this.vk())return t.vk()?Ls.Cs:t.Wp()?Ls.Ps:Ls.Os;if(t.vk())return this.Wp()?Ls.Os:Ls.Ps;var n=g.min(this.Lk,t.Lk),i=this.Hk(n,wp.ob).Ti,e=t.Hk(n,wp.ob).Ti;return i>e?Ls.Ps:i<e?Ls.Os:Ls.Cs},i.Gp=function(){return 0===this.Lk?_p(this):new n(-this.Ti,this.Lk)},i.Xm=function(t){if(0===this.Lk||0===t.Lk)return yp(this,t);if(this.vk())return t;if(t.vk())return this;var i=g.max(this.Lk,t.Lk),e=this.Hk(i,wp.ob),r=t.Hk(i,wp.ob);return new n(e.Ti+r.Ti,i)},i.Nk=function(t){if(this.$p()||m(t))return n.$k;if(this.Yp()||!isFinite(t)){if(this.vk()||0===t)return n.$k;var i=this.Wp()?n.Qk:n.Yk;return t<0?i.Gp():i}return this.vk()?this:new n(0===t?BigInt(0):this.Ti*BigInt(t),this.Lk)},i.Ok=function(t){if(this.$p()||m(t))return n.$k;if(this.Yp())return isFinite(t)?0===t?1/t<0?this.Gp():this:t<0?this.Gp():this:n.$k;if(!isFinite(t))return new n(BigInt(0),this.Lk);if(this.vk())return 0===t?n.$k:new n(BigInt(0),this.Lk);if(0===t){var i=this.Wp()?n.Qk:n.Yk;return 1/t<0?i.Gp():i}return new n(this.Ti/BigInt(t),this.Lk)},i.hb=function(){var t=this.cb();return[t.low,t.high,this.Lk]},T(n,null,[{key:"rk",get:function(){return n.fb||(n.fb=new n(BigInt(0),1e6)),n.fb}},{key:"$k",get:function(){return n.vb||(n.vb=new n(BigInt(0),0)),n.vb}},{key:"Yk",get:function(){return n.wb||(n.wb=new n(BigInt(1),0)),n.wb}},{key:"Qk",get:function(){return n.gb||(n.gb=new n(BigInt(-1),0)),n.gb}}]),n}(ap);function _p(t){return t.$p()?t:t.Wp()?gp.Yk:gp.Qk}function yp(t,n){return t.$p()||n.$p()?gp.$k:t.Yp()&&n.Yp()?t.Wp()===n.Wp()?t:gp.$k:t.Yp()?t:n}gp.fb=void 0,gp.vb=void 0,gp.wb=void 0,gp.gb=void 0,function(t){t[t.sb=0]="sb",t[t.ub=1]="ub",t[t.ob=2]="ob"}(wp||(wp={}));var mp=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?gp:lp;function pp(t,n){return t.Fp(n)}var kp=9e4,bp=g.pow(2,33),Ap=mp.nk(bp,kp),Tp=Ap.Ok(2);var Sp,Ep,Ip,Rp,Np={_b:0,yb:1/0,mb:0},Dp=6,Cp=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],Pp=[" ","\t","\n","\f","\r"],Op=/^\d*$/,xp=/.*[0-9]+.*/,Bp=/^[\d.-]+$/,Lp=/(^\.|\.$)/,Mp=/(\D\.|\.\D)/;function Fp(t,n){void 0===n&&(n=Np);var i={p_:[],pb:[],kb:[]},e=Up(t),r=new Ko;if(Qp(e),jp(e,function(t){return"\n"!==t},r),r.Lu>=e.length)return i;(r.Mu(1),"\n"!==e.charAt(r.Lu))?zp(Hp(e,r,!1,!0,i,n),i):r.Mu(1);for(jp(e,function(t){return"\n"===t},r);r.Lu<e.length;){zp(Hp(e,r,!1,!1,i,n),i),jp(e,function(t){return"\n"===t},r)}return i}function Up(t){var n=ks(t,"\0"," "),i=ks(n,"\r\n","\n");return ks(i,"\r","\n")}function jp(t,n,i){for(var e=i.Lu;i.Lu<t.length&&n(t.charAt(i.Lu));)i.Mu(1);return t.substring(e,i.Lu)}function Hp(t,n,e,r,s,u){for(var o,a=0,h=n.Lu,c="",f=!1,l=!1,v=null,d=null,w=null;!f;)if(o=jp(t,function(t){return"\n"!==t},n),a++,n.Lu>=t.length?f=!0:n.Mu(1),bs(o,"--\x3e")){if(r||1!==a&&(2!==a||l)){n.Uu(h);break}l=!0,h=n.Lu,v=new np(0,0,"",!1,c);try{Wp(o,s.pb,v,u),c=""}catch(t){i.Tr(t),v=null}}else{if(""===o)break;r&&As(o,"X-TIMESTAMP-MAP")&&(s.bb=Xp(o)),r||2!==a||e||(Ss("STYLE",c.replace(/ /g,""))?(d={gs:Bm.tp},c=""):Ss("REGION",c.replace(/ /g,""))&&(w=new op("",100,3,0,100,0,100,""),c="")),c&&(c+="\n"),c+=o,h=n.Lu}if(v)return v.hp=c,v;if(d);else if(w)return function(t,n){for(var i=t.split(/\s/),e=0;e<i.length;e++){var r=i[e];if(0!==r.length&&bs(r,":")&&":"!==r.charAt(0)&&":"!==r.charAt(r.length-1)){var s=r.indexOf(":"),u=r.substring(0,s),o=r.substring(s+1,r.length);switch(u.toUpperCase()){case"ID":ok(o,n);break;case"WIDTH":ck(o,n);break;case"LINES":hk(o,n);break;case"REGIONANCHOR":var a=uk(o);a&&(n.Np=a[0],n.Dp=a[1]);break;case"VIEWPORTANCHOR":var h=uk(o);h&&(n.Pp=h[0],n.Op=h[1]);break;case"SCROLL":ak(o,n)}}}}(c,w),w;return null}function Xp(t){var n,i,e=t.split("=")[1].trim().split(","),r=Vp(e[0].trim(),"MPEGTS")?e[0]:e[1],s=Vp(e[0].trim(),"LOCAL")?e[0]:e[1];return{Ab:(i=Number(r.split(/:(.*)/)[1].trim())||0,mp.nk(i,kp)),Tb:mp.qk(null!=(n=$p(s.split(/:(.*)/)[1].trim(),new Ko))?n:0)}}function Vp(t,n){return As(t,n)}function zp(t,n){t&&function(t){return t.gs===Bm.Zm}(t)?n.p_.push(t):t&&function(t){return t.gs===Bm.Km}(t)?n.pb.push(t):t&&function(t){return t.gs===Bm.tp}(t)&&n.kb.push(t)}function Wp(t,n,i,e){var r=new Ko;if(Jp(t,r),i.op=Gp($p(t,r),e),Jp(t,r),"--\x3e"!==t.substring(r.Lu,r.Lu+3))throw l("Something went wrong with parsing a WebVTT Cue");r.Mu(3),Jp(t,r),i.ap=Gp($p(t,r),e),function(t,n,i){for(var e=t.split(/\s/),r=0;r<e.length;r++){var s=e[r];if(0!==s.length&&bs(s,":")&&":"!==s.charAt(0)&&":"!==s.charAt(s.length-1)){var u=s.indexOf(":"),o=s.substring(0,u),a=s.substring(u+1,s.length);switch(o.toUpperCase()){case"REGION":ik(a,n,i);break;case"VERTICAL":rk(a,n);break;case"D":sk(a,n);break;case"LINE":case"L":tk(a,n);break;case"POSITION":case"T":nk(a,n);break;case"SIZE":case"S":ek(a,n);break;case"ALIGN":case"A":Kp(a,n)}}}}(t.substring(r.Lu,t.length),i,n)}function Gp(t,n){return t+n._b}function qp(t){return/^[0-9]$/.test(t)}function $p(t,n){var i,e,r,s=ks(t,",","."),u=!1;if(n.Lu>=s.length||!qp(s.charAt(n.Lu)))throw new l("Something went wrong with parsing a WebVTT Cue timestamp");var o=jp(s,qp,n),a=_(o,10);if((o.length>2||a>59)&&(u=!0),n.Lu>=s.length||":"!==s.charAt(n.Lu))throw new l("Something went wrong with parsing a WebVTT Cue timestamp");n.Mu(1);var h=jp(s,qp,n);if(2!==h.length)throw new l("Something went wrong with parsing a WebVTT Cue timestamp");var c=_(h,10);if(u||n.Lu<s.length&&":"===s.charAt(n.Lu)){if(n.Lu>=s.length||":"!==s.charAt(n.Lu))throw new l("Something went wrong with parsing a WebVTT Cue timestamp");n.Mu(1);var f=jp(s,qp,n);if(2!==h.length)throw new l("Something went wrong with parsing a WebVTT Cue timestamp");i=a,e=c,r=_(f,10)}else i=0,e=a,r=c;if(n.Lu>=s.length||"."!==s.charAt(n.Lu))throw new l("Something went wrong with parsing a WebVTT Cue timestamp");n.Mu(1);var v=jp(s,qp,n),d=_(v,10);if(c>59||r>59)throw new l("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*e+r+d/1e3}function Yp(t){return Qp(Up(t))}function Qp(t){if(t.length<Dp)return!1;for(var n=0;n<Cp.length;n++){if(As(t,Cp[n]))return!0}return!1}function Jp(t,n){for(;n.Lu<t.length&&(i=t.charAt(n.Lu),Js(Pp,i));)n.Mu(1);var i}function Zp(t){var n=t.lastIndexOf("%");if(n>-1){var i=y(t.substring(0,n));if(!m(i)&&i>=0&&i<=100)return i}return null}function Kp(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.cp=i;break;case"middle":n.cp="center"}}function tk(t,n){var i,e,r=t.indexOf(",");if(r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e=""),xp.test(i)){var s,u;if(Ts(i,"%")){var o=Zp(i);if(null===o)return;s=o,u=!1}else{if(!Bp.test(i)||i.lastIndexOf("-")>0)return;var a=i.indexOf(".");if(a>=0&&(a!==i.lastIndexOf(".")||!Mp.test(i)||Lp.test(i)))return;if(s=y(i),m(s))return;u=!0}switch(n.fp=s,n.gp=u,e=e.toLowerCase()){case"start":case"center":case"end":n.lp=e;break;case"middle":n.lp="center"}}}function nk(t,n){var i,e,r=t.indexOf(",");r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e="");var s=Zp(i);if(null!==s)switch(n.vp=s,e=e.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.dp=e;break;case"start":n.dp="line-left";break;case"middle":n.dp="center";break;case"end":n.dp="line-right"}}function ik(t,n,i){var e=qs(i,function(n){return n.r_===t});void 0!==e&&(n.wp=e)}function ek(t,n){var i=Zp(t);null!==i&&(n.Bu=i)}function rk(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n._p="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n._p="lr";break;default:n._p=""}}function sk(t,n){"VERTICAL"===t.toUpperCase()?n._p="rl":"VERTICAL-LR"===t.toUpperCase()&&(n._p="lr")}function uk(t){if(t.indexOf(",")>=0){var n=Zp(t.substring(0,t.indexOf(","))),i=Zp(t.substring(t.indexOf(",")+1,t.length));return[Ft(n||0,0,100),Ft(i||100,0,100)]}return null}function ok(t,n){n.r_=t}function ak(t,n){"up"===t.toLowerCase()&&(n.Cp="up")}function hk(t,n){Op.test(t)&&(n.Rp=_(t))}function ck(t,n){var i=Zp(t);null!==i&&(n.xp=i)}!function(t){t.Sb="moov",t.Eb="mvhd",t.Ib="trak",t.Rb="tkhd",t.Nb="mdia",t.Db="mdhd",t.Cb="hdlr",t.Pb="minf",t.Ob="stbl",t.xb="stsd",t.Bb="stsc",t.Lb="mvex",t.Mb="trex",t.Fb="avc1",t.Ub="avcC",t.jb="hev1",t.Hb="hvc1",t.Xb="hvcC",t.Vb="pasp",t.zb="mp4a",t.Wb="esds",t.Gb="wvtt",t.qb="vttC",t.$b="vlab",t.Yb="enca",t.Qb="encv",t.Jb="moof",t.Zb="mfhd",t.Kb="traf",t.tA="tfhd",t.nA="trun",t.iA="tfdt",t.eA="senc",t.rA="mdat",t.sA="pssh",t.uA="emsg",t.oA="sidx",t.aA="styp",t.hA="ftyp",t.cA="sinf",t.fA="frma"}(Sp||(Sp={})),function(t){t.xd="vide",t.Od="soun",t.lA="subt",t.vA="hint",t.dA="meta",t.wA="auxv"}(Ep||(Ep={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(Ip||(Ip={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(Rp||(Rp={}));var fk=function(){function t(t,n){this.Xi=void 0,this.gA=void 0,this.Xi=t,this.gA=n}var n=t.prototype;return n._A=function(){return vo(this.Xi,this.gA)},n.yA=function(){return po(this.Xi,this.gA)},n.mA=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.Lu,i);return n.Mu(2),e}(this.Xi,this.gA)},n.pA=function(){return bo(this.Xi,this.gA)},n.kA=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.Lu,i);return n.Mu(4),e}(this.Xi,this.gA)},n.bA=function(){return To(this.Xi,this.gA)},n.AA=function(t){return go(this.Xi,this.gA,t)},n.TA=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(bo(t,n));return e}(this.Xi,this.gA,t)},n.SA=function(t){return Eo(this.Xi,this.gA,t)},n.EA=function(){return jo(this.Xi,this.gA)},n.IA=function(t){this.gA.Mu(t)},n.ju=function(){return new t(this.Xi,this.gA.ju())},t}();function lk(t,n){return t.gs===n}function vk(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(lk(e,n))return e}}var dk=function(t){function n(n,i){var e;return(e=t.call(this)||this).RA=n,e.NA=i,e}return E(n,t),T(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(nn),wk=function(){function t(){}return t.DA=function(n){var i=n.Xi,e=n.gA,r=t.CA(i,e,!1);if(!r.PA)throw new dk(e.Lu,r.Oi);return r.Oi},t.CA=function(n,i,e){for(var r=[];i.Lu<n.byteLength;){var s=t.OA(n,i,e);if(!s.PA)return{PA:!1,Oi:r};r.push(s.xA)}return{PA:!0,Oi:r}},t.BA=function(n,i){var e=t.OA(n,i,!1);if(!e.PA)throw new dk(i.Lu);return e.xA},t.LA=function(n,i){for(var e=n.Xi,r=n.gA;r.Lu<e.byteLength;){var s=t.OA(e,r,!1);if(!s.PA)return;if(s.xA.gs===i)return s.xA}},t.OA=function(n,i,e){var r=i.Lu,s=t.MA(n,i);if(!s.PA)return s;var u=s.FA,o=u.Bu;if(0===o){if(e)return i.Uu(r),{PA:!1,UA:1/0};o=n.byteLength-r}var a=r+o;if(a>n.byteLength){var h=a;return i.Uu(r),{PA:!1,UA:h}}var c={gs:u.gs,Lu:r,Xi:new fk(Wo(n,r,a),new Ko(u.jA))};return i.Uu(a),{PA:!0,xA:c}},t.MA=function(t,n){var i=n.Lu;if(!yo(t,n,8))return{PA:!1,UA:n.Lu+8};var e=bo(t,n),r=Eo(t,n,4);if(1===e){if(!yo(t,n,8)){var s=n.Lu+8;return n.Uu(i),{PA:!1,UA:s}}e=To(t,n).toNumber()}if("uuid"===r){if(!yo(t,n,16)){var u=n.Lu+16;return n.Uu(i),{PA:!1,UA:u}}r=Eo(t,n,16)}return{PA:!0,FA:{gs:r,Bu:e,jA:n.Lu-i}}},t.HA=function(t,n,i){var e=t.Xi,r=t.gA,s=zo(qo(e),r.Lu,e.byteLength);return i&&(s=Jo(s)),r.Mu(s.byteLength),{gs:n,Xi:s}},t.XA=function(n,i,e){var r=mk(n.pA());return{gs:i,VA:r.version,zA:r.flags,Xi:t.HA(n,i,e).Xi}},t}();function gk(t,n){var i=_k(t,n);if(!i)throw new l("Missing "+n+" atom");return i}function _k(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.gs===n)return e.Xi}}function yk(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.gs===n&&i.push(r.Xi)}return i}function mk(t){return{version:t>>24,flags:new co(16777215&t)}}var pk=function(){function t(){}return t.WA=function(n){for(var i=[],e=wk.DA(new fk(n,new Ko)),r=0;r<e.length;r++){var s=e[r],u=t.GA(s);u&&i.push(u)}return i},t.qA=function(t){return wk.CA(t,new Ko,!1).Oi.some(this.$A)},t.YA=function(n){return yk(wk.DA(new fk(n,new Ko)),Sp.sA).map(t.QA)},t.JA=function(n){return yk(wk.DA(n.Xi),Sp.sA).map(t.QA)},t.$A=function(t){return t.gs===Sp.hA||t.gs===Sp.aA||t.gs===Sp.Sb||t.gs===Sp.Jb||t.gs===Sp.rA||t.gs===Sp.oA||t.gs===Sp.uA},t.GA=function(n){switch(n.gs){case Sp.Sb:return t.ZA(n.Xi);case Sp.Jb:return t.KA(n.Xi,n.Lu);case Sp.rA:return t.tT(n.Xi);case Sp.oA:return t.nT(n.Xi);case Sp.uA:return t.iT(n.Xi)}},t.ZA=function(n){var i=wk.DA(n),e=gk(i,Sp.Eb),r=yk(i,Sp.Ib),s=_k(i,Sp.Lb),u=t.eT(e),o=r.map(t.rT),a=s?t.sT(s):void 0;return{gs:Sp.Sb,FA:u,uT:o,oT:a}},t.eT=function(t){var n=mk(t.pA()),i=n.version,e=n.flags,r=1===i?t.bA():t.pA(),s=1===i?t.bA():t.pA(),u=t.pA(),o=1===i?t.bA():t.pA(),a=t.pA(),h=t.yA()>>8;t.IA(2),t.IA(8);var c=t.TA(9);t.IA(24);var f=t.pA();return{gs:Sp.Eb,VA:i,zA:e,aT:r,hT:s,Lk:u,uy:o,cT:a,by:h,fT:c,lT:f}},t.rT=function(n){var i=wk.DA(n),e=gk(i,Sp.Rb),r=gk(i,Sp.Nb),s=t.vT(e),u=t.dT(r);return{gs:Sp.Ib,FA:s,wT:u}},t.vT=function(t){var n=mk(t.pA()),i=n.version,e=n.flags,r=1===i?t.bA():t.pA(),s=1===i?t.bA():t.pA(),u=t.pA();t.IA(4);var o=1===i?t.bA():t.pA();t.IA(8);var a=t.mA(),h=t.mA(),c=t.mA()/g.pow(2,8);t.IA(2);var f=t.TA(9),l=t.pA()/g.pow(2,16),v=t.pA()/g.pow(2,16);return{gs:Sp.Rb,gT:e.Xu(1),_T:e.Xu(2),yT:e.Xu(4),aT:r,hT:s,mT:u,uy:o,pT:a,kT:h,by:c,fT:f,xp:l,bT:v}},t.dT=function(n){var i=wk.DA(n),e=gk(i,Sp.Db),r=gk(i,Sp.Cb),s=gk(i,Sp.Pb),u=t.AT(e),o=t.TT(r),a=t.ST(s);return{gs:Sp.Nb,FA:u,ET:o,IT:a}},t.AT=function(t){var n=mk(t.pA()),i=n.version,e=n.flags,r=1===i?t.bA():t.pA(),s=1===i?t.bA():t.pA(),u=t.pA(),o=1===i?t.bA():t.pA();return t.yA(),t.IA(2),{gs:Sp.Db,VA:i,zA:e,aT:r,hT:s,Lk:u,uy:o}},t.TT=function(t){var n=mk(t.pA()),i=n.version,e=n.flags;t.IA(4);var r=t.SA(4);t.IA(12);var s=t.EA();return{gs:Sp.Cb,VA:i,zA:e,RT:r,gi:s}},t.ST=function(n){var i=gk(wk.DA(n),Sp.Ob),e=t.NT(i);return{gs:Sp.Pb,DT:e}},t.NT=function(n){var i=gk(wk.DA(n),Sp.xb),e=t.CT(i);return{gs:Sp.Ob,PT:e}},t.CT=function(n){var i=mk(n.pA()),e=i.version,r=i.flags;n.pA();for(var s=[],u=wk.DA(n),o=0;o<u.length;o++){var a=u[o],h=t.OT(a.Xi,a.gs);h&&s.push(h)}return{gs:Sp.xb,VA:e,zA:r,xT:s}},t.OT=function(n,i){var e=t.BT(n,i);return e||((e=t.LT(n,i))||(i===Sp.Gb?t.MT(n):void 0))},t.BT=function(n,i){return i===Sp.zb?t.FT(n):i===Sp.Yb?t.UT(n):void 0},t.LT=function(n,i){return i===Sp.Fb?t.jT(n):i===Sp.jb||i===Sp.Hb?t.HT(n,i):i===Sp.Qb?t.XT(n):void 0},t.VT=function(t,n){return t.IA(6),{gs:n,zT:t.yA()}},t.WT=function(n,i){var e=t.VT(n,i);n.IA(8);var r=n.yA(),s=n.yA();return n.IA(2),n.IA(2),jr({},e,{GT:r,qT:s,$T:n.pA()>>>16})},t.YT=function(n,i){var e=t.VT(n,i);n.IA(2),n.IA(2),n.IA(12);var r=n.yA(),s=n.yA(),u=n.pA(),o=n.pA();n.IA(4);var a=n.yA();n.IA(32);var h=n.yA();return n.IA(2),jr({},e,{xp:r,bT:s,QT:u,JT:o,ZT:a,KT:h})},t.FT=function(n){var i=t.WT(n,Sp.zb),e=gk(wk.DA(n),Sp.Wb);return jr({},i,{tS:t.nS(e)})},t.MT=function(n){var i=t.VT(n,Sp.Gb),e=wk.DA(n),r=gk(e,Sp.qb),s=t.iS(r),u=_k(e,Sp.$b);return jr({},i,{eS:s,rS:u?t.sS(u):u})},t.iS=function(t){return{gs:Sp.qb,cc:t.EA()}},t.sS=function(t){return{gs:Sp.$b,o_:t.EA()}},t.nS=function(t){return wk.XA(t,Sp.Wb,!0)},t.jT=function(n){var i=t.YT(n,Sp.Fb),e=wk.DA(n),r=gk(e,Sp.Ub),s=_k(e,Sp.Vb);return jr({},i,{uS:t.oS(r),aS:s?t.hS(s):void 0})},t.HT=function(n,i){var e=t.YT(n,i),r=gk(wk.DA(n),Sp.Xb);return jr({},e,{cS:t.fS(r)})},t.XT=function(n){var i=n.ju(),e=t.YT(n,Sp.Qb),r=gk(wk.DA(n),Sp.cA),s=t.lS(r);return jr({},e,{vS:t.LT(i,s.wS.dS),gS:s})},t.UT=function(n){var i=n.ju(),e=t.WT(n,Sp.Yb),r=gk(wk.DA(n),Sp.cA),s=t.lS(r);return jr({},e,{vS:t.BT(i,s.wS.dS),gS:s})},t.lS=function(n){var i=gk(wk.DA(n),Sp.fA),e=t._S(i);return{gs:Sp.cA,wS:e}},t._S=function(t){var n=t.SA(4);return{gs:Sp.fA,dS:n}},t.oS=function(t){return wk.HA(t,Sp.Ub,!0)},t.fS=function(t){return wk.HA(t,Sp.Xb,!0)},t.hS=function(t){var n=t.pA(),i=t.pA();return{gs:Sp.Vb,yS:n,mS:i}},t.sT=function(n){var i=yk(wk.DA(n),Sp.Mb).map(t.pS);return{gs:Sp.Lb,uT:i}},t.pS=function(t){var n=mk(t.pA()),i=n.version,e=n.flags,r=t.pA(),s=t.pA(),u=t.pA(),o=t.pA(),a=t.pA();return{gs:Sp.Mb,VA:i,zA:e,mT:r,kS:s,bS:u,AS:o,TS:a}},t.KA=function(n,i){var e=wk.DA(n),r=gk(e,Sp.Zb),s=yk(e,Sp.Kb),u=t.SS(r),o=s.map(t.ES);return{gs:Sp.Jb,IS:i,FA:u,uT:o}},t.SS=function(t){var n=mk(t.pA()),i=n.version,e=n.flags,r=t.pA();return{gs:Sp.Zb,VA:i,zA:e,RS:r}},t.ES=function(n){var i=wk.DA(n),e=gk(i,Sp.tA),r=yk(i,Sp.nA),s=_k(i,Sp.iA),u=t.NS(e),o=r.map(function(n){return t.DS(n,u)}),a=s?t.CS(s):void 0;return{gs:Sp.Kb,FA:u,PS:o,OS:a}},t.NS=function(t){var n=mk(t.pA()),i=n.version,e=n.flags,r=t.pA(),s=e.Xu(Ip.BASE_DATA_OFFSET_PRESENT)?t.bA():void 0,u=e.Xu(Ip.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.pA():void 0,o=e.Xu(Ip.DEFAULT_SAMPLE_DURATION_PRESENT)?t.pA():void 0,a=e.Xu(Ip.DEFAULT_SAMPLE_SIZE_PRESENT)?t.pA():void 0,h=e.Xu(Ip.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.pA():void 0;return{gs:Sp.tA,VA:i,zA:e,mT:r,xS:s,LS:u,bS:o,AS:a,TS:h}},t.DS=function(n,i){for(var e=mk(n.pA()),r=e.version,s=e.flags,u=n.pA(),o=s.Xu(Rp.DATA_OFFSET_PRESENT)?n.kA():void 0,a=s.Xu(Rp.FIRST_SAMPLE_FLAGS_PRESENT)?n.pA():void 0,h=[],c=0;c<u;c++){var f=t.MS(n,s,r,i);0===c&&void 0!==a&&(f.zA=a),h.push(f)}return{gs:Sp.nA,VA:r,zA:s,FS:u,IS:o,US:a,jS:h}},t.MS=function(t,n,i,e){return{uy:n.Xu(Rp.SAMPLE_DURATION_PRESENT)?t.pA():e.bS,Bu:n.Xu(Rp.SAMPLE_SIZE_PRESENT)?t.pA():e.AS,zA:n.Xu(Rp.SAMPLE_FLAGS_PRESENT)?t.pA():e.TS,HS:n.Xu(Rp.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.pA():t.kA():void 0}},t.iT=function(t){var n=t.Xi,i=t.gA,e=mk(bo(n,i)),r=e.version,s=e.flags;if(1===r){var u=bo(n,i),o=To(n,i),a=bo(n,i),h=bo(n,i),c=So(n,i),f=So(n,i),l=Qo(qo(n),i.Lu,n.byteLength);return i.Mu(l.byteLength),{gs:Sp.uA,VA:r,zA:s,XS:c,Ti:f,Lk:u,VS:o,zS:a,r_:h,WS:l}}var v=So(n,i),d=So(n,i),w=bo(n,i),g=bo(n,i),_=bo(n,i),y=bo(n,i),m=Qo(qo(n),i.Lu,n.byteLength);return i.Mu(m.byteLength),{gs:Sp.uA,zA:s,VA:r,XS:v,Ti:d,Lk:w,GS:g,zS:_,r_:y,WS:m}},t.tT=function(t){return wk.HA(t,Sp.rA,!1)},t.QA=function(n){var i=n.Xi,e=n.gA,r=Jo(qo(i)).buffer,s=mk(bo(i,e)),u=s.version,o=s.flags,a=t.qS(i,e),h=[];if(u>0)for(var c=bo(i,e),f=0;f<c;f++){var l=go(i,e,16);h.push(l)}var v=bo(i,e),d=new p(r,e.Lu,v);return e.Mu(i.byteLength),{gs:Sp.sA,VA:u,zA:o,$S:a,YS:h,QS:v,Xi:d,JS:r}},t.qS=function(t,n){for(var i="",e=0;e<4;e++){var r=vo(t,n).toString(16);i+=1===r.length?"0"+r:r}i+="-";for(var s=0;s<2;s++){var u=vo(t,n).toString(16);i+=1===u.length?"0"+u:u}i+="-";for(var o=0;o<2;o++){var a=vo(t,n).toString(16);i+=1===a.length?"0"+a:a}i+="-";for(var h=0;h<2;h++){var c=vo(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var f=0;f<6;f++){var l=vo(t,n).toString(16);i+=1===l.length?"0"+l:l}return i.toLowerCase()},t.nT=function(t){var n,i,e=t.Xi,r=t.gA,s=mk(bo(e,r)),u=s.version,o=s.flags,a=bo(e,r),h=bo(e,r);0===u?(n=lt.fromBits(bo(e,r),0,!0),i=lt.fromBits(bo(e,r),0,!0)):(n=To(e,r),i=To(e,r)),r.Mu(2);for(var c=po(e,r),f=[],l=0;l<c;l+=1){var v=bo(e,r),d=v>>31&1,w=2147483647&v,g=bo(e,r),_=bo(e,r),y=_>>31&1,m=_>>28&7,p=268435455&_;f.push({ZS:d,KS:w,uy:g,tE:y,nE:m,iE:p})}return{gs:Sp.oA,VA:u,zA:o,eE:a,Lk:h,rE:n,sE:i,uE:c,oE:f}},t.CS=function(t){var n,i=t.Xi,e=t.gA,r=mk(bo(i,e)),s=r.version,u=r.flags;return n=0===s?lt.fromBits(bo(i,e),0,!0):To(i,e),{gs:Sp.iA,VA:s,zA:u,OS:n}},t}();function kk(t){return t&&"Pi"in t?t.Pi:t}var bk=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this,n,i,e,r)||this).aE=void 0,a.hE=void 0,a.cE=void 0,a.aE=s,a.hE=u,a.cE=o||void 0,a}return E(n,t),n.prototype.Sp=function(n){return this===n||!!S_(this,n)&&(!!t.prototype.Sp.call(this,n)&&(!!T_(this.fE,n.fE)&&(!!T_(this.pb,n.pb)&&(this.lE&&n.lE?!!this.lE.ci(n.lE)&&(this.hp&&n.hp?this.hp.ci(n.hp):this.hp===n.hp):this.lE===n.lE))))},T(n,[{key:"fE",get:function(){return this.aE}},{key:"pb",get:function(){return this.hE}},{key:"lE",get:function(){return this.cE}},{key:"wg",get:function(){var t;return this.dg||(this.dg=b_(Gm(t=this),{get styles(){return t.fE},get regions(){return t.pb},get metadata(){return kk(t.lE)},get content(){return kk(t.hp)}})),this.dg}}]),n}(Km),Ak=function(){function t(t,n,i){this.Tv=void 0,this.vE=void 0,this.dE=void 0,this.vE=t,this.dE=n,Jt(i)?this.Tv=function(t,n,i){for(var e=0,r=["begin","end","dur"];e<r.length;e++){var s=r[e];i.Li(s)}return i}(0,0,i):this.Tv=i}return T(t,[{key:"wE",get:function(){return this.Tv.di(!0)}},{key:"op",get:function(){return this.vE}},{key:"ap",get:function(){return this.dE}}]),t}();var Tk="http://www.w3.org/XML/1998/namespace";function Sk(t,n,i,e){var r=t.Di(i,n);return 0===r.length&&(r=t.Ii(e+":"+n)),r}function Ek(t,n){return function(t,n){var i=t.Oi.slice(),e=[];for(;i.length>0;){var r=i.shift();n(r)?e.push(r):i.push.apply(i,r.Oi)}return e}(t,function(t){return t.Ni===n})}function Ik(t,n){for(var i=t,e=0;e<n.length;e++){var r=n[e];i=i.replace(r+":","")}return i}function Rk(t,n){for(var i=t.ji,e={},r=0;r<i.length;r++)e[Ik(i[r].gi,n)]=i[r].Ti;return e}var Nk=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,Dk=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,Ck="http://www.w3.org/ns/ttml";function Pk(t,n,i,e){void 0===i&&(i=Np),void 0===e&&(e=jc.APPLICATION_TTML_XML);var r=[],s=Go(t);return e===jc.APPLICATION_MP4?r=function(t,n,i){var e=vk(pk.WA(t),Sp.rA);if(!e)return[];return Bk(Go(e.Xi),n,i)}(s,n,i):e===jc.APPLICATION_TTML_XML&&(r=Bk(s,n,i)),r}function Ok(t,n,i){return void 0===i&&(i=Np),Lk(t,n,i)}function xk(t,n){for(var i=function t(n){var i=[];var e;if(Jt(n)){(e=n.xi("region"))&&i.push(e);for(var r=n.Ri,s=0;s<r.length;s++)i=i.concat(t(r[s]))}return i}(n.wE),e={},r=0;r<i.length;r++){var s=i[r];e[s]=t[s]}return e}function Bk(t,n,i){return Lk(Vo(t,new Ko),n,i)}function Lk(t,n,e){var r,s=[];try{r=i.oi(t)}catch(t){return s}var u=r.Vi;if("tt"!==u.wi)return s;var o=u&&u.Di(Ck,"head")[0],a=u&&u.Di(Ck,"body")[0],h=["ebutts","tts","xml"];if(!a||!o)return s;for(var c=function(t,n){for(var i={},e=t.Di(Ck,"styling")[0],r=e&&e.Di(Ck,"style")||[],s=0;s<r.length;s++){var u=r[s],o=u.Bi(Tk,"id");i[o]=Rk(u,n)}return i}(o,h),f=function(t,n){var i=A_(t),e=Uk(n.xi("tts:extent"));if(!e)return i;for(var r=0,s=w.keys(i);r<s.length;r++){var u=s[r],o=Uk(i[u].extent);if(o){var a=Mk(o[0],e[0]),h=Mk(o[1],e[1]);i[u].extent=a+" "+h}var c=Uk(i[u].origin);if(c){var f=Mk(c[0],e[0]),l=Mk(c[1],e[1]);i[u].origin=f+" "+l}}return i}(function(t,n){for(var i={},e=t.Di(Ck,"layout")[0],r=e&&e.Di(Ck,"region")||[],s=0;s<r.length;s++){var u=r[s],o=u.Bi(Tk,"id");if(o){i[o]=Rk(u,n);var a=Xk(u,n);for(var h in a)U.call(a,h)&&(i[o][h]=a[h])}}return i}(o,h),u),l=o.Di(Ck,"metadata")[0],v=function t(n,i,e,r){var s=i;var u;var o=e;var a=[];var h=[];if(Jt(n)){var c,f;s=null!=(c=Hk(n.xi("begin"),r))?c:s,u=Hk(n.xi("dur"),0),o=null!=(f=Hk(n.xi("end"),r))?f:void 0!==u?s+u:o;for(var l=n.Ri,v=0;v<l.length;v++)("body"===n.wi||"div"===n.wi)&&l[v].Jn>1||(a=a.concat(t(l[v],s,o,r)))}var d=function(t,n,i){var e=[];e.push(t,n);for(var r=0;r<i.length;r++){var s=i[r];e.push(s.op,s.ap)}e.sort(Vs);for(var u=e.length,o=0;o<u-1;o++)e[o+1]===e[o]&&(Qs(e,o+1),o--,u=e.length);return e}(s,o,a);for(var w=0;w<d.length-1;w++){var g=jk(d[w],d[w+1],a);if(g.length<=0&&Vk(n)){var _=n.di(!1);h.push(new Ak(d[w],d[w+1],_))}else g.length>0&&function(){var t=n.di(!1);g.forEach(function(n){return t.Ci(n.wE)}),h.push(new Ak(d[w],d[w+1],t))}()}return h}(a,e._b,e.yb,e.mb),d=0;d<v.length;d++){var g=v[d],_=xk(f,g);s.push(new bk(g.op,g.ap,g.wE,!1,c,_,l))}return s}function Mk(t,n){var i=Fk(t),e=Fk(n);if(i&&e&&i===e){var r=Number(t.slice(0,-i.length)),s=Number(n.slice(0,-e.length));return m(r)||m(s)?t:r/s*100+"%"}return t}function Fk(t){return Ts(t,"px")?"px":Ts(t,"em")?"em":Ts(t,"c")?"c":Ts(t,"%")?"%":void 0}function Uk(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function jk(t,n,i){for(var e=[],r=0;r<i.length;r++){var s=i[r].op,u=i[r].ap;(s>=t&&u<=n||s<n&&u>=n||s<t&&u>t)&&e.push(i[r])}return e}function Hk(t,n){if(t){if(Nk.test(t)){var i=Nk.exec(t);if(!i)return;var e=Number(i[1])||0,r=Number(i[2])||0,s=Number(i[3])||0,u=i[6];return 3600*e+60*r+s+(u?Number(u)*g.pow(.1,u.length):0)+n}if(Dk.test(t)){var o=Dk.exec(t);if(!o)return;var a,h=Number(o[1]);switch(o[4]){case"h":a=3600*h;break;case"m":a=60*h;break;case"s":a=h;break;case"ms":a=.001*h;break;case"f":case"t":default:a=NaN}return a+n}}}function Xk(t,n){for(var i={},e=t.Ii("style")||[],r=0;r<e.length;r++){var s=Rk(e[r],n);for(var u in s)U.call(s,u)&&(i[u]=s[u])}return i}function Vk(t){if(Jt(t)){var n=t.wi.toUpperCase(),i=Boolean(t.xi("smpte:backgroundImage"));return"BR"===n||i}return t.Jn===$t.Kn}function zk(t){var n=function(t){try{return i.oi(t).Vi}catch(t){}}(t);return"tt"===(null==n?void 0:n.wi)}var Wk,Gk=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.zg=function(n){return t.prototype.zg.call(this,n)},i.Wg=function(n){var i=t.prototype.Wg.call(this,n);return i&&(n.g_=j_.f_),i},i.gg=function(){return q_(this)},n}(g_);!function(t){t.lA="subtitles",t.gE="captions",t._E="descriptions",t.yE="chapters",t.dA="metadata",t.mE="thumbnails"}(Wk||(Wk={}));var qk=[Wk.lA,Wk.gE,Wk._E,Wk.yE,Wk.dA,Wk.mE];function $k(t){return"string"==typeof t&&Js(qk,t)}var Yk,Qk=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,s)||this).url=void 0,u.status=void 0,u.url=e,u.status=r,u}return E(n,t),n}(lf);function Jk(t){return t instanceof Ew}function Zk(t){return t instanceof Rw}function Kk(t){return bs(t,Yk.pE)}function tb(t){return t.some(nb)}function nb(t){return bs(t,Yk.kE)||bs(t,Yk.Gb)}function ib(t,n){return Hc(t)&&tb(n)}function eb(t,n){return!!t&&(Hc(t)?function(t){return t.some(Kk)}(n)||tb(n):bs(t,jc.APPLICATION_TTML_XML)||bs(t,jc.TEXT_VTT)||bs(t,jc.IMAGE_JPEG))}function rb(t,n){return t===Wk.mE||t===Wk.dA&&n===Wk.mE}function sb(t,n,i,e){for(var r=0,s=t.p_.qg;r<s.length;r++){var u=s[r];if(u.op>i)break;n<=u.ap&&e.push(u)}}function ub(t,n){return Xs(t.s_,n.s_)}function ob(t,i){var e=i,r=0;if(Jk(t)&&t.name===bw.Qd)e=t.dd._d;else if(Zk(t)){var s=t.iw;if(e=s.wd,0===(r=s.od))return new Qk(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",e,r,t)}return new Qk(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",e,r,t)}function ab(t,i,e,r){var s=function(t){switch(t){case xm.WEBVTT:return"WebVTT";case xm.SRT:return"SRT";case xm.TTML:return"TTML";default:return""}}(t);return new Qk(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+(s?s+" ":"")+"subtitle file.",i,e,r)}function hb(t){return Yp(t)?xm.WEBVTT:zk(t)?xm.TTML:xm.SRT}function cb(t,n){for(var i=[],e=0,r=t.p_.qg;e<r.length;e++){var s=r[e];if(s.ap<=n)i.push(s);else if(s.op>=n)break}for(var u=0;u<i.length;u++){var o=i[u];t.bE(o)}}!function(t){t.kE="vtt",t.Gb="wvtt",t.pE="stpp"}(Yk||(Yk={}));var fb=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).uT=new Gk,n.AE=function(t){var i=t._g;n.TE(i)},n}E(n,t);var i=n.prototype;return i.zg=function(t){t.tu(h_.Cg,this.AE),this.uT.zg(t),this.TE(t)},i.Wg=function(t){t.au(h_.Cg,this.AE),t.g_=j_.f_,this.uT.Wg(t)},i.SE=function(t){},i.EE=function(t){},i.TE=function(t){t.g_!==j_.f_?this.SE(t):this.EE(t)},i.IE=function(){for(var t=0,n=this.uT.qg;t<n.length;t++){var i=n[t];i.au(h_.Cg,this.AE),i.Kc()}},i.RE=function(t){if(t>0)for(var n=0,i=this.uT.qg;n<i.length;n++){cb(i[n],t)}},i.wc=function(){return this.IE(),this.uT.wc(),Ge.resolve()},i.Kc=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ou(),t.next=3,Ur.awrap(this.wc());case 3:this.uT.Kc();case 4:case"end":return t.stop()}},null,this,null,Ge)},n}(Su),lb=function(t){function n(n){var i;return(i=t.call(this,H_.d_)||this).errorObject=n,i}return E(n,t),n.prototype.gg=function(){return this},T(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(o_),vb=function(t){function n(n,i){var e;return(e=t.call(this)||this).NE=void 0,e.DE=void 0,e.CE=new au,e.NE=n,e.DE=i,e}E(n,t);var i=n.prototype;return i.PE=function(t){if(t.src){var n=t.kind||Wk.lA,i=this.NE.OE(n,t.id,t.label,t.srclang,t.default);return i.b_=kw(t.src),this.zg(i),i}},i.xE=function(t,n){var i,e,r,s,u,o,a,h,c,f;return Ur.async(function(l){for(;;)switch(l.prev=l.next){case 0:return t.m_=Om.LOADING,i=new _w({_d:t.b_,fd:Lf.Kn,Ld:lw.GET,$s:n}),l.prev=2,l.next=5,Ur.awrap(this.DE.dd(i));case 5:return s=l.sent,r=s.od,l.next=9,Ur.awrap(s.Xv());case 9:e=l.sent,l.next=18;break;case 12:return l.prev=12,l.t0=l.catch(2),lu(l.t0),t.m_=Om.ERROR,t.Ks(new lb(ob(l.t0,t.b_))),l.abrupt("return");case 18:for(l.prev=18,u=hb(e),t.gs=u,o=[],u===xm.WEBVTT||u===xm.SRT?(a=Fp(e),o=a.p_):u===xm.TTML&&(o=Ok(e,t)),h=0,c=o;h<c.length;h++)f=c[h],t.BE(f);l.next=32;break;case 26:return l.prev=26,l.t1=l.catch(18),lu(l.t1),t.m_=Om.ERROR,t.Ks(new lb(ab(t.gs,t.b_,r,l.t1))),l.abrupt("return");case 32:t.m_=Om.LOADED;case 33:case"end":return l.stop()}},null,this,[[2,12],[18,26]],Ge)},i.SE=function(t){Js(this.uT.qg,t)&&t.m_===Om.NONE&&this.xE(t,this.CE.$s).catch(vu)},i.Zh=function(){},i.wc=function(){var n,i,e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(this.CE.Ws(),this.CE=new au,n=0,i=this.uT.qg;n<i.length;n++)e=i[n],this.NE.LE(e);return r.next=5,Ur.awrap(t.prototype.wc.call(this));case 5:case"end":return r.stop()}},null,this,null,Ge)},n}(fb);function db(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.u_===n&&e.ME)return e}}function wb(t,n){gb(db(t.qg,n))}function gb(t){void 0!==t&&(t.g_=j_.v_)}function _b(t,n){gb(db(t.qg,n)||function(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.u_===n)return e}}(t.qg,n))}function yb(t){for(var n=0;n<qk.length;n++){var i=qk[n];i===Wk.yE?_b(t,i):wb(t,i)}}var mb,pb=function(t){function n(){return t.call(this,Bf.Gf)||this}return E(n,t),n}(Iu);!function(t){t[t.FE=0]="FE",t[t.UE=1]="UE"}(mb||(mb={}));var kb=t,bb=kb.MediaSource,Ab=kb.WebKitMediaSource,Tb=kb.TextTrack,Sb=s&&s.createElement("video");s&&s.documentElement.style;var Eb=F.Gt&&F.Bn&&F.Ln<=26;F.dn;var Ib=!(!bb&&!Ab),Rb=!!Tb;s&&(s.fullscreenEnabled||s.webkitFullscreenEnabled||s.mozFullScreenEnabled||s.msFullscreenEnabled)||F.hn,F.Cn&&F.Pn,Sb&&Sb.canPlayType&&(""!==Sb.canPlayType("application/vnd.apple.mpegURL")||F.Yt&&!F.Cn&&F.Qt);Sb&&Sb.canPlayType&&Sb.canPlayType("video/mp4");var Nb=Ib&&!F.On&&!F.Rn&&!F.In&&((bb||Ab).isTypeSupported?(bb||Ab).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):Sb&&Sb.canPlayType&&""!==Sb.canPlayType('audio/mp4; codecs="mp4a.40.34"'));Ib&&!F.On&&(Nb||((bb||Ab).isTypeSupported?(bb||Ab).isTypeSupported("audio/mpeg"):Sb&&Sb.canPlayType&&Sb.canPlayType("audio/mpeg"))),Ib&&(!F.Dn||!F.Gt)&&(bb||Ab).isTypeSupported&&(bb||Ab).isTypeSupported('video/mp4; codecs="avc1.4d401e"'),F.On||F.Rn||F.In,F.Nn,F.On,F.Rn&&F.qt&&F.$t;try{r&&r.top!==r.self}catch(t){!0}var Db=function(t){function n(n){var i;return(i=t.call(this,Sy.iy)||this).currentTime=n,i}return E(n,t),n}(Iu),Cb=function(t){function n(n){var i;return(i=t.call(this,Sy.ey)||this).currentTime=n,i}return E(n,t),n}(Iu),Pb=[Sy.Og,Sy.ey,Bf.Xf,Bf.Hf],Ob=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this)||this).jE=uy.z_,e.HE=!0,e.XE=!1,e.VE=!1,e.zE=function(t){var n=e.WE.m_;n!==e.jE&&e.Ks(new Xy(t.currentTime,n)),n===uy.z_&&(e.XE=!1,e.VE=!1),e.GE(n),e.qE(n),e.$E(n),e.maybeDispatchCanPlayThroughEvent(n),e.YE(n),e.QE(n),e.jE=n},e.JE=function(){e.QE(e.jE),e.YE(e.jE),e.HE=e.WE.wy},e.ZE=function(){e.HE=e.WE.wy},e.KE=function(t){e.Ks(new Cb(t.currentTime))},e.WE=n,e.tI=i,e.WE.tu(Sy.Og,e.zE),e.WE.tu(Bf.Xf,e.JE),e.WE.tu(Bf.Hf,e.ZE),e.tI&&e.WE.tu(Sy.ey,e.KE),e}E(n,t);var i=n.prototype;return i.GE=function(t){!this.VE&&t>=uy.W_&&(this.VE=!0,this.Ks(new Cy(this.WE.sy,t)))},i.qE=function(t){!this.XE&&t>=uy.G_&&(this.XE=!0,this.Ks(new Ly(this.WE.sy,t)))},i.YE=function(t){this.tI||(t>=uy.q_&&this.jE<uy.q_&&!this.WE.wy||this.nI&&t>=uy.q_)&&this.Ks(new Cb(this.WE.sy))},i.QE=function(t){!this.iI(t)||this.WE.oy||this.WE.Au||this.Ks(new Db(this.WE.sy))},i.$E=function(t){this.jE<=uy.G_&&t>=uy.q_&&this.Ks(new jy(this.WE.sy,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===uy.Y_&&this.Ks(new Hy(this.WE.sy,t))},i.iI=function(t){var n=!this.WE.wy&&t<=uy.G_,i=!this.HE&&this.jE<=uy.G_;return n&&!i},i.wc=function(){this.jE=uy.z_,this.HE=!0,this.XE=!1,this.VE=!1},i.Kc=function(){this.ou(),this.tI&&this.WE.au(Sy.ey,this.KE),this.WE.au(Bf.Xf,this.JE),this.WE.au(Bf.Hf,this.ZE),this.WE.au(Sy.Og,this.zE)},T(n,[{key:"nI",get:function(){return!this.WE.wy&&this.HE}}]),n}(Su),xb=function(t){function n(n){var i;return(i=t.call(this)||this).WE=n,i.WE.tu(Pb,i.Zs),i}return E(n,t),n.prototype.Us=function(){this.ou(),this.WE.au(Pb,this.Zs)},T(n,[{key:"sy",get:function(){return this.WE.sy}},{key:"oy",get:function(){return this.WE.oy}},{key:"Au",get:function(){return this.WE.Au}},{key:"wy",get:function(){return this.WE.wy}},{key:"m_",get:function(){return this.WE.m_}}]),n}(Su),Bb="titanium",Lb="conax",Mb="ezdrm",Fb="irdeto",Ub="vudrm",jb="verimatrix",Hb="keyos",Xb="drmtoday",Vb="expressplay",zb="azure",Wb="xstream",Gb="vimond",qb="axinom",$b="uplynk",Yb="comcast",Qb="custom",Jb=function(){function t(t,n,i,e,r){this.hc=void 0,this.eI=void 0,this.rI=void 0,this.sI=void 0,this.DE=void 0,this.uI=void 0,this.oI=void 0,this.hc=t,this.eI=n,this.rI=i,this.DE=e,this.oI=r,this.sI=this.aI(n)}var e=t.prototype;return e.hI=function(){return this.uI},e.cI=function(t){this.uI=t},e.fI=function(){return this.sI.licenseAcquisitionURL||this.hI()},e.lI=function(t){return Ge.resolve()},e.vI=function(t,n){return Ge.resolve(void 0)},e.dI=function(t,i,e,r){var s,u;return Ur.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(""!==(s=this.wI(t,i,e,r))._d){o.next=3;break}throw new lm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return o.prev=3,o.next=6,Ur.awrap(this.ag.dd(s));case 6:return u=o.sent,o.next=9,Ur.awrap(u.Vv(i));case 9:return o.abrupt("return",o.sent);case 12:return o.prev=12,o.t0=o.catch(3),lu(o.t0),o.next=17,Ur.awrap(this.gI(o.t0,s._d,r));case 17:return o.abrupt("return");case 18:case"end":return o.stop()}},null,this,[[3,12]],Ge)},e.wI=function(t,n,i,e){var r=this._I().wl(),s=this.jd,u={_d:this.yI(),fd:n,hd:r,qv:t,jd:s,Ld:lw.POST,Md:0,$s:e,gs:vw.Td,Fd:i};return new _w(u)},e.mI=function(t,n){return Ge.resolve(t)},e.pI=function(t,n,i,e){return Ge.resolve(t)},e._I=function(){return new Mf(this.sI.headers||{})},e.gI=function(t,i,e){return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:throw new lm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t);case 1:case"end":return i.stop()}},null,null,null,Ge)},e.yI=function(t,n){var e=n,r=this.sI.queryParameters;if(!e){var s=this.fI();if(!s)return"";e=s}if(r||t){var u=i.Mr(e);t&&pw(u,t),r&&pw(u,r),e=u.href}return e},e.kI=function(t,n){return Zb(t)},e.bI=function(t){return new p(t)},e.AI=function(t,n,i){var e,r,s;return Ur.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Ur.awrap(this.kI(t,i));case 2:return e=u.sent,u.next=5,Ur.awrap(this.dI(e,this.oI,n,i));case 5:return r=u.sent,s=this.bI(r),u.abrupt("return",s);case 8:case"end":return u.stop()}},null,this,null,Ge)},e.Kc=function(){},T(t,[{key:"ag",get:function(){return this.DE}},{key:"TI",get:function(){return!1}},{key:"SI",get:function(){var t=this.sI.certificate;if(t)return q(t)?Xu(t):Yo(t)}},{key:"EI",get:function(){return!1}},{key:"jd",get:function(){return Boolean(this.sI.useCredentials)}}]),t}();function Zb(t){return Ge.resolve(Jo(t).buffer)}var Kb,tA,nA=function(t){function n(n,i,e,r){return t.call(this,ws,n,i,e,r)||this}E(n,t);var i=n.prototype;return i.aI=function(t){return t.widevine||{}},i.II=function(t,n){return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.SI){i.next=2;break}return i.abrupt("return",this.SI);case 2:return i.abrupt("return",this.RI(new p(t),n));case 3:case"end":return i.stop()}},null,this,null,Ge)},i.RI=function(n,i){return t.prototype.AI.call(this,n,dw.Rd,i)},n}(Jb);function iA(t,n){if(null==t)return{};var i,e,r={},s=w.keys(t);for(e=0;e<s.length;e++)i=s[e],n.indexOf(i)>=0||(r[i]=t[i]);return r}function eA(t){return H(t.token&&t.deviceId)}function rA(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&H(i.PreAuthorization)}function sA(t){var n=t;return eA(n)&&""!==n.token&&""!==n.deviceId&&!rA(n)}(tA=Kb||(Kb={})).NI=!1,tA.DI=!1,tA.CI=!1,tA.OI=!1,tA.LOG_ADS_DETAILS=!1,tA.LOG_CHROMECAST_DETAILS=!1,tA.LOG_CUSTOM_DRM=!1,tA.LOG_BUFFERING_VIDEO_MAIN=!1,tA.LOG_BUFFERING_VIDEO_SELECTION=!1,tA.LOG_BUFFERING_AUDIO_MAIN=!1,tA.LOG_BUFFERING_AUDIO_SELECTION=!1,tA.xI=!1,tA.BI=!1,tA.LOG_LCEVC_DETAILS=!1;var uA,oA=function(){function t(t,n,i){this.LI=t,this.qh=n,this.MI=i}return t.prototype.FI=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new v("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new v("ContentProtectionIntegration.onCertificateResponse is not a function.");var e=t.onLicenseRequest;if(void 0!==e&&"function"!=typeof e)throw new v("ContentProtectionIntegration.onLicenseRequest is not a function.");var r=t.onLicenseResponse;if(void 0!==r&&"function"!=typeof r)throw new v("ContentProtectionIntegration.onLicenseResponse is not a function.");var s=t.extractFairplayContentId;if(void 0!==s&&"function"!=typeof s)throw new v("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.MI.build(t))},T(t,[{key:"UI",get:function(){return this.LI}},{key:"hc",get:function(){return this.qh}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(uA||(uA={}));var aA=function(){function t(){this.jI=[]}var e=t.prototype;return e.registerContentProtectionIntegration=function(t,e,r){switch(this.HI(t,e,r)){case uA.FAILED:throw new lm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+e+".");case uA.OVERRIDDEN:var s=IA(e);i.Tr("Warning: Overwriting an earlier registered integration for "+t+" and "+s+".");break;case uA.SUCCEEDED:IA(e);0}},e.HI=function(t,n,i){var e=IA(n);if(!e)return uA.FAILED;for(var r=uA.SUCCEEDED,s=0,u=this.jI.slice();s<u.length;s++){var o=u[s];o.UI===t&&o.hc===e&&(r=uA.OVERRIDDEN,Ys(this.jI,o))}return this.jI.push(new oA(t,e,i)),r},e.XI=function(t,n){return void 0!==this.VI(t,n)},e.zI=function(t,n,i){var e=this.VI(t,n);if(!e)throw l("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return e.FI(i)},e.VI=function(t,n){for(var i=0,e=this.jI;i<e.length;i++){var r=e[i];if(r.UI===t&&(!n||r.hc===n))return r}},t}();aA.WI=new aA;var hA=["customdata"],cA={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function fA(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,e=t.keys,r=t.headers,s=t.useCredentials,u=t.queryParameters;return!(n||i||e||r||s||u)}function lA(t){return t&&void 0!==t.licenseAcquisitionURL}var vA,dA=lA,wA=lA;function gA(t){if(!t)return!0;if(pA(t))return!1;var n=t.fairplay,i=t.playready,e=t.widevine,r=t.clearkey,s=t.aes128;return fA(n)&&fA(i)&&fA(e)&&fA(r)&&fA(s)}function _A(t){var n=sA(t),i=function(t){var n,i=t;return rA(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!eA(i)}(t);return(!n||!i)&&(n||i)}function yA(t){return t.integration===Fb}function mA(t){var n=t;if(!n)return!1;if(gA(n))return!1;var i=n.fairplay,e=n.playready,r=n.widevine,s=n.clearkey;if(pA(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(e&&!dA(e))return!1;if(r&&!wA(r))return!1;if(s&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(s))return!1;if(n.integration){if(aA.WI.XI(n.integration))return!0;switch(n.integration){case Bb:if(!function(t){return t.integration===Bb&&(kA(t)||bA(t))}(t))return!1;break;case Ub:if(!AA(t))return!1;break;case jb:if(!function(t){return t.integration===jb}(t))return!1;break;case Fb:if(!yA(t))return!1;break;case Lb:if(!_A(t))return!1;break;case Mb:if(!function(t){return t.integration===Mb}(t))return!1;break;case Hb:if(!pA(t))return!1;break;case Xb:if(!function(t){var n=t;return n.integration===Xb&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case Vb:if(!function(t){return t.integration===Vb}(t))return!1;break;case Wb:if(!TA(t))return!1;break;case Gb:if(!function(t){return t.integration===Gb}(t))return!1;break;case qb:if(!SA(t))return!1;break;case zb:if(!function(t){var n=t;return n.integration===zb&&void 0!==n.token}(t))return!1;break;case $b:if(!function(t){return t.integration===$b}(t))return!1;break;case Yb:if(!function(t){var n=t;return n&&H(n.releasePid)&&H(n.accountId)&&H(n.token)}(t))return!1;break;case Qb:return!0;default:return!1}}return!0}function pA(t){return t.integration===Hb}function kA(t){return void 0!==t.authToken}function bA(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function AA(t){var n=t;return n.integration===Ub&&void 0!==n.token}function TA(t){var n=t;return n&&n.integration===Wb&&q(n.ticketAcquisitionURL)&&q(n.streamId)}function SA(t){var n=t;return n.integration===qb&&void 0!==n.token}function EA(t,n){var i,e,r,s=n[t],u=null!=(i=null==s?void 0:s.licenseAcquisitionURL)?i:cA[t],o=null!=(e=null==s?void 0:s.customdata)?e:n.customdata,a=o?{customData:o}:{},h=jr({},null!=(r=null==s?void 0:s.headers)?r:{},a),c=null!=s?s:{};return c.customdata,jr({},iA(c,hA),{licenseAcquisitionURL:u,headers:h})}function IA(t){switch(t.toLowerCase()){case"widevine":case os:return os;case"playready":case rs:return rs;case"fairplay":case fs:return fs}}function RA(t,i){switch(t){case ts:return function(t){for(var n={},i=pk.YA(new DataView(t)),e=0;e<i.length;e++){var r=i[e];n[r.$S]=r.JS}return n}(i);case ns:case is:return function(t){var n;return(n={})[cs]=t,n}(i);default:throw new lf(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.fs="Widevine",t.hs="PlayreadyV2",t.GI="PlayreadyV2",t.qI="PlayreadyV3",t.vs="Fairplay"}(vA||(vA={}));var NA={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function DA(t,n){var e,r,s,u,o=NA[n],a=t.accountName;return{CustomerName:t.customerName,AccountName:a,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(e=i.Ur)?void 0:e.jr,OSVersion:null==(r=i.Ur)?void 0:r.Gr,DRMProvider:o.DRMProvider,DRMVersion:o.DRMVersion,DRMType:o.DRMType,DeviceVendor:null==(s=i.Ur)?void 0:s.qr,DeviceModel:null==(u=i.Ur)?void 0:u.$r}}}function CA(t,i){if(!t.accountName)throw new lm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new lm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new lm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new lm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function PA(t,n,i){var e;if(kA(t))e={AuthToken:t.authToken,Payload:n};else{if(!bA(t))throw CA(t,i);e={LatensRegistration:DA(t,i),Payload:n}}return Ku(JSON.stringify(e))}function OA(t,i,e){var r,s,u,o;return Ur.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(r=t.iw){a.next=3;break}throw new lm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,i);case 3:return s=r,a.prev=4,a.next=7,Ur.awrap(s.Hv(e));case 7:u=a.sent,o=xA(u),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(4),o="";case 14:throw new lm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,s.dd._d,s.od,s.ld,o);case 15:case"end":return a.stop()}},null,null,[[4,11]],Ge)}function xA(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var BA=function(t){function e(n,i,e){var r;return(r=t.call(this,n,i,e,Lf.vl)||this).$I=void 0,r}E(e,t),e.YI=function(){return i.jr.$e?"required":"optional"};var r=e.prototype;return r.gI=function(t,n,i){return OA(t,n,i)},r.lI=function(t){return this.$I?du(this.$I.Wu,t):(this.$I=new na,Ge.resolve())},r.kI=function(t,i){var e,r;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(e=this.eI){i.next=3;break}throw new lm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return r=zu(t),i.abrupt("return",PA(e,r,vA.fs));case 5:case"end":return i.stop()}},null,this,null,Ge)},r.bI=function(t){if(!t.license)throw new lm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return Xu(t.license)},r.QI=function(t){return Ge.resolve(new p(t))},r.II=function(t,n){var i,e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:return this.JI(),r.next=3,Ur.awrap(this.kI(t,n));case 3:return i=r.sent,r.next=6,Ur.awrap(this.dI(i,Lf.ll,dw.Nd,n));case 6:return e=r.sent,r.next=9,Ur.awrap(this.QI(e));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,Ge)},r.RI=function(n,i){var e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Ur.awrap(t.prototype.RI.call(this,n,i));case 2:return e=r.sent,this.JI(),r.abrupt("return",e);case 5:case"end":return r.stop()}},null,this,null,Ge)},r.JI=function(){this.$I||(this.$I=new na),this.$I.Yu()},r.Kc=function(){this.$I&&this.$I.Ws(),t.prototype.Kc.call(this)},e}(nA),LA=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,Lf.ll)||this).cI("https://widevine-proxy.drm.technology/proxy"),r}return E(i,t),i.prototype.kI=function(t,i){var e,r,s,u;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Ur.awrap(Zb(t));case 2:if(e=i.sent,r=this.rI,s=Zo(new p(e)),u=this.ZI){i.next=8;break}throw new lm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return i.abrupt("return",JSON.stringify({token:u,drm_info:s,kid:r}));case 9:case"end":return i.stop()}},null,this,null,Ge)},T(i,[{key:"ZI",get:function(){if(AA(this.eI))return this.eI.token}}]),i}(nA);function MA(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=jr({},i,{SessionId:t.sessionId,Ticket:t.ticket})),jr({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var FA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Lf.ll)||this).cI("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),r}return E(n,t),n.prototype.yI=function(n,i){var e=n;return yA(this.eI)&&(e=MA(this.eI,e)),t.prototype.yI.call(this,e,i)},n}(nA),UA="Conax-Custom-Data";function jA(t,n,i){var e=t&&_A(t)&&t;if(e&&!i.has(UA)){var r=sA(e)?e.token:void 0,s=sA(e)?e.deviceId:void 0,u=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:r,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:s}});i.set(UA,u)}return i}var HA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Lf.ll)||this).cI("https://connect.conax.com:8094/license"),r}return E(n,t),n.prototype._I=function(){var n=t.prototype._I.call(this);return jA(this.eI,"Widevine",n)},n}(nA);function XA(t){var n=Bo(new p(t));return Xu(JSON.parse(n).license)}function VA(t){return"string"==typeof t.token?t.token:Ku(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function zA(t,n,i){var e;return e=i.token?"x-dt-auth-token":"dt-custom-data",t.set(e,n),t}var WA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Lf.ll)||this).cI("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),r}E(n,t);var i=n.prototype;return i.bI=function(t){return XA(t)},i._I=function(){return zA(t.prototype._I.call(this),this.ZI,this.eI)},T(n,[{key:"ZI",get:function(){return VA(this.eI)}}]),n}(nA),GA=function(t){function n(n,i,e){return t.call(this,n,i,e,Lf.ll)||this}return E(n,t),n.prototype._I=function(){var n=t.prototype._I.call(this),i=this.eI.token;return n.set("Authorization","Bearer "+i),n},n}(nA);function qA(t,i,e,r){var s,u,o,a,h,c,f;return Ur.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(TA(t)){l.next=2;break}throw new lm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(s=new Mf).append("Cache-Control","no-cache"),s.append("Content-Type","application/json"),(u=t.sessionId)&&s.append("XSSESSION",u),o=t.streamId,a=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",h={drmType:i,licenseType:a,streamId:o},c={_d:t.ticketAcquisitionURL,fd:Lf.vl,hd:s,Ld:lw.POST,qv:JSON.stringify(h),$s:r},l.next=13,Ur.awrap(e.dd(c));case 13:return f=l.sent,l.next=16,Ur.awrap(f.Hv());case 16:return l.abrupt("return",l.sent);case 17:case"end":return l.stop()}},null,null,null,Ge)}var $A=function(t){function n(n,i,e){return t.call(this,n,i,e,Lf.vl)||this}E(n,t);var i=n.prototype;return i._I=function(){var n=t.prototype._I.call(this);return n.set("Content-Type","application/json"),n},i.kI=function(n,i){var e,r,s,u;return Ur.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=Zu(n.buffer),r=this.eI,o.next=4,Ur.awrap(qA(r,"widevine_modular",this.ag,i));case 4:return s=o.sent,this.cI(s.licenseServerUrl),u=Lo(JSON.stringify({payload:e,ticket:s.ticket})),o.abrupt("return",t.prototype.kI.call(this,u,i));case 8:case"end":return o.stop()}},null,this,null,Ge)},i.bI=function(t){return Xu(t.license)},n}(nA),YA=function(t){function i(n,i,e){return t.call(this,n,i,e,Lf.ll)||this}return E(i,t),i.prototype._I=function(){if(!SA(this.eI))throw new lm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype._I.call(this);return i.set("X-AxDRM-Message",this.eI.token),i},i}(nA);function QA(t){for(var n=new p(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var JA=function(t){function n(n,i,e){var r;return(r=t.call(this,ds,n,i,e,Lf.ll)||this).KI=void 0,r}E(n,t);var e=n.prototype;return e.aI=function(t){return t.playready||{}},e._I=function(){var n=new Mf(this.KI);return n.yl(t.prototype._I.call(this)),n},e.tR=function(t){return t.length>=1&&t[0].Ri.length>0},e.vI=function(n){var i=this.eI.playready.customData;if(i){var e=QA(i),r=QA('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+zu(e)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return Ge.resolve({playready:{Lc:r}})}return t.prototype.vI.call(this,n)},e.kI=function(t,n){var i;return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ur.awrap(Zb(t));case 2:return i=n.sent,n.abrupt("return",this.nR(i));case 4:case"end":return n.stop()}},null,this,null,Ge)},e.nR=function(t){var n,e,r,s,u,o,a,h,c,f,l,v,d,w,g,_;return Ur.async(function(y){for(;;)switch(y.prev=y.next){case 0:u=null,o=new DataView(t),a=Po(o,new Ko,!0),y.prev=3,h=i.oi(a),y.next=10;break;case 7:return y.prev=7,y.t0=y.catch(3),y.abrupt("return",u);case 10:for(c=null==(n=h.Ii("PlayReadyKeyMessage")[0])?void 0:n.Ii("LicenseAcquisition")[0],f=null!=(e=null==c?void 0:c.Ii("Challenge"))?e:[],this.tR(f)&&(u=Ju(f[0].Hi)),l=new Mf,v=null!=(r=null==c?void 0:null==(s=c.Ii("HttpHeaders")[0])?void 0:s.Ii("HttpHeader"))?r:[],d=0;d<v.length;d++)w=v[d],g=w.Ii("name")[0].Hi,_=w.Ii("value")[0].Hi,l.append(g,_);return this.KI=l,y.abrupt("return",u);case 18:case"end":return y.stop()}},null,this,[[3,7]],Ge)},e.II=function(t,n){return Ge.resolve(t)},e.RI=function(n,i){return t.prototype.AI.call(this,n,dw.Dd,i)},n}(Jb),ZA=function(){function t(n){this.ph=void 0,this.iR=n,this.ph=t.eR(n)}return t.eR=function(t){return"3"===t.version?vA.qI:vA.GI},t.prototype.rR=function(){var t={};if(this.ph===vA.qI){var n={LatensRegistration:DA(this.iR,vA.qI)};t["X-TITANIUM-DRM-CDATA"]=Ku(JSON.stringify(n))}return t},T(t,[{key:"sR",get:function(){return this.ph}},{key:"bc",get:function(){return this.ph===vA.GI}}]),t}();var KA=function(t){function e(n,i,e){var r;return(r=t.call(this,n,i,e)||this).uR=void 0,r.uR=new ZA(r.eI),r}E(e,t);var r=e.prototype;return r.vI=function(t){var i=this.eI;if(!this.eI)throw new lm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(bA(i)){var e={};return e.playready={Lc:tT(i,this.uR.sR)},Ge.resolve(e)}return Ge.reject(CA(i,vA.hs))},r._I=function(){var n=new Mf(this.uR.rR());return n.yl(t.prototype._I.call(this)),n},r.gI=function(t,e,r){var s,u,o,a,h,c,f,l;return Ur.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(s=t.iw){v.next=3;break}throw new lm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,e);case 3:return v.prev=3,v.next=6,Ur.awrap(s.zv(r));case 6:a=v.sent,h=Bo(new p(a)),(c=i.oi(h))&&(f=Ek(c,"CustomData")).length>0&&(u=JSON.parse(f[0].Hi),o=null==(l=u.DrmErr)?void 0:l.desc),v.next=14;break;case 12:v.prev=12,v.t0=v.catch(3);case 14:throw new lm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,e,s.od,s.ld,o);case 15:case"end":return v.stop()}},null,null,[[3,12]],Ge)},r.tR=function(t){if(1!==t.length)throw new lm(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},e}(JA);function tT(t,n){var i=DA(t,n),e=i.DeviceInfo.FormatVersion,r=Ku('<LatensRegistration formatversion="'+e+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+e+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),s=Fo(("<TitaniumCustomData>"+r+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return Fo('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+zu(s)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var nT,iT=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).cI("https://playready-license.drm.technology/rightsmanager.asmx"),r}E(i,t);var e=i.prototype;return e.tR=function(t){if(1!==t.length)throw new lm(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},e.yI=function(n,i){var e=jr({},n||{},{token:this.ZI});return t.prototype.yI.call(this,e,i)},T(i,[{key:"ZI",get:function(){if(AA(this.eI))return this.eI.token}}]),i}(JA),eT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).cI("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),r}return E(n,t),n.prototype.yI=function(n,i){var e=n;return yA(this.eI)&&(e=MA(this.eI,e)),t.prototype.yI.call(this,e,i)},n}(JA),rT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).cI("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),r}return E(n,t),n.prototype._I=function(){var n=t.prototype._I.call(this);return jA(this.eI,"PlayReady",n)},n}(JA),sT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).cI("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),r}E(n,t);var i=n.prototype;return i.bI=function(n){return(As(Bo(new p(n)),"<?xml")?nT.oR:nT.Hv)===nT.Hv?XA(n):t.prototype.bI.call(this,new p(n))},i._I=function(){return zA(t.prototype._I.call(this),this.ZI,this.eI)},T(n,[{key:"ZI",get:function(){return VA(this.eI)}}]),n}(JA);!function(t){t[t.oR=0]="oR",t[t.Hv=1]="Hv"}(nT||(nT={}));var uT,oT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).aR=void 0,r}E(n,t);var i=n.prototype;return i._I=function(){var n=t.prototype._I.call(this);return this.aR&&n.set("Ticket",this.aR),n.set("Content-Type","text/xml"),n},i.kI=function(n,i){var e,r;return Ur.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e=this.eI,s.next=3,Ur.awrap(qA(e,"playready",this.ag,i));case 3:return r=s.sent,this.cI(r.licenseServerUrl),this.aR=r.ticket,s.abrupt("return",t.prototype.kI.call(this,n,i));case 7:case"end":return s.stop()}},null,this,null,Ge)},n}(JA),aT=function(t){function i(){return t.apply(this,arguments)||this}return E(i,t),i.prototype._I=function(){if(!SA(this.eI))throw new lm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype._I.call(this);return i.set("X-AxDRM-Message",this.eI.token),i},i}(JA);!function(t){t.vl="application/json",t.hR="application/x-www-form-urlencoded",t.cR="application/octet-stream",t.Kn="text/plain;charset=UTF-8"}(uT||(uT={}));var hT=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n.hc,i,e,r,s)||this).fR="",u.lR=void 0,u.vR=void 0,u.vR=n.dR,u}E(n,t);var i=n.prototype;return i.wR=function(){return this.sI.certificateURL||this.lR},i.gR=function(t){this.lR=t},i.kI=function(t){return Ge.resolve(this._R(t,this.fR))},i._R=function(t,n){return"spc="+encodeURIComponent(zu(t))+"&assetId="+encodeURIComponent(n)},i.aI=function(t){return t.fairplay||{}},i.yR=function(t){var n=t.indexOf("?");if(n>=0)return Ge.resolve(t.substr(n+1));var i=t.split("skd://").pop();if(i){if(/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(i))return Ge.resolve(i)}var e=t.split("/");return Ge.resolve(e[e.length-1])},i.vI=function(t){var n,i,e,r;return Ur.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=null!=(n=this.vR)?n:Ho(new p(t)),s.next=3,Ur.awrap(this.yR(i));case 3:return e=s.sent,this.fR=e,(r={}).fairplay={Vc:e},s.abrupt("return",r);case 8:case"end":return s.stop()}},null,this,null,Ge)},i._I=function(){var n=t.prototype._I.call(this);return n.set("Content-Type",this.mR),n},i.II=function(t,n){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.SI){t.next=2;break}return t.abrupt("return",this.SI);case 2:return t.next=4,Ur.awrap(this.pR(n));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},null,this,null,Ge)},i.RI=function(n,i){return t.prototype.AI.call(this,n,dw.Ed,i)},i.kR=function(t){var n=this.wR(),i=this._I(),e={_d:n,fd:Lf.ll,hd:i,Ld:lw.GET,jd:!1,qv:null,Md:0,$s:t,gs:vw.Td,Fd:dw.Id};return new _w(e)},i.pR=function(t){var n,i,e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=this.kR(t),r.next=3,Ur.awrap(this.ag.dd(n));case 3:return i=r.sent,r.next=6,Ur.awrap(i.zv());case 6:return e=r.sent,r.abrupt("return",new p(e));case 8:case"end":return r.stop()}},null,this,null,Ge)},i.bI=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=Xu(i)}else n=new p(t);return n},i.yI=function(n,i){var e=t.prototype.yI.call(this,n,i);return As(e,"skd:")&&(e=e.substr("skd:".length)),e},T(n,[{key:"EI",get:function(){return!0}},{key:"mR",get:function(){return uT.hR}}]),n}(Jb),cT=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Lf.ll)||this}E(n,t);var i=n.prototype;return i.yR=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return Ge.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return Ge.resolve(i)},i.kI=function(t){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,Ge)},i.bI=function(t){return new p(t)},i.yI=function(n,i){var e=n||{};return e.p1=Wt(),t.prototype.yI.call(this,e,i)},T(n,[{key:"mR",get:function(){return uT.cR}}]),n}(hT),fT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Lf.ll)||this).cI("https://fairplay-license.drm.technology/license"),s.gR("https://fairplay-license.drm.technology/certificate"),s}E(i,t);var e=i.prototype;return e._R=function(t,n){var i={token:this.ZI,contentId:n,payload:zu(t)};return JSON.stringify(i)},e.bI=function(t){return new p(t)},e._I=function(){var n=t.prototype._I.call(this);return n.set("x-vudrm-token",this.ZI),n},T(i,[{key:"mR",get:function(){return uT.vl}},{key:"ZI",get:function(){if(!AA(this.eI))throw new lm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.eI.token}}]),i}(hT),lT="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",vT="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",dT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Lf.ll)||this}return E(i,t),i.prototype.bI=function(i){var e=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new lm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,lT)}if(!i)throw new lm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,vT);return i}(Bo(new DataView(i)));return t.prototype.bI.call(this,e)},i}(hT);var wT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Lf.vl)||this}E(i,t);var e=i.prototype;return e.kI=function(t){var i,e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=this.eI){r.next=3;break}throw new lm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=zu(t),r.abrupt("return",PA(i,e,vA.vs));case 5:case"end":return r.stop()}},null,this,null,Ge)},e.bI=function(t){try{var i;if(q(t)){var e=t.trim();i=JSON.parse(e)}else i=t;if(i.license){var r=Ju(i.license);return new p(r)}throw new lm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server")}catch(t){throw new lm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server")}},e.gI=function(t,n,i){return OA(t,n,i)},T(i,[{key:"mR",get:function(){return uT.vl}}]),i}(hT),gT=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Lf.ll)||this).cI("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),s.gR("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),s}E(n,t);var e=n.prototype;return e.wR=function(){var n=t.prototype.wR.call(this);if(!n)return n;var e=i.Mr(n),r=this.eI;return yA(r)&&pw(e,{accountId:r.accountId,applicationId:r.applicationId||""}),e.href},e.yR=function(n){return yA(this.eI)?Ge.resolve(this.eI.contentId):t.prototype.yR.call(this,n)},e.kI=function(t){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,Ge)},e.bI=function(t){return new p(t)},e.yI=function(n,i){var e=n;return yA(this.eI)&&(e=function(t,n){return jr({},MA(t,n),{KeyId:t.keyId})}(this.eI,e)),t.prototype.yI.call(this,e,i)},T(n,[{key:"mR",get:function(){return uT.cR}}]),n}(hT),_T=function(t){function i(i,e,r,s){var u;if(u=t.call(this,i,e,r,s,Lf.Kn)||this,!_A(e))throw new lm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.cI("https://connect.conax.com:8097/license"),u}E(i,t);var e=i.prototype;return e._I=function(){var n=t.prototype._I.call(this);return jA(this.eI,"FairPlay",n)},e.pR=function(t){var n,i,e,r;return Ur.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=this.wR(),i={_d:n,fd:Lf.ll,hd:{},Ld:lw.GET,jd:!1,qv:null,Md:0,$s:t,gs:vw.Td,Fd:dw.Id},s.next=4,Ur.awrap(this.ag.dd(i));case 4:return e=s.sent,s.next=7,Ur.awrap(e.zv());case 7:return r=s.sent,s.abrupt("return",new p(r));case 9:case"end":return s.stop()}},null,this,null,Ge)},e.kI=function(t){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,Ge)},e.yR=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),Ge.resolve(Bo(Xu(n)))):Ge.resolve("unknown")},e.bI=function(t){try{var n=JSON.parse(t);return new p(Ju(n.CkcMessage))}catch(t){throw new l("CFLRW-66")}},i}(hT),yT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Lf.Kn)||this).cI(cA[Zr.vs]),s}E(i,t);var e=i.prototype;return e.yR=function(t){return As(t,"skd://")?Ge.resolve(t.substring("skd://".length,40)):Ge.reject(new lm(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},e._R=function(t,n){return"spc="+zu(t)+"&assetId="+n},i}(hT),mT=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Lf.Kn)||this).cI("https://lic.drmtoday.com/license-server-fairplay/"),s}E(n,t);var i=n.prototype;return i._R=function(t,n){var i="spc="+encodeURIComponent(zu(t))+"&"+encodeURI(n);return"persistent"===this.sI.licenseType?i+"&offline=true":i},i._I=function(){return zA(t.prototype._I.call(this),this.ZI,this.eI)},T(n,[{key:"ZI",get:function(){return VA(this.eI)}}]),n}(hT),pT=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Lf.ll)||this}E(n,t);var e=n.prototype;return e.yR=function(t){var n=t;return As(n,"skd:")&&(n="http:"+n.substring(4)),As(n,"http:")||As(n,"https:")?Ge.resolve(i.Mr(n).hostname):Ge.reject(new l("Could not parse ExpressPlay FairPlay content ID."))},e.kI=function(t){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,Ge)},e.bI=function(t){return new p(t)},T(n,[{key:"mR",get:function(){return uT.cR}}]),n}(hT),kT=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Lf.Kn)||this}return E(n,t),n.prototype._I=function(){var n=t.prototype._I.call(this),i=this.eI.token;return n.set("Authorization","Bearer "+i),n},n}(hT),bT=function(t){function n(n,i,e,r){var s;if(s=t.call(this,n,i,e,r,Lf.vl)||this,!TA(i))throw new l("Invalid Xstream DRM configuration");return s}E(n,t);var i=n.prototype;return i.pR=function(t){var n,i,e,r,s;return Ur.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=this.wR(),i=this._I(),e={_d:n,fd:Lf.vl,hd:i,Ld:lw.POST,$s:t,gs:vw.Td,Fd:dw.Id},u.next=5,Ur.awrap(this.ag.dd(e));case 5:return r=u.sent,u.next=8,Ur.awrap(r.Hv());case 8:return s=u.sent,u.abrupt("return",new p(Xu(s.certificate)));case 10:case"end":return u.stop()}},null,this,null,Ge)},i.RI=function(t,n,i){var e,r,s,u,o,a,h;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return e=zu(t),r=this.eI,i.next=5,Ur.awrap(qA(r,"fairplay",this.ag,n));case 5:return s=i.sent,u=Lo(JSON.stringify({spc:e,ticket:s.ticket})),o={_d:this.fI(),fd:Lf.vl,hd:this._I(),Ld:lw.POST,qv:u,Md:0,$s:n,gs:vw.Td,Fd:dw.Ed},i.next=10,Ur.awrap(this.ag.dd(o));case 10:return a=i.sent,i.next=13,Ur.awrap(a.Hv());case 13:return h=i.sent,i.abrupt("return",Xu(h.licence));case 15:case"end":return i.stop()}},null,this,null,Ge)},T(n,[{key:"mR",get:function(){return uT.vl}}]),n}(hT),AT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Lf.Kn)||this}E(i,t);var e=i.prototype;return e._R=function(t,n){return zu(t)},e.bI=function(i){if(0===i.length)throw new lm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.bI.call(this,i)},e._I=function(){var n=t.prototype._I.call(this);return n.set("Content-Type","text/plain"),n},i}(hT),TT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Lf.ll)||this}E(i,t);var e=i.prototype;return e._R=function(t,n){return t},e.bI=function(t){return new p(t)},e._I=function(){if(!SA(this.eI))throw new lm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype._I.call(this);return i.set("X-AxDRM-Message",this.eI.token),i},T(i,[{key:"mR",get:function(){return uT.vl}}]),i}(hT),ST=function(t){function e(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Lf.vl)||this).bR=void 0,s}E(e,t);var r=e.prototype;return r._R=function(t,n){var i={spc:zu(t)};return JSON.stringify(i)},r.yR=function(t){var e=i.Mr(t);return this.bR=t,e.searchParams.has("b")?Ge.resolve(e.searchParams.get("b")):Ge.reject(new lm(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},r.yI=function(n,i){var e=this.fI();return!e&&this.bR&&(e=this.bR),e&&(e=e.replace("skd://","https://")),t.prototype.yI.call(this,n,i||e)},r.bI=function(t){try{var i;if((i=q(t)?JSON.parse(t.trim()):t).ckc)return Xu(i.ckc)}catch(t){throw new lm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server")}throw new lm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server")},T(e,[{key:"mR",get:function(){return uT.Kn}}]),e}(hT),ET=function(){function t(t,n){this.AR=t,this.SR=n}var n=t.prototype;return n.ER=function(t){return this.AR(t)},n.IR=function(t,n){throw new v(n+" must be "+this.SR+". (Received: "+t+")")},t}();new ET(function(t){return!0},"any");var IT=new ET(J,"a number"),RT=new ET(q,"a string"),NT=new ET($,"a boolean");new ET(Q,"a date"),new ET(X,"undefined"),new ET(W,"an object"),new ET(function(t){return null===t},"null"),new ET(function(t){return null==t},"null or undefined");var DT,CT=(DT={responseCode:IT,isException:NT,description:RT,title:RT,correlationId:RT},{ER:function(t){if(!W(t))return!1;for(var n=0,i=w.keys(DT);n<i.length;n++){var e=i[n];if(!DT[e].ER(t[e]))return!1}return!0},IR:function(t,n){if(!W(t))throw new v(n+" must be an object.");for(var i=0,e=w.keys(DT);i<e.length;i++){var r=e[i],s=DT[r];if(!s.ER(t[r]))return s.IR(t[r],n+"."+String(r))}throw new v}});function PT(t,n,i,e,r){var s;return Ur.async(function(u){for(;;)switch(u.prev=u.next){case 0:return s=OT(t,n,i,r),u.next=3,Ur.awrap(xT(s,e));case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},null,null,null,Ge)}function OT(t,n,e,r){var s={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var e=i.Mr(t);return pw(e,n),e.toString()}(e,s)),o=new Mf({});o.append("Content-Type","application/json");var a=zu(t),h={getFairplayLicense:{releasePid:n.releasePid,spcMessage:a}};return{_d:u,fd:Lf.Kn,hd:o,Ld:lw.POST,qv:JSON.stringify(h),$s:r,gs:vw.Td,Fd:dw.Ed}}function xT(t,i){var e,r;return Ur.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Ur.awrap(i.dd(t));case 2:return e=s.sent,s.next=5,Ur.awrap(e.Hv());case 5:if(r=s.sent,!CT.ER(r)){s.next=8;break}throw new lm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,r.description,void 0,t._d,r.responseCode);case 8:return s.abrupt("return",Xu(r.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return s.stop()}},null,null,null,Ge)}var BT=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Lf.ll)||this).RR=void 0,s.RR=i,s}E(n,t);var i=n.prototype;return i.yR=function(n){var i=n.replace("FairPlay",this.RR.releasePid);return t.prototype.yR.call(this,i)},i.RI=function(t,n){return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Ur.awrap(PT(t,this.RR,this.fI(),this.ag,n));case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},null,this,null,Ge)},n}(hT),LT=function(t){function i(n,i,e){return t.call(this,ys,n,i,e,Lf.ll)||this}E(i,t);var e=i.prototype;return e.aI=function(t){return t.clearkey||{}},e.dI=function(i,e,r,s){var u,o;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=this.sI,!this.fI()){e.next=5;break}return e.abrupt("return",t.prototype.dI.call(this,i,this.oI,r,s));case 5:if(!u.keys||!u.keys.length){e.next=10;break}return o={keys:u.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},e.abrupt("return",Lo(JSON.stringify(o)).buffer);case 10:throw new lm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return e.stop()}},null,this,null,Ge)},e.II=function(t,n){return Ge.resolve(new p(0))},e.RI=function(n,i){return t.prototype.AI.call(this,n,dw.Cd,i)},i}(Jb),MT=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n}(nA),FT={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function UT(t,n,i){var e,r,s;return Ur.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=$T(n),(r=t.onCertificateRequest)&&"function"==typeof r){u.next=5;break}return u.abrupt("return",Ge.resolve(n));case 5:return u.next=8,Ur.awrap(du(Ge.resolve(r.call(t,e)),i));case 8:if(!$o(s=u.sent)){u.next=11;break}return u.abrupt("return",Yo(s));case 11:return u.abrupt("return",qT(jr({},FT,s)));case 12:case"end":return u.stop()}},null,null,null,Ge)}function jT(t,n,i,e,r){var s,u,o;return Ur.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(s=t.onCertificateResponse,u=GT(n,i,e),s&&"function"==typeof s){a.next=5;break}return a.abrupt("return",Ge.resolve(n));case 5:return a.next=8,Ur.awrap(du(Ge.resolve(s.call(t,u)),r));case 8:return o=a.sent,a.abrupt("return",Yo(o));case 10:case"end":return a.stop()}},null,null,null,Ge)}function HT(t,n,i,e){var r;return Ur.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Ur.awrap(VT(t,n,i,e));case 2:if(!((r=s.sent)instanceof ArrayBuffer)){s.next=5;break}return s.abrupt("return",r);case 5:return s.abrupt("return",qT(r));case 6:case"end":return s.stop()}},null,null,null,Ge)}function XT(t,n,i,e,r,s){var u,o;return Ur.async(function(a){for(;;)switch(a.prev=a.next){case 0:return u=WT(i,r),a.next=3,Ur.awrap(zT(t,new p(n),u,e,s));case 3:return o=a.sent,a.abrupt("return",Yo(o).buffer);case 5:case"end":return a.stop()}},null,null,null,Ge)}function VT(t,n,i,e){var r,s,u;return Ur.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=null==t?void 0:t.onLicenseRequest,s=WT(n,i),r&&"function"==typeof r){o.next=5;break}return o.abrupt("return",Ge.resolve(s));case 5:return o.next=8,Ur.awrap(du(Ge.resolve(r.call(t,s)),e));case 8:if(!$o(u=o.sent)){o.next=11;break}return o.abrupt("return",Yo(u).buffer);case 11:return o.abrupt("return",jr({fairplaySkdUrl:void 0},FT,u));case 12:case"end":return o.stop()}},null,null,null,Ge)}function zT(t,n,i,e,r){var s,u,o;return Ur.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(s=null==t?void 0:t.onLicenseResponse,u=GT(n,i,e),s&&"function"==typeof s){a.next=5;break}return a.abrupt("return",Ge.resolve(n));case 5:return a.next=8,Ur.awrap(du(Ge.resolve(s.call(t,u)),r));case 8:return o=a.sent,a.abrupt("return",Yo(o));case 10:case"end":return a.stop()}},null,null,null,Ge)}function WT(t,n){return jr({},$T(t),{fairplaySkdUrl:n})}function GT(t,n,i){return{url:i.wd,status:i.od,statusText:i.ld,headers:i.hd.wl(),body:t,request:n}}function qT(t){return new _w({_d:t.url,Ld:t.method,hd:t.headers,qv:t.body,jd:t.useCredentials})}function $T(t){var n;return{url:t._d,body:null!=(n=YT(t.qv))?n:null,headers:t.hd.wl(),method:t.Ld,useCredentials:t.jd}}function YT(t){if(t)return"string"==typeof t?Xo(t):t instanceof ArrayBuffer?new p(t):Gu(t)?qo(t):void 0}var QT,JT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e)||this).NR=void 0,s.NR=r,s}E(i,t);var e=i.prototype;return e.II=function(t,n){return Ge.resolve(t)},e.RI=function(t,i){var e,r,s,u,o;return Ur.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Ur.awrap(this.nR(Jo(t).buffer));case 2:return e=a.sent,r=this.wI(e,Lf.ll,dw.Dd,i),a.next=6,Ur.awrap(HT(this.NR,r,void 0,i));case 6:if(!((s=a.sent)instanceof ArrayBuffer)){a.next=10;break}return a.abrupt("return",new p(s));case 10:if(""!==s._d){a.next=12;break}throw new lm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return a.prev=12,a.next=15,Ur.awrap(this.ag.dd(s));case 15:return u=a.sent,a.next=18,Ur.awrap(u.zv(i));case 18:return o=a.sent,a.t0=p,a.next=22,Ur.awrap(XT(this.NR,o,r,u,void 0,i));case 22:return a.t1=a.sent,a.abrupt("return",new a.t0(a.t1));case 26:throw a.prev=26,a.t2=a.catch(12),lu(a.t2),new lm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",a.t2);case 30:case"end":return a.stop()}},null,this,[[12,26]],Ge)},i}(JA),ZT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,Lf.ll)||this).NR=void 0,s.NR=r,s}E(i,t);var e=i.prototype;return e.II=function(t,i){var e,r,s,u,o;return Ur.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this.SI){a.next=2;break}return a.abrupt("return",this.SI);case 2:return e=this.wI(t,Lf.ll,dw.Nd,i),a.next=5,Ur.awrap(UT(this.NR,e,i));case 5:if(!((r=a.sent)instanceof p)){a.next=9;break}return a.abrupt("return",r);case 9:if(""!==r._d){a.next=11;break}throw new lm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return a.prev=11,a.next=14,Ur.awrap(this.ag.dd(r));case 14:return s=a.sent,a.next=17,Ur.awrap(s.zv(i));case 17:u=a.sent,a.next=24;break;case 20:throw a.prev=20,a.t0=a.catch(11),lu(a.t0),new lm(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",a.t0);case 24:return o=WT(e,void 0),a.next=27,Ur.awrap(jT(this.NR,new p(u),o,s,i));case 27:return a.abrupt("return",a.sent);case 28:case"end":return a.stop()}},null,this,[[11,20]],Ge)},e.RI=function(t,i){var e,r,s,u;return Ur.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.wI(t,Lf.ll,dw.Rd,i),o.next=3,Ur.awrap(HT(this.NR,e,void 0,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new p(r));case 7:if(""!==r._d){o.next=9;break}throw new lm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,Ur.awrap(this.ag.dd(r));case 12:return s=o.sent,o.next=15,Ur.awrap(s.zv(i));case 15:u=o.sent,o.next=22;break;case 18:throw o.prev=18,o.t0=o.catch(9),lu(o.t0),new lm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",o.t0);case 22:return o.t1=p,o.next=25,Ur.awrap(XT(this.NR,u,e,s,void 0,i));case 25:return o.t2=o.sent,o.abrupt("return",new o.t1(o.t2));case 27:case"end":return o.stop()}},null,this,[[9,18]],Ge)},i}(MT),KT=function(t){function i(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,Lf.ll)||this).NR=void 0,u.DR=void 0,u.NR=s,u}E(i,t);var e=i.prototype;return e.II=function(t,i){var e,r,s,u,o;return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.SI){t.next=2;break}return t.abrupt("return",this.SI);case 2:return e=this.kR(i),t.next=5,Ur.awrap(UT(this.NR,e,i));case 5:if(r=t.sent,!Gu(r)){t.next=8;break}return t.abrupt("return",r);case 8:return t.prev=8,t.next=11,Ur.awrap(this.ag.dd(r));case 11:return s=t.sent,t.next=14,Ur.awrap(s.zv());case 14:return u=t.sent,o=WT(e,void 0),t.next=18,Ur.awrap(jT(this.NR,new p(u),o,s,i));case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),lu(t.t0),new lm(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},null,this,[[8,21]],Ge)},e.RI=function(t,i){var e,r,s,u;return Ur.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.wI(t,Lf.ll,dw.Ed,i),o.next=3,Ur.awrap(HT(this.NR,e,this.DR,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new p(r));case 7:if(""!==r._d){o.next=9;break}throw new lm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,Ur.awrap(this.ag.dd(r));case 12:return s=o.sent,o.next=15,Ur.awrap(s.zv(i));case 15:return u=o.sent,o.t0=p,o.next=19,Ur.awrap(XT(this.NR,u,e,s,this.DR,i));case 19:return o.t1=o.sent,o.abrupt("return",new o.t0(o.t1));case 23:throw o.prev=23,o.t2=o.catch(9),lu(o.t2),new lm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",o.t2);case 27:case"end":return o.stop()}},null,this,[[9,23]],Ge)},e.yR=function(n){var i;return this.DR=n,null!=(i=this.NR)&&i.extractFairplayContentId?Ge.resolve(this.NR.extractFairplayContentId(n)):t.prototype.yR.call(this,n)},i}(hT),tS=function(){function t(){}var n=t.prototype;return n.PR=function(t,n,i,e){switch(t.hc.gs){case Zr.fs:return this.OR(n,i,e);case Zr.hs:return this.xR(n,i,e);case Zr.vs:return this.LR(t,n,i,e);case Zr.ls:default:return this.MR(n,i,e)}},n.OR=function(t,n,i){var e,r=(e=t).integration===Qb&&q(e.customIntegrationId)?t.customIntegrationId:t.integration;if(r&&aA.WI.XI(r,os)){var s=aA.WI.zI(r,os,t);return new ZT(t,n,i,s)}switch(r){case Bb:return new BA(t,n,i);case Ub:return new LA(t,n,i);case Fb:return new FA(t,n,i);case Lb:return new HA(t,n,i);case Xb:return new WA(t,n,i);case zb:return new GA(t,n,i);case Wb:return new $A(t,n,i);case qb:return new YA(t,n,i);case Hb:default:return new MT(t,n,i,Lf.ll)}},n.xR=function(t,n,i){var e=t.integration;if(e&&aA.WI.XI(e,rs)){var r=aA.WI.zI(e,rs,t);return new JT(t,n,i,r)}switch(e){case Bb:return new KA(t,n,i);case Ub:return new iT(t,n,i);case Fb:return new eT(t,n,i);case Lb:return new rT(t,n,i);case Xb:return new sT(t,n,i);case Wb:return new oT(t,n,i);case qb:return new aT(t,n,i);case Hb:default:return new JA(t,n,i)}},n.LR=function(t,n,i,e){var r=n.integration;if(r&&aA.WI.XI(r,fs)){var s=aA.WI.zI(r,fs,n);return new KT(t,n,i,e,s)}switch(r){case Mb:return new cT(t,n,i,e);case Ub:return new fT(t,n,i,e);case jb:return new dT(t,n,i,e);case Bb:return new wT(t,n,i,e);case Fb:return new gT(t,n,i,e);case Lb:return new _T(t,n,i,e);case Hb:return new yT(t,n,i,e);case Xb:return new mT(t,n,i,e);case Vb:return new pT(t,n,i,e);case zb:return new kT(t,n,i,e);case Wb:return new bT(t,n,i,e);case Gb:return new AT(t,n,i,e);case qb:return new TT(t,n,i,e);case $b:return new ST(t,n,i,e);case Yb:return new BT(t,n,i,e);default:return new hT(t,n,i,e,Lf.Kn)}},n.MR=function(t,n,i){return new LT(t,n,i)},n.FR=function(t){return t.gs===Zr.hs||t.gs===Zr.fs||t.gs===Zr.vs||t.gs===Zr.ls},n.bc=function(t,n){var i;if(t.gs!==Zr.hs)return!1;if(H(null==(i=n.playready)?void 0:i.customData))return!0;var e=n.integration;return(!e||!aA.WI.XI(e,fs))&&(e===Bb&&new ZA(n).bc)},n.YI=function(t,n){if(t.gs===Zr.fs){var i=n.integration;if(!i||!aA.WI.XI(i,fs))return i===Bb?BA.YI():void 0}},t}();!function(t){t[t.UR=0]="UR",t[t.jR=1]="jR",t[t.HR=2]="HR",t[t.XR=3]="XR",t[t.zR=4]="zR",t[t.M_=5]="M_",t[t.WR=6]="WR",t[t.GR=7]="GR",t[t.V_=8]="V_",t[t.qR=9]="qR",t[t.$R=10]="$R"}(QT||(QT={}));var nS=function(){function t(){}return t.prototype.YR=function(t){},T(t,[{key:"QR",get:function(){return 0}},{key:"JR",get:function(){return 0}}]),t}(),iS=function(){function t(t,n){void 0===n&&(n=new tS),this.DE=void 0,this.ZR=void 0,this.iR=void 0,this.DE=t,this.ZR=n}var n=t.prototype;return n.KR=function(t){this.iR=t},n.YI=function(t){var n=this.iR;if(void 0!==n)return this.ZR.YI(t,n)},n.bc=function(t){var n=this.iR;return void 0!==n&&this.ZR.bc(t,n)},n.tN=function(t){var n={hc:t.hc,nN:t.nN||[],dR:t.dR},i=this.ZR.PR(n,this.iR||{},t.rI,this.DE);return new eS(i)},t}(),eS=function(){function t(t){this.iN=void 0,this.iN=t}var n=t.prototype;return n.lI=function(t){return this.iN.lI(t)},n.vI=function(t,n,i){return this.iN.vI(n,i)},n.EI=function(){return this.iN.EI||void 0!==this.iN.SI},n.II=function(t,n){return this.iN.II(t,n)},n.RI=function(t,n,i){return n&&this.iN.cI(n),this.iN.RI(t,i)},n.Us=function(){this.iN.Kc()},t}(),rS=function(t){function n(n){var i;(i=t.call(this)||this).eN=[],i.rN=function(t){i.zg(t._g)},i.sN=function(t){var n=t._g;i.uN(n)||i.Wg(n)};for(var e=0;e<n.length;e++){var r=n[e];i.oN(r)}return i}E(n,t);var i=n.prototype;return i.oN=function(t){this.eN.push(t);for(var n=0,i=t.qg;n<i.length;n++){var e=i[n];this.zg(e)}this.aN(t)},i.hN=function(t){Ys(this.eN,t),this.cN(t);for(var n=0,i=t.qg;n<i.length;n++){var e=i[n];this.uN(e)||this.Wg(e)}},i.uN=function(t){for(var n=0,i=this.eN;n<i.length;n++){if(i[n].Gg(t))return!0}return!1},i.aN=function(t){t.tu(s_.hg,this.rN),t.tu(s_.fg,this.sN)},i.cN=function(t){t.au(s_.hg,this.rN),t.au(s_.fg,this.sN)},i.Kc=function(){for(;this.eN.length>0;)this.hN(this.eN[0]);t.prototype.Kc.call(this)},i.gg=function(){return q_(this)},n}(g_);function sS(t){return{get enabled(){return t.e_},set enabled(n){t.e_=R_(n)},get currentLatency(){return t.Py},get streamConfiguration(){if(void 0!==t.fN)return function(t){return{get minimumOffset(){return t.Ay},get maximumOffset(){return t.Sy},get targetOffset(){return t.Ty},get forceSeekOffset(){return t.Ey},get minimumPlaybackRate(){return t.Iy},get maximumPlaybackRate(){return t.Ry}}}(t.fN)},get configuration(){return function(t){return{get minimumOffset(){return t.Ay},set minimumOffset(n){t.Ay=N_(n)},get maximumOffset(){return t.Sy},set maximumOffset(n){t.Sy=N_(n)},get targetOffset(){return t.Ty},set targetOffset(n){t.Ty=N_(n)},get forceSeekOffset(){return t.Ey},set forceSeekOffset(n){t.Ey=N_(n)},get minimumPlaybackRate(){return t.Iy},set minimumPlaybackRate(n){t.Iy=N_(n)},get maximumPlaybackRate(){return t.Ry},set maximumPlaybackRate(n){t.Ry=N_(n)},update:function(n){t.tc(function(t){var n={};void 0!==t.minimumOffset&&(n.Ay=N_(t.minimumOffset));void 0!==t.maximumOffset&&(n.Sy=N_(t.maximumOffset));void 0!==t.targetOffset&&(n.Ty=N_(t.targetOffset));void 0!==t.forceSeekOffset&&(n.Ey=N_(t.forceSeekOffset));void 0!==t.minimumPlaybackRate&&(n.Iy=N_(t.minimumPlaybackRate));void 0!==t.maximumPlaybackRate&&(n.Ry=N_(t.maximumPlaybackRate));return n}(n))}}}(t.cc)}}}var uS,oS=function(){function t(){this.dg=void 0,this.lN=void 0,this.lN={Ey:0,Sy:0,Ry:0,Ay:0,Iy:0,Ty:0,tc:Z}}return T(t,[{key:"wg",get:function(){return null!=this.dg||(this.dg=sS(this)),this.dg}},{key:"e_",get:function(){return!1},set:function(t){}},{key:"Py",get:function(){}},{key:"fN",get:function(){}},{key:"cc",get:function(){return this.lN}}]),t}();function aS(){return uS||(uS=we&&we.document&&we.document.createElement("video")),uS}var hS=function(t){function n(n,i,e,r,s,u,o){var a;return void 0===u&&(u=new tS),void 0===o&&(o=Nf()),(a=t.call(this)||this).vN=void 0,a.dN=void 0,a.wN=void 0,a.jy=void 0,a.Hy=void 0,a.Xy=void 0,a.gN=void 0,a._N=void 0,a.yN=void 0,a.mN=void 0,a.pN=void 0,a.DE=void 0,a.Es=void 0,a.kN=void 0,a.bN=void 0,a.AN=new nS,a.TN=new oS,a.SN=function(t){var n=t.Au,i=n.code,e=new lf(_m(i),"Something went wrong during native playback.",n),r=new vm(i,e.message,n.message);a.EN(e,r)},a.IN=function(){a.Ks(new xy(a.sy,a.Sm))},a.RN=function(t){a.wy||(a.bN=void 0),a.Ks(t)},a.NN=function(t){a.bN=void 0},a.DN=function(){a.Ks(new Mm(a.Im))},a.CN=function(){a.py>0&&a.yy>0&&a.Ks(new pb)},a.PN=function(t){a.jy.zg(new Cm(t.track))},a.ON=function(t){var n=fS(a.jy,t.track);n&&a.jy.Wg(n)},a.xN=function(){a.BN(a.jy)},a.LN=function(t){a.Hy.zg(new Lm(t.track))},a.MN=function(t){var n=fS(a.Hy,t.track);n&&a.Hy.Wg(n)},a.FN=function(){a.BN(a.Hy)},a.UN=function(t){a.Ks(t),a.EN(t.errorObject,wm(t.errorObject))},a.vN=i,a.DE=e,a.Es=o,a.dN=a.vN.jN(ym.xd),a.yN=a.dN.HN.preload,a.mN=new Ob(a.dN,!0),a.mN.tu(Dy,a.Zs),a.kN=new iS(e,u),a.dN.XN=a.kN,a.VN(),a.jy=new mm,a.Hy=new mm,a.zN(),a.pN=new vb(a.dN,a.DE),a.Xy=new rS([a.dN.$y]),a.lm(),a}E(n,t);var i=n.prototype;return i.vm=function(){this.dN.vm()},i.lm=function(){this.dN.lm()},i.tm=function(t,n,i){var e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:return fu(i),e={gs:mb.FE,b_:t.src,Gv:t.type,WN:this.GN(t),Mm:this.yN,qN:t.crossOrigin,$N:n.metadata&&n.metadata.title},this.kN.KR(t.contentProtection),r.next=5,Ur.awrap(this.dN.Zh(e));case 5:this.wN=r.sent,fu(i),n.textTracks&&this.YN(n.textTracks),yb(this.$y);case 9:case"end":return r.stop()}},null,this,null,Ge)},i.YN=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.dN.QN()&&F.hn&&Rb&&!rb(i.kind,i.label)&&this.JN(i)){var e,r=null!=(e=i.kind)?e:Wk.lA;this.dN.ZN(i.src,r,i.label,i.srclang,i.default)}else{if(void 0===i.src)continue;this.pN.PE(i)}}},i.JN=function(t){return!t.format||"webvtt"===t.format},i.Qy=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ur.awrap(this.dN.Qy());case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.KN){t.next=12;break}return t.next=10,Ur.awrap(this.dN.wu(Bf.Vf));case 10:t.next=7;break;case 12:case"end":return t.stop()}},null,this,[[0,5]],Ge)},i.Jy=function(){this.dN.Jy()},i.nm=function(){return void 0!==this.dN.HN.webkitShowPlaybackTargetPicker},i.im=function(){this.dN.HN.webkitShowPlaybackTargetPicker&&this.dN.HN.webkitShowPlaybackTargetPicker()},i.um=function(){this.dN.HN.webkitShowPlaybackTargetPicker&&this.dN.HN.webkitShowPlaybackTargetPicker()},i.dm=function(){return this.dN.HN},i.wm=function(){return this.dN.tD},i.wc=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.gN=void 0,this._N=void 0,this.wN=void 0,t.next=5,Ur.awrap(this.pN.wc());case 5:return this.dN.nD(),t.next=8,Ur.awrap(this.dN.wc());case 8:this.mN.wc(),this.Mm=this.yN,this.Gy.wc(),this.qy.wc(),this.bN=void 0;case 13:case"end":return t.stop()}},null,this,null,Ge)},i.Kc=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ur.awrap(this.wc());case 2:return this.ou(),this.iD(),this.eD(),this.mN.Kc(),this.dN.XN=void 0,t.next=9,Ur.awrap(this.vN.rD(this.dN));case 9:return this.jy.Kc(),this.Hy.Kc(),this.Xy.Kc(),t.next=14,Ur.awrap(this.pN.Kc());case 14:case"end":return t.stop()}},null,this,null,Ge)},i.VN=function(){this.dN.tu(Bf.Xf,this.Zs),this.dN.tu(Bf.Hf,this.Zs),this.dN.tu(Bf.ol,this.IN),this.dN.tu(Bf.Vf,this.Zs),this.dN.tu(Bf.Lf,this.Zs),this.dN.tu(Bf.$f,this.Zs),this.dN.tu(Bf.qf,this.RN),this.dN.tu(Bf.Of,this.Zs),this.dN.tu(Bf.zf,this.Zs),this.dN.tu(Bf.al,this.Zs),this.dN.tu(Bf.Cf,this.Zs),this.dN.tu(Bf.Gf,this.CN),this.dN.tu(Sy.ey,this.NN),this.dN.tu(H_.d_,this.SN),this.dN.tu(Bf.Rf,this.Zs),this.dN.tu(Bf.If,this.UN),this.dN.HN.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.DN)},i.iD=function(){this.dN.au(Bf.Xf,this.Zs),this.dN.au(Bf.Hf,this.Zs),this.dN.au(Bf.ol,this.IN),this.dN.au(Bf.Vf,this.Zs),this.dN.au(Bf.Lf,this.Zs),this.dN.au(Bf.$f,this.Zs),this.dN.au(Bf.qf,this.RN),this.dN.au(Bf.Of,this.Zs),this.dN.au(Bf.zf,this.Zs),this.dN.au(Bf.al,this.Zs),this.dN.au(Bf.Cf,this.Zs),this.dN.au(Bf.Gf,this.CN),this.dN.au(Sy.ey,this.NN),this.dN.au(H_.d_,this.SN),this.dN.au(Bf.Rf,this.Zs),this.dN.au(Bf.If,this.UN),this.dN.HN.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.DN)},i.GN=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{hc:gs,sD:[{initDataTypes:[gs.ys],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.zN=function(){var t=this.dN.HN.audioTracks,n=this.dN.HN.videoTracks;t&&(t.addEventListener("addtrack",this.PN),t.addEventListener("removetrack",this.ON),t.addEventListener("change",this.xN)),n&&(n.addEventListener("addtrack",this.LN),n.addEventListener("removetrack",this.MN),n.addEventListener("change",this.FN))},i.eD=function(){var t=this.dN.HN.audioTracks,n=this.dN.HN.videoTracks;t&&(t.removeEventListener("addtrack",this.PN),t.removeEventListener("removetrack",this.ON),t.removeEventListener("change",this.xN)),n&&(n.removeEventListener("addtrack",this.LN),n.removeEventListener("removetrack",this.MN),n.removeEventListener("change",this.FN))},i.BN=function(t){for(var n=0;n<t.$g;n++){t.Vg(n).$m()}},i.Am=function(){this.dN.Am()},i.EN=function(t,n){this.gN||(this.gN=n,this._N=t,this.Ks(new Vy(t)))},T(n,[{key:"KN",get:function(){var t=this.dN.Tm,n=this.sy;return t.uD(n,.01)}},{key:"Gy",get:function(){return this.jy}},{key:"Tm",get:function(){return this.dN.Tm.oD()}},{key:"Sm",get:function(){return this.dN.Sm},set:function(t){t&&this.dN.aD(t)}},{key:"sy",get:function(){return void 0!==this.bN?this.bN:this.dN.sy},set:function(t){this.Im&&(this.bN=t),this.dN.Uu(t)}},{key:"uy",get:function(){return this.dN.uy}},{key:"oy",get:function(){return this.dN.oy}},{key:"Au",get:function(){return this.gN}},{key:"ly",get:function(){return this._N}},{key:"Yy",get:function(){}},{key:"Im",get:function(){return this.dN.Im}},{key:"Rm",get:function(){return jr({},{Nm:0,Dm:0,Cm:0,Pm:0,Om:0,xm:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.dN.hD())}},{key:"vy",get:function(){return this.dN.vy},set:function(t){this.dN.vy=t}},{key:"Bm",get:function(){return!0}},{key:"wy",get:function(){return this.dN.wy}},{key:"gy",get:function(){return this.dN.gy},set:function(t){this.dN.gy=t}},{key:"Lm",get:function(){return this.dN.HN.played}},{key:"Mm",get:function(){return this.yN},set:function(t){this.yN=t,this.wN&&(this.wN.Mm=t)}},{key:"m_",get:function(){return this.dN.m_}},{key:"Fm",get:function(){return this.dN.Fm.oD()}},{key:"_y",get:function(){return this.dN._y}},{key:"cD",get:function(){return this.dN.cD}},{key:"$y",get:function(){return this.Xy}},{key:"qy",get:function(){return this.Hy}},{key:"yy",get:function(){return this.dN.yy}},{key:"py",get:function(){return this.dN.py}},{key:"by",get:function(){return this.dN.by},set:function(t){this.dN.by=t}},{key:"Um",get:function(){return this.TN}},{key:"jm",get:function(){return this.dN.jm},set:function(t){this.dN.jm=t}},{key:"fD",get:function(){return this.AN}}]),n}(Q_);var cS=function(){function t(){this.lD=QT.$R}var n=t.prototype;return n.FI=function(t,n,i,e,r,s){return new hS(t,n,i,e,r)},n.vD=function(t,n){return function(t){return!t.type||!(!aS().canPlayType||!aS().canPlayType(t.type))}(t)},n.dD=function(){return!1},t}();function fS(t,n){for(var i=0,e=t.qg;i<e.length;i++){var r=e[i];if(r.Jm===n)return r}}var lS=function(){function t(){this.wD=new cS,this.gD=[]}t._D=function(){return this.qn};var n=t.prototype;return n.yD=function(t){this.gD.push(t)},n.FI=function(t,n,i,e,r,s){for(var u=this.wD.FI(t,n,i,e,r,s),o=0,a=this.gD;o<a.length;o++){u=(0,a[o])(u,i,e)}return u},n.vD=function(t,n){return this.wD.vD(t,n)},n.dD=function(){return!1},T(t,[{key:"lD",get:function(){return this.wD.lD}}]),t}();function vS(t,n){return Xs(t.lD,n.lD)}function dS(t){wS.qn.mD(t)}lS.qn=new lS;var wS=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).pD=lS._D(),n}E(n,t);var i=n.prototype;return i.kD=function(t){this.pD=t},i.bD=function(){return this.pD},i.TD=function(t,n){var i,e,r,s,u,o;return Ur.async(function(a){for(;;)switch(a.prev=a.next){case 0:i=0;case 1:if(!(i<t.length)){a.next=11;break}return e=t[i],a.next=5,Ur.awrap(this.SD(e,n));case 5:if(!(r=a.sent)){a.next=8;break}return a.abrupt("return",{ED:e,RD:r});case 8:i++,a.next=1;break;case 11:s=this.pD,u=0;case 13:if(!(u<t.length)){a.next=20;break}if(o=t[u],!s.vD(o,n)){a.next=17;break}return a.abrupt("return",{ED:o,RD:s});case 17:u++,a.next=13;break;case 20:return a.abrupt("return",{ED:t[0],RD:s});case 21:case"end":return a.stop()}},null,this,null,Ge)},n}(function(){function t(){this.ND=[]}var n=t.prototype;return n.mD=function(t){this.ND.push(t),this.ND.sort(vS)},n.SD=function(t,n){var i,e,r,s;return Ur.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.ND;case 1:if(!(i<e.length)){u.next=17;break}if(r=e[i],!Y(s=r.vD(t,n))){u.next=10;break}return u.next=7,Ur.awrap(s);case 7:u.t0=u.sent,u.next=11;break;case 10:u.t0=Boolean(s);case 11:if(!u.t0){u.next=14;break}return u.abrupt("return",r);case 14:i++,u.next=1;break;case 17:return u.abrupt("return",void 0);case 18:case"end":return u.stop()}},null,this,null,Ge)},t}());wS.qn=new wS;var gS,_S=function(){function t(t){this.DD=void 0,this.DD=we&&we.document&&we.document.createElement("div"),fr(this.DD),t.appendChild(this.DD)}return t.prototype.Kc=function(){nr(this.DD)},t}();function yS(t){switch(t){case gS.CD:case"":return gS.CD;case gS.dA:return gS.dA;case gS.PD:default:return gS.PD}}!function(t){t.$R="",t.PD="none",t.dA="metadata",t.CD="auto"}(gS||(gS={}));var mS=[H_.d_,Bf.Pf,Bf.Tu,Bf.fl,Bf.Af,Bf.xf,Bf.Uf,Bf.jf,Bf.Qf,Bf.Zf,Sy.Q_,Sy.J_,Sy.Z_,Sy.K_,Sy.Og,Sy.iy,Sy.ey,Bf.If,Bf.Rf,Bf.Cf,Bf.Of,Bf.Lf,Bf.Mf,Bf.Xf,Bf.Vf,Bf.Hf,Bf.zf,Bf.Gf,Bf.$f,Bf.qf,Bf.ol,Bf.al,Bf.Wf,Bf.Ff,Bf.Yf],pS=function(t){function n(n,i){var e;return(e=t.call(this)||this).OD=void 0,e.xD=void 0,e.BD=void 0,e.LD=void 0,e.yN=gS.PD,e.MD=void 0,e.FD=!0,e.jy=new X_,e.Hy=new X_,e.Xy=new Y_,e.Vy=new cm,e.OD=n,e.BD=i,e.BD.Mm=e.Mm,e.UD(),e}E(n,t);var i=n.prototype;return i.Jy=function(){this.BD.Jy()},i.Qy=function(){var t=this.BD.Qy();Y(t)&&mu(t)},i.Zy=function(){return this.tm(void 0)},i.hm=function(){},i._m=function(t){return!1},i.UD=function(){this.jy.t_=this.BD.Gy,this.Hy.t_=this.BD.qy,this.Xy.t_=this.BD.$y,this.Vy.t_=this.BD.Yy,this.BD.tu(mS,this.Zs)},i.jD=function(){this.BD.au(mS,this.Zs),this.jy.t_=void 0,this.Hy.t_=void 0,this.Xy.t_=void 0,this.Vy.t_=void 0},i.Ky=function(){return this.MD},i.tm=function(t,n){var i,e,r,s,u,o;return Ur.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(fu(n),this.MD=t,t){a.next=4;break}return a.abrupt("return");case 4:if(!my(i=t.sources.filter(Ty))){a.next=7;break}return a.abrupt("return");case 7:return a.next=9,Ur.awrap(this.OD.TD(i,t));case 9:if(e=a.sent,fu(n),r=e.ED,s=e.RD,u=this.wm(),o=Gy(this),this.xD===s&&!this.Au){a.next=25;break}return this.jD(),a.next=19,Ur.awrap(this.BD.Kc());case 19:fu(n),this.xD=s,this.BD=this.HD(s),kS(this.BD,o),$y(this,o,this),this.UD();case 25:return this.BD.Mm=this.Mm,this.FD?this.BD.lm():this.BD.vm(),a.next=29,Ur.awrap(this.BD.tm(r,t,n));case 29:fu(n),this.XD(r),this.wm()!==u&&this.Ks(new Z_);case 32:case"end":return a.stop()}},null,this,null,Ge)},i.XD=function(t){this.LD!==t&&(this.LD=t,this.Ks(new K_(t)))},i.nm=function(){return this.BD.nm()},i.im=function(){this.BD.im()},i.um=function(){this.BD.um()},i.wm=function(){return this.BD.wm()},i.Am=function(){this.BD.Am()},i.wc=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.MD=void 0,this.XD(void 0),t.next=4,Ur.awrap(this.BD.wc());case 4:case"end":return t.stop()}},null,this,null,Ge)},i.Kc=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ou(),t.next=3,Ur.awrap(this.wc());case 3:return t.next=5,Ur.awrap(this.BD.Kc());case 5:this.jy.Kc(),this.Hy.Kc(),this.Xy.Kc(),this.Vy.Kc();case 9:case"end":return t.stop()}},null,this,null,Ge)},i.lm=function(){this.FD=!0,this.BD.lm()},i.vm=function(){this.FD=!1,this.BD.vm()},T(n,[{key:"Gy",get:function(){return this.jy}},{key:"Tm",get:function(){return this.BD.Tm}},{key:"Au",get:function(){return this.BD.Au}},{key:"ly",get:function(){return this.BD.ly}},{key:"Sm",get:function(){return this.BD.Sm},set:function(t){this.BD.Sm=t}},{key:"pm",get:function(){return this.LD}},{key:"sy",get:function(){return this.BD.sy},set:function(t){this.BD.sy=t}},{key:"uy",get:function(){return this.BD.uy}},{key:"oy",get:function(){return this.BD.oy}},{key:"Yy",get:function(){return this.Vy}},{key:"Im",get:function(){return this.BD.Im}},{key:"Rm",get:function(){return this.BD.Rm}},{key:"vy",get:function(){return this.BD.vy},set:function(t){this.BD.vy=t}},{key:"Bm",get:function(){return this.BD.Bm}},{key:"wy",get:function(){return this.BD.wy}},{key:"gy",get:function(){return this.BD.gy},set:function(t){this.BD.gy=t}},{key:"Lm",get:function(){return this.BD.Lm}},{key:"Mm",get:function(){return this.yN},set:function(t){this.yN=t,this.BD&&(this.BD.Mm=this.yN)}},{key:"m_",get:function(){return this.BD.m_}},{key:"Fm",get:function(){return this.BD.Fm}},{key:"_y",get:function(){return this.BD._y}},{key:"$y",get:function(){return this.Xy}},{key:"yy",get:function(){return this.BD.yy}},{key:"qy",get:function(){return this.Hy}},{key:"py",get:function(){return this.BD.py}},{key:"by",get:function(){return this.BD.by},set:function(t){this.BD.by=t}},{key:"Um",get:function(){return this.BD.Um}},{key:"fD",get:function(){return this.BD.fD}}]),n}(Su);function kS(t,n){t.vy!==n.vy&&(t.vy=n.vy),t.by!==n.by&&(t.by=n.by),t.gy!==n.gy&&(t.gy=n.gy)}var bS,AS=function(t){function n(n,i){var e;return(e=t.call(this)||this).$g=void 0,e.VD=void 0,e.zD=void 0,e.$g=n.length>>1,e.VD=n,e.zD=i||function(t){for(var n=new Array(2*t),i=0,e=0;i<t;i+=1,e+=2)n[e]=!0,n[e+1]=!1;return n}(e.$g),e}E(n,t);var i=n.prototype;return i.WD=function(t){return this.VD[2*t]},i.GD=function(t){return this.zD[2*t]},i.qD=function(t){return this.VD[2*t+1]},i.$D=function(t){return this.zD[2*t+1]},T(n,[{key:"YD",get:function(){return this.VD.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.Sp=function(t,n){return 0===this.Fp(t,n)},n.yk=function(t,n){return this.Fp(t,n)>0},n.pk=function(t,n){return this.Fp(t,n)>=0},n.Vp=function(t,n){return this.Fp(t,n)<0},n.Hp=function(t,n){return this.Fp(t,n)<=0},n.jk=function(t,n){return this.Vp(t,n)?t:n},n.Uk=function(t,n){return this.yk(t,n)?t:n},n.QD=function(t,n,i){return i?this.Hp(t,n):this.Vp(t,n)},n.oD=function(){var t=this;return{get length(){return t.$g},start:function(n){var i=0|n;return t.JD(i),t.ZD(t.WD(i))},end:function(n){var i=0|n;return t.JD(i),t.ZD(t.qD(i))}}},n.KD=function(){for(var t=new Array(2*this.$g),n=new Array(2*this.$g),i=0;i<this.$g;i++)t[2*i]=this.WD(i),t[2*i+1]=this.qD(i),n[2*i]=!0,n[2*i+1]=!0;return this.tC(t,n)},n.JD=function(t){if(t<0)throw new l("The index provided ("+t+") must be non-negative");if(t>=this.$g)throw new l("The index provided ("+t+") is greater than the maximum bound ("+this.$g+")")},n.nC=function(t){if(0===this.$g)return this.iC();if(this.uD(t))return t;if(this.Hp(t,this.WD(0)))return this.WD(0);if(this.pk(t,this.qD(this.$g-1)))return this.qD(this.$g-1);for(var n,i=this.eC(),e=0;e<this.$g;e++){var r=this.WD(e),s=this.Xp(r,t);this.Vp(s,i)&&(n=r,i=s);var u=this.qD(e),o=this.Xp(this.qD(e),t);this.Vp(o,i)&&(n=u,i=o)}return n},n.rC=function(t){for(var n=0,i=0,e=[],r=[];n<this.$g&&i<t.$g;){var s=this.WD(n),u=this.qD(n),o=this.GD(n),a=this.$D(n),h=t.WD(i),c=t.qD(i),f=t.GD(i),l=t.$D(i),v=this.Uk(s,h),d=this.jk(u,c),w=void 0;w=this.Sp(s,h)?o&&f:this.Sp(v,s)?o:f;var g=void 0;g=this.Sp(u,c)?a&&l:this.Sp(d,u)?a:l,(this.Vp(v,d)||w&&g&&this.Sp(v,d))&&(e.push(v,d),r.push(w,g));var _=this.Fp(this.qD(n),t.qD(i));0===_?(n+=1,i+=1):_<0?n+=1:i+=1}return this.tC(e,r)},n.sC=function(){var t=this.uC(),n=t.$g;if(0===n)return this.tC([t.oC(),t.eC()],[!1,!1]);var i=[],e=[],r=t.WD(0);t.Sp(r,t.oC())||(i.push(t.oC(),r),e.push(!1,!t.GD(0)));for(var s=0;s<n-1;s++)i.push(t.qD(s),t.WD(s+1)),e.push(!t.$D(s),!t.GD(s+1));var u=t.qD(n-1);return t.Sp(u,t.eC())||(i.push(u,t.eC()),e.push(!t.$D(n-1),!1)),t.tC(i,e)},n.aC=function(t){for(var n=0,i=0,e=this.$g,r=t.$g,s=new Array(2*(e+r)),u=new Array(2*(e+r)),o=0;n<e&&i<r;){var a=this.WD(n),h=this.qD(n),c=t.WD(i),f=t.qD(i);this.Vp(a,c)||this.Sp(a,c)&&this.Vp(h,f)?(s[o]=a,s[o+1]=h,u[o]=this.GD(n),u[o+1]=this.$D(n),n++):(s[o]=c,s[o+1]=f,u[o]=t.GD(i),u[o+1]=t.$D(i),i++),o+=2}for(;n<e;)s[o]=this.WD(n),s[o+1]=this.qD(n),u[o]=this.GD(n),u[o+1]=this.$D(n),n++,o+=2;for(;i<r;)s[o]=t.WD(i),s[o+1]=t.qD(i),u[o]=t.GD(i),u[o+1]=t.$D(i),i++,o+=2;return this.tC(s,u)},n.hC=function(t){void 0===t&&(t=this.iC());var n=this.$g;if(n<2)return this;for(var i=[],e=[],r=this.WD(0),s=this.qD(0),u=this.GD(0),o=this.$D(0),a=1;a<n;a++){var h=this.WD(a),c=this.qD(a),f=this.GD(a),l=this.$D(a);this.Vp(r,h)&&this.yk(s,c)||(this.Sp(r,h)&&(u=f=u||f),this.Sp(s,c)&&(o=l=o||l),this.QD(h,this.Xm(s,t),o||f)?(s=c,o=l):(i.push(r,s),e.push(u,o),r=h,s=c,u=f,o=l))}return i.push(r,s),e.push(u,o),this.tC(i,e).uC()},n.uC=function(){for(var t=[],n=[],i=0;i<this.$g;i++){var e=this.WD(i),r=this.qD(i),s=this.GD(i),u=this.$D(i);this.Sp(e,r)?(s||u)&&(t.push(e,r),n.push(!0,!0)):(t.push(e,r),n.push(s,u))}return this.tC(t,n)},n.cC=function(t){return this.$g?t.$g?this.aC(t).hC():this:t},n.fC=function(t){var n=this.uC(),i=t.uC(),e=n.sC(),r=i.sC(),s=e.rC(i),u=r.rC(n);return s.cC(u)},n.Mu=function(t){if(this.Sp(t,this.iC()))return this;for(var n=[],i=[],e=0;e<this.$g;e++){var r=this.Xm(this.WD(e),t),s=this.Xm(this.qD(e),t);n.push(r,s),i.push(this.GD(e),this.$D(e))}return this.tC(n,i)},n.lC=function(t){return 0===this.$g||0===t.$g?this:this.uC().rC(t.uC().sC())},n.uD=function(t,n){return this.vC(t,n)>=0},n.dC=function(t,n,i,e,r){return this.wC(t,n,i,e,r)>=0},n.gC=function(t,n,i,e,r){return this._C(t,n,i,e,r)>=0},n.yC=function(t){if(t.$g!==this.$g)return!1;for(var n=0;n<this.$g;n++)if(!this.Sp(this.WD(n),t.WD(n))||!this.Sp(this.qD(n),t.qD(n))||this.GD(n)!==t.GD(n)||this.$D(n)!==t.$D(n))return!1;return!0},n.mC=function(t){for(var n=[],i=[],e=0;e<this.$g;e++){var r=this.WD(e),s=this.qD(e),u=this.GD(e),o=this.$D(e);t(r,s,u,o)&&(n.push(r,s),i.push(u,o))}return this.tC(n,i)},n._C=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!0),void 0===r&&(r=this.iC());for(var s=this.qp(t,r),u=this.Xm(n,r),o=0;o<this.$g;o+=1)if(this.QD(this.WD(o),u,!e||this.GD(o))&&this.QD(s,this.qD(o),!i||this.$D(o)))return o;return-1},n.wC=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!1),void 0===r&&(r=this.iC());for(var s=this.Xm(t,r),u=this.qp(n,r),o=0;o<this.$g;o+=1)if(this.QD(this.WD(o),s,!i||this.GD(o))&&this.QD(u,this.qD(o),!e||this.$D(o)))return o;return-1},n.vC=function(t,n){return this.wC(t,t,!0,!0,n)},n.pC=function(t,n){void 0===n&&(n=this.iC());for(var i=this.Xm(t,n),e=this.$g-1;e>=0;e-=1)if(this.QD(this.WD(e),i,this.GD(e)))return e;return-1},n.kC=function(t,n){void 0===n&&(n=this.iC());for(var i=this.qp(t,n),e=0;e<this.$g;e+=1)if(this.QD(i,this.qD(e),this.$D(e)))return e;return-1},n.bC=function(t){return this.JD(t),this.tC([this.WD(t),this.qD(t)],[this.GD(t),this.$D(t)])},n.AC=function(t,n){var i=this.vC(t,n);return i<0?void 0:this.bC(i)},T(t,[{key:"TC",get:function(){for(var t=this.iC(),n=0;n<this.$g;n++){var i=this.qp(this.qD(n),this.WD(n));t=this.Xm(t,i)}return t}}]),t}()),TS=function(t){function n(n,i){return t.call(this,n,i)||this}E(n,t);var i=n.prototype;return i.Fp=function(t,n){return t<n?Ls.Os:t===n?Ls.Cs:Ls.Ps},i.Xm=function(t,n){return t+n},i.qp=function(t,n){return t-n},i.Xp=function(t,n){return g.abs(t-n)},i.iC=function(){return 0},i.eC=function(){return 1/0},i.oC=function(){return-1/0},n.SC=function(t){for(var i=[],e=0;e<t.length;e++)i.push(t.start(e),t.end(e));return new n(i)},n.EC=function(t){for(var i=[],e=[],r=0;r<t.$g;r++)i.push(t.WD(r).Vk),i.push(t.qD(r).Vk),e.push(t.GD(r)),e.push(t.$D(r));return new n(i,e)},n.IC=function(t){return new n([t,t],[!0,!0])},i.tC=function(t,i){return new n(t,i)},i.ZD=function(t){return t},n.RC=function(){return SS},n}(AS),SS=new TS([]);!function(t){t.Cg="fullscreenchange",t.NC="fullscreensupportchange",t.d_="fullscreenerror"}(bS||(bS={}));var ES=function(t){function n(){return t.call(this,bS.d_)||this}return E(n,t),n}(Iu),IS=new(function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.ip=function(){this.Ks(new ES)},i.rp=function(){},i.Kc=function(){this.ou()},T(n,[{key:"DC",get:function(){return!1}},{key:"OC",get:function(){return!1}}]),n}(Su)),RS=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).vN=void 0,n.dN=void 0,n}E(n,t);var i=n.prototype;return i.dm=function(){var t;return null==(t=this.dN)?void 0:t.HN},i.Kc=function(){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ur.awrap(t.prototype.Kc.call(this));case 2:if(!this.dN){n.next=6;break}return n.next=5,Ur.awrap(this.vN.rD(this.dN));case 5:this.dN=void 0;case 6:case"end":return n.stop()}},null,this,null,Ge)},T(n,[{key:"xC",set:function(t){this.vN=t,this.dN=t.jN(ym.xd)}}]),n}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).BC=0,n.LC=!1,n.MC=!0,n.FC=1,n.UC=!1,n.Oa=1,n.Gy=new mm,n.Tm=TS.RC().oD(),n.uy=NaN,n.oy=!1,n.Au=void 0,n.ly=void 0,n.Yy=void 0,n.Im=!1,n.Bm=!0,n.Lm=TS.RC().oD(),n.Mm=gS.PD,n.m_=uy.z_,n.Fm=TS.RC().oD(),n.cD=void 0,n.$y=new Gk,n.yy=0,n.qy=new mm,n.py=0,n.Um=new oS,n.AN=new nS,n}E(n,t);var i=n.prototype;return i.lm=function(){},i.vm=function(){},i.Qy=function(){this.MC&&(this.MC=!1,this.Ks(new Ry(this.sy)),this.Ks(new Db(this.sy)))},i.Jy=function(){this.MC||(this.MC=!0,this.Ks(new xy(this.sy,this.Sm)),this.Ks(new Iy(this.sy)))},i.tm=function(t,n){return Ge.resolve()},i.nm=function(){return!1},i.im=function(){},i.um=function(){},i.wm=function(){return IS},i.Am=function(){},i.wc=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.BC=0,this.UC=!1,this.Jy(),this.Ks(new Ey(this.BC));case 4:case"end":return t.stop()}},null,this,null,Ge)},i.Kc=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.ou(),this.Gy.Kc(),this.$y.Kc(),this.qy.Kc();case 4:case"end":return t.stop()}},null,this,null,Ge)},T(n,[{key:"Sm",get:function(){},set:function(t){}},{key:"sy",get:function(){return this.BC},set:function(t){this.BC!==t&&(this.BC=t,this.UC=!0,this.Ks(new My(this.sy)))}},{key:"Rm",get:function(){return{Nm:0,Dm:0,Cm:0,Pm:0,Om:0,xm:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"vy",get:function(){return this.LC},set:function(t){this.LC!==t&&(this.LC=t,this.Ks(new Uy(this.sy,this.by)))}},{key:"wy",get:function(){return this.MC}},{key:"gy",get:function(){return this.FC},set:function(t){this.FC!==t&&(this.FC=t,this.Ks(new Oy(this.sy,this.gy)))}},{key:"_y",get:function(){return this.UC}},{key:"by",get:function(){return this.Oa},set:function(t){this.Oa!==t&&(this.Oa=t,this.Ks(new Uy(this.sy,this.by)))}},{key:"jm",get:function(){return!1},set:function(t){}},{key:"fD",get:function(){return this.AN}}]),n}(Su)),NS=function(t){function n(n,i,e,r,s,u){var o,a=new RS;return(o=t.call(this,wS.qn,a)||this).Mc=void 0,o.jC=void 0,o.HC=void 0,o.XC=void 0,o.DE=void 0,o.VC=void 0,o.zC=void 0,o.HC=n,o.Mc=i,o.DE=e,o.VC=r,o.XC=u,o.jC=new le(s,o.XC),o.jC.WC(o.HC),a.xC=o.jC,o.zC=new _S(o.HC),o}E(n,t);var i=n.prototype;return i.hm=function(){t.prototype.hm.call(this),this.jC.GC()},i.cm=function(t){qy(this,t)},i.fm=function(){},i.HD=function(t){return t.FI(this.HC,this.jC,this.DE,this.Mc,this.VC,this.XC)},i.dm=function(){return this.BD.dm()},i.gm=function(){return this.jC.qC.map(function(t){return t.HN})},i.uu=function(n){t.prototype.uu.call(this,n)},i.du=function(n){t.prototype.du.call(this,n)},i.Kc=function(){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ur.awrap(t.prototype.Kc.call(this));case 2:this.jC.Kc(),this.zC.Kc();case 4:case"end":return n.stop()}},null,this,null,Ge)},T(n,[{key:"Em",get:function(){return this.HC}},{key:"jm",get:function(){return this.BD.jm},set:function(t){this.BD.jm=t}}]),n}(pS),DS=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).HC=void 0,r.$C=void 0,r.YC=void 0,r.QC=void 0,r.JC=void 0,r.TN=new oS,r.HC=n,r.$C=i,r.QC=new mm,r.JC=new Gk,r.YC=e,r}E(n,t);var i=n.prototype;return i._m=function(t){return!0},i.vm=function(){},i.Qy=function(){throw this.Ks(new Vy(this.YC)),this.$C},i.Jy=function(){},i.Ky=function(){},i.tm=function(t,n){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:throw fu(n),this.Ks(new Vy(this.YC)),this.$C;case 3:case"end":return t.stop()}},null,this,null,Ge)},i.lm=function(){},i.Zy=function(){return Ge.resolve()},i.dm=function(){},i.wm=function(){return IS},i.gm=function(){return[]},i.hm=function(){},i.cm=function(t){},i.fm=function(){},i.nm=function(){return!1},i.im=function(){},i.um=function(){},i.Am=function(){},i.wc=function(){return Ge.resolve()},i.Kc=function(){return this.ou(),this.QC.Kc(),this.JC.Kc(),Ge.resolve()},T(n,[{key:"Gy",get:function(){return this.QC}},{key:"Tm",get:function(){return TS.RC().oD()}},{key:"Sm",get:function(){return new Date(NaN)},set:function(t){}},{key:"pm",get:function(){}},{key:"sy",get:function(){return 0},set:function(t){}},{key:"uy",get:function(){return 0}},{key:"Em",get:function(){return this.HC}},{key:"oy",get:function(){return!0}},{key:"Au",get:function(){return this.$C}},{key:"ly",get:function(){return this.YC}},{key:"Yy",get:function(){}},{key:"Rm",get:function(){return{Nm:0,Dm:0,Cm:0,Pm:0,Om:0,xm:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"vy",get:function(){return!1},set:function(t){}},{key:"Bm",get:function(){return!0}},{key:"wy",get:function(){return!0}},{key:"gy",get:function(){return 0},set:function(t){}},{key:"Lm",get:function(){return TS.RC().oD()}},{key:"Mm",get:function(){return gS.PD},set:function(t){}},{key:"m_",get:function(){return uy.z_}},{key:"Fm",get:function(){return TS.RC().oD()}},{key:"_y",get:function(){return!1}},{key:"$y",get:function(){return this.JC}},{key:"yy",get:function(){return 0}},{key:"qy",get:function(){return this.QC}},{key:"py",get:function(){return 0}},{key:"by",get:function(){return 1},set:function(t){}},{key:"Um",get:function(){return this.TN}},{key:"jm",get:function(){return!1},set:function(t){}},{key:"Im",get:function(){return!1}}]),n}(J_);function CS(t){if(t&&W(t))return jr({},t,{integration:PS(t.integration),fairplay:FS(t.fairplay),widevine:OS(t.widevine),playready:xS(t.playready),clearkey:US(t.clearkey),aes128:jS(t.aes128),integrationParameters:HS(t.integrationParameters),preferredKeySystems:XS(t.preferredKeySystems)})}function PS(t){if(q(t))return t}function OS(t){if(t&&W(t))return{persistentState:BS(t.persistentState),distinctiveIdentifier:BS(t.distinctiveIdentifier),audioRobustness:LS(t.audioRobustness),videoRobustness:LS(t.videoRobustness),licenseAcquisitionURL:q(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:MS(t.licenseType),headers:t.headers,useCredentials:!!$(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:q(t.certificate)||$o(t.certificate)?t.certificate:void 0}}function xS(t){if(t){var n=OS(t);if(n)return jr({},n,{customData:q(t.customData)?t.customData:void 0})}}function BS(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function LS(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function MS(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function FS(t){if(t){var n=OS(t);if(n)return jr({},n,{certificateURL:q(t.certificateURL)?t.certificateURL:void 0})}}function US(t){if(t){var n=OS(t);if(n)return jr({},n,{keys:V(t.keys)?t.keys.map(function(t){return function(t){if(!t||!W(t))return;var n=t.id,i=t.value;if(!q(n)||!q(i))return;return{id:n,value:i}}(t)}).filter(H):void 0})}}function jS(t){if(W(t))return{useCredentials:$(t.useCredentials)?t.useCredentials:void 0}}function HS(t){if(W(t))return t}function XS(t){return t&&V(t)?t.map(function(t){return IA(t)}).filter(H):[os,rs,fs]}var VS,zS=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return E(n,t),n}(Iu),WS=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this,n)||this).ZC=[],e.KC=void 0,e.tP=function(t){yu(function(){e.Zs(t)})},e.KC=i?e.tP:e.Zs,e}E(n,t);var i=n.prototype;return i.nP=function(t){t.uu(this.KC),this.ZC.push(t)},i.iP=function(t){t.du(this.KC),Ys(this.ZC,t)},i.Kc=function(){this.ou();for(var t=0,n=this.ZC;t<n.length;t++){n[t].du(this.KC)}Zs(this.ZC)},n}(Q_),GS=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n}(WS);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(VS||(VS={}));var qS,$S=function(t){function i(n){var i;return(i=t.call(this)||this).eP=void 0,i.rP=void 0,i.sP=!1,i.uP=!1,i.oP=void 0,i.aP=void 0,i.hP=void 0,i.dg=void 0,i.cP=function(){return i.fP()},i.lP=function(){return i.vP()},i.hP=n,i.eP=i.rP=i.oP=i.aP=VS.INLINE,i.hP.tu(bS.Cg,i.cP),i.hP.tu(bS.d_,i.lP),i.dP(),i}E(i,t);var e=i.prototype;return e.gg=function(){return t=this,i={get currentMode(){return t.wP()},requestMode:function(n){var i=QS(n);i&&t.gP(i)},supportsMode:function(n){var i=QS(n);return!!i&&t._P(i)},addEventListener:function(t,i){n.tu(t,i)},removeEventListener:function(t,i){n.au(t,i)}},(n=new WS(i,!0)).nP(t),i;var t,n,i},e.gP=function(t){this.yP(t,t)},e.yP=function(t,n){this.rP!==n&&(this.sP=!0,this.eP=t,this.mP(n,this.rP),t!==VS.FULLSCREEN&&(this.oP=t),this.sP=!1,this.dP())},e.wP=function(){return this.uP?VS.FULLSCREEN:VS.INLINE},e._P=function(t){switch(t){case VS.FULLSCREEN:return this.hP.OC;case VS.INLINE:return!0}return!1},e.dP=function(){if(!this.sP){var t=this.rP,n=this.wP();this.rP=n,n!==VS.FULLSCREEN&&(this.aP=n),t!==n&&this.Ks(new zS(n))}},e.mP=function(t,n){var i=t===VS.FULLSCREEN;this.uP=i,i!==this.hP.DC&&(i?this.hP.ip():this.hP.rp())},e.fP=function(){if(!this.sP){var t=this.hP.DC;this.uP=t,t?this.yP(VS.FULLSCREEN,VS.FULLSCREEN):t||this.eP!==VS.FULLSCREEN?this.dP():this.yP(this.oP,this.aP)}},e.vP=function(){this.fP(),this.Ks(new Vy(new lf(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},e.Kc=function(){this.hP.Kc(),this.ou()},T(i,[{key:"wg",get:function(){return this.dg||(this.dg=this.gg()),this.dg}}]),i}(Q_),YS={sy:0,uy:NaN,oy:!1,Au:void 0,ly:void 0,vy:!1,wy:!0,gy:1,m_:uy.z_,_y:!1,yy:0,py:0,by:1};function QS(t){switch(t){case VS.INLINE:case VS.FULLSCREEN:case VS.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel",t.MEDIATAILOR="mediatailor"}(qS||(qS={}));var JS,ZS,KS,tE,nE,iE,eE,rE,sE=function(){function t(){this.pP=[]}var n=t.prototype;return n.kP=function(t){var n=this.bP.filter(function(n){return n.AP(t)});if(n.length>1)0;else if(0===n.length)throw l("Unknown ad integration: "+t.integration);return n[0]||null},n.TP=function(t){this.pP.push(t)},T(t,[{key:"bP",get:function(){return this.pP}}]),t}();sE.qn=new sE,function(t){t.ey="PLAYING",t.Ly="PAUSED",t.SP="SEEK",t.EP="STALLED",t.IP="FAILED",t.RP="INITIAL_BUFFERING",t.NP="NO_ACCESS"}(JS||(JS={})),function(t){t.DP="HTTP_REQUEST_STATUS_CODE_1XX",t.CP="HTTP_REQUEST_STATUS_CODE_2XX",t.PP="HTTP_REQUEST_STATUS_CODE_3XX",t.OP="HTTP_REQUEST_STATUS_CODE_4XX",t.xP="HTTP_REQUEST_STATUS_CODE_5XX",t.BP="BUFFER_LENGTH",t.LP="BYTES_RECEIVED",t.MP="SEGMENT_READ_BITRATE",t.FP="SEGMENT_PROFILE_BITRATE",t.UP="NUMBER_OF_FRAMES_DROPPED",t.jP="PLAYBACK_POSITION",t.HP="NUMBER_OF_FRAMES_DECODED",t.XP="PLAYBACK_DELTA_TO_ORIGIN",t.VP="STREAM_DELTA_TO_ORIGIN",t.zP="ORIGIN_TIMESTAMP"}(ZS||(ZS={})),function(t){t.WP="MANIFEST_URI",t.GP="ASSET_DURATION",t.qP="NUMBER_OF_CONTENT_PROFILES",t.$P="CDN",t.YP="CONTENT_TITLE",t.QP="SERVICE_NAME",t.JP="CONTENT_TYPE",t.ZP="CONTENT_DESCRIPTION"}(KS||(KS={})),function(t){t.KP="shutdown_normal_shutdown"}(tE||(tE={})),function(t){t.tO="session/",t.nO="internalError/",t.iO="drmError/",t.eO="caError/",t.rO="networkError/"}(nE||(nE={})),function(t){t.sO="userAction",t.uO="endOfStreamReached"}(iE||(iE={})),function(t){t.PAUSE="oO",t.RESUME="aO"}(eE||(eE={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(rE||(rE={}));var uE,oE,aE,hE,cE,fE,lE="agama";function vE(t){return function(t){switch(t){case uE.NONE:case uE.HORIZONTAL:case uE.VERTICAL:return!0;default:return!1}}(t)?t:uE.NONE}function dE(t){switch(t){case"":return uE.NONE;case"horizontal":return uE.HORIZONTAL;case"vertical":return uE.VERTICAL;default:throw new v}}function wE(t,n){if(n)return oE.PM360;if(null==t)return oE.NONE;switch(t){case"":return oE.NONE;case"360":return oE.PM360;case"180":return oE.PM180;default:throw new v("Provided panoramaMode value is not recognized. Expected '', '360' or '180' but value was "+t)}}function gE(t){var n,i;return{useSeamlessPeriodSwitch:function(t){if(!t||!q(t))return aE.CD;switch(t){case"always":return aE.hO;case"never":return aE.cO;case"clear-only":return aE.CLEAR_ONLY;case"same-drm-only":return aE.SAME_DRM_ONLY;default:return aE.CD}}(null==t?void 0:t.useSeamlessPeriodSwitch),needsTimescaleShifting:null==t?void 0:t.needsTimescaleShifting,desiredTimescale:null!=(n=null==t?void 0:t.desiredTimescale)?n:void 0,forceSeekToSynchronize:null!=(i=null==t?void 0:t.forceSeekToSynchronize)?i:void 0}}function _E(t){return{discontinuityAlignment:yE(null==t?void 0:t.discontinuityAlignment),useLegacy:(n=null==t?void 0:t.useLegacy,H(n)?Boolean(n):void 0)};var n}function yE(t){if(!t||!q(t))return hE.CD;switch(t){case"playlist":return hE.fO;case"media":return hE.lO;default:return hE.CD}}function mE(t,n){var i=P_(null==t?void 0:t.preferredAudioCodecs,C_),e=P_(null==t?void 0:t.preferredVideoCodecs,C_),r=P_(null==n?void 0:n.preferredAudioCodecs,C_),s=P_(null==n?void 0:n.preferredVideoCodecs,C_),u=pE(i,r),o=pE(e,s);if(u||o)return{preferredAudioCodecs:u,preferredVideoCodecs:o}}function pE(t,n){return t.length>0?t:n.length>0?n:void 0}function kE(t,n,i){var e=function(t,n){var i=iy.j_;t.useCredentials?i=iy.U_:t.crossOrigin&&(i=cy(t.crossOrigin));i===iy.j_&&n&&n.vr&&n.vr[360]&&(i=iy.F_);return{useCredentials:i===iy.U_,crossOrigin:i}}(t,n),r=e.useCredentials,s=e.crossOrigin,u=t.liveOffset;H(u)||(u=i&&H(i.liveOffset)?i.liveOffset:void 0);var o=t.timeServer;H(o)||(o=n&&H(n.timeServer)?n.timeServer:void 0);var a=t.hlsDateRange;return H(a)||(a=i&&H(i.hlsDateRange)?Boolean(i.hlsDateRange):void 0),{crossOrigin:s,useCredentials:r,liveOffset:u,timeServer:o,hlsDateRange:a,experimentalRendering:Boolean(t.experimentalRendering),nativeUiRendering:Boolean(t.nativeUiRendering),lowLatency:Boolean(t.lowLatency),useNativePlayback:Boolean(t.useNativePlayback),dash:H(t.dash)?gE(t.dash):void 0,hls:H(t.hls)?_E(t.hls):void 0,abr:mE(t.abr,null==i?void 0:i.abr),lcevc:H(t.lcevc)?R_(t.lcevc):void 0}}function bE(t){if(null!==t)return t}function AE(t){var n={};if(!W(t))return n;var i=t;for(var e in i)if(w.prototype.hasOwnProperty.call(i,e)){var r=i[e];q(r)&&(n[e]=r)}return n}function TE(t){var n,e={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:bE(t.streamActivityMonitorID),adTagParameters:W(t.adTagParameters)?t.adTagParameters:{},authToken:bE(t.authToken),omidAccessModeRules:t.omidAccessModeRules?AE(t.omidAccessModeRules):void 0};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var r=t.videoID,s=t.contentSourceID;return r?s?jr({},e,{availabilityType:"vod",videoID:r,contentSourceID:s}):void i.Tr("A VOD DAI configuration was provided without valid contentSourceID which is required."):void i.Tr("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?jr({},e,{availabilityType:"live",assetKey:u}):void i.Tr("A Live DAI configuration was provided without valid assetKey which is required.")}i.Tr("A DAI configuration was provided without a valid availabilityType which is required.")}function SE(t){switch(t.integration){case"google-dai":return TE(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}function EE(t,n,i){var e=kE(t,n,i),r=bE(t.src),s=t.type;return s||(s=t.src?hy(t.src):void 0),jr({},e,{src:r,type:s,contentProtection:function(t,n){var i;i=H(t.contentProtection)?t.contentProtection:H(t.drm)?t.drm:H(n)&&H(n.contentProtection)?n.contentProtection:H(n)&&H(n.drm)?n.drm:void 0;return IE(i)}(t,n),ssai:H(t.ssai)?SE(t.ssai):void 0,integrationData:void 0,isAdvertisement:Boolean(t.isAdvertisement)})}function IE(t){if(!mA(t)||!t.integration)return t;switch(t.integration){case Hb:return n=t,i=EA(Zr.fs,n),e=EA(Zr.hs,n),r=n[Zr.vs]&&EA(Zr.vs,n),jr({integration:"keyos",widevine:i,playready:e},r?{fairplay:r}:{});default:return t}var n,i,e,r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(uE||(uE={})),function(t){t.NONE="",t.PM360="360",t.PM180="180"}(oE||(oE={})),function(t){t.CD="auto",t.hO="always",t.cO="never",t.CLEAR_ONLY="clear-only",t.SAME_DRM_ONLY="same-drm-only"}(aE||(aE={})),function(t){t.CD="auto",t.fO="playlist",t.lO="media"}(hE||(hE={})),function(t){t.VERIZON_MEDIA="verizon-media",t.MEDIATAILOR="mediatailor"}(cE||(cE={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(fE||(fE={}));var RE="https://content.uplynk.com";function NE(t){if(!t)return!0;var n,i,e=!(yy(n=t.sources)||z(n)&&yy(n[0]))||my(t.sources),r=!t.ads||(!(i=t.ads)||V(i)&&0===i.length),s=""!==t.poster&&!t.poster;return e&&r&&s}function DE(t){if(t&&t.sources)return function t(n){if(q(n))return hy(n);if(gy(n))return n.type||n.src&&hy(n.src);if(z(n)&&n.length>0)return t(n[0]);return}(t.sources)}function CE(t){if(t&&t.sources)return function t(n){if(q(n))return n;if(gy(n))return n.src;if(z(n)&&n.length>0)return t(n[0]);return}(t.sources)}function PE(t,n,i){return dy(t)?function(t,n,i){var e=jr({},py(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:cE.VERIZON_MEDIA,id:"",prefix:RE,preplayParameters:{},playbackUrlParameters:{},assetType:fE.ASSET,contentProtected:!1,assetInfo:!0});e.id=(r=t.id,q(r)?r:z(r)&&q(r[0])?r:W(s=r)&&q(s.userId)&&(z(s.externalId)||q(s.externalId))?r:""),t.preplayParameters&&(e.preplayParameters=t.preplayParameters);var r,s;t.playbackUrlParameters&&(e.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(e.assetType=function(t){switch(t){case"channel":return fE.CHANNEL;case"event":return fE.EVENT;case"asset":default:return fE.ASSET}}(t.assetType));t.contentProtected&&(e.contentProtected=R_(t.contentProtected));t.assetInfo?e.assetInfo=R_(t.assetInfo):e.assetInfo="asset"===e.assetType;t.prefix&&(e.prefix=C_(t.prefix)||RE);return e.ping=(u=e.assetType,o=t.ping,a=!1,h=!1,c=!1,o?(a=!!$(o.adImpressions)&&o.adImpressions,h=!!$(o.freeWheelVideoViews)&&o.freeWheelVideoViews,c=$(o.linearAdData)?o.linearAdData:u!==fE.ASSET):u!==fE.ASSET&&(c=!0),{adImpressions:a,freeWheelVideoViews:h,linearAdData:c}),e=xE(e=BE(e=OE(e,t),n,i),t,i);var u,o,a,h,c}(t,n,i):function(t,n,i){var e=ky(),r=n&&(n.contentProtection||n.drm);if(q(t)){if(e.src=t,e.type=hy(t),r){var s=CS(r);e.contentProtection=IE(s)}}else if(gy(t)||vy(t)){e.src=t.src,e.type=t.type||hy(t.src),e.isAdvertisement=t.isAdvertisement;var u=_y(t)?t.hesp:void 0;void 0!==u&&(e.hesp=u);var o=W(c=t)&&q(c.integration)&&"mediatailor"===c.integration;o&&(e.integration=t.integration);var a=t.contentProtection||t.drm||r,h=CS(a);e.contentProtection=IE(h),t.ssai&&(e.ssai=SE(t.ssai)),e=OE(e,t)}var c;return e=xE(e=BE(e,n,i),t,i)}(t,n,i)}function OE(t,n){n.useCredentials?t.crossOrigin=iy.U_:n.crossOrigin&&(t.crossOrigin=cy(n.crossOrigin)),q(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=R_(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=R_(n.useNativePlayback)),n.dash&&(t.dash=gE(n.dash)),n.hls&&(t.hls=_E(n.hls)),n.lcevc&&(t.lcevc=R_(n.lcevc));var i=void 0!==n.experimentalRendering?R_(n.experimentalRendering):void 0;void 0!==i&&(t.experimentalRendering=i);var e=void 0!==n.nativeUiRendering?R_(n.nativeUiRendering):void 0;return void 0!==e&&(t.nativeUiRendering=e),t}function xE(t,n,i){return t.abr=mE(q(n)?void 0:n.abr,null==i?void 0:i.abr),t}function BE(t,n,i){var e,r=n&&n.timeServer;return i&&i.liveOffset&&!H(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!H(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===iy.j_&&null!=n&&null!=(e=n.vr)&&e[360]&&(t.crossOrigin=iy.F_),t.useCredentials=t.crossOrigin===iy.U_,q(r)&&!t.timeServer&&(t.timeServer=r),t}function LE(t){var n,i,e={src:""};if(t&&t.src){if(e.src=C_(t.src),"default"in t&&(e.default=R_(t.default)),e.kind=(n=t.kind,$k(i=String(n||"").toLowerCase())?i:i?Wk.dA:Wk.lA),Fm(t.format)&&(e.format=t.format),"srclang"in t){var r=t.srclang;"string"==typeof r&&""!==r&&(e.srclang=r)}if("label"in t){var s=t.label;"string"==typeof s&&""!==s&&(e.label=s)}}return e}function ME(t,n){if(G(t))try{return n.kP(t).vO(t)}catch(t){return}}function FE(t){return q(t.sources)&&""!==t.sources||W(t.sources)&&q(t.sources.src)}function UE(t){return t.integration===qS.SPOTX&&!m(t.id)}function jE(t){return"freewheel"===t.integration}function HE(t,n,i){if(void 0===i&&(i=sE.qn),NE(t))return{sources:[ky()]};var e=A_(t);if(e.sources=function(t,n,i){if(yy(t))return[PE(t,n,i)];if(z(t)&&yy(t[0])){for(var e=[],r=0;r<t.length;r++){var s=t[r];e.push(PE(s,n,i))}return e}return[ky()]}(e.sources,e,n),"contentProtection"in e&&delete e.contentProtection,"drm"in e&&delete e.drm,"ads"in e){var r=function(t,n){if(!z(t))return[];for(var i=[],e=0,r=t;e<r.length;e++){var s=r[e];(s=ME(s,n))&&(FE(s)||UE(s)||jE(s))&&i.push(s)}return i}(e.ads,i);0===r.length?delete e.ads:e.ads=r}var s,u,o,a=!my(e.sources),h=e.ads&&e.ads.length>0;if(a&&!h?delete e.ads:h&&!a&&(e.sources=[]),"textTracks"in e){var c=function(t){if(!z(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];""!==(r=LE(r)).src&&n.push(r)}return n}(e.textTracks);0===c.length?delete e.textTracks:e.textTracks=c}if("poster"in e&&(e.poster=C_(e.poster)),"vr"in e&&(e.vr=(s=e.vr,(u=s||{}).stereoMode=vE(u.stereoMode),{panoramaMode:wE(u.panoramaMode,Boolean(u[360])),stereoMode:u.stereoMode?dE(u.stereoMode):uE.NONE,nativeVR:Boolean(u.nativeVR)})),"analytics"in e||(null==n?void 0:n.analytics)){var f=Ay(e.analytics),l=n&&n.analytics||[];e.analytics=function(t,n){for(var i=A_(t),e=function(e){var r=n[e],s=!t.some(function(t){return t.integration===r.integration});s&&r.integration!==lE&&i.push(r)},r=0;r<n.length;r++)e(r);return i}(f,l)}return"mutedAutoplay"in e&&(e.mutedAutoplay=zy(e.mutedAutoplay)),"timeServer"in e&&delete e.timeServer,"playAdsAfterTime"in e&&(e.playAdsAfterTime=N_(e.playAdsAfterTime)),e.blockContentIfAdError=void 0!==(o=e.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),e}var XE=function(){function t(t){this.dO=t}return t.prototype.wO=function(t){var n,i,e,r,s,u,o,a=[];if(!t)return"";var h=t.length%4;if(h>0)for(;h++<4;)t+=this.dO.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.dO.indexOf(t.charAt(n))<<18|this.dO.indexOf(t.charAt(n+1))<<12|(s=this.dO.indexOf(t.charAt(n+2)))<<6|(u=this.dO.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,a[n/4]=String.fromCharCode(i,e,r),64===u&&(a[n/4]=String.fromCharCode(i,e)),64===s&&(a[n/4]=String.fromCharCode(i));return a.join("")},t.prototype.gO=function(t,n){var i,e,r,s,u,o,a,h=[],c="";if((o=t.length%3)>0)for(;o++<3;)c+=this.dO.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)e=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,r=i>>12&63,s=i>>6&63,u=63&i,h[o/3]=this.dO.charAt(e)+this.dO.charAt(r)+this.dO.charAt(s)+this.dO.charAt(u);return a=(a=h.join("")).slice(0,a.length-c.length),n||(a+=c),a},t.Tb=new t(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),t._O=new t(t.Tb.wO("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function VE(t){return"string"==typeof t}function zE(t){return"number"==typeof t}var WE={}.toString;var GE,qE=Array.isArray||function(t){return"[object Array]"===WE.call(t)};function $E(t,n){return qE(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(GE||(GE={}));var YE,QE=w.keys(GE).map(function(t){return GE[t]});function JE(t){return-1!==QE.indexOf(t)}!function(t){t.HESP="hesp",t.MULTIVIEW="multiview"}(YE||(YE={}));var ZE,KE=w.keys(YE).map(function(t){return YE[t]});function tI(t){return-1!==KE.indexOf(t)}function nI(t){try{var n=XE._O.wO(t),i=JSON.parse(n);if(!function(t,n){var i,e=(v=t,"object"==typeof v&&null!==v),r=VE(t.key),s=VE(t.customer_id),u=zE(t.generation_date),o=zE(t.expiration_date),a=$E(t.domains_page,VE),h=$E(t.domains_source,VE),c=$E(t.sdks,n?JE:VE),f=(l=t.send_impression,"boolean"==typeof l);var l;var v;t.features?i=$E(t.features,n?tI:VE):(i=!0,t.features=[]);if(!(e&&r&&s&&u&&o&&a&&h&&c&&f&&i))return!1;return!0}(i,!1))throw new l("The provided license could not be decoded correctly.");return i}catch(t){throw new l("The provided license could not be decoded correctly.")}}function iI(){return ZE||(ZE={_d:ge.href,yO:we.parent&&we.parent!==r,mO:sI()}),ZE}var eI,rI=["http:","https:","ftp:","ws:","wss:"];function sI(){try{return we.top.location.href}catch(t){return we&&we.document&&we.document.referrer}}!function(t){t[t.pO=0]="pO",t[t.kO=1]="kO",t[t.bO=2]="bO"}(eI||(eI={}));var uI,oI=function(t,n,i,e,r,s,u,o,a){void 0===r&&(r=[]),void 0===s&&(s=""),void 0===u&&(u=Date.now()),void 0===o&&(o=[]),void 0===a&&(a=!0),this.AO=t,this.TO=n,this.SO=i,this.EO=e,this.IO=r,this.RO=s,this.DO=u,this.CO=o,this.PO=a};!function(t){t.kO="expired",t.OO="invaliddomain",t.xO="invalidsource",t.BO="invalidfeature",t.d_="error"}(uI||(uI={}));var aI=function(){function t(t,n,i){this.LO=void 0,this.MO=t,this.FO=n,this.Ko=i,this.LO=dI(this.Ko)}var n=t.prototype;return n.UO=function(t,n){var i=[];yy(t.sources)?i=[t.sources]:z(t.sources)&&(i=t.sources),this.jO(t,i,n),this.HO(i,n)},n.jO=function(t,n,i){var e=this;if(!NE(t)&&0!==i.SO.length&&!fI(i.SO)&&!n.every(function(t){return e.XO(t,i)})){var r=uI.xO,s=gI.VO(r);throw new lf(hI(r),s)}},n.HO=function(t,n){for(var i=0;i<t.length;i++){var e=t[i];gy(e)&&_y(e)&&this.zO([YE.HESP],n)}},n.WO=function(n){return this.GO(n.CO)&&this.qO(n)?t.$O(n.EO)?eI.pO:eI.kO:eI.bO},n.zO=function(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(!Js(n.IO,e)){var r=uI.BO,s=gI.YO(r,e);throw new lf(hI(r),s)}}},n.GO=function(t){var n=this;return 0===t.length||t.some(function(t){return n.QO(t)})},n.QO=function(t){return"ios"===function(t){switch(t){case GE.ANDROID:return e.g;case GE.ANDROIDTV:case GE.FIRETV:return e.I;case GE.IOS:return e.R;case GE.TVOS:return e.N;case GE.CHROMECAST:case GE.CHROMECASTCAF:return e.M;default:return e.l}}(t)},t.$O=function(t){var n=Number(new Date);return!!t&&n<=t},n.qO=function(t){return!(this.LO&&0!==t.TO.length&&!fI(t.TO))||!!(this.LO&&this.JO(t.TO)&&this.ZO(t.TO))},n.JO=function(t){return lI(this.Ko._d,t)},n.ZO=function(t){if(!this.Ko.yO)return!0;if(this.MO)return!0;var n=this.KO();return!!n&&lI(n,t)},n.KO=function(){if(this.Ko.yO){var t=u.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.Ko.mO?this.Ko.mO:void 0}},n.XO=function(n,i){return!!t.tx(n,i.SO)},t.tx=function(t,n){return lI(this.nx(t),n)},t.nx=function(t){return q(t)?t:gy(t)&&t.src||""},t}();function hI(t){switch(t){case uI.OO:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case uI.xO:return n.ErrorCode.LICENSE_INVALID_SOURCE;case uI.kO:return n.ErrorCode.LICENSE_EXPIRED;case uI.BO:return n.ErrorCode.LICENSE_INVALID_FEATURE;case uI.d_:return n.ErrorCode.LICENSE_ERROR}}function cI(t,n){var i=t,e=n;if(!i)return!1;if("*"===(e=e.trim()))return!0;if(e===(i=i.replace(/\.+$/,"")))return!0;var r="\\.",s="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",u="(\\*|"+s+")",o=new RegExp("ip-range\\("+u+r+u+r+u+r+u+"\\)"),a=e.match(o),h=function(t){return"*"===t?"("+s+")":t};if(null!==a&&5===a.length){var c=new RegExp("^"+a[1]+r+h(a[2])+r+h(a[3])+r+h(a[4])+"$");return null!==i.match(c)}return e="."+e,-1!==i.indexOf(e,i.length-e.length)}function fI(t){return t.some(function(t){return"*"===t})}function lI(t,n){var e=i.Mr(t);if(!vI(e))return!0;for(var r=0;r<n.length;r++){var s=n[r];if(cI(e.hostname,s))return!0;if(cI(Sw(t),s))return!0}return!1}function vI(t){return-1!==rI.indexOf(t.protocol)}function dI(t){var n=i.Mr(t._d);return vI(n)&&!cI(n.hostname,"localhost")&&!function(t){return cI(t.hostname,"theoplayer.doubleclick.net")}(n)}var wI,gI=function(){function t(){}return t.YO=function(t,n){return"The requested feature '"+n+"' is not available with the license for this player."},t.VO=function(t){return t===uI.OO?this.ix:t===uI.xO?this.ex:t===uI.kO?this.sx:t===uI.BO?this.ux:this.ox},t}();function _I(t){var n=[t.RS,t.ax,t.hx];switch(t.ax){case wI.lx:n.push(t.b_);break;case wI.vx:n.push(t.sy),n.push(t.Au);break;case wI.wx:n.push(t.Au)}return n}gI.ox="The license for this player is invalid.",gI.sx="The usage license for this video player has expired.",gI.ix="The current domain is incompatible with the license for this player.",gI.ex="The provided video source is incompatible with the license for this player.",gI.ux="The requested feature is not available with the license for this player.",function(t){t[t.lx=1]="lx",t[t.vx=4]="vx",t[t.wx=5]="wx"}(wI||(wI={}));for(var yI=new Array(256),mI=0;mI<256;mI+=1)yI[mI]=(mI<16?"0":"")+mI.toString(16);function pI(){var t=Wt(),n=(4294967296*g.random()|0)+t&3029421624,i=(4294967296*g.random()|0)+t&3595553209,e=(4294967296*g.random()|0)+t&1130486254,r=(4294967296*g.random()|0)+t&1284287105;return yI[255&n]+yI[n>>>8&255]+yI[n>>>16&255]+yI[n>>>24&255]+"-"+yI[255&i]+yI[i>>>8&255]+"-"+yI[i>>>16&15|64]+yI[i>>>24&255]+"-"+yI[63&e|128]+yI[e>>>8&255]+"-"+yI[e>>>16&255]+yI[e>>>24&255]+yI[255&r]+yI[r>>>8&255]+yI[r>>>16&255]+yI[r>>>24&255]}var kI=function(){function t(t){this.dO=void 0,this.dO=t}var n=t.prototype;return n.wO=function(t){var n,i,e,r,s,u,o,a=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.dO.indexOf(t.charAt(n))<<18|this.dO.indexOf(t.charAt(n+1))<<12|(s=this.dO.indexOf(t.charAt(n+2)))<<6|(u=this.dO.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,a[n/4]=String.fromCharCode(i,e,r),64===u&&(a[n/4]=String.fromCharCode(i,e)),64===s&&(a[n/4]=String.fromCharCode(i));return a.join("")},n.gO=function(t){var n,i,e,r,s,u,o,a=[],h="";if((u=t.length%3)>0)for(;u++<3;)h+=this.dO.charAt(64),t+="\0";for(u=0;u<t.length;u+=3)i=(n=t.charCodeAt(u)<<16|t.charCodeAt(u+1)<<8|t.charCodeAt(u+2))>>18&63,e=n>>12&63,r=n>>6&63,s=63&n,a[u/3]=this.dO.charAt(i)+this.dO.charAt(e)+this.dO.charAt(r)+this.dO.charAt(s);return(o=a.join("")).slice(0,o.length-h.length)+h},t}();function bI(){return i.wr()}kI.Tb=new kI(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),kI._O=new kI(kI.Tb.wO("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var AI,TI="theoplayer-session-id";function SI(){if(!AI){var t=Cf.Cu(TI);t?AI=t:(AI=pI(),Cf.kf(TI,AI))}return AI}var EI=/[^\x00-\x7E]/g;function II(t){return"\\u"+Is(t.charCodeAt(0).toString(16),4,"0")}var RI=0,NI=1,DI=6e4;function CI(t){var n,i,e,r,s,u=(n=function(t){return[t.gx,t.uc,t.AO,t.VA,t._x,t.yx,t.mx.map(_I)]}(t),i=[],e=n,r=function(t,n){if(W(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(e,r,s).replace(EI,II));return kI._O.gO(u)}var PI=function(){function t(t,n,i,e,r,s){var u=this;void 0===e&&(e=kI.Tb),void 0===r&&(r=RI),void 0===s&&(s=NI),this.kx=[],this.bx=null,this.Ax=0,this.Tx="unknown",this.qa=0,this.Sx=void 0,this.Ex=function(){bI()-u.Ax>DI&&u.Oe()},this.Ix=function(){u.Oe(!0)},this.ph=t,this.DE=n,this.Rx=i,this.Nx=e,this.Dx=r,this.Cx=s,de.Px(this.Ix),this.Sx=c(this.Ex,DI)}var n=t.prototype;return n.Ox=function(){return Boolean(this._x)},n.xx=function(t){var n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Ur.awrap(this.Rx.Bx());case 2:if(i.sent.PO){i.next=5;break}return i.abrupt("return");case 5:return n={ax:wI.lx,hx:Wt(),b_:t},i.next=8,Ur.awrap(this.Lx(n));case 8:case"end":return i.stop()}},null,this,null,Ge)},n.Mx=function(t,n){var i;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i={ax:wI.vx,hx:Wt(),sy:n,Au:t},e.next=3,Ur.awrap(this.Lx(i));case 3:case"end":return e.stop()}},null,this,null,Ge)},n.Fx=function(t){var n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n={ax:wI.wx,hx:Wt(),Au:t},i.next=3,Ur.awrap(this.Lx(n));case 3:case"end":return i.stop()}},null,this,null,Ge)},n.Lx=function(t){var n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Ur.awrap(this.Rx.Bx());case 2:if(n=i.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.Nx.gO(n.AO)){i.next=6;break}if(t.ax===wI.wx){i.next=6;break}return i.abrupt("return");case 6:if(t.ax===wI.lx?this.Ux():this.Ox()||this.Ux(),t.RS=this.qa++,this.kx.push(t),(e=t.ax)!==wI.lx&&e!==wI.wx){i.next=14;break}return i.next=12,Ur.awrap(this.Oe());case 12:i.next=19;break;case 14:if(!(this.kx.length>this.Dx)){i.next=19;break}return i.next=17,Ur.awrap(this.jx());case 17:i.next=19;break;case 19:case"end":return i.stop()}var e},null,this,null,Ge)},n.Oe=function(t){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:void 0===t&&(t=!1);case 1:if(!(this.kx.length>0)){n.next=6;break}return n.next=4,Ur.awrap(this.jx(t));case 4:n.next=1;break;case 6:case"end":return n.stop()}},null,this,null,Ge)},n.Hx=function(t){var n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Ur.awrap(this.Rx.Bx());case 2:return n=i.sent,i.abrupt("return",{gx:Wt(),uc:SI(),AO:this.Nx.gO(n.AO)||"dev",VA:this.ph,_x:this.bx,yx:this.Tx,mx:t});case 4:case"end":return i.stop()}},null,this,null,Ge)},n.jx=function(t){var n,i;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!1),n=this.kx.splice(0,this.Cx),e.next=4,Ur.awrap(this.Hx(n));case 4:i=e.sent,t?this.Xd(i):this.Xx(i),this.Ax=bI();case 7:case"end":return e.stop()}},null,this,null,Ge)},n.Xx=function(t){var n,i,e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=CI(t),i=new _w({_d:"https://license.theoplayer.com",qv:n,jd:!1,fd:Lf.Kn,hd:{"Content-Type":uT.hR},Md:4e3,Ld:lw.POST}),r.prev=2,r.next=5,Ur.awrap(this.DE.dd(i));case 5:return e=r.sent,r.next=8,Ur.awrap(e.zv());case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+n;case 13:case"end":return r.stop()}},null,this,[[2,10]],Ge)},n.Xd=function(t){var n=CI(t);this.DE.Xd({_d:"https://license.theoplayer.com",qv:n,Gv:uT.hR})},n.Ux=function(){this.Ox()&&this.Oe(),this.bx=pI(),this.qa=0},n.Kc=function(){de.Vx(this.Ix),f(this.Sx),this.Oe()},T(t,[{key:"mx",get:function(){return this.kx}},{key:"_x",get:function(){return this.bx}}]),t}();var OI=F.Rn||F.hn&&F.xn<13;function xI(t,n,i){var e=t.getImageData(n,i,1,1).data;return 0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]}var BI=function(){function t(t){this.RD=void 0,this.dg=void 0,this.zx=void 0,this.RD=t}var n=t.prototype;return n.Wx=function(t){if(!t||!t.drawImage)return!1;var n=this.RD.dm();if(!n)return!1;for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.drawImage.apply(t,[n].concat(e)),!0},n.Gx=function(t,n,i,e,r,u){if(!t||!t.texImage2D)return!1;var o=this.RD,a=o.dm();if(!a)return!1;if(OI){this.zx||(this.zx=s.createElement("canvas"));var h=this.zx,c=h.getContext("2d"),f=o.py,v=o.yy,d=h.width,w=h.height;c.clearRect(0,0,h.width,h.height),d===f&&w===v||(h.width=f,h.height=v),c.drawImage(a,0,0,f,v);var g=!1;f>0&&xI(c,f-1,0)&&(h.width=d,g=!0),v>0&&xI(c,0,v-1)&&(h.height=w,g=!0),g&&c.drawImage(a,0,0,f,v),a=h}try{t.texImage2D(n,i,e,r,u,a)}catch(t){throw new l("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},T(t,[{key:"wg",get:function(){return this.dg||(this.dg=(t=this,{drawImage:function(n){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.Wx.apply(t,[n].concat(e))},texImage2D:function(n,i,e,r,s,u){return t.Gx(n,i,e,r,s,u)}}));var t}}]),t}(),LI=function(t){function n(n,i){var e;return(e=t.call(this,"qx")||this).xp=n,e.bT=i,e}return E(n,t),n.prototype.gg=function(){return new MI(this.xp,this.bT)},n}(o_),MI=function(t){function n(n,i){var e;return(e=t.call(this,"dimensionchange")||this).width=n,e.height=i,e}return E(n,t),n}(Iu),FI=function(t,n){this.Em=void 0,this.$x=void 0,this.Em=t,this.$x=n},UI=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Yx=void 0,e.Qx=0,e.Jx=0,e.Zx=function(t){if(t.length>0){var n=t[t.length-1].contentRect;e.Jx=n.width,e.Qx=n.height,e.$x(e.Jx,e.Qx)}},e.Yx=new we.ResizeObserver(e.Zx),e.Yx.observe(e.Em),e}return E(n,t),n.prototype.Kc=function(){this.Yx.disconnect()},T(n,[{key:"Kx",get:function(){return this.Qx}},{key:"tB",get:function(){return this.Jx}}]),n}(FI),jI=0;var HI,XI=h,VI=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,zI=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function WI(){return HI||(HI=we&&we.document&&we.document.createElement("span")),HI}VI&&zI||(VI=function(t){var n=bI(),i=g.max(0,16-(n-jI)),e=a(function(){return t(n+i)},i);return jI=n+i,e},zI=XI),VI=VI.bind(t),zI=zI.bind(t);var GI=["Webkit","Moz","O","ms"];!function(){var t=!1;try{if(void 0!==we&&"function"==typeof we.addEventListener){var n=w.defineProperty({},"passive",{get:function(){t=!0}});we.addEventListener("testPassiveEventSupport",Z,n),we.removeEventListener("testPassiveEventSupport",Z,n)}}catch(t){}}();var qI=Xr();function $I(t){return qI.has(t)||qI.set(t,function(t){var n=WI();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),e=0;e<GI.length;e++){var r=GI[e],s=r+i;if(void 0!==n.style[s])return s}return t}(t)),qI.get(t)}function YI(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function QI(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[$I("transition")]="0s"}var JI=function(t){function n(n,i,e){var u;(u=t.call(this,n,i)||this).nB=void 0,u.iB=0,u.Jx=NaN,u.Qx=NaN,u.eB=void 0,u.rB=void 0,u.sB=void 0,u.uB=void 0,u.oB=void 0,u.wc=function(){u.rB.style.width=1e5+"px",u.rB.style.height=1e5+"px",u.eB.scrollLeft=1e5,u.eB.scrollTop=1e5,u.sB.scrollLeft=1e5,u.sB.scrollTop=1e5,0===u.sB.scrollTop&&VI(u.wc)},u.aB=function(){var t=u.tB,n=u.Kx;u.$x(t,n),u.Jx=t,u.Qx=n,u.wc(),u.iB=0},u.hB=function(){if(!u.iB){var t=u.tB,n=u.Kx;t===u.Jx&&n===u.Qx||(u.iB=VI(u.aB))}},u.cB=function(){u.oB||(u.oB=a(u.fB,66))},u.fB=function(){u.oB=void 0,u.lB()},u.lB=function(){u.hB()};var o=function(t,n){return r.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");e||"static"!==o||(n.style.position="relative");var h,c=s.createElement("div");return u.nB=c,u.eB=s.createElement("div"),u.rB=s.createElement("div"),u.sB=s.createElement("div"),u.uB=s.createElement("div"),YI(u.eB),YI(u.sB),QI(u.rB),QI(h=u.uB),h.style.width="200%",h.style.height="200%",c.appendChild(u.eB),c.appendChild(u.sB),u.eB.appendChild(u.rB),u.sB.appendChild(u.uB),n.appendChild(c),u.eB.addEventListener("scroll",u.hB),u.sB.addEventListener("scroll",u.hB),r&&r.addEventListener("resize",u.cB),u.hB(),u}return E(n,t),n.prototype.Kc=function(){zI(this.iB),this.iB=0,this.eB.removeEventListener("scroll",this.hB),this.sB.removeEventListener("scroll",this.hB),nr(this.nB),r&&r.removeEventListener("resize",this.cB)},T(n,[{key:"Kx",get:function(){return this.Em.getBoundingClientRect().height||this.Qx||0}},{key:"tB",get:function(){return this.Em.getBoundingClientRect().width||this.Jx||0}}]),n}(FI),ZI=function(t){function n(n){var i;return(i=t.call(this)||this).Em=void 0,i.Yx=void 0,i.Zx=function(t,n){i.Ks(new LI(t,n))},i.Em=n,i}E(n,t);var i=n.prototype;return i.vc=function(t){this.Yx||("function"==typeof we.ResizeObserver?this.Yx=new UI(this.Em,this.Zx):this.Yx=new JI(this.Em,this.Zx,t))},i.Kc=function(){this.ou(),this.Yx&&(this.Yx.Kc(),this.Yx=void 0)},T(n,[{key:"Kx",get:function(){return this.Yx?this.Yx.Kx:0}},{key:"tB",get:function(){return this.Yx?this.Yx.tB:0}}]),n}(Su),KI=function(t){function n(){return t.call(this,bS.Cg)||this}return E(n,t),n}(Iu);var tR=function(){if(s)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in s)return{vB:i[0],dB:i[1],wB:i[2],gB:i[3],_B:i[4],yB:i[5]}}}(),nR=function(t){function n(){return t.call(this,bS.NC)||this}return E(n,t),n}(Iu),iR=function(t){function n(i){var e;return(e=t.call(this)||this).Em=void 0,e.OC=void 0,e.DC=!1,e.mB=function(){return e.cP()},e.pB=function(){return e.lP()},e.Em=i,e.OC=n.kB(i),s.addEventListener(tR._B,e.mB),e.cP(),e}E(n,t),n.kB=function(t){return Boolean(tR&&s[tR.gB]&&tR.vB in t)};var i=n.prototype;return i.ip=function(){var t=this.Em[tR.vB]();t&&t.then?t.then(this.mB,this.pB):(s.removeEventListener(tR.yB,this.pB),s.addEventListener(tR.yB,this.pB))},i.rp=function(){var t=s[tR.dB]();t&&t.then?t.then(this.mB,this.pB):(s.removeEventListener(tR.yB,this.pB),s.addEventListener(tR.yB,this.pB))},i.cP=function(){var t=this.DC,n=this.Em===s[tR.wB];this.DC=n,t!==n&&this.Ks(new KI)},i.lP=function(){this.Ks(new ES)},i.Kc=function(){this.ou(),s.removeEventListener(tR._B,this.mB),s.removeEventListener(tR.yB,this.pB)},n}(Su),eR=function(t){function n(i){var e;return(e=t.call(this)||this).Em=void 0,e.OC=void 0,e.DC=!1,e.mB=function(){return e.cP()},e.Em=i,e.OC=n.kB(i),e.Em.addEventListener("webkitbeginfullscreen",e.mB),e.Em.addEventListener("webkitendfullscreen",e.mB),e.Em.addEventListener("webkitpresentationmodechanged",e.mB),e.cP(),e}E(n,t),n.kB=function(t){return F.hn&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)};var i=n.prototype;return i.ip=function(){var t=this;this.Em.webkitSupportsPresentationMode&&this.Em.webkitSupportsPresentationMode("fullscreen")?F.hn?requestAnimationFrame(function(){return t.Em.webkitSetPresentationMode("fullscreen")}):this.Em.webkitSetPresentationMode("fullscreen"):this.Em.webkitEnterFullscreen()},i.rp=function(){this.Em.webkitSupportsPresentationMode&&this.Em.webkitSupportsPresentationMode("inline")?this.Em.webkitSetPresentationMode("inline"):this.Em.webkitExitFullscreen()},i.cP=function(){var t,n=this.DC;t=this.Em.webkitPresentationMode?"fullscreen"===this.Em.webkitPresentationMode:!!this.Em.webkitDisplayingFullscreen,this.DC=t,n!==t&&this.Ks(new KI)},i.Kc=function(){this.ou(),this.Em.removeEventListener("webkitbeginfullscreen",this.mB),this.Em.removeEventListener("webkitendfullscreen",this.mB),this.Em.removeEventListener("webkitpresentationmodechanged",this.mB)},n}(Su),rR=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).bB=[],n.AB=void 0,n.uP=!1,n.cP=function(){var t=n.uP,i=n.TB();t!==i&&(n.uP=i,n.Ks(new KI))},n}E(n,t);var i=n.prototype;return i.ip=function(){this.AB?this.AB.ip():this.Ks(new ES)},i.rp=function(){for(var t=0,n=this.bB;t<n.length;t++){var i=n[t];i.DC&&i.rp()}},i.SB=function(t){this.AB=t},i.EB=function(t){this.bB.push(t),t.tu(bS.Cg,this.cP),t.tu(bS.d_,this.Zs),this.cP()},i.IB=function(t){Ys(this.bB,t),t.au(bS.Cg,this.cP),t.au(bS.d_,this.Zs)},i.TB=function(){for(var t=0,n=this.bB;t<n.length;t++){if(n[t].DC)return!0}return!1},i.wc=function(){this.AB=void 0,this.uP=!1;for(var t=this.bB.slice(),n=0;n<t.length;n++){var i=t[n];this.IB(i),i.Kc()}this.cP()},i.Kc=function(){this.ou(),this.wc()},T(n,[{key:"OC",get:function(){return!!this.AB&&this.AB.OC}},{key:"DC",get:function(){return this.uP}}]),n}(Su),sR=function(t){function n(n,i){var e;return(e=t.call(this)||this).RD=void 0,e.RB=void 0,e.NB=void 0,e.DB=!1,e.CB=function(){return e.tc()},e.cP=function(t){e.DB||e.Ks(t)},e.RD=n,e.RB=i,e.NB=IS,e.PB(),e.RD.tu(Bf.xf,e.CB),e.tc(),e}E(n,t);var i=n.prototype;return i.ip=function(){this.RB&&this.NB.ip()},i.rp=function(){this.NB.rp()},i.PB=function(){this.NB.tu(bS.Cg,this.cP),this.NB.tu(bS.d_,this.Zs)},i.OB=function(){this.NB.au(bS.Cg,this.cP),this.NB.au(bS.d_,this.Zs)},i.tc=function(){var t=this.NB,n=this.RD.wm();if(t!==n){this.DB=!0;var i=this.DC,e=this.OC;i&&this.rp(),this.OB(),this.NB=n,this.PB(),i&&!this.DC&&this.OC?this.ip():this.rp(),this.DB=!1,e!==this.OC&&this.Ks(new nR),i!==this.DC&&this.Ks(new KI)}},i.Kc=function(){this.ou(),this.OB(),this.RD.au(Bf.xf,this.CB)},T(n,[{key:"OC",get:function(){return!!this.RB&&this.NB.OC}},{key:"DC",get:function(){return this.NB.DC}}]),n}(Su);function uR(t){var n;return{get url(){return t._d},get method(){return t.Ld},get headers(){return n||(n=t.hd.wl()),n},get body(){return t.qv},get useCredentials(){return t.jd},get type(){return fR(t.gs)},get subType(){return vR(t.Fd)},get mediaType(){return wR(t.Ud)},get responseType(){return aR(t.fd)}}}function oR(t){switch(t.toLowerCase()){case"arraybuffer":return Lf.ll;case"json":return Lf.vl;case"stream":return Lf.dl;case"text":default:return Lf.Kn}}function aR(t){return t}function hR(t){switch(t.toUpperCase()){case"POST":return lw.POST;case"PUT":return lw.PUT;case"DELETE":return lw.DELETE;case"HEAD":return lw.HEAD;case"OPTIONS":return lw.OPTIONS;case"GET":default:return lw.GET}}function cR(t){switch(t.toLowerCase()){case"manifest":return vw.pd;case"segment":return vw.kd;case"preload-hint":return vw.bd;case"content-protection":return vw.Td;default:return vw.md}}function fR(t){return t}function lR(t){switch(t.toLowerCase()){case"initialization-segment":return dw.Sd;case"fairplay-license":return dw.Ed;case"fairplay-certificate":return dw.Id;case"widevine-license":return dw.Rd;case"widevine-certificate":return dw.Nd;case"playready-license":return dw.Dd;case"clearkey-license":return dw.Cd;case"aes128-key":return dw.Pd;default:return dw.md}}function vR(t){return t}function dR(t){switch(t.toLowerCase()){case"audio":return ww.Od;case"video":return ww.xd;case"text":return ww.Kn;case"image":return ww.Bd;case"":default:return ww.md}}function wR(t){return t}var gR=function(){function t(t,n){this.xB=new na,this.BB=[],this.dg=void 0,this.LB=!1,this.nw=void 0,this.MB=0,this.FB=t,this.UB=n}var n=t.prototype;return n.PA=function(){this.LB=!0,this.xB.Yu(null)},n.jB=function(){this.xB.Qu(new zd(this.BB))},n.HB=function(t){if(!this.XB)throw new v("Cannot respond more than once");if(!W(t))throw new v("Expected valid response");this.nw=this.VB(t),this.PA()},n.zB=function(){try{var t=this.UB(this.wg);t?this.WB(t):this.GB||this.qB||this.PA()}catch(t){this.BB.push(t),this.jB()}},n.WB=function(t){if(this.qB)throw new l("Request has been redirected or a response already exists");if(Y(t))this.$B(t);else{if("function"!=typeof t)throw new v("Expected promise or function");var n=new na;try{var i=t(function(t){t?n.Qu(t):n.Yu(void 0)});Y(i)&&n.Yu(i)}catch(t){n.Qu(t)}this.$B(n.Wu)}},n.$B=function(t){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.MB++,n.next=4,Ur.awrap(t);case 4:this.MB--,this.GB||this.qB||(this.BB.length?this.jB():this.PA()),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),this.MB--,this.BB.push(n.t0),this.GB||this.qB||this.jB();case 13:case"end":return n.stop()}},null,this,[[0,8]],Ge)},T(t,[{key:"YB",get:function(){return this.xB.Wu}},{key:"wg",get:function(){return this.dg||(this.dg=this.QB()),this.dg}},{key:"qB",get:function(){return this.LB}},{key:"XB",get:function(){return!this.LB}},{key:"GB",get:function(){return this.MB>0}},{key:"iw",get:function(){return this.nw}}]),t}(),_R=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).JB=void 0,r.JB=e,r.zB(),r}E(n,t),n.ZB=function(t,n,i){var e=void 0===t.body?i:t.body;return new gw({Xi:e,dd:n.dd,fd:n.dd.fd,hd:t.headers,od:t.status,ld:t.statusText,wd:t.url,vd:!0},n)};var i=n.prototype;return i.QB=function(){return i=uR((t=this).dd),{get closed(){return!t.XB},get request(){return i},get url(){return t._d},get status(){return t.od},get statusText(){return t.ld},get headers(){return n||(n=t.hd.wl()),n},get body(){return t.qv},respondWith:function(n){return t.HB(n)},waitUntil:function(n){return t.WB(n)}};var t,n,i},i.VB=function(t){return n.ZB(t,this.FB,this.JB)},T(n,[{key:"qv",get:function(){return this.JB}},{key:"hd",get:function(){return this.FB.hd}},{key:"dd",get:function(){return this.FB.dd}},{key:"iw",get:function(){return this.nw}},{key:"od",get:function(){return this.FB.od}},{key:"ld",get:function(){return this.FB.ld}},{key:"_d",get:function(){return this.FB.wd}}]),n}(gR),yR=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).KB=void 0,r.tL=void 0,r.tL=e,r.zB(),r}E(n,t);var i=n.prototype;return i.QB=function(){return t=this,{get url(){return t._d},get method(){return t.Ld},get headers(){return n||(n=t.hd.wl()),n},get body(){return t.qv},get closed(){return!t.XB},get useCredentials(){return t.jd},get type(){return fR(t.gs)},get subType(){return vR(t.Fd)},get mediaType(){return wR(t.Ud)},get responseType(){return aR(t.fd)},redirect:function(n){return t.nL(n)},respondWith:function(n){return t.HB(n)},waitUntil:function(n){return t.WB(n)}};var t,n},i.VB=function(t){var n=this.FB.qv,i=new gw({Xi:n,hd:{},dd:this.FB,wd:this.FB._d,fd:this.FB.fd,od:200,ld:"OK"});return _R.ZB(t,i,n)},i.nL=function(t){if(!this.XB)throw new v("Cannot redirect, already redirected or has a response");var n;n=q(t)?{url:t}:t,this.KB=function(t,n){return new _w({_d:void 0===t.url?n._d:t.url,Ld:void 0!==t.method?hR(t.method):void 0,hd:t.headers,qv:t.body,jd:t.useCredentials,gs:void 0!==t.type?cR(t.type):void 0,Fd:void 0!==t.subType?lR(t.subType):void 0,Ud:void 0!==t.mediaType?dR(t.mediaType):void 0,fd:void 0!==t.responseType?oR(t.responseType):void 0},n)}(n,this.FB),this.PA()},T(n,[{key:"qv",get:function(){return this.FB.qv}},{key:"XB",get:function(){return this.tL&&!this.LB}},{key:"hd",get:function(){return this.FB.hd}},{key:"Ld",get:function(){return this.FB.Ld}},{key:"iL",get:function(){return this.KB}},{key:"iw",get:function(){return this.nw}},{key:"fd",get:function(){return this.FB.fd}},{key:"Md",get:function(){return this.FB.Md}},{key:"$s",get:function(){return this.FB.$s}},{key:"gs",get:function(){return this.FB.gs}},{key:"Fd",get:function(){return this.FB.Fd}},{key:"Ud",get:function(){return this.FB.Ud}},{key:"_d",get:function(){return this.FB._d}},{key:"jd",get:function(){return this.FB.jd}},{key:"Hd",get:function(){return this.FB.Hd}}]),n}(gR);var mR,pR=function(t){function n(n,i){var e;void 0===i&&(i=!0);var r=new kR(n);return(e=t.call(this,r,i)||this).eL=void 0,e.eL=r,e}E(n,t);var i=n.prototype;return i.rL=function(t){this.eL.rL(t)},i.sL=function(t){this.eL.sL(t)},i.uL=function(t){this.eL.uL(t)},i.oL=function(t){this.eL.oL(t)},i.aL=function(t){this.eL.aL(t)},n}(mw),kR=function(){function t(t){this.Vd=void 0,this.hL=[],this.cL=[],this.Vd=t}var n=t.prototype;return n.dd=function(t){var n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Ur.awrap(this.fL(t,t.$s));case 3:n=i.sent,i.next=13;break;case 6:if(i.prev=6,i.t0=i.catch(0),!(i.t0 instanceof Ew)){i.next=12;break}return i.next=11,Ur.awrap(this.lL(i.t0,t.$s));case 11:return i.abrupt("return",i.sent);case 12:throw i.t0;case 13:return i.next=15,Ur.awrap(this.vL(n,t.$s));case 15:if(!fw(n=i.sent)){i.next=20;break}return i.abrupt("return",n);case 20:throw new Rw(n);case 21:case"end":return i.stop()}},null,this,[[0,6]],Ge)},n.Xd=function(t){return this.Vd.Xd(t)},n.fL=function(t,n){var i,e,r,s,u,o;return Ur.async(function(a){for(;;)switch(a.prev=a.next){case 0:fu(n),i=t,r=0,s=this.hL.slice();case 3:if(!(r<s.length)){a.next=21;break}if(u=s[r],fu(n),(o=new yR(i,u,!e)).qB){a.next=17;break}return a.prev=8,a.next=11,Ur.awrap(o.YB);case 11:a.next=17;break;case 13:return a.prev=13,a.t0=a.catch(8),a.abrupt("continue",18);case 17:o.iL&&!e?i=o.iL:o.iw&&!e&&(e=o.iw);case 18:r++,a.next=3;break;case 21:if(!e){a.next=23;break}return a.abrupt("return",e);case 23:return a.abrupt("return",this.Vd.dd(i));case 24:case"end":return a.stop()}},null,this,[[8,13]],Ge)},n.lL=function(t,n){var i,e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=t instanceof Rw?t.iw:new gw({Xi:null,dd:t.dd,od:0,ld:""}),r.next=3,Ur.awrap(this.vL(i,n));case 3:if((e=r.sent)!==i){r.next=8;break}throw t;case 8:if(!fw(e)){r.next=12;break}return r.abrupt("return",e);case 12:throw new Rw(e);case 13:case"end":return r.stop()}},null,this,null,Ge)},n.vL=function(t,n){var i,e,r,s,u,o;return Ur.async(function(a){for(;;)switch(a.prev=a.next){case 0:i=t,e=0,r=this.cL.slice();case 2:if(!(e<r.length)){a.next=23;break}return s=r[e],fu(n),a.next=7,Ur.awrap(Ge.resolve(i.ju().Xi(n)));case 7:if(u=a.sent,(o=new _R(i,s,u)).qB){a.next=19;break}return a.prev=10,a.next=13,Ur.awrap(o.YB);case 13:a.next=19;break;case 15:return a.prev=15,a.t0=a.catch(10),a.abrupt("continue",20);case 19:i=o.iw||i;case 20:e++,a.next=2;break;case 23:return a.abrupt("return",i);case 24:case"end":return a.stop()}},null,this,[[10,15]],Ge)},n.rL=function(t){this.hL.unshift(t)},n.sL=function(t){this.hL.push(t)},n.uL=function(t){Ys(this.hL,t)},n.oL=function(t){this.cL.unshift(t)},n.aL=function(t){Ys(this.cL,t)},n.Kc=function(){this.Vd.Kc(),Zs(this.hL),Zs(this.cL)},t}(),bR=function(){function t(t){this.dg=void 0,this.DE=t}var n=t.prototype;return n.rL=function(t){this.DE.rL(t)},n.uL=function(t){this.DE.uL(t)},n.oL=function(t){this.DE.oL(t)},n.aL=function(t){this.DE.aL(t)},T(t,[{key:"wg",get:function(){var t;return this.dg||(this.dg=(t=this,{addRequestInterceptor:function(n){t.rL(n)},removeRequestInterceptor:function(n){t.uL(n)},addResponseInterceptor:function(n){t.oL(n)},removeResponseInterceptor:function(n){t.aL(n)}})),this.dg}}]),t}(),AR=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).dg=void 0,r.dL=function(t){r.Ks(t)},r.wL=function(t){r.Ks(t)},r.gL=n,r.DE=i,r.VC=e,r.gL.tu(Bf.jf,r.dL),r.gL.tu(Bf.Uf,r.wL),r}E(n,t);var i=n.prototype;return i._L=function(t){this.VC._L(t)},i.rL=function(t){this.DE.rL(t)},i.uL=function(t){this.DE.uL(t)},i.oL=function(t){this.DE.oL(t)},i.aL=function(t){this.DE.aL(t)},i.Kc=function(){this.ou(),this.gL.au(Bf.jf,this.dL),this.gL.au(Bf.Uf,this.wL)},T(n,[{key:"wg",get:function(){var t;return this.dg||(this.dg=(t=this,{get online(){return t.Bm},get estimator(){return n=t.yL,{get bandwidth(){return n.QR},get roundTripTime(){return n.JR}};var n},setEstimator:function(n){t._L(function(t){if(t)return{get QR(){return D_(t.bandwidth)},get JR(){return D_(t.roundTripTime)},YR:function(n){return function(t){if(t)return{mL:function(n){t.markRequestStart(n)},pL:function(n){t.markResponseStart(n)},kL:function(n,i){t.markResponseData(n,i)},bL:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(uR(n)))}}}(n))},addRequestInterceptor:function(n){t.rL(n)},removeRequestInterceptor:function(n){t.uL(n)},addResponseInterceptor:function(n){t.oL(n)},removeResponseInterceptor:function(n){t.aL(n)},addEventListener:function(n,i){t.tu(n,i)},removeEventListener:function(n,i){t.au(n,i)}})),this.dg}},{key:"Bm",get:function(){return this.gL.Bm}},{key:"yL",get:function(){return this.VC.yL}}]),n}(Su);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(mR||(mR={}));var TR=30,SR=1,ER=5;function IR(t,n,i,e,r,s){var u=[],o=t-g.max(s,SR),a=t+r;if(n&&i){var h=Ft(i,SR,ER),c=n-h;o=g.min(o,c);var f=n+i+h;a=g.max(a,f)}return 0!==o&&e.gC(0,o)&&u.push([0,o]),e.gC(a,1/0)&&u.push([a,1/0]),u}function RR(t){return t instanceof l&&"QuotaExceededError"===t.name}var NR={type:mR.BANDWIDTH},DR=20;function CR(t){var n,i,e,r=A_(NR);return q(t)?r.type=PR(t):W(t)&&function(t){switch(t){case mR.PERFORMANCE:case mR.QUALITY:case mR.BANDWIDTH:return!0;default:return!1}}(t.type)&&(r.type=PR(t.type)),W(t)&&W(t.metadata)&&(r.metadata=(n=t.metadata,i={},e=N_(n.bitrate),m(e)||(i.bitrate=e),i)),r}function PR(t){switch(t){case"bandwidth":return mR.BANDWIDTH;case"performance":return mR.PERFORMANCE;case"quality":return mR.QUALITY}}var OR=function(t){function n(n){var i;return(i=t.call(this,"TL")||this).AL=n,i}return E(n,t),n}(Iu),xR=function(t){function n(n){var i;return(i=t.call(this,"EL")||this).SL=n,i}return E(n,t),n}(Iu),BR=function(t){function n(n){var i;return(i=t.call(this,"RL")||this).IL=n,i}return E(n,t),n}(Iu),LR=function(t){function n(){for(var n,i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(n=t.call.apply(t,[this].concat(r))||this).dg=(i=Kt(n),{get strategy(){return{metadata:(t=i.SL).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.SL=CR(t)},get targetBuffer(){return i.AL},set targetBuffer(t){var n=N_(t);m(n)||(i.AL=n)},get bufferLookbackWindow(){return i.IL},set bufferLookbackWindow(t){var n=N_(t);m(n)||(i.IL=n<=0?TR:n)},get maxBufferLength(){return i.NL}}),n.DL=NR,n.CL=DR,n.PL=TR,n.OL=1/0,n.xL=void 0,n.BL=void 0,n}E(n,t);var i=n.prototype;return i.LL=function(t){this.BL=t},i._L=function(t){this.xL=t},i.ML=function(t){var n=g.min(t,.8*this.OL);if(n=g.max(10,n),this.OL===n)return!1;var i=this.FL;this.OL=n;var e=this.FL;return e!==i&&this.Ks(new OR(e)),!0},T(n,[{key:"UL",get:function(){switch(this.DL.type){case mR.PERFORMANCE:return 0;case mR.QUALITY:return 1/0;case mR.BANDWIDTH:return this.DL.metadata&&void 0!==this.DL.metadata.bitrate?this.DL.metadata.bitrate:8*ty.x_();default:return 8*ty.x_()}}},{key:"wg",get:function(){return this.dg}},{key:"SL",get:function(){return this.DL},set:function(t){this.DL=t,this.Ks(new xR(t))}},{key:"AL",get:function(){return this.CL},set:function(t){this.CL=t,this.Ks(new OR(t))}},{key:"FL",get:function(){return g.min(this.CL,this.OL)}},{key:"IL",get:function(){return this.PL},set:function(t){this.PL=t,this.Ks(new BR(t))}},{key:"NL",get:function(){return this.OL}},{key:"yL",get:function(){var t;return null!=(t=this.xL)?t:this.BL.fD}}]),n}(Su),MR=function(t){function n(){return t.call(this,"Pg")||this}return E(n,t),n.prototype.gg=function(){return new FR},n}(o_),FR=function(t){function n(){return t.call(this,"change")||this}return E(n,t),n}(Iu),UR=function(t){function n(n,i,e){var r;(r=t.call(this,e)||this).jL=void 0,r.kx=void 0,r.HL=function(t){a_(t)&&yu(function(){r.Ks(t.wg)})},r.jL=n,r.kx=i;for(var s=0,u=r.kx;s<u.length;s++){var o=u[s];r.jL.tu(o,r.HL)}return r}return E(n,t),n.prototype.Kc=function(){this.ou();for(var t=0,n=this.kx;t<n.length;t++){var i=n[t];this.jL.au(i,this.HL)}},n}(Su),jR=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).jL=void 0,e.HL=function(t){a_(t)&&yu(function(){e.Ks(t.wg)})},e.jL=n,e.jL.uu(e.HL),e}return E(n,t),n.prototype.Kc=function(){this.ou(),this.jL.du(this.HL)},n}(Q_),HR=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n}(jR);var XR=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).yp=0,n.mp=1/0,n.dg=void 0,n}E(n,t);var i=n.prototype;return i.wc=function(){0===this.yp&&this.mp===1/0||(this.yp=0,this.mp=1/0,this.Ks(new MR))},i.XL=function(){return new TS([this.op,this.ap],[!0,!0])},T(n,[{key:"op",get:function(){return this.yp},set:function(t){if(this.ap<=t)throw new l("Start time of a clip should be smaller than the end time.");this.yp!==t&&(this.yp=t,this.Ks(new MR))}},{key:"ap",get:function(){return this.mp},set:function(t){if(t<=this.op)throw new l("End time of a clip should be larger than the start time.");this.mp!==t&&(this.mp=t,this.Ks(new MR))}},{key:"wg",get:function(){var t,n,i;return this.dg||(this.dg=(i={get startTime(){return t.op},set startTime(n){t.op=n},get endTime(){return t.ap},set endTime(n){t.ap=n},addEventListener:function(t,i){n.tu(t,i)},removeEventListener:function(t,i){n.au(t,i)}},n=new jR(t=this,i),i)),this.dg}}]),n}(Q_),VR=function(t){function n(n){var i;return(i=t.call(this)||this).VL=function(t){i.zL(t)||i.Ks(t)},i.WL=n,i.WL.uu(i.VL),i}E(n,t);var i=n.prototype;return i.GL=function(){return this.WL.Gy},i.gm=function(){return this.WL.gm()},i.qL=function(){return this.WL.Tm},i.$L=function(){return this.WL.pm},i.YL=function(){return this.WL.Sm},i.QL=function(t){this.WL.Sm=t},i.JL=function(){return this.WL.sy},i.ZL=function(t){this.WL.sy=t},i.KL=function(){return this.WL.uy},i.tM=function(){return this.WL.Em},i.nM=function(){return this.WL.oy},i.iM=function(){return this.WL.Au},i.eM=function(){return this.WL.ly},i.rM=function(){return this.WL.Im},i.sM=function(){return this.WL.vy},i.uM=function(t){this.WL.vy=t},i.oM=function(){return this.WL.Bm},i.aM=function(){return this.WL.wy},i.hM=function(){return this.WL.gy},i.cM=function(t){this.WL.gy=t},i.fM=function(){return this.WL.Lm},i.lM=function(){return this.WL.Mm},i.vM=function(t){this.WL.Mm=t},i.dM=function(){return this.WL.m_},i.wM=function(){return this.WL.Fm},i.gM=function(){return this.WL._y},i.Ky=function(){return this.WL.Ky()},i.tm=function(t,n){return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return fu(n),i.next=3,Ur.awrap(this.WL.tm(t,n));case 3:case"end":return i.stop()}},null,this,null,Ge)},i._M=function(){return this.WL.$y},i.yM=function(){return this.WL.yy},i.mM=function(){return this.WL.qy},i.pM=function(){return this.WL.py},i.kM=function(){return this.WL.by},i.bM=function(t){this.WL.by=t},i.wm=function(){return this.WL.wm()},i.dm=function(){return this.WL.dm()},i.cm=function(t){this.WL.cm(t)},i.fm=function(){this.WL.fm()},i.vm=function(){this.WL.vm()},i.hm=function(){this.WL.hm()},i.Jy=function(){this.WL.Jy()},i.Qy=function(){this.WL.Qy()},i.lm=function(){this.WL.lm()},i.Zy=function(){return this.WL.Zy()},i.nm=function(){return this.WL.nm()},i.im=function(){this.WL.im()},i.um=function(){this.WL.um()},i.wc=function(){return this.WL.wc()},i.Kc=function(){return this.WL.Kc()},i.Am=function(){this.WL.Am()},i._m=function(t){return this.WL._m(t)},i.zL=function(t){return!1},T(n,[{key:"Gy",get:function(){return this.GL()}},{key:"Tm",get:function(){return this.qL()}},{key:"Sm",get:function(){return this.YL()},set:function(t){this.QL(t)}},{key:"pm",get:function(){return this.$L()}},{key:"sy",get:function(){return this.JL()},set:function(t){this.ZL(t)}},{key:"uy",get:function(){return this.KL()}},{key:"Em",get:function(){return this.tM()}},{key:"oy",get:function(){return this.nM()}},{key:"Au",get:function(){return this.iM()}},{key:"ly",get:function(){return this.eM()}},{key:"Yy",get:function(){return this.WL.Yy}},{key:"Im",get:function(){return this.rM()}},{key:"Rm",get:function(){return this.WL.Rm}},{key:"vy",get:function(){return this.sM()},set:function(t){this.uM(t)}},{key:"Bm",get:function(){return this.oM()}},{key:"wy",get:function(){return this.aM()}},{key:"gy",get:function(){return this.hM()},set:function(t){this.cM(t)}},{key:"Lm",get:function(){return this.fM()}},{key:"Mm",get:function(){return this.lM()},set:function(t){this.vM(t)}},{key:"m_",get:function(){return this.dM()}},{key:"Fm",get:function(){return this.wM()}},{key:"_y",get:function(){return this.gM()}},{key:"$y",get:function(){return this._M()}},{key:"yy",get:function(){return this.yM()}},{key:"qy",get:function(){return this.mM()}},{key:"py",get:function(){return this.pM()}},{key:"by",get:function(){return this.kM()},set:function(t){this.bM(t)}},{key:"Um",get:function(){return this.WL.Um}},{key:"jm",get:function(){return this.WL.jm},set:function(t){this.WL.jm=t}}]),n}(J_),zR=function(t){function n(i,e){var r;return(r=t.call(this,i)||this).AM=void 0,r.TM=!1,r.SM=void 0,r.EM=!1,r.IM=function(){r.RM(),r.NM()},r.IN=function(){r.DM(),r.NM(),r.CM&&r.sy>=r.AM.ap-n.PM&&!r.oy&&(r.SM=VI(r.IN))},r.OM=function(){r.EM=!0},r.xM=function(){r.EM&&(r.EM=!1,r.NM())},r.AM=e,r.AM.tu("Pg",r.IM),r.WL.tu("timeupdate",r.IN),r}E(n,t);var i=n.prototype;return i.ZL=function(n){var i=this.AM.XL().nC(n);t.prototype.ZL.call(this,i),this.NM()},i.nM=function(){return t.prototype.nM.call(this)||this.TM},i.wM=function(){return TS.SC(t.prototype.wM.call(this)).rC(this.AM.XL()).oD()},i.Qy=function(){this.nM()?this.ZL(this.BM.start(0)):this.RM(),t.prototype.Qy.call(this),this.NM()},i.tm=function(n,i){return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:return fu(i),this.TM=!1,this.AM.wc(),e.next=5,Ur.awrap(t.prototype.tm.call(this,n,i));case 5:case"end":return e.stop()}},null,this,null,Ge)},i.Kc=function(){return this.AM.au("Pg",this.IM),this.WL.au("timeupdate",this.IN),this.DM(),t.prototype.Kc.call(this)},i.zL=function(n){switch(n.type){case"seeking":return this.Ks(n),this.OM(),!0;case"seeked":case"emptied":return this.Ks(n),this.xM(),!0;case"ended":if(this.CM)return!0}return t.prototype.zL.call(this,n)},i.DM=function(){this.SM&&(zI(this.SM),this.SM=void 0)},i.NM=function(){var t=this.sy,i=this.CM&&t>=this.AM.ap-n.zk;this.TM&&!i?(this.TM=!1,this.wy&&this.Qy()):this.TM||!i||this._y||this.EM||(this.TM=!0,this.Ks(new By(t)),this.Jy())},i.RM=function(){if(this.uy!==1/0){var t=this.BM,i=TS.SC(t).nC(this.sy);Ut(this.sy,i,n.zk)||this.ZL(i)}},T(n,[{key:"BM",get:function(){return this.wM().length?this.wM():this.AM.XL().oD()}},{key:"CM",get:function(){return this.AM.ap<this.uy}}]),n}(VR);zR.PM=1,zR.zk=.001;var WR=function(){function t(){this.LM=void 0,this.LM=!1}return T(t,[{key:"MM",get:function(){return this.LM},set:function(t){this.LM=t}}]),t}(),GR=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).LM=void 0,e.FM=!1,e.UM=!1,e.LM=i,e}E(n,t);var i=n.prototype;return i.nM=function(){return!this.LM.MM&&t.prototype.nM.call(this)},i.Jy=function(){this.UM=!0,t.prototype.Jy.call(this)},i.Qy=function(){this.UM=!1,t.prototype.Qy.call(this)},i.zL=function(n){if(this.LM.MM)switch(n.type){case"ended":return this.sy=0,this.UM||(this._y?this.FM=!0:this.Qy()),!0;case"seeked":this.FM&&(this.FM=!1,this.Qy());break;case"pause":if(this.FM||t.prototype.nM.call(this))return!0}return t.prototype.zL.call(this,n)},n}(VR);var qR=function(){function t(t){var n;this.dg=(n=this,{get currentBandwidthEstimate(){return n.Pm},get corruptedVideoFrames(){return n.Dm},get droppedVideoFrames(){return n.Nm},get totalBytesLoaded(){return n.Om},get bufferedSegments(){return n.xm}}),this.BD=t}return T(t,[{key:"wg",get:function(){return this.dg}},{key:"Dm",get:function(){return this.BD.jM.Rm.Dm}},{key:"Pm",get:function(){return this.BD.jM.Rm.Pm}},{key:"Nm",get:function(){return this.BD.jM.Rm.Nm}},{key:"HM",get:function(){throw new l("Not implemented")}},{key:"XM",get:function(){throw new l("Not implemented")}},{key:"Om",get:function(){return this.BD.jM.Rm.Om}},{key:"Cm",get:function(){return this.BD.jM.Rm.Cm}},{key:"xm",get:function(){return this.BD.jM.Rm.xm}}]),t}();function $R(t){if(!t||!vr(t))return{Nm:0,Dm:0,Cm:0,Pm:0,Om:0,xm:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}};if("function"==typeof t.getVideoPlaybackQuality){var n=t.getVideoPlaybackQuality();return{Nm:n.droppedVideoFrames,Dm:n.corruptedVideoFrames||0,Cm:n.totalVideoFrames}}return{Nm:t.webkitDroppedFrameCount||0,Dm:0,Cm:t.webkitDecodedFrameCount||0}}var YR=function(t){function n(){return t.call(this,"VM")||this}return E(n,t),n.prototype.gg=function(){return new QR},n}(o_),QR=function(t){function n(){return t.call(this,"castingchange")||this}return E(n,t),n}(Iu);var JR=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).zM=[],n.WM=!1,n.dg=void 0,n.GM=function(){var t=n.WM,i=n.qM;t!==i&&(n.WM=i,n.Ks(new YR))},n}E(n,t);var i=n.prototype;return i.$M=function(t){this.zM.push(t),t.tu("statechange",this.GM)},i.Kc=function(){for(var t=0,n=this.zM;t<n.length;t++){n[t].au("statechange",this.GM)}Zs(this.zM)},T(n,[{key:"qM",get:function(){return this.zM.some(function(t){return t.qM})}},{key:"wg",get:function(){var t,n,i;return this.dg||(this.dg=(i={get casting(){return t.qM},addEventListener:function(t,i){n.tu(t,i)},removeEventListener:function(t,i){n.au(t,i)}},n=new UR(t=this,["VM"],i),i)),this.dg}}]),n}(Su),ZR=function(){function t(){}return t.YM=function(t,n){var i,e,r;return Ur.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,i=new _w({_d:t,fd:Lf.Kn,Ld:lw.GET}),s.next=4,Ur.awrap(n.dd(i));case 4:return e=s.sent,s.next=7,Ur.awrap(e.Xi());case 7:return r=s.sent,s.abrupt("return",r.trim());case 11:return s.prev=11,s.t0=s.catch(0),cu(s.t0),s.abrupt("return",void 0);case 15:case"end":return s.stop()}},null,null,[[0,11]],Ge)},t.QM=function(t){try{var i=nI(t);return new oI(i.key,i.domains_page,i.domains_source,i.expiration_date,i.features,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new lf(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.JM=function(t){void 0===t&&(t=kI.Tb),i.Tr("The baked-in license is used. Please update the configuration with your license.");var n=t.wO("a4cSCHoSC]c-aH.g_rYY_]dhiOhsael-Nel] eds_4_]N4c5"),e=["fp\"\"","F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.wO(n)}),r=["fp\"\"","F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.wO(n)}),s=Number(new Date(Number(t.wO("CO*H ecSaOn3Ceo3Co\"\"")))),u=[].map(function(n){return t.wO(n)});return new oI(n,e,r,s,u)},t.convertLicenseToDummyLicense=function(t){return new oI(t.AO,t.TO,t.SO,864e13,t.IO,t.RO,Date.now(),t.CO,t.PO)},t}(),KR=function(){function t(){}return t.bf=function(){return t.qn||(t.qn=tN.Ac()?new tN:new Df),t.qn},t.xu=function(n){t.bf().xu(n)},t.pf=function(){t.bf().pf()},t.Cu=function(n){return t.bf().Cu(n)},t.kf=function(n,i){t.bf().kf(n,i)},t.ZM=function(n){var i=t.Cu(n);if(void 0!==i)return y(i)},t.KM=function(n){return"true"===t.Cu(n)},t}();KR.qn=void 0;var tN=function(n){function i(){return n.apply(this,arguments)||this}E(i,n),i.Ac=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var e=i.prototype;return e.xu=function(n){t.localStorage.removeItem(n)},e.pf=function(){t.localStorage.clear()},e.Cu=function(n){return t.localStorage[n]},e.kf=function(n,i){t.localStorage[n]=i},i}(KR),nN=g.floor(14399999*g.random()-72e5),iN=function(){function t(t,n,i,e,r,s){this.LO=void 0,this.DE=t,this.tF=n,this.nF=i,this.Rx=e,this.iF=r,this.Ko=s,this.LO=dI(s)}var i=t.prototype;return i.eF=function(){var t;return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ur.awrap(this.rF(this.iF.license,this.iF.licenseUrl));case 2:t=n.sent,this.Rx.sF(t);case 4:case"end":return n.stop()}},null,this,null,Ge)},i.rF=function(t,i){var e,r,s,u,o,a,h,c,f;return Ur.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(e=i,t?r=ZR.QM(t):e||(r=ZR.JM()),e||(e="https://validate.theoplayer.com/1/"+r.AO),s=this.uF(),!r){l.next=14;break}if((u=this.tF.WO(r))!==eI.pO){l.next=14;break}if(!this.oF(r.EO)||!this.oF(null==s?void 0:s.EO)){l.next=13;break}return l.next=10,Ur.awrap(this.aF(e));case 10:if(!(o=l.sent)){l.next=13;break}return l.abrupt("return",o);case 13:return l.abrupt("return",r);case 14:if(!s){l.next=25;break}if(this.tF.WO(s)!==eI.pO){l.next=24;break}if(!this.oF(null==s?void 0:s.EO)){l.next=23;break}return l.next=20,Ur.awrap(this.aF(e));case 20:if(!(a=l.sent)){l.next=23;break}return l.abrupt("return",a);case 23:return l.abrupt("return",s);case 24:KR.xu("THEOplayer.license");case 25:return l.next=27,Ur.awrap(ZR.YM(e,this.DE));case 27:if(!(h=l.sent)){l.next=37;break}if(c=ZR.QM(h),this.tF.WO(c)!==eI.pO){l.next=34;break}return KR.kf("THEOplayer.license",h),l.abrupt("return",c);case 34:KR.xu("THEOplayer.license"),l.next=39;break;case 37:if(this.LO||!r||u!==eI.kO||e!=="https://validate.theoplayer.com/1/"+r.AO){l.next=39;break}return l.abrupt("return",ZR.convertLicenseToDummyLicense(r));case 39:if(!r&&!c){l.next=43;break}this.hF(null!=(f=r)?f:c,new lf(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),l.next=44;break;case 43:throw new lf(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return l.stop()}},null,this,null,Ge)},i.UO=function(t){var n,i,e,r,s,u,o;return Ur.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Ur.awrap(this.Rx.Bx());case 2:if(n=a.sent,!this.oF(n.EO)){a.next=9;break}return e=null!=(i=this.iF.licenseUrl)?i:"https://validate.theoplayer.com/1/"+n.AO,a.next=7,Ur.awrap(this.aF(e));case 7:(r=a.sent)&&(this.Rx.sF(r),n=r);case 9:if(a.prev=9,(s=this.tF.WO(n))!==eI.bO){a.next=16;break}throw u=uI.OO,new lf(hI(u),gI.VO(u));case 16:if(s!==eI.kO){a.next=19;break}throw o=uI.kO,new lf(hI(o),gI.VO(o));case 19:this.tF.UO(t,n),a.next=25;break;case 22:a.prev=22,a.t0=a.catch(9),this.cF(a.t0);case 25:case"end":return a.stop()}},null,this,[[9,22]],Ge)},i.zO=function(t){var n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Ur.awrap(this.Rx.Bx());case 2:n=i.sent;try{this.tF.zO(t,n)}catch(t){this.cF(t)}case 4:case"end":return i.stop()}},null,this,null,Ge)},i.aF=function(t){var n,i;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ur.awrap(ZR.YM(t,this.DE));case 3:if(void 0!==(n=e.sent)){e.next=6;break}return e.abrupt("return",void 0);case 6:if(i=ZR.QM(n),this.tF.WO(i)!==eI.pO){e.next=11;break}return KR.kf("THEOplayer.license",n),e.abrupt("return",i);case 11:return e.abrupt("return",void 0);case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",void 0);case 17:case"end":return e.stop()}},null,this,[[0,14]],Ge)},i.oF=function(t){return!t||Number(new Date)+2592e5+nN>=t},i.uF=function(){var t=KR.Cu("THEOplayer.license");if(t)return ZR.QM(t)},i.hF=function(t,n){this.Rx.sF(t),this.cF(n)},i.cF=function(t){throw ht(t.message),this.nF.Fx(t.message),t},t}(),eN=function(){function t(){this.fF=void 0,this.lF=new na}var n=t.prototype;return n.sF=function(t){this.fF=t,this.lF.Yu()},n.Bx=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.fF){t.next=2;break}return t.abrupt("return",Ge.resolve(this.fF));case 2:return t.next=4,Ur.awrap(this.lF.Wu);case 4:return t.abrupt("return",this.fF);case 5:case"end":return t.stop()}},null,this,null,Ge)},T(t,[{key:"vF",get:function(){return this.fF}}]),t}(),rN=function(t){function n(){return t.call(this,"Pg")||this}return E(n,t),n.prototype.gg=function(){return new sN},n}(o_),sN=function(t){function n(){return t.call(this,"change")||this}return E(n,t),n}(Iu);function uN(t){var n,i={get fontFamily(){return t.dF},set fontFamily(n){t.dF=n},get fontColor(){return t.wF},set fontColor(n){t.wF=n},get fontSize(){return t.gF},set fontSize(n){t.gF=n},get backgroundColor(){return t._F},set backgroundColor(n){t._F=n},get windowColor(){return t.yF},set windowColor(n){t.yF=n},get edgeStyle(){return t.mF},set edgeStyle(n){t.mF=n},get marginTop(){return t.pF},set marginTop(n){t.pF=n},get marginBottom(){return t.kF},set marginBottom(n){t.kF=n},get marginLeft(){return t.bF},set marginLeft(n){t.bF=n},get marginRight(){return t.AF},set marginRight(n){t.AF=n},addEventListener:function(t,i){var e=O_(t,C_);n.tu(e,i)},removeEventListener:function(t,i){var e=O_(t,C_);n.au(e,i)}};return n=new Eu(i),t.tu(["Pg"],function(t){return n.Ks(t.wg)}),i}var oN={dF:void 0,wF:void 0,gF:void 0,_F:void 0,yF:void 0,mF:void 0,TF:void 0,pF:void 0,kF:void 0,bF:void 0,AF:void 0},aN="THEOplayer.textTrackStyle.",hN=function(t){function n(){var i;return(i=t.call(this)||this).SF=void 0,i.dg=void 0,i.SF=n.EF(),i}return E(n,t),n.prototype.tc=function(t){this.SF=jr({},this.SF,t),n.IF(this.SF),this.Ks(new rN)},n.EF=function(){var t=jr({},oN);return t.dF=KR.Cu(aN+"fontFamily")||t.dF,t.wF=KR.Cu(aN+"fontColor")||t.wF,t.gF=KR.Cu(aN+"fontSize")||t.gF,t._F=KR.Cu(aN+"backgroundColor")||t._F,t.yF=KR.Cu(aN+"windowColor")||t.yF,t.mF=KR.Cu(aN+"edgeStyle")||t.mF,t},n.IF=function(t){KR.kf(aN+"fontFamily",t.dF||""),KR.kf(aN+"fontColor",t.wF||""),KR.kf(aN+"fontSize",t.gF||""),KR.kf(aN+"backgroundColor",t._F||""),KR.kf(aN+"windowColor",t.yF||""),KR.kf(aN+"edgeStyle",t.mF||"")},T(n,[{key:"RF",get:function(){return this.SF}},{key:"dF",get:function(){return this.SF.dF},set:function(t){this.tc({dF:t})}},{key:"wF",get:function(){return this.SF.wF},set:function(t){this.tc({wF:t})}},{key:"gF",get:function(){return this.SF.gF},set:function(t){this.tc({gF:t})}},{key:"_F",get:function(){return this.SF._F},set:function(t){this.tc({_F:t})}},{key:"yF",get:function(){return this.SF.yF},set:function(t){this.tc({yF:t})}},{key:"mF",get:function(){return this.SF.mF},set:function(t){this.tc({mF:t})}},{key:"TF",get:function(){return this.SF.TF}},{key:"pF",get:function(){return this.SF.pF},set:function(t){this.tc({pF:t})}},{key:"kF",get:function(){return this.SF.kF},set:function(t){this.tc({kF:t})}},{key:"AF",get:function(){return this.SF.AF},set:function(t){this.tc({AF:t})}},{key:"bF",get:function(){return this.SF.bF},set:function(t){this.tc({bF:t})}},{key:"wg",get:function(){return this.dg||(this.dg=uN(this)),this.dg}}]),n}(Su);function cN(t,n){var i,e;t.style.marginLeft=(null!=(i=n.bF)?i:0)+"px",t.style.marginRight=(null!=(e=n.AF)?e:0)+"px",t.style.width="calc(100% - "+t.style.marginLeft+" - "+t.style.marginRight+")"}var fN,lN,vN=function(t){function n(n,e){var r;(r=t.call(this)||this).NF=void 0,r.cc=void 0,r.jM=void 0,r.DF=void 0,r.ag=void 0,r.AM=void 0,r.LM=void 0,r.CF=void 0,r.PF=void 0,r.VC=void 0,r.tF=void 0,r.OF=void 0,r.xF=void 0,r.XC=void 0,r.BF=!1,r.Uy=!1,r.Gm=void 0,r.LF=!1,r.jC=void 0,r.MF=void 0,r.FF=void 0,r.UF=void 0,r.jF=void 0,r.HF=void 0,r.XF=function(t){if(!r.LF){r.LF=!0;var n=r.NF,i=wm(t);r.jM.t_=new DS(r.Em,i,t),mu(n.Kc())}},r.VF=function(t){r.Ks(t.wg)},r.zF=function(t){t.type!==Bf.jf&&t.type!==Bf.Uf&&r.Ks(t)};var s=N_(e.uid);m(s)?r.Gm=Sm++:r.Gm=s,r.cc=e;var u=i.ag,o=new eN;r.DF=new PI("4.12.9",u,o),r.ag=new pR(u,e.allowMixedContent),r.VC=new LR,r.tF=new aI(e.isEmbeddable,"4.12.9",iI()),r.HF=new iN(u,r.tF,r.DF,o,e,iI()),r.HF.eF().catch(r.XF),r.OF=new ZI(n),r.OF.tu("qx",r.VF),r.XC=new hN,r.AM=new XR,r.LM=new WR;var a=new NS(n,e,r.ag,r.VC,r.OF,r.XC);r.VC.LL(a);var h=a;return h=new zR(h,r.WF),h=new GR(h,r.MM),r.NF=h,r.jM=new fm(r.NF),r.jM.uu(r.zF),r.jF=new qR(Kt(r)),r.FF=new AR(r.jM,r.ag,r.VC),r.CF=new BI(Kt(r)),r.xF=new sR(r.jM,e.allowNativeFullscreen),r.PF=new $S(r.xF),r.OF.vc(),r.jC=new le(r.OF,r.XC,1,[ym.xd]),r.MF=new ve(r.jC),r.UF=new JR,r}E(n,t);var e=n.prototype;return e.uM=function(t){this.jM.vy=t,t||this.wy||this.hm()},e.bM=function(t){this.jM.by=t},e.GF=function(){$y(this,YS,this)},e.Qy=function(){this.jM.Qy()},e.Jy=function(){this.jM.Jy()},e.tm=function(t,n){var i;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return this.HF.UO(t).catch(this.XF),i=dN(t),e.next=5,Ur.awrap(this.jM.tm(i,n));case 5:case"end":return e.stop()}},null,this,null,Ge)},e.hm=function(){this.Uy||(this.jM.hm(),this.MF.hm(),this.Uy=!0)},e.DC=function(){return this.PF.wP()===VS.FULLSCREEN},e.lm=function(){this.jM.lm()},e.vm=function(){this.jM.vm()},e.dm=function(){return this.jM.dm()},e.wc=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ur.awrap(this.jM.Zy());case 2:return t.next=4,Ur.awrap(this.jM.wc());case 4:case"end":return t.stop()}},null,this,null,Ge)},e.Kc=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ou(),this.UF.Kc(),this.ag.Kc(),this.FF.Kc(),this.xF.Kc(),this.PF.Kc(),this.OF.Kc(),this.DF.Kc(),this.MF.Kc(),this.jC.Kc(),t.next=12,Ur.awrap(this.jM.Kc());case 12:case"end":return t.stop()}},null,this,null,Ge)},T(n,[{key:"qF",get:function(){return this.VC}},{key:"zy",get:function(){return this.BF},set:function(t){this.BF=t,this.jM.zy=t}},{key:"YF",get:function(){return this.MF}},{key:"Gy",get:function(){return this.jM.Gy}},{key:"QF",get:function(){return this.UF}},{key:"JF",get:function(){return this.OF}},{key:"Yy",get:function(){return this.jM.Yy}},{key:"Rm",get:function(){return this.jF}},{key:"ZF",get:function(){return this.FF}},{key:"$y",get:function(){return this.jM.$y}},{key:"KF",get:function(){return this.XC}},{key:"qy",get:function(){return this.jM.qy}},{key:"Tm",get:function(){return this.jM.Tm}},{key:"WF",get:function(){return this.AM}},{key:"MM",get:function(){return this.LM}},{key:"sy",get:function(){return this.jM.sy},set:function(t){this.jM.sy=t}},{key:"Sm",get:function(){return this.jM.Sm},set:function(t){this.jM.Sm=t}},{key:"pm",get:function(){return this.jM.pm}},{key:"uy",get:function(){return this.jM.uy}},{key:"Em",get:function(){return this.jM.Em}},{key:"oy",get:function(){return this.jM.oy}},{key:"Au",get:function(){return this.jM.Au}},{key:"ly",get:function(){return this.jM.ly}},{key:"vy",get:function(){return this.jM.vy},set:function(t){var n=Boolean(t);this.uM(n)}},{key:"wy",get:function(){return this.jM.wy}},{key:"gy",get:function(){return this.jM.gy},set:function(t){this.jM.gy=t}},{key:"Lm",get:function(){return this.jM.Lm}},{key:"Mm",get:function(){return this.jM.Mm},set:function(t){this.jM.Mm=yS(t)}},{key:"m_",get:function(){return this.jM.m_}},{key:"Fm",get:function(){return this.jM.Fm}},{key:"_y",get:function(){return this.jM._y}},{key:"s_",get:function(){return this.Gm}},{key:"yy",get:function(){return this.jM.yy}},{key:"py",get:function(){return this.jM.py}},{key:"by",get:function(){return this.jM.by},set:function(t){var n=Ft(Number(t),0,1)||0;this.bM(n)}},{key:"Um",get:function(){return this.jM.Um}}]),n}(J_);function dN(t){t.sources;var n=t.sources.filter(function(t){return X(t.integration)});return t.sources=n,t}!function(t){t[t.tU=0]="tU",t[t.nU=1]="nU"}(fN||(fN={})),function(t){t[t.iU=0]="iU"}(lN||(lN={}));var wN={};function gN(t,n){(wN[n]||(wN[n]=[])).push(t)}function _N(t,n){var i=t;if(wN[n])for(var e=0,r=wN[n];e<r.length;e++){i=(0,r[e])(i)}return i}var yN=[];function mN(t){yN.push(t)}var pN=t.CustomEvent;var kN=function(){try{var t=new pN("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=s.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},bN=function(){function t(t,n){var i=this;this.BD=void 0,this.eU=void 0,this.rU=!1,this.sU=function(t){i.eU.Mx(t.error,i.sy)},this.uU=function(){i.eU.xx(i.oU),i.BD.removeEventListener("playing",i.uU),i.rU=!1},this.aU=function(){i.rU||(i.BD.addEventListener("playing",i.uU),i.rU=!0)},this.eU=n,this.BD=t,this.BD.addEventListener("error",this.sU),this.BD.addEventListener("sourcechange",this.aU),this.aU()}return t.prototype.wc=function(){},T(t,[{key:"sy",get:function(){var t=this.BD.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"oU",get:function(){return this.BD.src||""}}]),t}();mN(function(t){new bN(t.wg,t.DF)});var AN="theoplayer-stored-volume",TN="theoplayer-stored-mutedstate";gN(function(t){return function(t){function n(n,i){var e;if(e=t.call(this,n,i)||this,i.persistVolume){var r=KR.ZM(AN);(void 0===r||m(r))&&(r=1);var s=KR.KM(TN)||!1;e.by=r,e.vy=s}return e}E(n,t);var i=n.prototype;return i.uM=function(n){this.cc.persistVolume&&KR.kf(TN,""+Boolean(n)),t.prototype.uM.call(this,n)},i.bM=function(n){this.cc.persistVolume&&KR.kf(AN,""+Number(n)),t.prototype.bM.call(this,n)},n}(t)},fN.nU);var SN=new(function(){function t(){this.hU=[],this.dg=void 0}var n=t.prototype;return n.Vg=function(t){return this.hU[t]},n.cU=function(t){this.hU.push(t),this.wg.push(t.wg)},n.Kh=function(t){var n=this.hU.indexOf(t);n<0||(Qs(this.hU,n),this.dg&&Qs(this.dg,n))},n.fU=function(t){for(var n=0,i=this.hU;n<i.length;n++){var e=i[n];if(e.s_===t)return e}},T(t,[{key:"$g",get:function(){return this.hU.length}},{key:"wg",get:function(){return this.dg||(this.dg=function(t){for(var n=[],i=0;i<t.$g;i++)n[i]=t.Vg(i).wg;return n.getPlayerByUID=function(n){var i=t.fU(n);return i&&i.wg},n}(this)),this.dg}}]),t}());var EN,IN=function(t){function n(n){var i;return(i=t.call(this,Bf.il)||this).source=n,i}return E(n,t),n}(Iu),RN=function(t){function n(){var n;return(n=t.call(this)||this).BC=void 0,n.MC=void 0,n.UC=void 0,n.FC=void 0,n.BC=0,n.MC=!0,n.UC=!1,n.FC=1,n}E(n,t);var i=n.prototype;return i.Qy=function(){this.MC&&(this.MC=!1,this.Ks(new Ry(this.sy)),this.Ks(new Db(this.sy)))},i.Jy=function(){this.MC||(this.MC=!0,this.Ks(new xy(this.sy,this.Sm)),this.Ks(new Iy(this.sy)))},i.wc=function(){this.BC=0,this.UC=!1,this.FC=1,this.Jy(),this.Ks(new Ey(this.BC))},i.Kc=function(){this.ou()},i.vm=function(){},i.lm=function(){},T(n,[{key:"Sm",get:function(){},set:function(t){}},{key:"sy",get:function(){return this.BC},set:function(t){this.UC&&this.BC===t||(this.BC=t,this.UC=!0,this.Ks(new My(this.sy)))}},{key:"wy",get:function(){return this.MC}},{key:"gy",get:function(){return this.FC},set:function(t){this.FC!==t&&(this.FC=t,this.Ks(new Oy(this.sy,this.gy)))}},{key:"m_",get:function(){return uy.z_}},{key:"_y",get:function(){return this.UC}}]),n}(Q_),NN=function(t){function n(){return t.call(this,Bf.Df)||this}return E(n,t),n}(Iu),DN={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},CN={visibility:"hidden"},PN={visibility:"visible"},ON=function(){function t(t){var n,i=this;this.DD=void 0,this.BD=void 0,this.lU=!1,this.vU=void 0,this.dU=void 0,this.wU=function(t){var n;i.lU=!1,i.vU=null==(n=t.source)?void 0:n.poster,i.tc()},this.JE=function(){i.lU=!0,i.vm()},this.BD=t,this.UD(),this.DD=((n=we&&we.document&&we.document.createElement("div")).className="theoplayer-poster",cr(DN,n),n),t.Em.appendChild(this.DD)}var n=t.prototype;return n.tc=function(){var t=this.BD.wy,n=this.lU;this._d?this.DD.style.backgroundImage='url("'+Cs(this._d)+'")':this.DD.style.backgroundImage="",t&&this._d&&!n?this.lm():this.vm()},n.lm=function(){cr(CN,this.BD.Em),cr(PN,this.DD)},n.vm=function(){cr(CN,this.DD),cr(PN,this.BD.Em)},n.UD=function(){this.BD.tu("sourcechange",this.wU),this.BD.tu("play",this.JE)},n.Kc=function(){this.BD.au("sourcechange",this.wU),this.BD.au("play",this.JE),nr(this.DD)},T(t,[{key:"_d",get:function(){return void 0!==this.vU?this.vU:void 0!==this.dU?this.dU:void 0}},{key:"gU",set:function(t){this.dU=t,this.tc()}}]),t}();function xN(t){return function(i){function e(n,e){var r;return(r=i.call(this,n)||this).BD=void 0,r._U=void 0,r.yU=void 0,r.mU=void 0,r.pU=void 0,r.kU=void 0,r.bU=void 0,r.AU=void 0,r.FD=void 0,r.MD=void 0,r.gN=void 0,r.$C=void 0,r.dg=void 0,r.TU=function(t){t.type!==Bf.zf&&r.AU.push(t)},r._U=new t(n,e),r.yU=new RN,r.BD=r._U,r.mU=new ON(Kt(r)),r.kU=new mf,r.bU=!1,r.AU=[],r.FD=!0,r.UD(),r}E(e,i);var r=e.prototype;return r.Jc=function(t,n){return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.kU.Jc(t,n).catch(vu));case 1:case"end":return i.stop()}},null,this,null,Ge)},r.SU=function(t,n){return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return fu(n),this._U.uu(this.TU),i.prev=2,i.next=5,Ur.awrap(this._U.tm(t,n));case 5:return i.prev=5,this._U.du(this.TU),i.finish(5);case 8:case"end":return i.stop()}},null,this,[[2,,5,8]],Ge)},r.EU=function(){var t,n,i;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.Ky())&&!NE(t)&&this.zy&&this.wy){e.next=3;break}return e.abrupt("return");case 3:return n=t.mutedAutoplay||this.cc.mutedAutoplay,e.next=6,Ur.awrap(this.YF.IU(this.vy));case 6:i=e.sent,e.t0=i,e.next="all"===e.t0?10:"muted"===e.t0?12:14;break;case 10:return this.RU(),e.abrupt("break",14);case 12:return(this.vy||n===Ny.ALL)&&(this.vy=!0,this.Qy()),e.abrupt("break",14);case 14:case"end":return e.stop()}},null,this,null,Ge)},r.tm=function(t){var i=this,e=this.MD;e&&!NE(e)&&this.Ks(new Ey(0,0)),this.wc(),this.MD=t,mu(this.Jc(function(e){return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:return fu(e),r.prev=1,r.next=4,Ur.awrap(i.SU(t,e));case 4:r.next=11;break;case 6:return r.prev=6,r.t0=r.catch(1),i.MD=void 0,i.EN((s=r.t0,u=n.ErrorCode.SOURCE_NOT_SUPPORTED,s instanceof lf?s:s instanceof l?new lf(u,s.message,s):new lf(u,String(s)))),r.abrupt("return");case 11:return r.prev=11,i.NU(i._U),r.finish(11);case 14:return i.Ks(new IN(i.Ky())),r.next=17,Ur.awrap(i.EU());case 17:case"end":return r.stop()}var s,u},null,null,[[1,6,11,14]],Ge)}))},r.ZL=function(t){this.BD.sy=t},r.iM=function(){var t;return null!=(t=this.$C)?t:this._U.Au},r.eM=function(){var t;return null!=(t=this.gN)?t:this._U.ly},r.EN=function(t){void 0===this.eM()&&(this.gN=t,this.$C=wm(t),this.Ks(new Vy(t)))},r.Qy=function(){this.BD.Qy()},r.RU=function(){this.vy||this.hm(),this.Qy()},r.hm=function(){this._U.hm()},r.Jy=function(){this.BD.Jy()},r.Zy=function(){this.tm(void 0)},r.lm=function(){this.FD=!0,this.BD.lm()},r.vm=function(){this.FD=!1,this.BD.vm()},r.GF=function(){this._U.GF()},r.bM=function(t){this._U.bM(t)},r.uM=function(t){this._U.uM(t)},r.DU=function(t){this.pU=t,t.cU(this)},r.DC=function(){return this._U.DC()},r.Ky=function(){return this.MD},r.dm=function(){return this._U.dm()},r.JL=function(){return this._U.sy},r.KL=function(){return this._U.uy},r.qL=function(){return this._U.Tm},r.fM=function(){return this._U.Lm},r.wM=function(){return this._U.Fm},r.wc=function(){var t=this;this.MD=void 0,this.gN=void 0,this.$C=void 0,Zs(this.AU),this.yU.wc(),this.NU(this.yU),this.kU.Ws(),mu(this.kU.Jc(function(n){return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return fu(n),i.next=3,Ur.awrap(t._U.wc());case 3:case"end":return i.stop()}},null,null,null,Ge)}))},r.Kc=function(){var t=this;this.Ks(new NN),this.mU.Kc(),this.jD(),this.wc(),mu(this.Jc(function(){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ur.awrap(t._U.Kc());case 2:t.pU&&(t.pU.Kh(t),t.pU=void 0),t.kU.Kc();case 4:case"end":return n.stop()}},null,null,null,Ge)})),this.ou()},r.NU=function(t){if(this.BD!==t){var n=this.BD.wy,i=this.BD.sy,e=this.BD.gy,r=this.BD._y;this.jD(),t===this._U?((r||t.sy!==i)&&(t.sy=i),t.gy!==e&&(t.gy=e),n?t.Jy():t.Qy()):this.cc.retainPlaybackRateOnSourceChange?t.gy=e:1!==e&&this.Ks(new Oy(this.JL(),1)),this.BD=t,this.UD();for(var s=0,u=this.AU;s<u.length;s++){var o=u[s];this.Ks(o)}Zs(this.AU),this.FD?t.lm():t.vm()}},r.UD=function(){this.BD.uu(this.Zs)},r.jD=function(){this.BD.du(this.Zs)},r.gg=function(){return t=this,e=function(n){i=n;var e=HE(n,t.cc);t.tm(e)},r={get abr(){return t.qF.wg},get audioTracks(){return t.Gy.wg},get autoplay(){return t.zy},set autoplay(n){t.zy=Boolean(n)},get buffered(){return t.qL()},get canvas(){return t.CF.wg},get clip(){return t.WF.wg},get currentProgramDateTime(){var n;return null!=(n=t.Sm)?n:null},set currentProgramDateTime(n){t.Sm=null!=n?n:void 0},get currentTime(){return t.JL()},set currentTime(n){t.ZL(Number(n))},get duration(){return t.KL()},get element(){return t.Em},get ended(){return t.oy},get error(){return t.iM()},get errorObject(){return t.eM()},get loop(){return t.MM.MM},set loop(n){t.MM.MM=Boolean(n)},get metrics(){return t.Rm.wg},get muted(){return t.vy},set muted(n){t.uM(n)},get network(){return t.ZF.wg},get paused(){return t.wy},get playbackRate(){return t.gy},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.gy=i},get played(){return t.fM()},get poster(){return t.CU},set poster(n){t.CU=C_(n)},get preload(){return t.Mm},set preload(n){t.Mm=n},get presentation(){return t.PF.wg},get readyState(){return t.m_},get seekable(){return t.wM()},get seeking(){return t._y},get source(){return i},set source(t){e(t)},get src(){return CE(t.Ky())},set src(t){e({sources:t})},get textTracks(){return t.$y.wg},get textTrackStyle(){return t.KF.wg},get uid(){return t.s_},get videoHeight(){return t.yy},get videoTracks(){return t.qy.wg},get videoWidth(){return t.py},get volume(){return t.by},set volume(n){t.bM(Number(n))},get latency(){return t.Um.wg},destroy:function(){t.Kc(),t=null,i=void 0},play:function(){t.RU()},pause:function(){t.Jy()},stop:function(){i=void 0,t.Zy()},prepareWithUserAction:function(){t.hm()},addEventListener:function(t,i){n.tu(t,i)},removeEventListener:function(t,i){n.au(t,i)},setSource:function(t){e(t)}},(n=new GS(r,!0)).nP(t),n.tu("destroy",function(){n.Kc()}),r;var t,n,i,e,r},T(e,[{key:"DF",get:function(){return this._U.DF}},{key:"CF",get:function(){return this._U.CF}},{key:"cc",get:function(){return this._U.cc}},{key:"NF",get:function(){return this._U.NF}},{key:"ag",get:function(){return this._U.ag}},{key:"tD",get:function(){return this._U.xF}},{key:"PF",get:function(){return this._U.PF}},{key:"OF",get:function(){return this._U.OF}},{key:"jM",get:function(){return this._U.jM}},{key:"qF",get:function(){return this._U.qF}},{key:"zy",get:function(){return this._U.zy},set:function(t){this._U.zy=t,this.EU()}},{key:"YF",get:function(){return this._U.YF}},{key:"Gy",get:function(){return this._U.Gy}},{key:"QF",get:function(){return this._U.QF}},{key:"JF",get:function(){return this._U.OF}},{key:"wg",get:function(){return this.dg||(this.dg=this.gg()),this.dg}},{key:"Yy",get:function(){return this._U.Yy}},{key:"Rm",get:function(){return this._U.Rm}},{key:"ZF",get:function(){return this._U.ZF}},{key:"$y",get:function(){return this._U.$y}},{key:"KF",get:function(){return this._U.KF}},{key:"qy",get:function(){return this._U.qy}},{key:"WF",get:function(){return this._U.WF}},{key:"MM",get:function(){return this._U.MM}},{key:"Sm",get:function(){return this.BD.Sm},set:function(t){this.BD.Sm=t}},{key:"pm",get:function(){return this._U.pm}},{key:"Em",get:function(){return this._U.Em}},{key:"oy",get:function(){return this._U.oy}},{key:"vy",get:function(){return this._U.vy},set:function(t){this._U.vy=t}},{key:"wy",get:function(){return this.BD.wy}},{key:"CU",get:function(){return this.mU._d||""},set:function(t){this.mU.gU=t}},{key:"gy",get:function(){return this._U.gy},set:function(t){this.BD.gy=t}},{key:"Mm",get:function(){return this._U.Mm},set:function(t){this._U.Mm=yS(t)}},{key:"m_",get:function(){return this.BD.m_}},{key:"_y",get:function(){return this.BD._y}},{key:"s_",get:function(){return this._U.s_}},{key:"yy",get:function(){return this._U.yy}},{key:"py",get:function(){return this._U.py}},{key:"by",get:function(){return this._U.by},set:function(t){this._U.by=t}},{key:"Um",get:function(){return this._U.Um}}]),e}(J_)}function BN(t,n){var i=Wy(n),e=new(EN||(EN=_N(EN=xN(vN),fN.tU),EN=_N(EN,fN.nU)),EN)(t,i),r=e.wg;return e.GF(),e.DU(SN),w.defineProperty(r,"constructor",{value:BN}),r=p_(r),function(t){for(var n=0;n<yN.length;n++)(0,yN[n])(t)}(e),r}yu(function(){t.dispatchEvent&&t.dispatchEvent(kN("theoplayerready"))});var LN,MN={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return zu(t)},n.decode=function(t){return Xu(t)},t}())},FN=["hls","chromecast","ads","google-dai","airplay","ui"],UN=SN.wg,jN=aA.WI.registerContentProtectionIntegration.bind(aA.WI),HN=[Bf.Xf,Bf.Hf,Sy.ey,Bf.ol,Bf.Vf,Bf.Lf,Bf.$f,Bf.qf,Bf.Of,Bf.zf,Bf.al,Bf.Cf,Sy.Og,Bf.Gf,H_.d_,Tu.Tu,Tu.Eu,Bf.Rf,Bf.If,Bf.hl],XN={PU:!1},VN=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"];!function(t){t.uO="OU"}(LN||(LN={}));var zN,WN=function(t){function i(n,i,e,r){var s;(s=t.call(this)||this).Mc=void 0,s.dN=void 0,s.ef=void 0,s.xU=!1,s.BU=new na,s.LU=!1,s.kU=new mf,s.MU=void 0,s.Es=void 0,s.ac=void 0,s.FU=function(){s.LU=!0},s.UU=function(){s.jU(!0)},s.Mc=n,s.dN=i,s.ef=i.HN,s.MU=e,s.Es=r,s.ef.addEventListener("loadedmetadata",s.FU);for(var u=0;u<VN.length;u++){var o=VN[u];s.ef.addEventListener(o,s.UU)}return s}E(i,t);var e=i.prototype;return e.HU=function(t,n){var i,e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Ur.awrap(this.Es.Ns(t._s,n));case 2:return i=r.sent,r.next=5,Ur.awrap(i.yc());case 5:return e=r.sent,r.next=8,Ur.awrap(this.XU(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,Ge)},e.VU=function(t){var n=this,i=this.ac;return i?0!==t.WN.length&&t.WN.some(function(t){return t.hc._s===i.hc}):0!==this.Mc.WN.length?t.WN.some(function(t){return n.Mc.WN.some(function(n){return t.hc===n.hc})}):0===t.WN.length||!this.LU},e.zU=function(t){return this.MU.zU(t),this.Mc=t,Ge.resolve()},e.Us=function(){var t,n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:for(this.ou(),this.ef.removeEventListener("loadedmetadata",this.FU),t=0;t<VN.length;t++)n=VN[t],this.ef.removeEventListener(n,this.UU);return i.next=5,Ur.awrap(this.kU.Kc());case 5:return i.next=7,Ur.awrap(this.WU());case 7:return i.next=9,Ur.awrap(this.MU.wc());case 9:return i.next=11,Ur.awrap(this.XU(void 0));case 11:case"end":return i.stop()}},null,this,null,Ge)},e.jU=function(t){t!==this.xU&&(this.xU=t,t?this.BU.Yu(void 0):this.BU=new na)},e.XU=function(t){var n=this;return this.kU.Jc(function(){return n.GU(t)})},e.GU=function(t){var i;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||this.ef.src){e.next=4;break}throw new lm(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");case 4:if(t||!this.ef.src){e.next=6;break}throw new lm(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");case 6:if(!t||this.xU){e.next=9;break}return e.next=9,Ur.awrap(this.BU.Wu);case 9:if(!(i=this.ac)){e.next=14;break}return e.next=13,Ur.awrap(i.dc(this.ef));case 13:this.ac=void 0;case 14:if(!t){e.next=18;break}return e.next=17,Ur.awrap(t.vc(this.ef));case 17:this.ac=t;case 18:case"end":return e.stop()}},null,this,null,Ge)},e.tm=function(t){var n=this;return this.kU.Jc(function(){return n.qU(t)})},e.qU=function(t){this.jU(!1);var n=this.dN.gy;this.ef.src=t,this.dN.gy=n},e.$U=function(t){var n=this;return this.kU.Jc(function(){return n.YU(t)})},e.YU=function(t){this.qU(t),this.ef.load()},e.WU=function(){var t=this;return this.kU.Jc(function(){return t.QU()})},e.QU=function(){this.jU(!1),dr(this.ef)},e.JU=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.ac){t.next=3;break}return t.next=3,Ur.awrap(this.ac.wc());case 3:case"end":return t.stop()}},null,this,null,Ge)},T(i,[{key:"Gy",get:function(){throw new l("Not implemented")}},{key:"cc",get:function(){return this.Mc}},{key:"HN",get:function(){return this.ef}},{key:"qy",get:function(){throw new l("Not implemented")}}]),i}(Su),GN=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.LL=function(){var t;return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:t=this.cc,n.t0=t.qN,n.next=n.t0===iy.F_?4:n.t0===iy.U_?4:(n.t0,iy.j_,6);break;case 4:return this.ef.setAttribute("crossorigin",t.qN),n.abrupt("break",8);case 6:return this.ef.removeAttribute("crossorigin"),n.abrupt("break",8);case 8:return void 0!==t.Mm?this.ef.preload=t.Mm:this.ef.preload=gS.$R,void 0!==t.$N?this.ef.title=t.$N:lr(this.ef),n.next=12,Ur.awrap(this.tm(t.b_));case 12:this.MU.Zh(this,t);case 13:case"end":return n.stop()}},null,this,null,Ge)},i.VU=function(t){return!1},i.zU=function(t){return Ge.resolve(void 0)},i.Us=function(){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return lr(this.ef),n.next=3,Ur.awrap(t.prototype.Us.call(this));case 3:case"end":return n.stop()}},null,this,null,Ge)},n.ZU=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.Gv))},T(n,[{key:"Tm",get:function(){return TS.SC(this.ef.buffered)}},{key:"uy",get:function(){return this.ef.duration}},{key:"KU",get:function(){var t=this.uy;if(!isFinite(t))return!1;var n=this.Tm;return 0!==n.$g&&t-n.qD(n.$g-1)<1/6}},{key:"Mm",get:function(){return this.ef.preload},set:function(t){this.ef.preload=t}},{key:"Fm",get:function(){return TS.SC(this.ef.seekable)}},{key:"tj",get:function(){return this.Tm}},{key:"nj",get:function(){if(vr(this.ef)&&(this.ef.videoWidth>0||this.ef.videoHeight>0))return this.Tm}}]),n}(WN),qN=function(t){function n(n){var i;return(i=t.call(this,Bf.Vf)||this).currentTime=n,i}return E(n,t),n}(Iu),$N=function(t){function n(){return t.call(this,Bf.Lf)||this}return E(n,t),n}(Iu);!function(t){t.ij="ej"}(zN||(zN={}));var YN,QN,JN=[zN.ij];!function(t){t[t.rj=0]="rj",t[t.dl=1]="dl",t[t.sj=2]="sj"}(YN||(YN={})),function(t){t.uj="aj"}(QN||(QN={}));var ZN=function(t){function n(n){var i;return(i=t.call(this,QN.uj)||this).hj=n,i}return E(n,t),n}(Iu),KN=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).cj=TS.RC(),n}E(n,t);var i=n.prototype;return i.lj=function(t,n){var i=new TS([t,n]);this.cj=this.cj.cC(i),this.Ks(new ZN(i))},i.vj=function(t,n){this.cj=this.cj.lC(new TS([t,n]))},i.wc=function(){this.cj=TS.RC()},i.Kc=function(){this.ou()},T(n,[{key:"dj",get:function(){return this.cj}}]),n}(Su);function tD(t,n){return void 0===n&&(n=new Dd({highWaterMark:1/0})),new kd(new iD(t,n),{highWaterMark:0})}var nD,iD=function(){function t(t,n){var i=this,e=n.size,r=void 0===e?function(){return 1}:e,s=n.highWaterMark,u=void 0===s?1:s;this.Nl=void 0,this.wj=void 0,this.gj=void 0,this.Fl=[],this.Ul=0,this.lF=void 0,this._j=!1,this.yj=void 0,this.mj=function(t){return t.done?(i.pj(),void i.lF.close()):(i.Fl.push(t.value),i.Ul+=i.wj(t.value),i._j&&i.pj(),i.bj()?i.Nl.read().then(i.mj):void 0)},this.Ew=function(t){i.pj(),i.lF.error(t)},this.Nl=t.getReader(),this.wj=r,this.gj=u}var n=t.prototype;return n.start=function(t){this.lF=t,this.bj()&&this.Aj()},n.pull=function(){this.Fl.length>0?this.pj():this._j=!0,this.bj()&&this.Aj()},n.cancel=function(t){return Zs(this.Fl),this.Ul=0,this._j=!1,this.Nl.cancel(t)},n.pj=function(){if(0!==this.Fl.length){var t=this.Fl;this.Fl=[],this.Ul=0,this._j=!1,this.lF.enqueue(t)}},n.bj=function(){return!!this._j||this.gj-this.Ul>0},n.Aj=function(){var t=this;if(!this.yj){var n=this.Nl.read().then(this.mj).catch(this.Ew);this.yj=n;var i=function(){t.yj===n&&(t.yj=void 0)};n.then(i,i)}},t}(),eD=function(){function t(){this.Tj=[],this.Bu=0}var n=t.prototype;return n.cU=function(t){this.Tj.push(t),this.Bu+=t.byteLength},n.Sj=function(t){if(this.Bu<=t)return this.Ej();for(var n=this.Tj,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.slice(0,e);if(e<n.length&&i<t){var s=t-i;0,r.push(zo(n[e],0,s)),i+=s}return{Tj:r,Bu:i}},n.Ij=function(t){var n=this.Sj(t);return 1===n.Tj.length?n.Tj[0]:Qu(n.Tj,n.Bu)},n.Ej=function(){return{Tj:this.Tj,Bu:this.Bu}},n.Rj=function(t){if(this.Bu<=t)return this.Nj();for(var n=this.Tj,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.splice(0,e);if(n.length>0&&i<t){var s=t-i;0,r.push(zo(n[0],0,s)),n[0]=zo(n[0],s),i+=s}return this.Bu-=i,{Tj:r,Bu:i}},n.Dj=function(t){var n=this.Rj(t);return 1===n.Tj.length?n.Tj[0]:Qu(n.Tj,n.Bu)},n.Nj=function(){var t=this.Ej();return this.Tj=[],this.Bu=0,t},n.Cj=function(){var t=1===this.Tj.length?this.Tj[0]:Qu(this.Tj,this.Bu);return this.Tj=[],this.Bu=0,t},t}();!function(t){t[t.Pj=0]="Pj",t[t.Oj=1]="Oj",t[t.xj=2]="xj"}(nD||(nD={}));var rD=function(){var t=n.prototype;function n(){this.Fl=new eD,this.me=nD.Pj,this.Bj=0,this.Lj=0,this.Mj()}return t.Fj=function(t,n){},t.Uj=function(){},t.jj=function(t){this.Fl.cU(t),this.Hj(!1)},t.Xj=function(){this.Hj(!0)},t.Vj=function(){return this.me!==nD.Pj||0!==this.Fl.Bu},t.Hj=function(t){for(;0!==this.Fl.Bu;){if(!t&&this.Bj>this.Fl.Bu)return;switch(this.me){case nD.Pj:this.zj(t);break;case nD.Oj:this.Wj(t);break;case nD.xj:this.Gj(t)}}},t.Mj=function(){this.me=nD.Pj,this.Bj=8},t.zj=function(t){var n=Go(this.Fl.Ij(this.Bj)),i=new Ko,e=wk.MA(n,i);if(!e.PA)return this.Bj=e.UA,void(t&&this.Bj>this.Fl.Bu&&this.qj(this.Fl.Bu));var r=e.FA.gs,s=e.FA.Bu;0===s&&(s=1/0),this.Fj(r,s),this.$j(r)?this.Yj(s):this.qj(s)},t.Yj=function(t){this.me=nD.Oj,this.Bj=t},t.Wj=function(t){var n=Go(this.Fl.Dj(this.Bj)),i=new Ko,e=wk.OA(n,i,!t);if(!e.PA)throw new dk(i.Lu);this.Uj(),this.Qj(e.xA),this.Mj()},t.qj=function(t){this.me=nD.xj,this.Bj=0,this.Lj=t},t.Gj=function(t){var n=this.Fl.Rj(this.Lj);this.Lj-=n.Bu;for(var i=0,e=n.Tj;i<e.length;i++){var r=e[i];this.Jj(r)}(0===this.Lj||t&&this.Lj===1/0)&&(this.Uj(),this.Mj())},n}();function sD(t){return t instanceof nc}function uD(t){return t instanceof Kh}function oD(t){return t instanceof Qh||t instanceof Jh}function aD(t){return t instanceof kh}function hD(t){return t instanceof Ja}function cD(t){return t instanceof vc}function fD(t){return t instanceof oc}function lD(t,n){var i=Gs(t.boxes,fD);if(i&&i.flags.baseDataOffsetPresent)i.baseDataOffset=i.baseDataOffset.add(n);else for(var e=0,r=t.boxes;e<r.length;e++){var s=r[e];s instanceof hc&&s.flags.dataOffsetPresent&&(s.dataOffset=s.dataOffset+n)}}var vD=function(t){function n(n){var i;return(i=t.call(this)||this).lF=void 0,i.Zj=void 0,i.Kj=void 0,i.tH=Vr(),i.Zj=n,i}E(n,t);var i=n.prototype;return i.start=function(t){this.lF=t},i.transform=function(t){this.jj(t)},i.flush=function(){this.Xj()},i.$j=function(t){return t===Sp.Sb||t===Sp.Jb||t===Sp.oA},i.Qj=function(t){var n=this.nH(t);this.lF.enqueue(n)},i.Jj=function(t){this.lF.enqueue(t)},i.nH=function(t){var n=qo(t.Xi.Xi);switch(t.gs){case"moov":return this.iH(n);case"sidx":return this.eH(n);case"moof":return this.rH(n)}return n},i.sH=function(t){var n=this.tH.get(t);if(void 0===n)throw new l("Expected to have found a media header timescale for track ID "+t+".");return n},i.iH=function(t){for(var n=Cc(t),i=0;i<n.boxes.length;i++){var e=n.boxes[i];e instanceof Gh?n.boxes[i]=this.uH(e):e instanceof qh?n.boxes[i]=this.oH(e):e instanceof Kh&&this.aH(e)}for(var r=0,s=n.boxes;r<s.length;r++){var u=s[r];u instanceof Vh&&this.hH(u)}return n.serialize().join()},i.uH=function(t){this.Kj=t.timescale;var n=wD(lt.fromNumber(t.duration,!0),this.cH,this.Zj);return 0!==n.getHighBits()?this.oH(function(t){return new qh({creation:lt.fromNumber(t.creationTime,!0),modification:lt.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:lt.fromNumber(t.duration,!0)},t.nextTrackId,{rate:t.rate,volume:t.volume,matrix:t.matrix},t.flags)}(t)):(t.timescale=this.Zj,t.duration=n.toInt(),t)},i.oH=function(t){return this.Kj=t.timescale,t.timescale=this.Zj,t.duration=wD(t.duration,this.cH,this.Zj),t},i.aH=function(t){for(var n,i=0;i<t.boxes.length;i++){var e=t.boxes[i];e instanceof Qh?(n=e.trackId,t.boxes[i]=this.fH(e)):e instanceof Jh?(n=e.trackId,t.boxes[i]=this.lH(e)):e instanceof kh?this.vH(e,n):e instanceof ch&&this.dH(e)}},i.fH=function(t){var n=wD(lt.fromNumber(t.duration,!0),this.cH,this.Zj);return 0!==n.getHighBits()?this.lH(function(t){return new Jh({creation:lt.fromNumber(t.creationTime,!0),modification:lt.fromNumber(t.modificationTime,!0),duration:lt.fromNumber(t.duration,!0)},t.trackId,t.volume,t.width,t.height,{layer:t.layer,alternateGroup:t.alternateGroup,matrix:t.matrix})}(t)):(t.duration=n.toInt(),t)},i.lH=function(t){return t.duration=wD(t.duration,this.cH,this.Zj),t},i.vH=function(t,n){for(var i=0;i<t.boxes.length;i++){var e=t.boxes[i];e instanceof _h?t.boxes[i]=this.wH(e,n):e instanceof yh&&(t.boxes[i]=this.gH(e,n))}},i.wH=function(t,n){this.tH.set(n,t.timescale);var i=wD(lt.fromNumber(t.duration,!0),t.timescale,this.Zj);return 0!==i.getHighBits()?this.gH(function(t){return new yh({creation:lt.fromNumber(t.creationTime,!0),modification:lt.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:lt.fromNumber(t.duration,!0)},t.language,t.flags)}(t),n):(t.timescale=this.Zj,t.duration=i.toInt(),t)},i.gH=function(t,n){return this.tH.set(n,t.timescale),t.timescale=this.Zj,t.duration=wD(t.duration,t.timescale,this.Zj),t},i.dH=function(t){for(var n=0,i=t.boxes;n<i.length;n++){var e=i[n];e instanceof oh?this._H(e):e instanceof ah&&this.yH(e)}},i._H=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=dD(e.mediaTime,this.cH,this.Zj),e.segmentDuration=dD(e.segmentDuration,this.cH,this.Zj)}},i.yH=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=wD(e.mediaTime,this.cH,this.Zj),e.segmentDuration=wD(e.segmentDuration,this.cH,this.Zj)}},i.hH=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof Hh?this.mH(i):i instanceof Fh?t.boxes[n]=this.pH(i):i instanceof Uh&&(t.boxes[n]=this.kH(i))}},i.mH=function(t){var n=this.sH(t.trackId);t.defaultSampleDuration=dD(t.defaultSampleDuration,n,this.Zj)},i.pH=function(t){var n=wD(lt.fromNumber(t.fragmentDuration,!0),this.cH,this.Zj);return 0!==n.getHighBits()?this.kH(function(t){return new Uh(lt.fromNumber(t.fragmentDuration,!0),t.flags)}(t)):(t.fragmentDuration=n.toInt(),t)},i.kH=function(t){return t.fragmentDuration=wD(t.fragmentDuration,this.cH,this.Zj),t},i.eH=function(t){var n=Pc(t);return(n=n instanceof mc?this.bH(n):this.AH(n)).serialize().join()},i.bH=function(t){var n=t.timescale,i=wD(lt.fromNumber(t.earliestPresentationTime,!0),n,this.Zj);if(0!==i.getHighBits())return this.AH(function(t){return new pc(t.referenceId,t.timescale,lt.fromNumber(t.earliestPresentationTime,!0),lt.fromNumber(t.firstOffset,!0),t.references,t.flags)}(t));t.timescale=this.Zj,t.earliestPresentationTime=i.toInt();for(var e=0,r=t.references;e<r.length;e++){var s=r[e];s.subsegmentDuration=dD(s.subsegmentDuration,n,this.Zj)}return t},i.AH=function(t){var n=t.timescale;t.timescale=this.Zj,t.earliestPresentationTime=wD(t.earliestPresentationTime,n,this.Zj);for(var i=0,e=t.references;i<e.length;i++){var r=e[i];r.subsegmentDuration=dD(r.subsegmentDuration,n,this.Zj)}return t},i.rH=function(t){for(var n=Oc(t),i=n.getSize(),e=0,r=n.boxes;e<r.length;e++){var s=r[e];s instanceof fc&&this.TH(s)}var u=n.getSize();if(u!==i)for(var o=u-i,a=0,h=n.boxes;a<h.length;a++){var c=h[a];c instanceof fc&&lD(c,o)}return n.serialize().join()},i.TH=function(t){for(var n,i=0;i<t.boxes.length;i++){var e=t.boxes[i];e instanceof oc?(n=this.sH(e.trackId),this.SH(e,n)):e instanceof rc?t.boxes[i]=this.EH(e,n):e instanceof sc?t.boxes[i]=this.IH(e,n):e instanceof hc&&this.RH(e,n)}},i.SH=function(t,n){void 0!==t.defaultSampleDuration&&(t.defaultSampleDuration=dD(t.defaultSampleDuration,n,this.Zj))},i.EH=function(t,n){var i=wD(lt.fromNumber(t.baseMediaDecodeTime,!0),n,this.Zj);return 0!==i.getHighBits()?this.IH(function(t){return new sc(lt.fromNumber(t.baseMediaDecodeTime,!0),t.flags)}(t),n):(t.baseMediaDecodeTime=i.toInt(),t)},i.IH=function(t,n){return t.baseMediaDecodeTime=wD(t.baseMediaDecodeTime,n,this.Zj),t},i.RH=function(t,n){for(var i,e,r,s=0,u=0,o=0,a=t.samples;o<a.length;o++){var h=a[o];if(void 0!==h.duration){var c=dD(u+=h.duration,n,this.Zj);h.duration=c-s,s=c}void 0!==h.compositionTimeOffset&&(h.compositionTimeOffset=(i=h.compositionTimeOffset,e=n,r=this.Zj,lt.fromInt(i,!1).multiply(r).divide(e).toNumber()))}},T(n,[{key:"cH",get:function(){if(void 0===this.Kj)throw new l("Expected to have found a movie header timescale.");return this.Kj}}]),n}(rD);function dD(t,n,i){return lt.fromInt(t,!0).multiply(i).divide(n).toNumber()}function wD(t,n,i){return cp.Kp(t).Nk(cp.nk(i,!0)).Ok(cp.nk(n,!0)).gk()}var gD,_D,yD,mD=1e5,pD=function(){function t(t){this.NH=void 0,this.NH=new vD(t)}return t.prototype.DH=function(t){return t.pipeThrough(new Cd(this.NH))},t}();function kD(t,n,i){var e=vo(t,n);if(e!==i)throw new v("Expected descriptor with tag "+i+", but found "+e)}function bD(t,n){kD(t,n,gD.CH);var i,e,r,s=AD(t,n),u=n.Lu+s,o=po(t,n),a=vo(t,n),h=0!=(64&a),c=0!=(32&a),f=31&a;(0!=(128&a)&&(i=po(t,n)),h)&&(e=Eo(t,n,vo(t,n)));c&&(r=Eo(t,n,2));var l=function(t,n){kD(t,n,gD.PH);var i,e=AD(t,n),r=n.Lu+e,s=vo(t,n),u=vo(t,n),o=u>>2,a=0!=(2&u),h=mo(t,n,3),c=bo(t,n),f=bo(t,n);if(n.Lu<r){var l=function(t,n){return t.getUint8(n.Lu)}(t,n);l===gD.OH&&(i=function(t,n){kD(t,n,gD.OH);var i=AD(t,n),e=go(t,n,i);return{xH:gD.OH,BH:e}}(t,n))}return n.Uu(r),{xH:gD.PH,LH:s,MH:o,FH:a,UH:h,jH:c,HH:f,XH:i}}(t,n);return n.Uu(u),{xH:gD.CH,r_:o,VH:i,_d:e,zH:f,WH:r,GH:l}}function AD(t,n){for(var i=0,e=0;e<4;e++){var r=vo(t,n);if(i=i<<7|127&r,!(128&r))break}return i}function TD(t,n){for(var i=vo(t,n),e=vo(t,n),r=vo(t,n),s=vo(t,n),u=3&vo(t,n),o=31&vo(t,n),a=[],h=0;h<o;h++){var c=po(t,n);a.push(go(t,n,c))}for(var f=vo(t,n),l=[],v=0;v<f;v++){var d=po(t,n);l.push(go(t,n,d))}return{qH:i,$H:e,YH:r,QH:s,JH:u,ZH:a,KH:l}}function SD(t){var n=vk(pk.WA(t),Sp.Sb);if(n){for(var i=n.FA.Lk,e=[],r=0,s=n.uT;r<s.length;r++){for(var u=s[r],o=u.FA.mT,a=u.wT.FA.Lk,h=void 0,c=void 0,f=0,l=u.wT.IT.DT.PT.xT;f<l.length;f++){var v,d,w=ED(l[f]);if(w)h=null!=(v=w.tX)?v:h,c=null!=(d=w.nX)?d:c}e.push({mT:o,Lk:a,iX:{tX:h,nX:c,eX:void 0}})}return{Lk:i,uT:e}}}function ED(t){var n,i;if(t.gs===Sp.Fb)n=function(t){return"avc1."+ID(t.$H,2)+ID(t.YH,2)+ID(t.QH,2)}(TD(Go(t.uS.Xi),new Ko));else if(t.gs===Sp.jb||t.gs===Sp.Hb){var e=function(t,n){for(var i=n.Vu(),e=no(t,i,8),r=no(t,i,2),s=no(t,i,1),u=no(t,i,5),o=no(t,i,32),a=[],h=0;h<6;h++)a.push(no(t,i,8));var c=no(t,i,8);i.Mu(4);var f=no(t,i,12);i.Mu(6);var l=no(t,i,2);i.Mu(6);var v=no(t,i,2);i.Mu(5);var d=no(t,i,3);i.Mu(5);for(var w=no(t,i,3),g=no(t,i,16),_=no(t,i,2),y=no(t,i,3),m=no(t,i,1),p=no(t,i,2),k=no(t,i,8),b=[],A=0;A<k;A++){var T=no(t,i,1);i.Mu(1);for(var S=no(t,i,6),E=no(t,i,16),I=[],R=0;R<E;R++){var N=no(t,i,16),D=go(t,new Ko(i.Lu>>3),N);i.Mu(8*N),I.push({rX:N,sX:D})}b.push({uX:T,oX:S,aX:E,hX:I})}return{qH:e,cX:r,fX:s,lX:u,vX:a,dX:c,wX:f,gX:l,_X:o,yX:v,mX:d,pX:w,kX:g,bX:y,AX:m,TX:_,JH:p,SX:k,EX:b}}(Go(t.cS.Xi),new Ko);n=function(t,n){var i=t.toString()+".";switch(n.cX){case 0:break;case 1:i+="A";break;case 2:i+="B";break;case 3:i+="C";break;default:return}switch(i+=n.lX.toString()+".",i+=(e=n._X,r=e,r=(r=(r=(r=(r=r>>>1&1431655765|(1431655765&r)<<1)>>>2&858993459|(858993459&r)<<2)>>>4&252645135|(252645135&r)<<4)>>>8&16711935|(16711935&r)<<8)>>>16|r<<16).toString(16)+".",n.fX){case 0:i+="L";break;case 1:i+="H";break;default:return}var e,r;i+=n.dX.toString();for(var s=n.vX.reduce(function(t,n){return 0===t?n:n+1},0),u=0;u<s;u++)i+="."+n.vX[u].toString(16).toUpperCase();return i}(t.gs,e)}else{if(t.gs!==Sp.zb)return(t.gs===Sp.Qb||t.gs===Sp.Yb)&&t.vS?ED(t.vS):void 0;i=function(t){var n=t.GH;switch(n.LH){case _D.IX:return function(t){var n;if(null==(n=t.XH)||!n.BH)return"mp4a.40";return"mp4a.40."+function(t,n){var i=no(t,n,5);31===i&&(i=32+no(t,n,6));var e,r=no(t,n,4);return 15===r&&(e=no(t,n,24)),{RX:i,NX:r,DX:e,CX:no(t,n,4)}}(Go(t.XH.BH),new io).RX}(n);case _D.PX:return"mp4a.40.2";case _D.OX:return"mp4a.40.34"}}(bD(Go(t.tS.Xi),new Ko))}return{tX:n,nX:i,eX:void 0}}function ID(t,n){return Is(t.toString(16),n,"0")}function RD(t,n){var i=pk.WA(Go(t)),e=function(t,n){for(var i,e=0,r=t.uT;e<r.length;e++){var s,u=r[e],o=null==(s=u.OS)?void 0:s.OS;o&&function(){var t=u.FA.mT,e=Gs(n.uT,function(n){return n.mT===t}),r=mp.Kp(o,e.Lk);i&&!r.Vp(i)||(i=r)}()}return i}(vk(i,Sp.Jb),n),r=vk(i,Sp.rA);return{op:e.Lp(),xX:r.Xi}}function ND(t,n){var i;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.gs,e.next=e.t0===YN.rj?3:e.t0===YN.dl?4:e.t0===YN.sj?9:10;break;case 3:return e.abrupt("return",t);case 4:return e.next=6,Ur.awrap(qd(t.Xi,n));case 6:return i=e.sent,fu(n),e.abrupt("return",{gs:YN.rj,Xi:new p(i)});case 9:throw new l("MediaBufferWrapper - Cannot convert opaque SegmentData to ArraySegmentData.");case 10:case"end":return e.stop()}},null,null,null,Ge)}!function(t){t[t.CH=3]="CH",t[t.PH=4]="PH",t[t.OH=5]="OH"}(gD||(gD={})),function(t){t[t.IX=64]="IX",t[t.PX=103]="PX",t[t.OX=107]="OX"}(_D||(_D={})),function(t){t[t.BX=0]="BX",t[t.LX=1]="LX",t[t.PX=2]="PX",t[t.MX=5]="MX",t[t.FX=34]="FX"}(yD||(yD={}));var DD=20,CD=F.On,PD=function(t){function n(n,i,e,r,s){var u,o;if((o=t.call(this)||this).UX=void 0,o.jX=void 0,o.HX=void 0,o.XX=void 0,o.VX=void 0,o.CL=DD,o.PL=TR,o.zX=!1,o.WX=!1,o.GX=void 0,o.qX=new au,o.$X=void 0,o.YX=!1,o.QX=void 0,o.JX=!1,o.ZX=void 0,o.KX=function(){o.zX=!1},o.UX=i,o.jX=n,o.HX=e,o.HX.addEventListener("updateend",o.KX),o.XX=r,o.VX=s,o.JX=OD(r.Gv,s),null!=(u=i.cc)&&u.Ke){var a,h=null!=(a=i.cc.tV)?a:mD;o.$X=new pD(h)}return o}E(n,t);var i=n.prototype;return i.nV=function(t,n,i){var e=this;switch(t.gs){case YN.rj:case YN.dl:return this.iV(function(i){return e.eV(t,n,i)},i);case YN.sj:throw new l("Opaque segments are not supported on web.")}},i.rV=function(t,n){var i=this;switch(t.gs){case YN.rj:return this.iV(function(n){return i.sV(t,n)},n);case YN.dl:throw new l("Streaming initialization segments are not supported on web.");case YN.sj:throw new l("Opaque initialization segments are not supported on web.")}},i.sV=function(t,n){return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.JX){i.next=3;break}return this.ZX=SD(Go(t.Xi)),i.abrupt("return");case 3:return i.next=5,Ur.awrap(this.uV(t,void 0,n));case 5:CD&&(this.YX=!1,this.QX=t);case 6:case"end":return i.stop()}},null,this,null,Ge)},i.eV=function(t,n,i){var e,r,s;return Ur.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(CD&&this.YX&&this.QX)){u.next=3;break}return u.next=3,Ur.awrap(this.sV(this.QX,i));case 3:if(u.prev=3,fu(i),!this.JX||!this.ZX){u.next=12;break}return u.next=8,Ur.awrap(ND(t,i));case 8:r=u.sent,s=RD(r.Xi,this.ZX),t={gs:YN.rj,Xi:s.xX},n=jr({},n,{mb:s.op+(null!=(e=n.mb)?e:0)});case 12:return u.next=14,Ur.awrap(this.uV(t,n,i));case 14:this.Ks(new Iu(zN.ij));case 15:return u.prev=15,t.gs===YN.dl&&t.Xi.cancel(new hu).catch(Z),u.finish(15);case 18:case"end":return u.stop()}},null,this,[[3,,15,18]],Ge)},i.uV=function(t,n,i){var e,r;return Ur.async(function(s){for(;;)switch(s.prev=s.next){case 0:fu(i),n&&this.oV(n),s.t0=t.gs,s.next=s.t0===YN.rj?5:s.t0===YN.dl?13:21;break;case 5:if(!this.$X){s.next=10;break}return e=this.$X.DH(Wd(t.Xi)),s.next=9,Ur.awrap(this.aV(e,i));case 9:return s.abrupt("return",s.sent);case 10:return s.next=12,Ur.awrap(this.hV(t.Xi));case 12:return s.abrupt("return",s.sent);case 13:if(!this.$X){s.next=18;break}return r=this.$X.DH(t.Xi),s.next=17,Ur.awrap(this.aV(r,i));case 17:return s.abrupt("return",s.sent);case 18:return s.next=20,Ur.awrap(this.aV(t.Xi,i));case 20:return s.abrupt("return",s.sent);case 21:case"end":return s.stop()}},null,this,null,Ge)},i.aV=function(t,n){var i,e,r,s,u,o,a,h;return Ur.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=this.jX.Tm,e=tD(t),r=e.getReader(),s=!1,c.prev=4;case 5:return c.next=8,Ur.awrap(du(r.read(),n));case 8:if(!(u=c.sent).done){c.next=12;break}return s=!1,c.abrupt("break",19);case 12:return fu(n),o=Yu(u.value),s=!0,c.next=17,Ur.awrap(this.hV(o));case 17:c.next=5;break;case 19:c.next=36;break;case 21:if(c.prev=21,c.t0=c.catch(4),r.cancel(c.t0).catch(Z),!s){c.next=35;break}return c.next=27,Ur.awrap(this.cV());case 27:a=this.jX.Tm.rC(i.sC()),h=0;case 29:if(!(h<a.$g)){c.next=35;break}return c.next=32,Ur.awrap(this.fV(a.WD(h),a.qD(h)));case 32:h++,c.next=29;break;case 35:throw c.t0;case 36:case"end":return c.stop()}},null,this,[[4,21]],Ge)},i.lV=function(t,n){var i=this;return this.iV(function(){return i.vV(t,n)})},i.vV=function(t,n){return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.HX.appendWindowStart===t&&this.HX.appendWindowEnd===n){i.next=6;break}return i.next=3,Ur.awrap(this.cV());case 3:this.HX.appendWindowStart=0,this.HX.appendWindowEnd=n,this.HX.appendWindowStart=t;case 6:case"end":return i.stop()}},null,this,null,Ge)},i.oV=function(t){this.HX.timestampOffset!==t.mb&&(this.HX.timestampOffset=t.mb)},i.hV=function(t){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.HX.appendBuffer(t),this.WX=!0,n.next=4,Ur.awrap(this.dV());case 4:case"end":return n.stop()}},null,this,null,Ge)},i.wV=function(t,n,i){var e=this;return this.iV(function(i){return e.fV(t,n,i)},i)},i.fV=function(t,n,i){return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:return fu(i),this.HX.remove(t,n),e.next=4,Ur.awrap(this.dV());case 4:case"end":return e.stop()}},null,this,null,Ge)},i.dV=function(){var t=this,n=this.jX.Tm;return new Ge(function(i,e){var r,s=!1,u=function(){s=!0},o=function(){s=!1,r="error"},a=function(){s=!1,r="aborted"},h=function(){c(),s&&!r?(n.yC(t.jX.Tm)||t.Ks(new Iu(zN.ij)),i()):e(new l(r))},c=function(){t.HX.removeEventListener("update",u),t.HX.removeEventListener("error",o),t.HX.removeEventListener("abort",a),t.HX.removeEventListener("updateend",h)};t.HX.addEventListener("update",u),t.HX.addEventListener("error",o),t.HX.addEventListener("abort",a),t.HX.addEventListener("updateend",h)})},i.gV=function(){var t=this;return this.iV(function(){return t.cV()})},i.cV=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.UX.m_===KD.Qd){t.next=2;break}return t.abrupt("return");case 2:CD&&(this.YX=!0),this.HX.updating&&(this.zX=!0);try{this.HX.abort()}catch(t){0,this.zX=!1}if(!this.DB){t.next=8;break}return t.next=8,Ur.awrap(this.dV().catch(Z));case 8:case"end":return t.stop()}},null,this,null,Ge)},i._V=function(){return"function"==typeof this.HX.changeType},i.zU=function(t){var n;this.yV(),this.UX.m_!==KD.mV&&(this.XX=t,this.VX=null!=(n=eC(t.Gv))?n:t.Gv,this.JX=OD(t.Gv,this.VX),this._V()&&this.HX.changeType(this.VX))},i.pV=function(){this.UX.m_!==KD.Of||this.GX||this.DB||(this.HX.timestampOffset=this.HX.timestampOffset,this.UX.kV())},i.iV=function(t,n){var i;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.yV(),(i=new au).Gs(this.qX.$s),n&&i.Gs(n),e.prev=4,this.GX=t(i.$s),e.next=8,Ur.awrap(this.GX);case 8:if(this.UX.kV(),!this.DB){e.next=12;break}return e.next=12,Ur.awrap(this.dV());case 12:return e.prev=12,this.GX=void 0,i.Us(),e.finish(12);case 16:case"end":return e.stop()}},null,this,[[4,,12,16]],Ge)},i.yV=function(){if(this.GX)throw new l("Internal error")},i.Us=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.ou(),this.qX.Ws(),!this.GX){t.next=6;break}return t.next=5,Ur.awrap(this.GX.catch(Z));case 5:this.GX=void 0;case 6:this.HX.removeEventListener("updateend",this.KX);case 7:case"end":return t.stop()}},null,this,null,Ge)},T(n,[{key:"AL",get:function(){return this.CL},set:function(t){this.CL=t}},{key:"IL",get:function(){return this.PL},set:function(t){this.PL=t}},{key:"DB",get:function(){return this.zX||this.HX.updating}}]),n}(Su);function OD(t,n){return As(t,"audio/mp4")&&As(n,"audio/mpeg")}var xD=function(){function t(t,n){this.bV=void 0,this.HX=void 0,this.AV=void 0,this.bV=n,this.HX=t}var n=t.prototype;return n.KU=function(){return!!this.AV&&this.Tm.KD().uD(this.AV)},n.TV=function(){var t=this.Tm;this.AV=t.$g>0?t.qD(t.$g-1):0,this.bV.SV()},n.pV=function(){this.AV=void 0},T(t,[{key:"Tm",get:function(){if(this.bV.m_===KD.mV)return TS.RC();var t=TS.SC(this.HX.buffered).rC(new TS([0,1/0])),n=this.AV;return void 0!==n&&t.$g>0&&t.qD(t.$g-1)===n&&(t=t.cC(TS.IC(n))),t}}]),t}();function BD(t){var n=t.kc("codecs");return n?n.split(",").map(function(t){return t.trim()}):[]}function LD(t,n){var i=MD(t)||FD(t),e=MD(n)||FD(n);return!i&&!e||t===n}function MD(t){return/^(ac-3|dac3|ec-3|dec3|ec\+3|ac-4|dac4)/.test(t)}function FD(t){return/^(dvav|dva1|dvhe|dvh1)/.test(t)}function UD(t,n){if(t===n)return!0;var i=t.split("."),e=n.split("."),r=i[0];if(r!==e[0])return!1;if("mp4a"===r){var s=i[1],u=i[2],o=e[1],a=e[2];if(s!==o)return!1;if(Number(u)!==Number(a))return!1}return!0}function jD(t,n,i,e,r,s,u){var o=new xD(r,t),a=new PD(o,t,r,i,s);return new HD(t,n,i,e,o,a,u)}var HD=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this)||this).UX=void 0,a.Mc=void 0,a.EV=void 0,a.dN=void 0,a.xc=void 0,a.RV=void 0,a.jX=void 0,a.NV=void 0,a.DV=Xr(),a.UX=n,a.Mc=e,a.xc=e.Gv,a.EV=r,a.dN=i,a.jX=s,a.NV=u,a.RV=o,a.NV.tu(zN.ij,a.Zs),a}E(n,t);var i=n.prototype;return i.KU=function(){return this.jX.KU()},i.TV=function(){this.jX.TV()},i.pV=function(){this.jX.pV(),this.NV.pV()},i.CV=function(t,n){this.RV.lj(t,n)},i.PV=function(t,n){this.RV.vj(t,n)},i.OV=function(){return this.NV.gV()},i.nV=function(t,n,i){return this.NV.nV(t,n,i)},i.rV=function(t,n,i){return this.NV.rV(t,i)},i.lV=function(t,n){return F.Tn&&F.Sn<3?this.NV.lV(t,1/0):this.NV.lV(t,n)},i.Kh=function(t,n,i){var e,r;return Ur.async(function(s){for(;;)switch(s.prev=s.next){case 0:return this.PV(t,n),e=this.Tm,s.next=4,Ur.awrap(this.NV.wV(t,n,i));case 4:r=0!==e.$g&&0===this.Tm.$g,(F.Mn||F.En)&&r&&this.dN.Uu(this.dN.sy);case 6:case"end":return s.stop()}},null,this,null,Ge)},i.VU=function(t){var n=t.Gv;if(this.xc===n)return!0;var i=this.DV.get(n);if(void 0!==i)return i;var e=this.xV(t);return this.DV.set(n,e),e},i.xV=function(t){var n=eC(t.Gv);if(void 0===n)return!1;var i=Vc(this.xc),e=Vc(n),r=BD(i),s=BD(e);if(this.NV._V()){if(!function(t,n){return uu(t,n,LD)}(r,s))return!1}else{if(i.gs!==e.gs)return!1;if(!function(t,n){return uu(t,n,UD)}(r,s))return!1}return!0},i.zU=function(t){var n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:n=t.Gv,this.xc!==n&&(this.DV.clear(),this.NV.zU(t),this.xc=n),this.Mc=t,this.UX.BV();case 4:case"end":return i.stop()}},null,this,null,Ge)},i.Us=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.DV.clear(),this.ou(),this.RV.Kc(),t.prev=3,this.NV.au(zN.ij,this.Zs),t.next=7,Ur.awrap(this.NV.Us());case 7:t.next=11;break;case 9:t.prev=9,t.t0=t.catch(3);case 11:case"end":return t.stop()}},null,this,[[3,9]],Ge)},T(n,[{key:"Tm",get:function(){return this.jX.Tm}},{key:"cc",get:function(){return this.Mc}},{key:"Gv",get:function(){return this.xc}},{key:"LV",get:function(){return this.EV}},{key:"MV",get:function(){return this.RV.dj}},{key:"AL",get:function(){return this.NV.AL},set:function(t){this.NV.AL=t}},{key:"IL",get:function(){return this.NV.IL},set:function(t){this.NV.IL=t}},{key:"DB",get:function(){return this.NV.DB}}]),n}(Su),XD=function(){function t(t,n,i,e){void 0===i&&(i=!1),void 0===e&&(e=!1),this.FV=void 0,this.WD=t,this.qD=n,this.UV=i,this.jV=e,this.FV=bI()}return t.prototype.HV=function(){var t=this.WD,n=this.qD;if(this.UV||this.jV){var i=.001*(bI()-this.FV);this.UV&&(t+=i),this.jV&&(n+=i)}return t>=n?TS.RC():new TS([t,n])},t}(),VD=100,zD=3500,WD=1e3,GD=2e3,qD=1e4,$D=.01,YD=1,QD=[Bf.Xf,Bf.Hf,Bf.$f,Bf.qf,Bf.Of,Bf.zf,Sy.Og,H_.d_],JD=function(){function t(t,n,e){var r=this;this.jE=uy.z_,this.XV=!1,this.VV=[],this.zV=void 0,this.WV=void 0,this.GV=0,this.qV=0,this.$V=0,this.YV=0,this.QV=1,this.JV=void 0,this.ZV=void 0,this.KV=function(t){var n=r.dN.sy;t.hj.uD(n)&&r.tz(n)},this.nz=tt(function(){r.iz(Sy.Og)},VD),this.ez=tt(function(){r.iz(Bf.Vf)},VD),this.rz=tt(function(){r.iz(Bf.ol)},VD),this.sz=function(){r.oz()?0===r.YV&&(r.dN.tu(Bf.ol,r.rz),r.WV=i.Yn(function(){r.cz()},zD)):r.fz()},this.lz=function(){var t=r.GV,n=r.$V,e=r.dN.sy,s=i.wr(),u=r.jX.Tm;if(t!==e)return r.GV=e,r.$V=s,r.QV=1,void(r.JV=i.Qw?GD:WD);if(r.oz()&&0!==u.$g&&n>0&&s>n+r.JV){var o,a,h=r.dj.KD().lC(u),c=h.kC(e);if(-1!==c){var f=h.WD(c);if(f-e<YD){var l=h.qD(c);0,o=l}}if(!o)(o=null==(a=r.ZV)?void 0:a.determineStallJumpTarget())||(o=e+r.QV*$D,u.uD(o)||(o=r.vz(e,u)));0,r.GV=o,r.QV++,r.JV=g.min(2*r.JV,qD),r.dN.Uu(o)}},this.jX=t,this.dN=n,this.dN.tu(Sy.Og,this.nz),this.dN.tu(Bf.Vf,this.ez),this.dN.tu(QD,this.sz),this.ZV=e,this.JV=i.Qw?GD:WD}var n=t.prototype;return n.wz=function(t){this.VV.push(t),t.tu(QN.uj,this.KV)},n.Kc=function(){var t=this;this.fz(),this.jE=uy.z_,this.dN.au(Sy.Og,this.nz),this.dN.au(Bf.Vf,this.ez),this.dN.au(QD,this.sz),this.VV.forEach(function(n){return n.au(QN.uj,t.KV)}),void 0!==this.zV&&(i.$n(this.zV),this.zV=void 0),this.XV=!0},n.iz=function(t){if(!this.XV)if(t!==Bf.ol||0!==this.YV){var n=this.dN.m_;if(n<=uy.G_){var i=this.dN.sy;this.tz(i)||this.lz()}t===Sy.Og&&(this.jE=n)}else this.cz()},n.tz=function(t){var n=this;if(this.dN.oy)return!1;var e=this.jX.Tm,r=-1,s=e.vC(t);if(-1!==s){if(e.qD(s)<=t+.5&&e.$g>s+1){var u=e.WD(s+1);u<=t+1&&(r=u)}}else{var o=this.dj.KD().lC(this.jX.Tm),a=o.vC(t);-1!==a&&(r=o.qD(a))}if(-1!==r&&(!(g.abs(r-t)<=.001)||i.Yw)){if(i.Yw){if(void 0!==this.zV)return!1;this.qV=this.dN.sy,this.zV=i.Yn(function(){n.qV===n.dN.sy&&n.dN.Uu(r),n.zV=void 0},250)}else this.dN.Uu(r);return!0}return!1},n.gz=function(){this.WV&&(i.$n(this.WV),this.WV=void 0),this.dN.au(Bf.ol,this.rz)},n.cz=function(){0===this.YV&&(this.gz(),this.YV=i.Ir(this.lz,250))},n.fz=function(){0!==this.YV&&(i.Rr(this.YV),this.YV=0),this.gz(),this.dN._y||(this.$V=0)},n.oz=function(){return!this.dN.wy&&!this.dN._y&&0!==this.dN.gy&&!this.dN.oy&&!this.dN.Au&&(this._z()||this.dN.m_>=uy.q_)},n._z=function(){var t=this.dN.sy,n=this.jX.Tm,i=n.vC(t);return-1!==i&&n.qD(i)>t+.5},n.vz=function(t,n){var i=n.vC(t);return i>-1?n.qD(i):t},T(t,[{key:"dj",get:function(){return this.VV.reduce(function(t,n){return t.cC(n.dj)},TS.RC())}}]),t}();function ZD(t){var n=[];if(t.yz&&n.push(t.yz.Tm),t.mz&&n.push(t.mz.Tm),0===n.length)return TS.RC();for(var i=0,e=0;e<n.length;e++){var r=n[e];r.$g>0&&(i=g.max(i,r.qD(r.$g-1)))}for(var s=t.KU,u=new TS([0,i],[!0,s]),o=0;o<n.length;o++){var a=n[o];s&&a.$g>0&&(a=a.cC(new TS([a.qD(a.$g-1),i],[!0,!0]))),u=u.rC(a)}return u}var KD,tC=F.In||F.Rn;!function(t){t.mV="closed",t.Qd="open",t.Of="ended"}(KD||(KD={}));var nC=function(){function t(){}return t.prototype.pz=function(){return new MediaSource},t}(),iC=function(t){function n(n,i,e,r,s,u){var o;return void 0===s&&(s=new nC),(o=t.call(this,n,i,e,r)||this).kz=void 0,o.bz=void 0,o.Az=void 0,o.Tz=void 0,o.Sz=void 0,o.Ez=new XD(0,1/0),o.wN=void 0,o.Iz=void 0,o.Rz=void 0,o.Nz=!1,o.Dz=function(){o.Cz()},o.Pz=function(){o.dN.Pz()},o.kz=s,o.wN=o.kz.pz(),o.dN.tu(Bf.$f,o.Dz),o.Rz=new JD(Kt(o),o.dN,u),o}E(n,t);var i=n.prototype;return i.Oz=function(t){if(m(t)||t<0)throw new l("Invalid duration");this.xz()?this.Bz(t):this.Iz=t},i.Bz=function(t){var n=t===1/0,i=n?Lt:t;if(n&&this.wN.setLiveSeekableRange){var e=g.pow(2,39);this.wN.setLiveSeekableRange(0,e)}this.wN.duration=i,this.Iz=void 0},i.Lz=function(t,n,i,e){this.Ez=new XD(t,n,!!i,!!e)},i.LL=function(){var t,n,i,e,r,s,u,o,a;return Ur.async(function(h){for(;;)switch(h.prev=h.next){case 0:return t=this.Mc,n=Gs(t.Mz,function(t){return As(t.Gv,"audio")}),i=Gs(t.Mz,function(t){return As(t.Gv,"video")}),h.next=5,Ur.awrap(this.Fz());case 5:n&&(r=new KN,this.Rz.wz(r),s=null!=(e=eC(n.Gv))?e:n.Gv,this.Az=this.wN.addSourceBuffer(s),this.bz=jD(this,this.dN,n,ym.Od,this.Az,s,r),this.bz.tu(zN.ij,this.Pz)),i&&(o=new KN,this.Rz.wz(o),a=null!=(u=eC(i.Gv))?u:i.Gv,this.Sz=this.wN.addSourceBuffer(a),this.Tz=jD(this,this.dN,i,ym.xd,this.Sz,a,o),this.Tz.tu(zN.ij,this.Pz)),this.MU.Zh(this,t);case 8:case"end":return h.stop()}},null,this,null,Ge)},i.Fz=function(){var n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=URL.createObjectURL(this.wN),i.next=3,Ur.awrap(t.prototype.$U.call(this,n));case 3:if(this.m_===KD.Qd){i.next=6;break}return i.next=6,Ur.awrap(e_(this.wN,"sourceopen"));case 6:case"end":return i.stop()}},null,this,null,Ge)},i.xz=function(){if(this.m_!==KD.Qd)return!1;var t=this.bz&&this.bz.DB,n=this.Tz&&this.Tz.DB;return!(t||n)},i.TV=function(){this.Nz=!0,this.bz&&this.bz.TV(),this.Tz&&this.Tz.TV(),this.Nz=!1,this.Cz()},i.pV=function(){this.bz&&this.bz.pV(),this.Tz&&this.Tz.pV()},i.VU=function(n){var i=Gs(n.Mz,function(t){return As(t.Gv,"audio")}),e=Gs(n.Mz,function(t){return As(t.Gv,"video")});if(this.bz){if(!i)return!1;if(!this.bz.VU(i))return!1}else if(i)return!1;if(this.Tz){if(!e)return!1;if(!this.Tz.VU(e))return!1}else if(e)return!1;return!!t.prototype.VU.call(this,n)},i.zU=function(n){var i,e,r;return Ur.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=Gs(n.Mz,function(t){return As(t.Gv,"audio")}),e=Gs(n.Mz,function(t){return As(t.Gv,"video")}),r=[],this.bz&&r.push(this.bz.zU(i)),this.Tz&&r.push(this.Tz.zU(e)),s.next=7,Ur.awrap(Ge.all(r));case 7:return s.next=9,Ur.awrap(t.prototype.zU.call(this,n));case 9:case"end":return s.stop()}},null,this,null,Ge)},i.Us=function(){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!F.En){n.next=3;break}return n.next=3,Ur.awrap(this.JU());case 3:if(!this.bz){n.next=9;break}return n.next=6,Ur.awrap(this.bz.Us());case 6:if(this.bz=void 0,Bs()&&(F.En||F.Tn))try{this.wN.removeSourceBuffer(this.Az)}catch(t){}this.Az=void 0;case 9:if(!this.Tz){n.next=15;break}return n.next=12,Ur.awrap(this.Tz.Us());case 12:if(this.Tz=void 0,Bs()&&(F.En||F.Tn))try{this.wN.removeSourceBuffer(this.Sz)}catch(t){}this.Sz=void 0;case 15:if(this.ef.src&&URL.revokeObjectURL(this.ef.src),this.dN.au(Bf.$f,this.Dz),this.Rz.Kc(),!F.Tn){n.next=21;break}return n.next=21,Ur.awrap(this.JU());case 21:return n.next=23,Ur.awrap(t.prototype.Us.call(this));case 23:case"end":return n.stop()}},null,this,null,Ge)},i.BV=function(){var t=this,n=this.Mc,i=n.Mz.map(function(n){return As(n.Gv,"audio")&&t.bz?t.bz.cc:As(n.Gv,"video")&&t.Tz?t.Tz.cc:n});this.Mc=jr({},n,{Mz:i})},i.SV=function(){this.Nz||this.Cz()},i.Cz=function(){this.Uz&&this.xz()&&(this.wN.endOfStream(),this.Iz=void 0,this.Ks(new Iu(LN.uO)),this.dN.Pz())},i.kV=function(){this.xz()&&(this.KU?this.Cz():void 0!==this.Iz&&this.Bz(this.Iz))},i.tz=function(t){return this.Rz.tz(t)},n.ZU=function(t){if("undefined"==typeof MediaSource)return!1;if("function"!=typeof MediaSource.isTypeSupported)return!1;for(var n=0,i=t.Mz;n<i.length;n++){if(void 0===eC(i[n].Gv))return!1}return!0},T(n,[{key:"yz",get:function(){return this.bz}},{key:"mz",get:function(){return this.Tz}},{key:"uy",get:function(){if(this.Iz)return this.Iz;var t=this.wN.duration;return t===Lt?1/0:t}},{key:"Tm",get:function(){return tC?ZD(this):(t=this,n=TS.SC(this.ef.buffered),(i=n).$g>0&&t.KU&&(i=i.cC(TS.IC(i.qD(i.$g-1)))),i);var t,n,i}},{key:"tj",get:function(){var t;return null==(t=this.bz)?void 0:t.Tm}},{key:"nj",get:function(){var t;return null==(t=this.Tz)?void 0:t.Tm}},{key:"Fm",get:function(){return this.Ez.HV().rC(new TS([0,this.uy],[!0,!0]))}},{key:"KU",get:function(){return(!this.bz||this.bz.KU())&&(!this.Tz||this.Tz.KU())}},{key:"m_",get:function(){return this.wN.readyState}},{key:"Uz",get:function(){if(!this.KU)return!1;var t=this.Tm;return 0!==t.$g&&t.WD(t.$g-1)<=this.dN.sy}}]),n}(WN);function eC(t){var n=Vc(t),i="audio/mp4"===n.gs&&function(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(BD(n),["mp4a.40.34"]);if(MediaSource.isTypeSupported(t)&&(!i||!F.On))return t;if(i){var e=Gs(['audio/mp4; codecs="mp3"',"audio/mpeg"],function(t){return MediaSource.isTypeSupported(t)});return void 0!==e?e:void 0}}var rC=[Bf.al,Bf.zf,Bf.$f,Bf.Xf,Bf.Hf],sC=function(t){function n(n,i,e,r,s,u,o,a,h){var c;return(c=t.call(this)||this).BC=n,c.ya=i,c.jz=e,c.MC=r,c.UC=s,c.LC=u,c.FC=o,c.Oa=a,c.Hz=h,c}E(n,t);var i=n.prototype;return i.Jy=function(){this.MC||(this.MC=!0,this.Ks(new Iy(this.sy)))},i.Qy=function(){this.MC&&(this.MC=!1,this.Ks(new Ry(this.sy)))},i.Us=function(){this.ou()},T(n,[{key:"sy",get:function(){return this.BC},set:function(t){this.sy!==t&&(this.BC=t,this.UC=!0,this.Ks(new My(this.sy)))}},{key:"uy",get:function(){return this.ya}},{key:"oy",get:function(){return this.jz}},{key:"wy",get:function(){return this.MC}},{key:"m_",get:function(){return this.Hz}},{key:"_y",get:function(){return this.UC}},{key:"vy",get:function(){return this.LC},set:function(t){this.vy!==t&&(this.LC=t,this.Ks(new Uy(this.sy,this.by)))}},{key:"gy",get:function(){return this.FC},set:function(t){this.gy!==t&&(this.FC=t,this.Ks(new Oy(this.sy,this.gy)))}},{key:"by",get:function(){return this.Oa},set:function(t){this.by!==t&&(this.Oa=t,this.Ks(new Uy(this.sy,this.by)))}}]),n}(Su);var uC=function(t){function n(n){var i;return(i=t.call(this)||this).dN=void 0,i.jE=uy.z_,i.Xz=function(){i.Vz()},i.dN=n,i}E(n,t);var i=n.prototype;return i.zz=function(t){this.jE!==t&&(this.jE=t,this.Ks(new Xy(this.dN.sy,t)))},i.Vz=function(){this.zz(this.dM())},i.wc=function(){this.zz(uy.z_)},i.Us=function(){this.ou()},T(n,[{key:"m_",get:function(){return this.dM()}}]),n}(Su),oC=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],aC=function(t){function n(n){var i;i=t.call(this,n)||this;for(var e=0;e<oC.length;e++){var r=oC[e];i.dN.HN.addEventListener(r,i.Xz)}return i}E(n,t);var i=n.prototype;return i.dM=function(){var t=this.dN.HN.readyState;return t>uy.G_&&this.dN.Wz?uy.G_:(this.dN.HN.seeking&&t>uy.W_&&(t=uy.W_),t)},i.Us=function(){for(var n=0;n<oC.length;n++){var i=oC[n];this.dN.HN.removeEventListener(i,this.Xz)}t.prototype.Us.call(this)},n}(uC),hC=function(t){function n(n){var i;(i=t.call(this,n)||this).dN.tu(Bf.$f,i.Xz);for(var e=0;e<oC.length;e++){var r=oC[e];i.dN.HN.addEventListener(r,i.Xz)}return i}E(n,t);var i=n.prototype;return i.dM=function(){if(this.dN.HN.readyState===uy.z_)return uy.z_;var t=this.Gz(),n=t?t.qD-t.WD:0;if(!t)return uy.W_;var i=this.dN.gy;return this.qz()||n>=3*i?uy.Y_:n>=3?uy.q_:uy.G_},i.Gz=function(){var t=this.dN.sy,n=this.dN.Tm.hC(.04),i=n.vC(t);if(!(i<0))return{WD:t,qD:n.qD(i)}},i.qz=function(){if(this.dN.oy)return!0;var t=this.dN.uy,n=this.Gz();return!!n&&t-n.qD<=1/6},i.Us=function(){this.dN.au(Bf.$f,this.Xz);for(var n=0;n<oC.length;n++){var i=oC[n];this.dN.HN.removeEventListener(i,this.Xz)}t.prototype.Us.call(this)},n}(uC),cC=[Sy.Og,Bf.Xf,Bf.Hf,Bf.$f,Bf.qf,Bf.Of,H_.d_],fC=function(t){function n(n){var i;return(i=t.call(this,n)||this).ef=void 0,i.$z=!1,i.KE=function(){i.$z=!0,i.tc()},i.ef=n.HN,i.ef.addEventListener(Sy.ey,i.KE),i}E(n,t);var i=n.prototype;return i.Yz=function(){return this.$z&&t.prototype.Yz.call(this)},i.tc=function(){this.$z&&(this.ef.paused||this.ef.ended||this.ef.error)&&(this.$z=!1),t.prototype.tc.call(this)},i.wc=function(){t.prototype.wc.call(this),this.$z=!1},i.Us=function(){this.ef.removeEventListener(Sy.ey,this.KE),t.prototype.Us.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).WE=void 0,i.Qz=!1,i.CB=function(){i.tc()},i.WE=n,i.WE.tu(cC,i.CB),i}E(n,t);var i=n.prototype;return i.Jz=function(){return this.WE.m_<uy.q_},i.Yz=function(){return!this.WE._y&&!(this.WE.wy||this.WE.oy||this.WE.Au||this.Jz())},i.tc=function(){var t=this.Qz;this.Qz=this.Yz(),!t&&this.Qz&&this.Ks(new Cb(this.WE.sy))},i.wc=function(){this.Qz=!1},i.Us=function(){this.ou(),this.WE.au(cC,this.CB)},n}(Su)),lC=function(t){function n(n){var i;return(i=t.call(this,H_.d_)||this).Au=void 0,i.Au=n,i}return E(n,t),n}(Iu);function vC(t,n){return t.op<=n&&t.ap>n}function dC(t,n){return function(t,n){return zs(t.op,n.op,Jm)}(t,n)||function(t,n){return zs(t.ap,n.ap,Jm)}(t,n)}function wC(t,n){var i=function(t,n,i,e,r,s,u){void 0===r&&(r=!1),void 0===s&&(s=0),void 0===u&&(u=t.length);for(var o=s,a=u-1;o<=a;){var h=o+(a-o>>1),c=e(i(t[h]),n);if(c<0)o=h+1;else if(c>0)a=h-1;else{if(!(r&&h>s&&0===e(i(t[h-1]),n)))return h;a=h-1}}return~o}(t,n,K,dC,!0);if(i<0)return i;for(;i<t.length&&dC(n,t[i])===Ls.Cs;i++)if(t[i].Sp(n))return i;return-(i+1)}function gC(t){var n=t._g;if(!n)return-1;if(t instanceof Km)return n.Zz(t);var i=n.p_;if(!i)return-1;var e=wC(i.qg,t);return e>=0?e:-1}function _C(t,n){var i=function(t,n,i){for(var e=t.length,r=n.length,s=0,u=0,o=[],a=[];s<e&&u<r;){var h=t[s],c=n[u];h===c?(s++,u++):i(c,h)<=0?(o.push(c),u++):(a.push(h),s++)}for(;s<e;)a.push(t[s]),s++;for(;u<r;)o.push(n[u]),u++;return{Kz:o,tW:a}}(t,n,dC);return function(t,n){for(var i=n.length,e=0;e<i;e++)t[e]=n[e];t.length=i}(t,n),i}var yC=function(){function t(t){this.nW=void 0,this.dg=void 0,this.nW=t}var n=t.prototype;return n.gg=function(){return function(t){for(var n=[],i=0;i<t.$g;i++)n[i]=t.Cu(i).wg;return n.item=function(n){var i=0|n,e=t.Cu(i);return e&&e.wg||void 0},w.defineProperty(n,"constructor",{value:qm}),n}(this)},n.Vm=function(t){for(var n=this.nW,i=n.length-1;i>=0;i-=1){var e=n[i];if(t.Sp(e))return!0}return!1},n.Cu=function(t){return this.nW[t]},T(t,[{key:"qg",get:function(){return this.nW}},{key:"$g",get:function(){return this.nW.length}},{key:"wg",get:function(){if(this.dg){var t=this.nW;this.dg.length=t.length;for(var n=0;n<t.length;n++)this.dg[n]=t[n].wg}else this.dg=this.gg();return this.dg}}]),t}(),mC=function(t){function n(n,i){var e;return(e=t.call(this,h_.Og)||this)._g=n,e.m_=i,e}return E(n,t),n.prototype.gg=function(){return new pC(this._g.wg,$_(this.m_))},n}(c_),pC=function(t){function n(n,i){var e;return(e=t.call(this,"readystatechange")||this).track=n,e.readyState=i,e}return E(n,t),n}(f_),kC=function(t){function n(n){var i;return(i=t.call(this,h_.Bg)||this)._g=n,i}return E(n,t),n.prototype.gg=function(){return new bC(this._g.wg)},n}(c_),bC=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return E(n,t),n}(f_),AC=function(t){function n(n){var i;return(i=t.call(this,h_.yg)||this).sp=n,i}return E(n,t),n.prototype.gg=function(){return new TC(this.sp.wg)},n}(c_),TC=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return E(n,t),n}(f_),SC=function(t){function n(n){var i;return(i=t.call(this,h_.Ag)||this).sp=n,i}return E(n,t),n.prototype.gg=function(){return new EC(this.sp.wg)},n}(c_),EC=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return E(n,t),n}(f_),IC=function(t){function n(n,i,e,r,s,u,o,a){var h;return(h=t.call(this)||this).dg=void 0,h.Fh=void 0,h.Gm=Tm(),h.iW=!1,h.eW=void 0,h.rW=void 0,h.Wm=void 0,h.ma=void 0,h.eP=j_.f_,h.Hz=Om.NONE,h.sW=void 0,h.zi=void 0,h.uW=void 0,h.nW=[],h.oW=[],h.aW=void 0,h.hW=void 0,h.cW=0,h.fW=0,h.Fh=i||"",h.eW=a||"",h.rW=n,h.ma=r||"",h.iW=Boolean(s),h.uW=Boolean(o),h.zi=u||xm.DEFAULT,h.Wm=e||"",h.aW=new yC(h.nW),h.hW=new yC(h.oW),h}E(n,t);var i=n.prototype;return i.lW=function(t){return Gs(this.aW.qg,function(n){return n.r_===t})},i.gg=function(){return W_(this)},i.yP=function(t){var n=V_(t);n!==this.g_&&(this.eP=n,n===j_.f_&&(this.oW.forEach(function(t){t.Ep=!1}),Zs(this.oW),this.fW=0),this.Ks(new __(this)))},i.BE=function(t){if(t&&!t._g){var n=wC(this.p_.qg,t);if(!(n>=0)){t._g=this;var i=-(n+1);this.nW.splice(i,0,t),this.vW(i),t.Tp=i,i<this.fW&&(this.fW=i),this.Ks(new AC(t))}}},i.bE=function(t){if(t&&t._g===this){var n=this.Zz(t);if(!(n<0)){t.Ep=!1;var i=this.oW,e=wC(i,t);e>=0&&Qs(i,e),Qs(this.nW,n),this.vW(n),t.Tp=-1,this.fW>n&&--this.fW,this.Ks(new SC(t))}}},i.dW=function(t,n){var i=this.oW,e=this.nW,r=this.fW,s=!1;n&&(r=0);for(var u=i.length-1;u>=0;u--){vC(i[u],t)||(s=!0,Qs(i,u))}for(;r<e.length&&e[r].op<=t;){var o=e[r];if(0===t)break;vC(o,t)&&!Js(i,o)&&(s=!0,i.push(o)),r++}s&&Us(i,dC),this.fW=r},i.Zz=function(t){return(-1===t.Tp||t.Tp>=this.cW)&&this.wW(),t.Tp},i.wW=function(){for(var t=this.nW,n=this.cW;n<t.length;n++)t[n].Tp=n;this.cW=t.length},i.vW=function(t){t<this.cW&&(this.cW=t)},i.__=function(t){this.y_||(this.g_=t)},i.Kc=function(){this.ou();for(var t=this.nW.slice(),n=0;n<t.length;n++){t[n].Kc()}Zs(this.nW),Zs(this.oW)},T(n,[{key:"k_",get:function(){return this.hW}},{key:"p_",get:function(){return this.aW}},{key:"ME",get:function(){return this.iW},set:function(t){this.iW=t}},{key:"y_",get:function(){return this.uW}},{key:"wg",get:function(){return this.dg||(this.dg=this.gg()),this.dg}},{key:"r_",get:function(){return this.Fh}},{key:"s_",get:function(){return this.Gm}},{key:"w_",get:function(){return this.eW},set:function(t){this.eW=t}},{key:"u_",get:function(){return this.rW}},{key:"o_",get:function(){return this.Wm},set:function(t){t!==this.Wm&&(this.Wm=t,this.Ks(new km(this)))}},{key:"a_",get:function(){return this.ma}},{key:"g_",get:function(){return this.eP},set:function(t){this.yP(t)}},{key:"m_",get:function(){return this.Hz},set:function(t){this.Hz!==t&&(this.Hz=t,this.Ks(new mC(this,this.Hz)))}},{key:"b_",get:function(){return this.sW},set:function(t){this.sW=t}},{key:"gs",get:function(){return this.zi},set:function(t){this.zi!==t&&(this.zi=t,this.Ks(new kC(this)))}}]),n}(Su),RC=function(t){function n(n,i){var e;return(e=t.call(this,Um.np,n)||this).Bk=i,e}return E(n,t),n.prototype.gg=function(){return new NC(this.sp.wg)},n}(zm),NC=function(t){function n(n){return t.call(this,"enter",n)||this}return E(n,t),n}(Wm),DC=function(t){function n(n,i){var e;return(e=t.call(this,Um.ep,n)||this).Bk=i,e}return E(n,t),n.prototype.gg=function(){return new CC(this.sp.wg)},n}(zm),CC=function(t){function n(n){return t.call(this,"exit",n)||this}return E(n,t),n}(Wm),PC=function(t){function n(n){var i;return(i=t.call(this,h_.Sg)||this).sp=n,i}return E(n,t),n.prototype.gg=function(){return new OC(this.sp.wg)},n}(c_),OC=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return E(n,t),n}(f_),xC=function(t){function n(n){var i;return(i=t.call(this,h_.Ig)||this).sp=n,i}return E(n,t),n.prototype.gg=function(){return new BC(this.sp.wg)},n}(c_),BC=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return E(n,t),n}(f_),LC=function(t){function n(n){var i;return(i=t.call(this)||this).gW=void 0,i.bp=void 0,i.Gm=void 0,i.pp=void 0,i.dg=void 0,i.kp=!1,i._W=function(){i.Ep=!0},i.yW=function(){i.Ep=!1},i.Gm=Nm(),i.gW=n,i.gW.addEventListener("enter",i._W),i.gW.addEventListener("exit",i.yW),i}E(n,t);var i=n.prototype;return i.gg=function(){return Gm(this)},i.Sp=function(t){return this===t||S_(this,t)&&Zm(this,t)},i.Kc=function(){this.ou(),this.gW.removeEventListener("enter",this._W),this.gW.removeEventListener("exit",this.yW)},T(n,[{key:"s_",get:function(){return this.Gm}},{key:"op",get:function(){return this.gW.startTime},set:function(t){this.gW.startTime=t}},{key:"ap",get:function(){return this.gW.endTime},set:function(t){this.gW.endTime=t}},{key:"hp",get:function(){return this.bp},set:function(t){this.bp=t}},{key:"Ip",get:function(){return!!this.gW.pauseOnExit},set:function(t){this.gW.pauseOnExit=!!t}},{key:"_g",get:function(){return this.pp},set:function(t){this.pp=t}},{key:"r_",get:function(){return this.gW.id||""}},{key:"wg",get:function(){return this.dg||(this.dg=this.gg()),this.dg}},{key:"Ep",get:function(){return this.kp},set:function(t){this.Ep!==t&&(this.kp=t,t?(this.Ks(new RC(this,this.op)),this.pp&&this.pp.Ks(new PC(this))):(this.Ks(new DC(this,this.ap)),this.pp&&this.pp.Ks(new xC(this))))}}]),n}(Q_),MC=function(t){function n(n){var i;return(i=t.call(this,h_.Ng)||this)._g=n,i}return E(n,t),n.prototype.gg=function(){return new FC(this._g.wg)},n}(c_),FC=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return E(n,t),n}(f_);function UC(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new jC(t),t.THEOplayerVTTRegion=n),n}}var jC=function(){function t(t){this.mW=void 0,this.dg=void 0,this.mW=t}return T(t,[{key:"pW",get:function(){return this.mW}},{key:"r_",get:function(){return this.mW.id||""}},{key:"xp",get:function(){return+this.mW.width||0},set:function(t){this.mW.width=t||0}},{key:"Rp",get:function(){return+this.mW.lines||0},set:function(t){this.mW.lines=t||0}},{key:"Np",get:function(){return+this.mW.regionAnchorX||0},set:function(t){this.mW.regionAnchorX=t||0}},{key:"Dp",get:function(){return+this.mW.regionAnchorY||0},set:function(t){this.mW.regionAnchorY=t||0}},{key:"Pp",get:function(){return+this.mW.viewportAnchorX||0},set:function(t){this.mW.viewportAnchorX=t||0}},{key:"Op",get:function(){return+this.mW.viewportAnchorY||0},set:function(t){this.mW.viewportAnchorY=t||0}},{key:"Cp",get:function(){return this.mW.scroll||""}},{key:"wg",get:function(){return this.dg||(this.dg=up(this)),this.dg}}]),t}();var HC=function(t){function n(n){return t.call(this,n)||this}return E(n,t),T(n,[{key:"hp",get:function(){return this.gW.text},set:function(t){this.gW.text=t}},{key:"_p",get:function(){return this.gW.vertical||""},set:function(t){this.gW.vertical=t||""}},{key:"gp",get:function(){return this.gW.snapToLines},set:function(t){this.gW.snapToLines=t}},{key:"fp",get:function(){return this.gW.line},set:function(t){this.gW.line=t}},{key:"Bu",get:function(){return+this.gW.size},set:function(t){this.gW.size=Ft(t,0,100)}}]),n}(LC),XC=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n.prototype.Sp=function(n){return this===n||S_(this,n)&&t.prototype.Sp.call(this,n)&&tp(this,n)},T(n,[{key:"wp",get:function(){return UC(this.gW.region)}},{key:"lp",get:function(){return this.gW.lineAlign||"start"},set:function(t){this.gW.lineAlign=t||"start"}},{key:"vp",get:function(){return this.gW.position},set:function(t){this.gW.position=t}},{key:"dp",get:function(){return this.gW.positionAlign||"auto"},set:function(t){this.gW.positionAlign=t||"auto"}},{key:"cp",get:function(){return this.gW.align||"center"},set:function(t){this.gW.align=t||"center"}},{key:"wg",get:function(){return this.dg||(this.dg=$m(this)),this.dg}}]),n}(HC),VC=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n.prototype.Sp=function(n){return this===n||S_(this,n)&&t.prototype.Sp.call(this,n)&&tp(this,n)},T(n,[{key:"wp",get:function(){return UC(this.pW)}},{key:"pW",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.gW.track,this.gW.regionId)}},{key:"lp",get:function(){return"middle"===(t=this.gW.lineAlign||"start")?"center":t;var t},set:function(t){var n;this.gW.lineAlign="center"===(n=t||"start")?"middle":n}},{key:"vp",get:function(){return this.gW.position},set:function(t){var n,i;this.gW.position=(n=t,i=this.cp,Vm(n,i))}},{key:"dp",get:function(){return t=this.gW.positionAlign||"middle",Hm[t];var t},set:function(t){var n,i;this.gW.positionAlign=(n=t||"center",i=this.cp,jm[Xm(n,i)])}},{key:"cp",get:function(){return"middle"===(t=this.gW.align||"middle")?"center":t;var t},set:function(t){var n;this.gW.align="center"===(n=t||"center")?"middle":n}},{key:"wg",get:function(){return this.dg||(this.dg=$m(this)),this.dg}}]),n}(HC);function zC(t,n){return t.hp===n.hp}function WC(t,n){if(0!==n.length){var i=n.length-1;if(n[i].op<t.op)GC(n,i,t.op);else{var e=n[0];if(e.op>t.op)t.ap=e.op;else{var r=wC(n,t);if(!(r>=0)){var s=-(r+1),u=s-1;if(u>=0)n[u].op<t.op&&GC(n,u,t.op);if(s<n.length){var o=n[s];t.ap=o.op}}}}}}function GC(t,n,i){for(var e=t[n].op,r=n;r>=0&&t[r].op===e;r--)t[r].ap=i}function qC(t){return Gm(t)}var $C,YC,QC=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).kW=void 0,e.kW=i,e}return E(n,t),n.prototype.Sp=function(n){return this===n||S_(this,n)&&t.prototype.Sp.call(this,n)&&zC(this,n)},T(n,[{key:"hp",get:function(){return this.kW}},{key:"wg",get:function(){return this.dg||(this.dg=qC(this)),this.dg}}]),n}(LC);function JC(t){switch(t){case $C.ISO_8859_1:case $C.UTF16_BOM:case $C.UTF16:case $C.UTF8:return!0}return!1}function ZC(t){switch(t){case $C.ISO_8859_1:return Ro;case $C.UTF16_BOM:return Co;case $C.UTF16:return Po;case $C.UTF8:return jo}}function KC(t,n){var i=n.Lu,e=t.byteLength,r=qo(t);return n.Mu(e-i),Qo(r,i,e).buffer}function tP(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function nP(t,n,i){var e=vo(t,n);if(JC(e)){var r=ZC(e);return{id:i,language:Eo(t,n,3),description:r(t,n),text:r(t,n)}}}function iP(t,n,i){var e=vo(t,n);if(JC(e)){var r=ZC(e);return{id:i,mimeType:Ro(t,n),fileName:r(t,n),description:r(t,n),data:KC(t,n)}}}function eP(t,n,i){var e=vo(t,n);if(JC(e)){for(var r=ZC(e),s=[];n.Lu<t.byteLength;)s.push({involvement:r(t,n),involvee:r(t,n)});return{id:i,entries:s}}}function rP(t,n,i){var e=vo(t,n);if(JC(e)){for(var r=ZC(e),s=Eo(t,n,3),u=vo(t,n),o=vo(t,n),a=r(t,n),h=!1,c=[];n.Lu<t.byteLength;){var f=void 0;if(e===$C.UTF16_BOM){var l=Do(t,n);void 0===l?l=h:h=l,f=Po(t,n,l)}else f=r(t,n);if(!f||n.Lu+4>t.byteLength)break;c.push({text:f,timestamp:bo(t,n)})}return{id:i,language:s,format:u,contentType:o,description:a,entries:c}}}function sP(t,n,i){return{id:i,ownerIdentifier:Ro(t,n),identifier:KC(t,n)}}function uP(t,n,i){var e=vo(t,n);if(JC(e)){var r=ZC(e);return{id:i,language:Eo(t,n,3),description:r(t,n),text:r(t,n)}}}function oP(t,n,i){var e=vo(t,n);if(JC(e))return{id:i,text:ZC(e)(t,n)}}function aP(t,n,i){return{id:i,url:Ro(t,n)}}function hP(t,n,i){var e=vo(t,n);if(JC(e)){var r=ZC(e);return{id:i,description:r(t,n),text:r(t,n)}}}function cP(t,n,i){var e=vo(t,n);if(JC(e))return{id:i,description:ZC(e)(t,n),url:Ro(t,n)}}function fP(t,n,i){switch(i){case"COM":return nP(t,n,i);case"GEO":return iP(t,n,i);case"IPL":return eP(t,n,i);case"PIC":return function(t,n,i){var e=vo(t,n);if(JC(e)){var r,s,u=ZC(e),o=Eo(t,n,3),a=vo(t,n),h=u(t,n);return"--\x3e"===o?(r=o,s=Ro(t,n)):(r="image/"+o.toLowerCase(),s=KC(t,n)),{id:i,mimeType:r,pictureType:a,description:h,data:s}}}(t,n,i);case"SLT":return rP(t,n,i);case"TXX":return hP(t,n,i);case"UFI":return sP(t,n,i);case"ULT":return uP(t,n,i);case"WXX":return cP(t,n,i);default:if("T"===i.charAt(0))return oP(t,n,i);if("W"===i.charAt(0))return aP(t,n,i)}}function lP(t,n,i){switch(i){case"APIC":return function(t,n,i){var e=vo(t,n);if(JC(e)){var r=ZC(e),s=Ro(t,n);return{id:i,mimeType:s,pictureType:vo(t,n),description:r(t,n),data:"--\x3e"===s?Ro(t,n):KC(t,n)}}}(t,n,i);case"COMM":return nP(t,n,i);case"COMR":return function(t,n,i){var e=vo(t,n);if(JC(e)){var r,s,u=ZC(e),o=Ro(t,n),a=Eo(t,n,8),h=Ro(t,n),c=vo(t,n),f=u(t,n),l=u(t,n);return n.Lu<t.byteLength&&(r=Ro(t,n)||"image/",s=KC(t,n)),{id:i,price:o,validUntil:a,contactURL:h,receivedAs:c,nameOfSeller:f,description:l,pictureMimeType:r,sellerLogo:s}}}(t,n,i);case"GEOB":return iP(t,n,i);case"IPLS":return eP(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:Ro(t,n),data:KC(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:vo(t,n),position:bo(t,n)}}(t,n,i);case"SYLT":return rP(t,n,i);case"TXXX":return hP(t,n,i);case"UFID":return sP(t,n,i);case"USER":return function(t,n,i){var e=vo(t,n);if(JC(e)){var r=ZC(e);return{id:i,language:Eo(t,n,3),text:r(t,n)}}}(t,n,i);case"USLT":return uP(t,n,i);case"WXXX":return cP(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return oP(t,n,i);default:var e=i.charAt(0);if("T"===e)return oP(t,n,i);if("W"===e)return aP(t,n,i)}}!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}($C||($C={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(YC||(YC={}));var vP=10;function dP(t,n){return(127&vo(t,n))<<21|(127&vo(t,n))<<14|(127&vo(t,n))<<7|127&vo(t,n)}function wP(t,n){switch(t){case YC.V24:return{bW:lo(n,0),AW:lo(n,1),TW:lo(n,2),SW:lo(n,3)};case YC.V23:return{bW:lo(n,0),AW:lo(n,1),TW:lo(n,2)};case YC.V22:return{bW:lo(n,0),EW:lo(n,1)}}}function gP(t,n,i){switch(i.VA){case YC.V23:i.zA.AW&&function(t,n){var i=n.Lu,e=bo(t,n)+4,r=32768&po(t,n);n.Uu(i+e),r&&bo(t,n)}(t,n);break;case YC.V24:i.zA.AW&&function(t,n){var i=n.Lu,e=dP(t,n);n.Uu(i+e)}(t,n)}}function _P(t,n){if(t.byteLength-n.Lu<vP)return null;if(73!==vo(t,n)||68!==vo(t,n)||51!==vo(t,n))return null;var i=vo(t,n),e=vo(t,n);if(!function(t){switch(t){case YC.V22:case YC.V23:case YC.V24:return!0}return!1}(i))return null;var r=vo(t,n),s=dP(t,n);return{VA:i,IW:e,zA:wP(i,r),RW:s}}function yP(t,n,i){switch(i.VA){case YC.V22:return function(t,n,i){return{r_:Eo(t,n,3),Bu:mo(t,n,3)}}(t,n);case YC.V23:return function(t,n,i){var e=Eo(t,n,4),r=bo(t,n);vo(t,n);var s=vo(t,n);return{r_:e,Bu:r,zA:{EW:lo(s,0),NW:lo(s,1),groupingIdentity:lo(s,2)}}}(t,n);case YC.V24:return function(t,n,i){var e=Eo(t,n,4),r=dP(t,n);vo(t,n);var s=vo(t,n);return{r_:e,Bu:r,zA:{groupingIdentity:lo(s,1),EW:lo(s,4),NW:lo(s,5),bW:lo(s,6),DW:lo(s,7)}}}(t,n)}}function mP(t){for(var n=new p(t.byteLength),i=0,e=0;e<t.byteLength;e++){var r=t.getUint8(e);255===r&&e++,n[i]=r,i++}return new DataView(n,0,i)}function pP(t,n){var i=n||new Ko,e=_P(t,i);return e?{FA:e,PW:function(t,n,i){var e=[],r=n.Lu,s=Wo(t,r,r+i.RW),u=new Ko;switch(n.Mu(i.RW),i.VA){case YC.V22:case YC.V23:i.zA.bW&&(s=mP(s))}gP(t,n,i);for(;u.Lu<s.byteLength;)e.push(kP(s,u,i));return e}(t,i,e)}:null}function kP(t,n,i){var e,r,s=yP(t,n,i),u=n.Lu,o=Wo(t,u,u+s.Bu);switch(n.Mu(s.Bu),i.VA){case YC.V22:var a=s;e=fP(r=o,new Ko,a.r_);break;case YC.V23:var h=s,c=new Ko;!function(t,n,i){var e,r,s,u=i.zA;u.EW&&(e=bo(t,n)),u.NW&&(r=vo(t,n)),u.groupingIdentity&&(s=vo(t,n))}(o,c,h),e=lP(r=Wo(o,c.Lu,o.byteLength),new Ko,h.r_);break;case YC.V24:var f=s,l=new Ko;f.zA.bW&&(o=mP(o)),function(t,n,i){var e,r,s,u,o=i.zA;o.groupingIdentity&&(e=vo(t,n)),o.EW&&(r=bo(t,n)),o.NW&&(s=vo(t,n)),o.DW&&(u=dP(t,n))}(o,l,f),e=lP(r=Wo(o,l.Lu,o.byteLength),new Ko,f.r_)}if(!e){var v=Jo(qo(r));e=tP(s.r_,v.buffer)}return e}function bP(t){return function(t,n,i){return oP(t,n,i)}(new DataView(t.data),new Ko,t.key)}function AP(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return bP(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return tP(t.key,t.data)}(t)}var TP="org.id3";var SP=function(t){function n(n,i,e){var r;return void 0===e&&(e=!0),(r=t.call(this)||this).zm=void 0,r.OW=void 0,r.nW=[],r.oW=[],r.aW=void 0,r.hW=void 0,r.Gm=void 0,r.Wm=void 0,r.eP=j_.f_,r.Hz=Om.NONE,r.dg=void 0,r.sW=void 0,r.zi=xm.DEFAULT,r.xW=void 0,r.BW=function(){r.LW(),r.zm.removeEventListener("cuechange",r.BW)},r.MW=function(){r.g_!==j_.f_&&(r.FW(),r.dW(),r.nW.length&&r.UW(Om.LOADING))},r.jW=function(){r.UW(Om.LOADED)},r.HW=function(){r.UW(Om.ERROR)},r.zm=n,r.xW=e,r.zm.addEventListener("cuechange",r.BW),r.zm.addEventListener("cuechange",r.MW),r.OW=i,r.OW&&(r.sW=kw(r.OW.src),r.OW.addEventListener("load",r.jW),r.OW.addEventListener("error",r.HW)),r.Gm=Tm(),r.Wm=n.label||"",r.aW=new yC(r.nW),r.hW=new yC(r.oW),r.g_=r.XW,yu(function(){r.MW(),r.UW(Om.NONE)}),r}E(n,t);var i=n.prototype;return i.gg=function(){return W_(this)},i.LW=function(){var t=this.g_;this.VW||t!==j_.v_?this.XW=t:this.XW=j_.l_},i.zW=function(){var t=this.g_,n=this.XW;t!==n&&(this.VW||t!==j_.v_||n!==j_.l_)&&("metadata"===this.u_&&n===j_.f_?this.g_=t:this.g_=n)},i.Vz=function(t){this.Hz!==t&&(this.Hz=t,this.Ks(new mC(this,t)))},i.UW=function(t){var n=g.max(this.Hz,this.WW,t);this.Vz(n)},n.GW=function(t){return t&&t.THEOplayerTextTrackCue||void 0},i.qW=function(t){var i=n.GW(t);if(i)return i;if(z(i=this.$W(t)))for(var e=0,r=i;e<r.length;e++){r[e]._g=this}else i._g=this;return t.THEOplayerTextTrackCue=i,i},i.$W=function(t){return(n=t)&&n.type===TP&&n.value?(this.gs=xm.ID3,function(t){var n;try{n=AP(t.value)}catch(t){n=tP("")}return new QC(t,n)}(t)):function(t){return t&&t.data instanceof ArrayBuffer}(t)?(this.gs=xm.ID3,function(t){var n=[];try{var i=pP(new DataView(t.data));if(i)for(var e=0,r=i.PW;e<r.length;e++){var s=r[e];n.push(new QC(t,s))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.gs=xm.WEBVTT,function(t){return"regionId"in t}(t)?new VC(t):new XC(t)):new LC(t);var n},i.YW=function(t){var n=[];if(!t)return n;for(var i=t.length,e=0;e<i;e++){var r=this.qW(t[e]||t.item(e));if(z(r))for(var s=0;s<r.length;s++){var u=r[s];n.push(u)}else n.push(r)}return n},i.FW=function(){for(var t=this.YW(this.zm.cues),n=_C(this.nW,t),i=0,e=n.tW;i<e.length;i++){var r=e[i];r.au(Um.ep,this.MW),r.au(Um.np,this.MW),this.Ks(new SC(r))}for(var s=0,u=n.Kz;s<u.length;s++){var o=u[s];o.tu(Um.np,this.MW),o.tu(Um.ep,this.MW),this.Ks(new AC(o))}},i.dW=function(){for(var t=this.YW(this.zm.activeCues),n=_C(this.oW,t),i=0,e=n.tW;i<e.length;i++){e[i].Ep=!1}for(var r=0,s=n.Kz;r<s.length;r++){s[r].Ep=!0}(n.Kz.length||n.tW.length)&&this.Ks(new MC(this))},i.__=function(t){this.g_=t},i.Kc=function(){this.ou();for(var t=this.nW.slice(),n=0;n<t.length;n++){t[n].Kc()}Zs(this.nW),Zs(this.oW),this.zm.removeEventListener("cuechange",this.BW),this.zm.removeEventListener("cuechange",this.MW),this.OW&&(this.OW.removeEventListener("load",this.jW),this.OW.removeEventListener("error",this.HW),nr(this.OW))},T(n,[{key:"k_",get:function(){return this.hW}},{key:"ME",get:function(){return this.OW?this.OW.default:void 0}},{key:"p_",get:function(){return this.aW}},{key:"wg",get:function(){return this.dg||(this.dg=this.gg()),this.dg}},{key:"r_",get:function(){return this.zm.id||this.OW&&this.OW.id||""}},{key:"s_",get:function(){return this.Gm}},{key:"w_",get:function(){return this.zm.inBandMetadataTrackDispatchType||""}},{key:"u_",get:function(){return this.zm.kind||Wk.lA}},{key:"o_",get:function(){return this.Wm},set:function(t){t!==this.Wm&&(this.Wm=t,void 0!==this.OW&&(this.OW.label=t),this.Ks(new km(this)))}},{key:"a_",get:function(){return this.zm.language||""}},{key:"g_",get:function(){return this.eP},set:function(t){var n=this.g_;this.eP=V_(t),this.LW();var i=this.g_;n!==i&&this.Ks(new __(this)),i!==j_.f_&&this.UW(Om.LOADING)}},{key:"XW",get:function(){return V_(this.zm.mode)},set:function(t){this.zm.mode=t}},{key:"Jm",get:function(){return this.zm}},{key:"m_",get:function(){return this.Hz}},{key:"WW",get:function(){return this.OW?+this.OW.readyState||Om.NONE:Om.LOADED}},{key:"b_",get:function(){return this.sW}},{key:"gs",get:function(){return this.zi},set:function(t){this.zi!==t&&(this.zi=t,this.Ks(new kC(this)))}},{key:"VW",get:function(){return this.xW},set:function(t){this.xW=t,this.LW()}}]),n}(Su);function EP(t,n){return Vs(t.Bk,n.Bk)||function(t,n){return t._g===n._g?Xs(gC(t),gC(n)):ub(t._g,n._g)}(t.sp,n.sp)||function(t,n){return t===n?Ls.Cs:t===Um.np?Ls.Os:Ls.Ps}(t.type,n.type)}var IP=function(){function t(t,n){var i=this;this.BD=void 0,this.QW=void 0,this.Xy=[],this.JW=0,this.ZW=0,this.KW=[],this.tG=[],this.nG=!1,this.iG=!1,this.eG=void 0,this.rG=function(){i.JW=0,i.sG(),i.uG()},this.oG=function(){i.sG(),i.uG()},this.aG=function(){i.iG=!0,i.eG=i.BD.sy,i.hG()},this.cG=function(){i.sG(),i.uG()},this.fG=function(){i.lG(),i.sG(),i.uG()},this.vG=function(t){Js(i.tG,t.sp)||i.tG.push(t.sp),i.dG()},this.wG=function(t){Ys(i.KW,t.sp),Ys(i.tG,t.sp),i.dG()},this.QW=n,this.BD=t,t.tu(Bf.ol,this.oG),t.tu(Bf.Xf,this.oG),t.tu(Sy.ey,this.oG),t.tu(Bf.Hf,this.oG),t.tu(Bf.$f,this.aG),t.tu(Bf.qf,this.cG),this.dG()}var n=t.prototype;return n.wc=function(){Zs(this.KW);for(var t=0,n=this.Xy.slice();t<n.length;t++){var i=n[t];this.Wg(i)}this.hG(),this.JW=0,this.ZW=0,this.nG=!1,this.iG=!1,this.eG=void 0},n.zg=function(t){if(!Js(this.Xy,t)){if(this.Xy.push(t),t.tu(h_.yg,this.vG),t.tu(h_.Ag,this.wG),t.tu(h_.Cg,this.fG),t.p_.$g>0){for(var n=0,i=t.p_.qg;n<i.length;n++){var e=i[n];this.tG.push(e)}this.dG()}this.lG()}},n.Wg=function(t){if(Ys(this.Xy,t)){if(t.au(h_.yg,this.vG),t.au(h_.Ag,this.wG),t.au(h_.Cg,this.fG),t.p_.$g>0){for(var n=0,i=t.p_.qg;n<i.length;n++){var e=i[n];Ys(this.KW,e),Ys(this.tG,e)}this.dG()}this.lG()}},n.lG=function(){this.nG=this.Xy.some(function(t){return t.g_!==j_.f_})},n.uG=function(){this.BD._y||this.BD.wy?this.hG():this.dG()},n.dG=function(){this.nG&&(this.JW||(this.JW=this.QW.Pe(this.rG)))},n.hG=function(){this.JW&&(this.QW.gG(this.JW),this.JW=0)},n.sG=function(){var t;if(this.nG&&!this.BD._y){var n=this.Xy,i=this.ZW,e=null!=(t=this.eG)?t:this.BD.sy,r=e-i<-.1,s=this.iG||r;s&&e>i&&e-i<.1&&(s=!1),this.iG=!1,this.eG=void 0;for(var u,o=[],a=0;a<n.length;a++){var h=n[a];if(h.g_!==j_.f_){h.dW(e,s);for(var c=0,f=h.k_.qg;c<f.length;c++){var l=f[c];o.push(l)}}}if(s)u=this.KW;else{u=[];for(var v=0;v<n.length;v++){var d=n[v];d.g_!==j_.f_&&sb(d,i-1/6,e,u)}}for(var w=u.length-1;w>=0;w--)Js(o,u[w])&&Qs(u,w);var _=[];if(!s)for(var y=u.length-1;y>=0;y--){var m=u[y];m.op>i&&m.ap<=e&&(_.push(m),Qs(u,y))}for(var p=0,k=this.tG;p<k.length;p++){Ys(_,k[p])}Zs(this.tG);for(var b=[],A=[],T=0;T<_.length;T++){var S=_[T];S.Ep||b.push(new RC(S,S.op)),b.push(new DC(S,g.max(S.op,S.ap))),S.Ep=!1}for(var E=0,I=u;E<I.length;E++){var R=I[E];R.Ep&&(b.push(new DC(R,g.max(R.op,R.ap))),R.Ep=!1)}for(var N=0;N<o.length;N++){var D=o[N];D.Ep||(b.push(new RC(D,D.op)),D.Ep=!0)}b.sort(EP);for(var C=0;C<b.length;C++){var P=b[C],O=P.sp;O.Ks(P);var x=O._g;x&&(P.type===Um.np?x.Ks(new PC(O)):x.Ks(new xC(O)),Js(A,x)||A.push(x))}A.sort(ub);for(var B=0;B<A.length;B++){var L=A[B];L.Ks(new MC(L))}this.ZW=e,this.KW=o}},n.Kc=function(){this.wc(),this.BD.au(Bf.ol,this.oG),this.BD.au(Bf.Xf,this.oG),this.BD.au(Sy.ey,this.oG),this.BD.au(Bf.Hf,this.oG),this.BD.au(Bf.$f,this.aG),this.BD.au(Bf.qf,this.cG)},t}(),RP=function(){function t(){}var n=t.prototype;return n.Pe=function(t){return VI(t)},n.gG=function(t){zI(t)},t}(),NP=new RP,DP=function(t){function n(n,i){return void 0===i&&(i=NP),t.call(this,n,i)||this}return E(n,t),n}(IP),CP=function(t){function n(n,i,e){return t.call(this,n,1/0,i,!1,e)||this}return E(n,t),n.prototype.Sp=function(n){return this===n||S_(this,n)&&t.prototype.Sp.call(this,n)&&zC(this,n)},T(n,[{key:"wg",get:function(){return this.dg||(this.dg=qC(this)),this.dg}}]),n}(Km),PP=function(t){function n(n,i,e){return void 0===e&&(e=xm.DEFAULT),t.call(this,Wk.dA,"",i||"","",!1,e,!1,n)||this}return E(n,t),n}(IC),OP=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).gs=xm.ID3,e}E(n,t);var i=n.prototype;return i.BE=function(n){WC(n,this.nW),t.prototype.BE.call(this,n)},i.gg=function(){return W_(this)},n}(PP);function xP(t){var n=t&&t.THEOplayerTextTrackCue||void 0;if(n)return n;var i=t.startTime,e=AP(t.value);return t.THEOplayerTextTrackCue=new CP(i,e),t.THEOplayerTextTrackCue}var BP=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).zm=void 0,i.MW=function(){i.g_!==j_.f_&&(i.FW(),i.UW(Om.LOADED))},i.zm=n,i.zm.addEventListener("cuechange",i.MW),i.g_=i.XW,yu(function(){i.MW()}),i}E(n,t);var i=n.prototype;return i.yP=function(n){t.prototype.yP.call(this,n),this.XW=this.g_},i.UW=function(t){this.m_=g.max(this.m_,t)},i.FW=function(){var t=this.zm.cues;if(t){for(var n=function(t){for(var n=t.length,i=[],e=0;e<n;e++)i.push(xP(t[e]||t.item(e)));return Us(i,dC),i}(t),i=_C(this.p_.qg.slice(),n),e=0,r=i.tW;e<r.length;e++){var s=r[e];this.bE(s)}for(var u=0,o=i.Kz;u<o.length;u++){var a=o[u];this.BE(a)}}},i.Kc=function(){this.zm.removeEventListener("cuechange",this.MW),t.prototype.Kc.call(this)},T(n,[{key:"r_",get:function(){return this.zm.id||""}},{key:"w_",get:function(){return this.zm.inBandMetadataTrackDispatchType||""}},{key:"a_",get:function(){return this.zm.language||""}},{key:"XW",get:function(){return V_(this.zm.mode)},set:function(t){this.zm.mode=t}},{key:"Jm",get:function(){return this.zm}}]),n}(OP),LP=function(t){function n(n,i){var e;return(e=t.call(this)||this)._G=Vr(),e.rN=function(t){var n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:if((n=t._g).gs){i.next=4;break}return i.next=4,Ur.awrap(n.wu(h_.Bg));case 4:if(n.gs===xm.ID3){i.next=6;break}return i.abrupt("return");case 6:if(0!==n.p_.$g){i.next=11;break}return i.next=9,Ur.awrap(n.wu(h_.yg));case 9:i.next=6;break;case 11:e.yG(n);case 12:case"end":return i.stop()}},null,null,null,Ge)},e.sN=function(t){var n=t._g;if(n.gs===xm.ID3&&e._G.has(n.s_)){var i=e._G.get(n.s_);e.Wg(i),e.NE.LE(i),n.au(h_.yg,e.mG)}},e.mG=function(t){MP(t.sp)&&e.pG(t.sp)},e.NE=n,e.kG=i,e.bG(),e}E(n,t);var i=n.prototype;return i.bG=function(){this.kG.tu(s_.hg,this.rN),this.kG.tu(s_.fg,this.sN)},i.AG=function(){this.kG.au(s_.hg,this.rN),this.kG.au(s_.fg,this.sN)},i.yG=function(t){var n=t.p_.qg[0];if(MP(n)){var i=function(t){var n=t.match(FP);if(!n)return;return{_g:n[1],a_:n[2]}}(n.hp.description),e=i._g,r=i.a_;if(!this.TG(e,r)){var s=this.NE.OE(Wk.lA,t.r_,e,r,!1,xm.TTML);this.zg(s),this._G.set(t.s_,s);for(var u=0,o=t.p_.qg;u<o.length;u++){var a=o[u];MP(a)&&this.pG(a)}t.tu(h_.yg,this.mG)}}},i.TG=function(t,n){return this.uT.qg.some(function(i){return i.o_===t&&i.a_===n})},i.pG=function(t){if(t._g)for(var n=this._G.get(t._g.s_),i=Ok(t.hp.text,n,{_b:0,yb:1/0,mb:t.op}),e=0;e<i.length;e++){var r=i[e];n.BE(r)}},i.wc=function(){var n,i,e,r,s;return Ur.async(function(u){for(;;)switch(u.prev=u.next){case 0:for(n=0,i=this.kG.qg;n<i.length;n++)i[n].au(h_.yg,this.mG);for(e=0,r=this.uT.qg;e<r.length;e++)s=r[e],this.NE.LE(s);return this._G.clear(),u.next=5,Ur.awrap(t.prototype.wc.call(this));case 5:case"end":return u.stop()}},null,this,null,Ge)},i.Kc=function(){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.AG(),n.next=3,Ur.awrap(t.prototype.Kc.call(this));case 3:case"end":return n.stop()}},null,this,null,Ge)},n}(fb);function MP(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.hp)&&FP.test(n.description);var n}var FP=/^Track:(.+),Lang:(.+)$/;var UP=function(t){function n(n){var i;return(i=t.call(this,Bf.If)||this).errorObject=void 0,i.errorObject=n,i}return E(n,t),T(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Iu),jP=function(t){function n(){return t.call(this,Bf.Rf)||this}return E(n,t),n}(Iu),HP=function(t){function n(n){var i;return(i=t.call(this,"cl")||this).SG=n,i}return E(n,t),n}(Iu),XP=new mf,VP=function(t){function n(n){var i;return(i=t.call(this,"Qh")||this).session=n,i}return E(n,t),n}(Iu),zP=function(t){function e(e,r,s){var u;return(u=t.call(this)||this).EG=!1,u.IG=!1,u.qc=new au,u.RG=void 0,u.Gh=function(t){if(!u.qc.$s.xs)switch(t.pu){case"license-request":case"license-renewal":u.mI(t.mu,t.bu).catch(function(t){return u.Dc(t)});break;default:u.Dc(new lm(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.pu))}},u.NG=function(t){u.DG.rc.Pu(function(t,n){switch(t){case"usable":i.Yn(function(){u.IG=!0,u.Ks(new jP)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.Ks(new HP(n))}})},u.CG=function(t){u.Dc(new lm(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},u.DG=e,u.PG=r,u.OG=s,e.tu("mu",u.Gh),e.tu("yu",u.NG),e.tu("Au",u.CG),e.ic.then(function(){return u.xG()}),u}E(e,t);var r=e.prototype;return r.Jh=function(){var t=this;return this.EG=!0,XP.Jc(function(n){return t.BG(n)},this.qc.$s)},r.BG=function(t){var i,e,r;return Ur.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,fu(t),s.next=4,Ur.awrap(this.PG.lI(t));case 4:return s.next=6,Ur.awrap(this.PG.vI(this.OG.ys,this.OG.Ru,t));case 6:return i=s.sent,s.next=9,Ur.awrap(this.DG.Jh(this.OG.ys,this.OG.Ru,i));case 9:s.next=18;break;case 11:throw s.prev=11,s.t0=s.catch(0),lu(s.t0),e=s.t0 instanceof ua?s.t0.Zu:void 0,r=new lm(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",s.t0,void 0,void 0,void 0,void 0,e),this.Dc(r),r;case 18:case"end":return s.stop()}},null,this,[[0,11]],Ge)},r.mI=function(t,i){var e,r,s,u;return Ur.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,!ea(t)){o.next=7;break}return o.next=4,Ur.awrap(this.PG.II(new p(t),this.qc.$s));case 4:e=o.sent,o.next=10;break;case 7:return o.next=9,Ur.awrap(this.PG.RI(new p(t),i,this.qc.$s));case 9:e=o.sent;case 10:o.next=17;break;case 12:if(o.prev=12,o.t0=o.catch(0),!cu(o.t0)){o.next=16;break}return o.abrupt("return");case 16:throw o.t0;case 17:if(!this.qc.$s.xs){o.next=19;break}return o.abrupt("return");case 19:return r=this.RG,s=new na,this.RG=s,o.prev=22,o.next=25,Ur.awrap(this.DG.tc(e));case 25:return o.next=27,Ur.awrap(ku(100));case 27:o.next=33;break;case 29:throw o.prev=29,o.t1=o.catch(22),u=o.t1 instanceof ua?o.t1.Zu:void 0,new lm(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",o.t1,void 0,void 0,void 0,void 0,u);case 33:if(o.prev=33,void 0===r){o.next=37;break}return o.next=37,Ur.awrap(r.Wu);case 37:return s.Yu(),this.RG===s&&(this.RG=void 0),o.finish(33);case 40:case"end":return o.stop()}},null,this,[[0,12],[22,29,33,40]],Ge)},r.Dc=function(t){var i=t instanceof lm?t:new lm(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Ks(new UP(i)),this.Qh()},r.xG=function(){this.DG.au("mu",this.Gh),this.DG.au("yu",this.NG),this.DG.au("Au",this.CG),this.IG=!1,this.qc.Ws(),this.Ks(new VP(this))},r.Qh=function(){var t;return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:this.ou();case 1:if(void 0===(t=this.RG)){n.next=5;break}return n.next=5,Ur.awrap(t.Wu);case 5:if(this.RG!==t){n.next=1;break}case 6:return this.xG(),n.next=9,Ur.awrap(this.DG.Qh().catch(Z));case 9:case"end":return n.stop()}},null,this,null,Ge)},e}(Su),WP=[Bf.Rf,Bf.If,Bf.hl],GP=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).qh=void 0,r.ac=void 0,r.LG=void 0,r.MG=[],r.FG=void 0,r.UG=[],r.jG=function(t){t.session.au(WP,r.Zs),t.session.au("Qh",r.jG),Ys(r.MG,t.session)},r.qh=n,r.ac=i,r.LG=e,r}E(n,t);var i=n.prototype;return i.EI=function(){return this.LG.EI()},i.HG=function(t){return this.FG||(this.FG=this.XG(t)),this.FG},i.XG=function(t){var n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return fu(t),i.next=3,Ur.awrap(this.LG.II(new p(ia()),t));case 3:if(n=i.sent,fu(t),this.ac){i.next=7;break}throw new l("Invalid MediaKeys when setting ServerCertificate");case 7:return i.next=9,Ur.awrap(this.ac.lc(n.buffer));case 9:case"end":return i.stop()}},null,this,null,Ge)},i.VG=function(t){var n,i;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ac){e.next=2;break}throw new l("Invalid MediaKeys when creating KeySession");case 2:return e.prev=2,this.UG.push(t),e.next=6,Ur.awrap(this.ac.fc("temporary"));case 6:return n=e.sent,i=new zP(n,this.LG,t),this.MG.push(i),i.tu(WP,this.Zs),i.tu("Qh",this.jG),e.abrupt("return",i);case 12:return e.prev=12,Ys(this.UG,t),e.finish(12);case 15:case"end":return e.stop()}},null,this,[[2,,12,15]],Ge)},i.zG=function(t){if(t.WG)return!1;for(var n=0,i=this.MG;n<i.length;n++){if(qP(i[n].OG,t))return!0}for(var e=0,r=this.UG;e<r.length;e++){if(qP(r[e],t))return!0}return!1},i.Kc=function(){var t;return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.ac=void 0,this.ou(),t=this.MG.slice(),Zs(this.MG),n.next=6,Ur.awrap(Ge.all(t.map(function(t){return t.Qh()})));case 6:this.LG.Us();case 7:case"end":return n.stop()}},null,this,null,Ge)},T(n,[{key:"hc",get:function(){return this.qh}}]),n}(Su);function qP(t,n){return!t.WG&&t.ys===n.ys&&qu(t.Ru,n.Ru)}var $P=function(t){function e(n){var i;return(i=t.call(this)||this).dN=void 0,i.qc=new au,i.kU=new mf,i.Mc=void 0,i.LG=void 0,i.wN=void 0,i.qh=void 0,i.GG=function(t){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ur.awrap(i.qG(t.ys,t.Ru,i.qc.$s));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),cu(n.t0)||i.Dc(n.t0);case 8:case"end":return n.stop()}},null,null,[[0,5]],Ge)},i.dN=n,i.dN.tu(Tu.Tu,i.GG),i}E(e,t);var r=e.prototype;return r.Zh=function(t,n){this.wN=t,this.zU(n)},r.zU=function(t){this.Mc=t,this.$G(this.qc.$s).catch(vu)},r.$G=function(t){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!i.jr.Ge){n.next=5;break}return n.next=3,Ur.awrap(this.YG(t));case 3:if(!n.sent){n.next=5;break}return n.abrupt("return");case 5:if(!this.Mc||!this.Mc.QG){n.next=9;break}return n.next=8,Ur.awrap(this.JG(t));case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}},null,this,null,Ge)},r.YG=function(t){var n,i,e,r,s,u,o,a,h,c,f;return Ur.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(null==(n=this.Mc)?void 0:n.WN){l.next=3;break}return l.abrupt("return",!1);case 3:i=!1,e=0,r=null!=(s=null==(u=this.Mc)?void 0:u.WN)?s:[];case 5:if(!(e<r.length)){l.next=27;break}o=r[e],a=0,h=null!=(c=o.nN)?c:[];case 8:if(!(a<h.length)){l.next=22;break}return f=h[a],l.prev=10,l.next=13,Ur.awrap(this.qG(o.hc.ys,f,t));case 13:i=!0,l.next=19;break;case 16:l.prev=16,l.t0=l.catch(10),lu(l.t0);case 19:a++,l.next=8;break;case 22:if(!i){l.next=24;break}return l.abrupt("return",!0);case 24:e++,l.next=5;break;case 27:return l.abrupt("return",!1);case 28:case"end":return l.stop()}},null,this,[[10,16]],Ge)},r.qG=function(t,e,r){var s,u,o,a,h,c,f,l,v,d;return Ur.async(function(w){for(;;)switch(w.prev=w.next){case 0:if(fu(r),e.byteLength){w.next=3;break}return w.abrupt("return");case 3:if(this.Mc&&this.Mc.WN.length){w.next=5;break}throw new lm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(t===ts||t===is||t===ns){w.next=8;break}return w.abrupt("return");case 8:s=RA(t,e),u=this.Mc.WN,a=0;case 11:if(!(a<u.length)){w.next=42;break}if(h=u[a],fu(r),(c=s[h.hc.As])&&h.hc.ys===t){w.next=17;break}return w.abrupt("continue",39);case 17:return w.prev=17,w.next=20,Ur.awrap(this.ZG(h,r));case 20:if(!(f=w.sent).EI()){w.next=24;break}return w.next=24,Ur.awrap(f.HG());case 24:if(l=this.dN.Im,v={ys:h.hc.ys,Ru:c,WG:l},!this.KG(f,v)){w.next=32;break}return w.next=29,Ur.awrap(f.VG(v));case 29:return d=w.sent,w.next=32,Ur.awrap(d.Jh());case 32:return w.abrupt("return");case 35:w.prev=35,w.t0=w.catch(17),lu(w.t0),o=w.t0;case 39:a++,w.next=11;break;case 42:return w.next=44,Ur.awrap(i.Nr());case 44:if(!w.sent){w.next=48;break}throw new lm(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",o);case 48:throw new lm(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",o);case 49:case"end":return w.stop()}},null,this,[[17,35]],Ge)},r.JG=function(t){var n,i,e,r,s;return Ur.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=null==(n=this.Mc)?void 0:n.WN){u.next=3;break}return u.abrupt("return");case 3:e=0;case 4:if(!(e<i.length)){u.next=23;break}return r=i[e],fu(t),u.prev=7,u.next=10,Ur.awrap(this.ZG(r,t));case 10:if(!(s=u.sent).EI()){u.next=14;break}return u.next=14,Ur.awrap(s.HG());case 14:return u.abrupt("return");case 17:u.prev=17,u.t0=u.catch(7),lu(u.t0);case 20:e++,u.next=4;break;case 23:case"end":return u.stop()}},null,this,[[7,17]],Ge)},r.KG=function(t,n){return i.jr.We||!t.zG(n)},r.ZG=function(t,n){var i=this;return this.kU.Jc(function(n){return i.tq(t,n)},n)},r.tq=function(t,n){var i,e,r,s,u;return Ur.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(fu(n),this.Mc&&this.LG&&this.wN){o.next=3;break}throw new l("Not initialized");case 3:if(!this.qh){o.next=7;break}if(this.qh.hc===t.hc){o.next=6;break}throw new l("Internal key system error");case 6:return o.abrupt("return",this.qh);case 7:return i=this.LG,e=jr({},t,{sD:t.sD.map(function(n){var e;return jr({},n,{persistentState:null!=(e=n.persistentState)?e:i.YI(t.hc),bc:n.bc||i.bc(t.hc)})})}),o.next=11,Ur.awrap(this.wN.HU(e.hc,e.sD));case 11:return r=o.sent,s=i.tN(e),(u=new GP(e.hc,r,s)).tu([Bf.Rf,Bf.If,Bf.hl],this.Zs),this.qh=u,o.abrupt("return",u);case 17:case"end":return o.stop()}},null,this,null,Ge)},r.Dc=function(t){var i=t instanceof lm?t:new lm(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Ks(new UP(i))},r.wc=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.wN=void 0,this.Mc=void 0,this.qc.Ws(),this.qc=new au,t.next=6,Ur.awrap(this.nq());case 6:case"end":return t.stop()}},null,this,null,Ge)},r.nq=function(){var t;return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ur.awrap(this.kU.Ws());case 2:if(!(t=this.qh)){n.next=8;break}return t.au(Bf.hl,this.Zs),this.qh=void 0,n.next=8,Ur.awrap(t.Kc());case 8:case"end":return n.stop()}},null,this,null,Ge)},r.Us=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ou(),this.dN.au(Tu.Tu,this.GG),t.next=4,Ur.awrap(this.wc());case 4:return t.next=6,Ur.awrap(this.kU.Kc());case 6:case"end":return t.stop()}},null,this,null,Ge)},T(e,[{key:"iq",get:function(){var t;return null==(t=this.qh)?void 0:t.hc}},{key:"XN",get:function(){return this.LG},set:function(t){this.LG=t}}]),e}(Su),YP=F.In||F.Rn,QP=F.Gn,JP=.5,ZP=5,KP=F.On,tO=F.On&&F.hn,nO=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).ef=void 0,s.rq=void 0,s.gN=void 0,s.FD=!0,s.wN=void 0,s.uq=new mf,s.oq=void 0,s.aq=void 0,s.hq=void 0,s.MU=void 0,s.Xy=void 0,s.XC=void 0,s.cq=[],s.fq=void 0,s.lq=void 0,s.vq=void 0,s.dq=void 0,s.wq=void 0,s.gq=void 0,s._q=NaN,s.yq=void 0,s.mq=void 0,s.UC=!1,s.pq=Ge.resolve(),s.kq=new au,s.bq=[],s.Aq=TS.RC(),s.Tq=void 0,s.Sq=1,s.Eq=!1,s.Iq=!1,s.Rq=!1,s.Nq=!1,s.Es=void 0,s.Dq=!1,s.Cq=!1,s.Pq=!1,s.Oq=!1,s.xq=0,s.ZV=void 0,s.Bq=!1,s.Lq=function(t){var n=t.track,i=s.Mq(n);s.Fq(n,i)},s.Uq=function(t){var n=sO(s.fq,t.track);n&&s.fq.Wg(n)},s.jq=function(){for(var t=0;t<s.fq.$g;t++){var n=s.fq.Vg(t);n instanceof SP&&n.zW()}},s.Hq=function(){var t=s.wN,n=t.yz,i=t.mz;if(n&&i)if(t.KU)s.Xq();else if(t.m_!==KD.mV){var e=n.Tm,r=i.Tm;if(0!==e.$g&&0!==r.$g){var u=s.sy;if(u<e.WD(0)||u<r.WD(0))s.Xq();else if(e.uD(u)!==r.uD(u)){if(t.tz(u))return;s.Vq()}else{if(s.Xq(),!s.xq&&s.hq.Yz())e.fC(r).gC(u,u+JP)&&(s.xq=VI(s.zq))}}else s.Xq()}},s.zq=function(){s.xq=0,s.Hq()},s.Wq=function(){if(!(s._y||s.m_>=uy.q_)){0;var t=s.wN,n=t.yz,i=t.mz;if(n&&i){var e=s.sy,r=n.Tm,u=i.Tm;if(r.uD(e)&&u.uD(e))r.fC(u).gC(e-ZP,e)&&(s.Pq?s.Xq():s.Gq())}}},s.qq=function(){s.Ks(new Ry(s.sy))},s.$q=function(){s.Yq(new hu),s.Ks(new Iy(s.sy))},s.Qq=function(){s.Jq(),s.Ks(new Cb(s.sy))},s.Zq=function(){s.Kq(s.gy)},s.t$=function(){s.Ks(new Py(s.uy))},s.n$=function(){s.Ks(new qN(s.sy))},s.i$=function(){s.Ks(new $N)},s.e$=function(){var t=s.sy,n=s._y,i=s.m_<uy.q_&&!s.oy,e=void 0!==s.mq,r=e&&s.mq!==t;(n||!e||r&&!i)&&(s.Ks(new xy(s.sy,void 0)),s.mq=t)},s.r$=function(){!s.Eq&&s.oy&&(s.Eq=!0,s.Ks(new By(s.sy)))},s.s$=function(){if(null!==s.ef.error){var t,n=s.ef.error;s.EN(new vm(null!=(t=n.code)?t:hm.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},s.u$=function(){s.Iq&&(s.o$(),s.Rq=!0)},s.a$=function(){s.Ks(new Uy(s.sy,s.by))},s.h$=function(){s.py>0&&s.yy>0&&s.Ks(new pb)},s.c$=function(t){s.Ks(new Ou(t.initDataType,t.initData||new ArrayBuffer(0)))},s.f$=function(){s.Ks(new xu)},s.l$=function(t){var n=t.initData,i=n?Jo(n).buffer:new ArrayBuffer(0);s.Ks(new Ou(ts,i))},s.v$=function(t){if(t.initData){var n=iO(t.initData);if(!n)return;s.Ks(new Ou(is,n))}else s.Ks(new Ou(is,new ArrayBuffer(0)))},s.d$=function(t){var n=t.initData,i=n?Jo(n).buffer:new ArrayBuffer(0);s.Ks(new Ou(ts,i))},s.w$=function(){s.Jq()},s.g$=function(t){s.Yq(t)},s._$=function(t){s.Ks(t),t.type===Bf.If&&s.EN(wm(t.errorObject))},s.ef=n,s.Es=i,s.rq=e,s.XC=r,s.aq=new aC(Kt(s)),s.aq.tu(Sy.Og,s.Zs),s.hq=new fC(Kt(s)),s.hq.tu(Sy.ey,s.Qq),s.MU=new $P(Kt(s)),s.MU.tu([Bf.Rf,Bf.If,Bf.hl],s._$),s.Xy=new Gk,s.fq=new Gk,s.lq=new rS([s.Xy,s.fq]),s.vq=new LP(Kt(s),s.lq),s.dq=new rS([s.lq,s.vq.uT]),s.wq=new DP(Kt(s)),s.y$(),s.zN(),s}E(n,t);var e=n.prototype;return e.m$=function(){this.HN.ended||this.sy===this.uy||(this.Eq=!1)},e.p$=function(){return void 0!==this.gq&&this.uy===this.gq},e.Kq=function(t){this.Sq!==t&&(this.Sq=t,this.Ks(new Oy(this.sy,t)))},e.hD=function(){return $R(this.ef)},e.Qy=function(){this.Bq||(this.Bq=!0);var t=this.k$();return this.b$(),t},e.b$=function(){this.Dq?this.Cq&&(this.Cq=!1,this.Ks(new Ry(this.sy))):this.A$()},e.A$=function(){if(this.oq)this.oq.Qy();else{F.On&&!F.hn&&this.ef.preload===gS.PD&&(this.ef.preload=gS.dA);var t=this.gy,n=this.ef.play();t!==this.HN.playbackRate&&(this.gy=t),Y(n)?n.then(this.w$,this.g$):this.hq.Yz()&&this.Jq()}},e.Jy=function(){this.Dq?this.Cq||(this.Cq=!0,this.Ks(new Iy(this.sy))):this.T$()},e.T$=function(){this.oq?this.oq.Jy():(this.ef.pause(),this.hq.tc()),this.S$(new hu)},e.k$=function(){var t=new na;return this.bq.push(t),t.Wu},e.E$=function(){for(var t=0,n=this.bq;t<n.length;t++){n[t].Yu(void 0)}Zs(this.bq)},e.S$=function(t){for(var n=0,i=this.bq;n<i.length;n++){i[n].Qu(t)}Zs(this.bq)},e.Jq=function(){this.Dq||this.oq||this.E$()},e.Yq=function(t){this.Dq||this.oq||this.S$(t)},e.Uu=function(t,n){this.oq?this.oq.sy=t:(this.kq.Ws(),this.kq=new au,this.pq=this.I$(t,this.pq,this.kq.$s).catch(Z))},e.aD=function(t){var n=this.cD;if(n&&!m(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.Uu(i)}},e.I$=function(t,n,i){var e,r,s,u,o,a,h,c,f=this;return Ur.async(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,this.gq=t,this._q=t,this.UC=!0,this.Eq&&!this.p$()&&(this.Eq=!1),this.Ks(new My(t)),l.next=8,Ur.awrap(n.catch(Z));case 8:if(fu(i),this.Nq&&this.R$(),this.m_!==uy.z_){l.next=13;break}return l.next=13,Ur.awrap(this.wu(Sy.Og,i));case 13:if(0!==this.ef.seekable.length&&(!tO||this.Bq)){l.next=19;break}return l.next=16,Ur.awrap(Ge.race([e_(this.ef,"timeupdate",i),ku(100,i)]));case 16:fu(i),l.next=13;break;case 19:e=this.N$(t),r=this.Fm,s=!0,u=!1;case 23:if((r=this.Fm).$g>0&&!r.uD(e)&&(e=r.nC(e),s=!0),KP&&void 0!==(o=this.D$())&&e>o&&(e=o,s=!0),u){l.next=37;break}if(!(void 0!==(a=this.C$())&&e>a)){l.next=37;break}return u=!0,l.next=33,Ur.awrap(this.P$(a,i));case 33:return l.next=35,Ur.awrap(e_(this.ef,"seeked",i));case 35:fu(i),s=!0;case 37:if(!s){l.next=56;break}return s=!1,l.next=41,Ur.awrap(this.P$(e,i));case 41:fu(i),h=this.sy,r=this.Fm,e=r.nC(e),c=1;case 46:if(!(g.abs(e-h)>=1/6)){l.next=56;break}return r=this.Fm,e=rO(e,r,c),l.next=51,Ur.awrap(this.P$(e,i));case 51:fu(i),h=this.sy,c++,l.next=46;break;case 56:if(this.ef.seeking||this.m_<uy.G_){l.next=58;break}return l.abrupt("break",63);case 58:return l.next=60,Ur.awrap(gu(function(t){var n;return Ge.race([e_(f.ef,"seeked",t),f.wu([Bf.Vf,Bf.Cf,Sy.Og],t),null==(n=f.wN)?void 0:n.wu(LN.uO,t)].filter(H))},i));case 60:fu(i),l.next=23;break;case 63:this.O$(),l.next=71;break;case 66:if(l.prev=66,l.t0=l.catch(0),!cu(l.t0)){l.next=70;break}return l.abrupt("return");case 70:0;case 71:case"end":return l.stop()}},null,this,[[0,66]],Ge)},e.P$=function(t,n){var i,e,r;return Ur.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(fu(n),i=this.Fm,t=i.nC(t),!this.Nq){s.next=18;break}e=!0;case 5:if(!(e||this.m_<uy.q_)){s.next=17;break}if((i=this.Fm).uD(t)||(t=i.nC(t),e=!0),!e){s.next=13;break}return e=!1,this.gq=t,this.x$(this.sy),s.abrupt("continue",5);case 13:return s.next=15,Ur.awrap(this.wu([Sy.Og,Bf.Cf],n));case 15:s.next=5;break;case 17:fu(n);case 18:if(r=e_(this.ef,"seeking",n),this.ef.currentTime=t,this.gq=void 0,this.x$(this.sy),!this.ef.seeking){s.next=25;break}return s.next=25,Ur.awrap(r);case 25:case"end":return s.stop()}},null,this,null,Ge)},e.N$=function(t){var n=this.Tm;if(n&&!n.uD(t)){var i=n.vC(t,.05);if(i>-1){var e=n.WD(i);if(t<e)return e}}return t},e.D$=function(){if(this.wN&&this.wN.KU){var t=this.wN.tj,n=this.wN.nj,i=t&&n?t.rC(n):t||n;if(i&&0!==i.$g){var e=i.WD(i.$g-1),r=i.qD(i.$g-1);return g.max(e,r-.001)}}},e.C$=function(){if(this.wN&&this.wN.KU){var t=this.wN.nj;if(t&&0!==t.$g){var n=t.WD(t.$g-1),i=t.qD(t.$g-1)-.02;return i-=.001,g.max(n,i)}}},e.x$=function(t){this._q!==t&&(this._q=t,this.Ks(new My(t)))},e.O$=function(){this.UC=!1,this._q=NaN,this.Nq&&this.B$(),this.Ks(new Fy(this.sy))},e.R$=function(){this.Dq||(this.Cq=this.wy,this.Dq=!0,this.T$())},e.B$=function(){this.Dq&&(this.Dq=!1,this.Cq||this.b$())},e.ZU=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.gs===mb.FE&&GN.ZU(i,this.ef))return i;if(i.gs===mb.UE&&iC.ZU(i))return i}},e.vm=function(){this.FD=!1,vr(this.ef)&&(this.ef.style.display="none")},e.lm=function(){this.FD=!0,vr(this.ef)&&(this.ef.style.display="block")},e.OE=function(t,n,i,e,r,s,u,o){var a=new IC(t,n,i,e,r,s,u,o);return this.Xy.zg(a),this.wq.zg(a),a},e.QN=function(){return!0},e.ZN=function(t,n,i,e,r){var u=s.createElement("track");u.src=kw(t),u.kind=n,u.label=null!=i?i:"",e&&(u.srclang=e),u.default=!!r,u.id=pI(),this.ef.appendChild(u);var o=this.ef.textTracks.getTrackById(u.id),a=new SP(o,u);return this.fq.zg(a),this.cq.push(a),a},e.LE=function(t){this.Xy.Wg(t),this.wq.Wg(t)},e.nD=function(){for(var t=0,n=this.Xy.qg.slice();t<n.length;t++){n[t].Kc()}this.Xy.wc();for(var i=0,e=this.cq.slice();i<e.length;i++){var r=e[i];this.fq.Wg(r),r.Kc()}Zs(this.cq)},e.zN=function(){var t=this.ef.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.Lq),t.addEventListener("removetrack",this.Uq),t.addEventListener("change",this.jq))},e.eD=function(){var t=this.ef.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.Lq),t.removeEventListener("removetrack",this.Uq),t.removeEventListener("change",this.jq))},e.Fq=function(t,n){if(F.On){if(t.kind===Wk.dA)return void this.L$(t);if(t.kind===Wk.gE&&""===t.label&&""===t.language&&!uO(t))return void this.M$(t,n)}sO(this.fq,t)||this.fq.zg(new SP(t,n))},e.L$=function(t){t.mode=j_.l_;var n=new BP(t);this.fq.zg(n),this.wq.zg(n)},e.M$=function(t,n){var i=this;t.addEventListener("cuechange",function e(){uO(t)&&(t.removeEventListener("cuechange",e),i.fq.zg(new SP(t,n)))}),t.mode=j_.l_},e.Mq=function(t){for(var n=this.ef.getElementsByTagName("track"),i=0;i<n.length;i++){var e=n[i]||n.item(i);if(e.track===t)return e}},e.Zh=function(t){var n=this;return this.uq.Jc(function(i){var e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(fu(i),!n.wN){r.next=3;break}throw new l("Already loaded a media source");case 3:if(t.gs!==mb.FE){r.next=9;break}e=new GN(t,n,n.MU,n.Es),n.Nq=!1,n.F$(new aC(n)),r.next=17;break;case 9:if(t.gs!==mb.UE){r.next=16;break}e=new iC(t,n,n.MU,n.Es,void 0,n.ZV),n.Nq=YP,n.F$(n.Nq?new hC(n):new aC(n)),QP&&(n.tu(Bf.ol,n.Hq),n.tu(Sy.Og,n.Wq)),r.next=17;break;case 16:throw new l("Unsupported configuration");case 17:return n.wN=e,r.next=20,Ur.awrap(e.LL());case 20:return r.abrupt("return",e);case 21:case"end":return r.stop()}},null,null,null,Ge)})},e.Vq=function(){if(!this.Pq){var t=this.gy;this.Pq=!0,this.gy=t,this.ef.playbackRate=0,this.aq&&this.aq.Vz()}},e.Xq=function(){if(this.Pq){var t=this.gy;this.Pq=!1,this.gy=t,this.Gq()}},e.Gq=function(){this.ef.currentTime=this.ef.currentTime,this.aq&&this.aq.Vz()},e.F$=function(t){var n=this.m_;this.aq.Us(),this.aq=t,this.aq.tu(Sy.Og,this.Zs);var i=this.m_;n!==i&&this.Ks(new Xy(this.sy,i))},e.wc=function(){var t=this;return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.UC=!1,this.Aq=TS.RC(),this.kq.Ws(),this.gq=void 0,this._q=NaN,this.yq=void 0,this.Nq=!1,this.Dq=!1,this.gN=void 0,this.Eq=!1,this.mq=void 0,this.Iq=!1,this.Bq=!1,this.Rq&&(this.y$(),this.Rq=!1),this.S$(new hu),this.F$(new aC(this)),this.hq.wc(),this.fq.wc(),this.Xq(),QP&&(zI(this.xq),this.xq=0,this.au(Bf.ol,this.Hq),this.au(Sy.Og,this.Wq)),n.next=22,Ur.awrap(this.uq.Ws());case 22:return n.next=24,Ur.awrap(this.uq.Jc(function(){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.wN){n.next=4;break}return n.next=3,Ur.awrap(t.wN.Us());case 3:t.wN=void 0;case 4:case"end":return n.stop()}},null,null,null,Ge)}));case 24:case"end":return n.stop()}},null,this,null,Ge)},e.Us=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Rq=!1,this.o$(),this.eD(),t.next=5,Ur.awrap(this.wc());case 5:return t.next=7,Ur.awrap(this.uq.Kc());case 7:return this.hq.Us(),this.aq.Us(),t.next=11,Ur.awrap(this.MU.Us());case 11:return this.nD(),this.Xy.Kc(),this.fq.Kc(),t.next=16,Ur.awrap(this.vq.Kc());case 16:this.lq.Kc(),this.dq.Kc(),this.ou();case 19:case"end":return t.stop()}},null,this,null,Ge)},e.y$=function(){this.HN.addEventListener("play",this.qq),this.HN.addEventListener("pause",this.$q),this.HN.addEventListener("timeupdate",this.e$),this.HN.addEventListener("progress",this.n$),this.HN.addEventListener("loadstart",this.i$),this.HN.addEventListener("ended",this.r$),this.HN.addEventListener("ratechange",this.Zq),this.HN.addEventListener("volumechange",this.a$),this.HN.addEventListener("durationchange",this.t$),this.HN.addEventListener("resize",this.h$),this.HN.addEventListener("loadedmetadata",this.h$),this.HN.addEventListener("error",this.s$),this.HN.addEventListener("emptied",this.u$),xs()?(this.ef.addEventListener("encrypted",this.c$),this.ef.addEventListener("waitingforkey",this.f$)):void 0!==we.WebKitMediaKeys&&"function"==typeof we.WebKitMediaKeys.isTypeSupported?this.ef.addEventListener("webkitneedkey",this.v$):Bs()?this.ef.addEventListener("webkitneedkey",this.d$):void 0!==we.MSMediaKeys&&"function"==typeof we.MSMediaKeys.isTypeSupported&&this.ef.addEventListener("msneedkey",this.l$)},e.o$=function(){this.HN.removeEventListener("play",this.qq),this.HN.removeEventListener("pause",this.$q),this.HN.removeEventListener("timeupdate",this.e$),this.HN.removeEventListener("progress",this.n$),this.HN.removeEventListener("loadstart",this.i$),this.HN.removeEventListener("ended",this.r$),this.HN.removeEventListener("ratechange",this.Zq),this.HN.removeEventListener("volumechange",this.a$),this.HN.removeEventListener("durationchange",this.t$),this.HN.removeEventListener("resize",this.h$),this.HN.removeEventListener("loadedmetadata",this.h$),this.HN.removeEventListener("error",this.s$),this.HN.removeEventListener("encrypted",this.c$),this.HN.removeEventListener("waitingforkey",this.f$),this.HN.removeEventListener("webkitneedkey",this.v$),this.HN.removeEventListener("webkitneedkey",this.d$),this.HN.removeEventListener("msneedkey",this.l$),this.HN.removeEventListener("emptied",this.u$)},e.U$=function(){var t;this.oq||(this.Aq=this.Lm,this.oq=new sC((t=this).sy,t.uy,t.oy,t.wy,t._y,t.vy,t.gy,t.by,t.m_),this.o$(),this.oq.tu(rC,this.Zs))},e.j$=function(){if(this.oq){var t,n,i=this.oq;this.oq=void 0,this.aq.Vz(),t=this,(n=i).uy===t.uy||m(n.uy)&&m(t.uy)||t.Ks(new Py(t.uy)),t.vy=n.vy,t.by=n.by,t.gy=n.gy,n.wy?t.Jy():t.Qy().catch(Z),n.sy!==t.sy||n.m_>uy.z_&&t.m_===uy.z_?t.Uu(n.sy):!n._y&&t._y?t.Ks(new My(t.sy)):n._y&&!t._y&&t.m_>=uy.G_&&t.Ks(new Fy(t.sy)),!n.oy&&t.oy&&t.Ks(new By(t.sy)),i.Us(),this.y$()}},e.EN=function(t){this.gN=t,this.S$(this.gN),this.Ks(new lC(this.gN))},e.H$=function(){this.X$||(Ox(this.ef,i.jr),this.Oq=!0)},e.V$=function(t){t.appendChild(this.ef)},e.Pz=function(){QP&&this.Hq(),this.aq.Vz()},e.Am=function(){this.MU.nq().catch(Z),this.fq.wc()},T(n,[{key:"Wz",get:function(){return this.Pq}},{key:"Tm",get:function(){return this.wN?this.wN.Tm:TS.RC()}},{key:"Sm",get:function(){var t=this.cD;if(t&&!m(t.getTime())){var n=1e3*this.sy;return new Date(t.getTime()+n)}}},{key:"cD",get:function(){if(this.HN.getStartDate)return this.UC&&this.yq||(this.yq=this.HN.getStartDate()),this.yq}},{key:"sy",get:function(){return this.oq?this.oq.sy:void 0!==this.gq?this.gq:this.ef.currentTime}},{key:"JF",get:function(){return this.rq}},{key:"uy",get:function(){return this.oq?this.oq.uy:this.wN?this.wN.uy:this.ef.duration}},{key:"oy",get:function(){return this._y?this.p$():this.oq?this.oq.oy:this.ef.ended||this.Eq}},{key:"Au",get:function(){return this.gN}},{key:"HN",get:function(){return this.ef}},{key:"wy",get:function(){return this.Dq?this.Cq:this.oq?this.oq.wy:this.ef.paused}},{key:"Lm",get:function(){return this.Aq.cC(TS.SC(this.ef.played))}},{key:"bT",get:function(){return this.ef.offsetHeight*i.jr.Ve}},{key:"xp",get:function(){return this.ef.offsetWidth*i.jr.Ve}},{key:"tD",get:function(){return IS}},{key:"m_",get:function(){return this.aq.m_}},{key:"Fm",get:function(){return this.wN?this.wN.Fm:TS.RC()}},{key:"_y",get:function(){return this.oq?this.oq._y:this.UC}},{key:"vy",get:function(){return this.oq?this.oq.vy:this.ef.muted},set:function(t){this.oq?this.oq.vy=t:this.ef.muted=t}},{key:"gy",get:function(){return this.oq?this.oq.gy:void 0!==this.Tq?this.Tq:this.ef.playbackRate},set:function(t){this.oq?this.oq.gy=t:this.wy||this.Pq?(this.Tq=t,this.Kq(t)):(this.Tq=void 0,this.ef.playbackRate=t)}},{key:"z$",get:function(){return this.FD}},{key:"by",get:function(){return this.oq?this.oq.by:this.ef.volume},set:function(t){this.oq?this.oq.by=t:this.ef.volume=t}},{key:"$y",get:function(){return this.dq}},{key:"KF",get:function(){return this.XC}},{key:"Im",get:function(){return!!this.ef.webkitCurrentPlaybackTargetIsWireless}},{key:"X$",get:function(){return this.Oq}},{key:"W$",get:function(){return jr({},XN)}},{key:"XN",get:function(){return this.MU.XN},set:function(t){this.MU.XN=t}},{key:"G$",get:function(){return this.ZV},set:function(t){this.ZV=t}},{key:"iq",get:function(){return this.MU.iq}},{key:"jm",get:function(){return this.Iq},set:function(t){this.Iq=t,this.Rq&&!this.Iq&&(this.Rq=!1,this.y$())}}]),n}(Su);function iO(t){try{var n=Go(t),i=new Ko;return Lo(Mo(go(n,i,bo(n,i,!0)),!0))}catch(t){return}}var eO=.01;function rO(t,n,i){if(void 0===i&&(i=0),!n.$g)return 0;var e=n.nC(t),r=eO*i;return e===n.WD(0)?e+=r:e===n.qD(n.$g-1)&&(e-=r),e}function sO(t,n){for(var i=0,e=t.qg;i<e.length;i++){var r=e[i];if(r.Jm===n)return r}}function uO(t){return!!t.cues&&t.cues.length>0}var oO={dF:void 0,wF:void 0,gF:void 0,_F:void 0,yF:void 0,mF:void 0,TF:void 0,pF:void 0,kF:void 0,bF:void 0,AF:void 0},aO=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).dg=void 0,n}return E(n,t),T(n,[{key:"wg",get:function(){return this.dg||(this.dg=uN(this)),this.dg}},{key:"dF",get:function(){}},{key:"wF",get:function(){}},{key:"gF",get:function(){}},{key:"_F",get:function(){}},{key:"yF",get:function(){}},{key:"mF",get:function(){}},{key:"TF",get:function(){}},{key:"pF",get:function(){}},{key:"kF",get:function(){}},{key:"bF",get:function(){}},{key:"AF",get:function(){}}]),n}(Su);new aO;var hO=function(t){function n(n,i,e){return t.call(this,n,i,e,new aO)||this}return E(n,t),n.prototype.dm=function(){},T(n,[{key:"yy",get:function(){return 0}},{key:"py",get:function(){return 0}}]),n}(nO),cO="theoplayer-texttracks",fO=function(){function t(t){void 0===t&&(t=5),this.q$=void 0;var n=we.document.createElement("div");n.className=cO,n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.width="100%",n.style.height="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.q$=n,this.lm()}var n=t.prototype;return n.vm=function(){this.q$.style.display="none"},n.lm=function(){this.q$.style.display="block"},n.V$=function(t){t.appendChild(this.q$)},n.Kc=function(){nr(this.q$)},T(t,[{key:"Em",get:function(){return this.q$}}]),t}();function lO(t,n){return jr({},n,E_({dF:(i=t).dF,wF:i.wF,gF:i.gF,_F:i._F,yF:i.yF,mF:i.mF,TF:i.TF,pF:i.pF,kF:i.kF,bF:i.bF,AF:i.AF}));var i}function vO(t){return t.gF&&Ts(t.gF,"%")?Number(t.gF.replace("%",""))/100:t.gF&&Ts(t.gF,"em")?Number(t.gF.replace("em","")):1}var dO,wO,gO=function(){function t(t,n,i,e,r){var s=this;this.Y$=Vr(),this.Q$=!0,this.J$=void 0,this.Z$=jr({},oO),this.K$=[],this.pp=void 0,this.ef=void 0,this.rq=void 0,this.tY=void 0,this.nY=function(t){return s.BE(t.sp)},this.iY=function(t){return s.removeCue(t.sp)},this.eY=function(){return s.rY()},this.sY=function(t){return s.uY(t.sp)},this.oY=function(t){return s.aY(t.sp)},this.hY=function(t){return s.cY(t.sp)},this.fY=function(t){s.lY(t.xp,t.bT)},this.pp=t,this.tY=this.J$=r,this.ef=this.vY(i),this.rq=e,n.appendChild(this.ef)}var n=t.prototype;return n.dY=function(t){var n=this.wY(t);if(!n)return!1;for(var i=0;i<n.length;i++){nr(n[i])}return this.gY(t),!0},n.LL=function(){var t=this;this._Y(),this.pp.p_.qg.forEach(function(n){return t.BE(n)}),this.JF.tu("qx",this.fY),this.lY(this.JF.tB,this.JF.Kx)},n.yY=function(t){this.Z$=t,this.J$=lO(this.Z$,this.tY),this.J$.dF&&(this.HN.style.fontFamily=this.J$.dF),this.J$.TF&&(this.HN.style.visibility=this.J$.TF),this.lY(this.JF.tB,this.JF.Kx),this.mY(!0)},n.pY=function(){return this.J$},n.kY=function(t){return this.Y$.has(t.s_)},n._Y=function(){this.pp.tu(h_.yg,this.nY),this.pp.tu(h_.Ag,this.iY),this.pp.tu(h_.Cg,this.eY)},n.bY=function(){this.pp.au(h_.yg,this.nY),this.pp.au(h_.Ag,this.iY),this.pp.au(h_.Cg,this.eY)},n.AY=function(t){t.tu(Um.np,this.sY),t.tu(Um.ep,this.oY),t.tu(Um.Mg,this.hY)},n.TY=function(t){t.au(Um.np,this.sY),t.au(Um.ep,this.oY),t.au(Um.Mg,this.hY)},n.BE=function(t){this.AY(t),t.Ep&&this.uY(t)},n.removeCue=function(t){this.TY(t),this.aY(t)},n.rY=function(){this.pp.g_===j_.v_?this.SY():this.EY()},n.SY=function(){if(this.Q$){this.Q$=!1;var t=this.JF.tB,n=this.JF.Kx;this.lY(t,n),this.mY(!1)}},n.EY=function(){this.Q$||(this.Q$=!0,this.mY(!0))},n.uY=function(t){this.Q$||t.Ep&&!this.kY(t)&&this.mY(!1)},n.aY=function(t){this.kY(t)&&this.mY(!1)},n.cY=function(t){(t.Ep||this.kY(t))&&this.mY(!0)},n.mY=function(t){var n=this.K$,i=this.Q$?[]:this.pp.k_.qg.slice();this.IY(i,n,t),this.K$=i},n.wY=function(t){var n;return null==(n=this.Y$.get(t.s_))?void 0:n.RY},n.NY=function(t,n){this.Y$.set(t.s_,{sp:t,RY:n})},n.gY=function(t){this.Y$.delete(t.s_)},n.DY=function(){return this.K$.slice()},n.Kc=function(){var t=this;nr(this.HN),this.Y$.clear(),this.bY(),this.pp.p_.qg.forEach(function(n){return t.TY(n)}),this.JF.au("qx",this.fY)},T(t,[{key:"_g",get:function(){return this.pp}},{key:"HN",get:function(){return this.ef}},{key:"JF",get:function(){return this.rq}},{key:"CY",get:function(){return this.J$}},{key:"PY",get:function(){return this.Z$}}]),t}();function _O(t){return yO[t||"none"]}!function(t){t.OY='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.xY='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.BY='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.LY='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(dO||(dO={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(wO||(wO={}));var yO={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"},mO=zr({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),pO={wF:wO.WHITE,dF:"Arial, Helvetica, Sans-Serif",gF:"100%",_F:wO.TRANSPARENT,yF:wO.TRANSPARENT,mF:"none",TF:"visible",pF:void 0,kF:void 0,bF:void 0,AF:void 0},kO=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,pO)||this}E(n,t);var i=n.prototype;return i.vY=function(t){var n=s.createElement("div");return n.className="theoplayer-ttml-texttrack-"+t,n.style.position="absolute",ar(n.style,"flex"),n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n},i.lY=function(t,n){var i=g.min(t,n)/15;this.HN.style.fontSize=i+"px"},i.IY=function(t,n,i){for(var e=0;e<n.length;e++){var r=n[e];!i&&r.Ep||this.dY(r)}for(var s=0;s<t.length;s++){var u=t[s];this.MY(u)}},i.MY=function(t){var n=this.wY(t);n||(n=this.FY(t),this.NY(t,n));for(var i=0,e=n;i<e.length;i++){var r=e[i];this.HN.appendChild(r)}},i.FY=function(t){var n,i=[],e=t.fE,r=t.pb,u=t.hp;if(0===w.keys(r).length){NO(n=s.createElement("div"));for(var o=bO(u,e,t.lE,void 0),a=0;a<o.length;a++){var h=o[a];n.appendChild(h)}i.push(n)}else for(var c=0,f=w.keys(r);c<f.length;c++){var l=f[c],v=s.createElement("div");v.id=l;var d=bO(u,e,t.lE,v);if(d){NO(v),TO(v,"region",r[l],e);for(var g=0;g<d.length;g++){var _=d[g];v.appendChild(_)}i.push(v)}i.push(v)}return i},i.yY=function(t){var n,i,e,r;n=this.HN,i=t,n.style.marginTop=(null!=(e=i.pF)?e:0)+"px",n.style.marginBottom=(null!=(r=i.kF)?r:0)+"px",n.style.height="calc(100% - "+n.style.marginTop+" - "+n.style.marginBottom+")",cN(this.HN,t)},n}(gO);function bO(t,n,i,e){var r,u;if(Jt(t)&&("SPAN"===(u=t).wi.toUpperCase()||"P"===u.wi.toUpperCase()||"BR"===u.wi.toUpperCase()||"DIV"===u.wi.toUpperCase()||"BODY"===u.wi.toUpperCase())){var o=function t(n){var i=n.xi("region");if("p"===n.wi.toLowerCase())return i;var e=[];for(var r=0,s=n.Oi;r<s.length;r++){var u=s[r];e.push(t(u))}!function(t){for(var n=[],i=0;i<t.length;i++){for(var e=!0,r=i+1;r<t.length;r++)if(t[i]===t[r]){e=!1;break}e&&n.push(t[i])}}(e);return 0===e.length?i:1===e.length?null!=(o=e[0])?o:i:void 0;var o}(t);if(!o||(null==e?void 0:e.id)===o){(r="BODY"===t.wi.toUpperCase()?e:function(t){var n;switch(t.wi.toUpperCase()){case"BR":n=s.createElement("br");break;case"SPAN":AO(n=s.createElement("span"),t);break;case"P":n=s.createElement("p"),(i=n).style.fontFamily="inherit",i.style.color="inherit",i.style.textAlign="inherit",i.style.padding="0",i.style.margin="0",i.style.lineHeight="inherit",AO(n,t);break;case"DIV":AO(n=s.createElement("div"),t)}var i;return n}(t))&&(function(t,n,i,e){var r=n.xi("style");EO(t,n.wi,r,i,e),function(t,n,i){for(var e=0,r=n.ji;e<r.length;e++){var s=r[e],u=Ik(s.gi,["ebutts","tts","xml"]);IO(t,n.wi,u,s.Ti,i)}}(t,n,e)}(r,t,n,e),function(t,n,i){var e=null==n?void 0:n.xi("smpte:backgroundImage");if(e){e=e.replace("#","");var r=i&&function t(n,i){if(i(n))return n;for(var e=0,r=n.Oi;e<r.length;e++){var s=r[e],u=t(s,i);if(u)return u}return null}(i,function(t){return t.ji.some(function(t){return"id"===t.wi&&t.Ti===e})});r&&SO(t,r,n,!0)}!function(t,n){var i=n.Oi[0];if(!i||"metadata"!==i.wi.toLowerCase())return;var e=i.Oi[0];SO(t,e,n)}(t,n)}(r,t,i));for(var a=[],h=t.Ri,c=0;c<h.length;c++){var f=bO(h[c],n,i,e);f&&(a=a.concat(f))}if("BODY"!==t.wi.toUpperCase()){for(var l=0,v=a;l<v.length;l++){var d,w=v[l];null==(d=r)||d.appendChild(w)}return r?[r]:[]}return a}}else Zt(t)&&(r=s.createTextNode(t.Xi));return r?[r]:[]}function AO(t,n){var i=n.Bi(Tk,"id");i&&(t.id=i)}function TO(t,n,i,e){EO(t,n,i.style,e,t);for(var r=0,s=w.keys(i);r<s.length;r++){var u=s[r];IO(t,n,u,i[u],t)}}function SO(t,n,i,e){void 0===e&&(e=!1),e&&(t.style.width=t.style.height="100%");var r=s.createElement("img");r.src=function(t){var n=t&&t.Ri.length>0?t.Ri[0]:null;return n&&Zt(n)?"data:image/png;base64,"+n.Xi:""}(n),r.id=t.id,r.style.height="100%",r.style.maxWidth="100%",function(t,n){ar(t.style,"flex");var i=n.xi("smpte:backgroundImageVertical");if(i)switch(i.toLowerCase()){case"left":t.style.alignItems="flex-start";break;case"center":t.style.alignItems="center";break;case"right":t.style.alignItems="flex-end";break;case"inherit":t.style.alignItems="inherit"}else t.style.alignItems="center";var e=n.xi("smpte:backgroundImageHorizontal");if(e)switch(e.toLowerCase()){case"left":t.style.justifyContent="flex-start";break;case"center":t.style.justifyContent="center";break;case"right":t.style.justifyContent="flex-end";break;case"inherit":t.style.justifyContent="inherit"}else t.style.justifyContent="center"}(t,i),t.appendChild(r)}function EO(t,n,i,e,r){if(i)for(var s=0,u=i.split(" ");s<u.length;s++){var o=u[s];if(e[o])for(var a=0,h=w.keys(e[o]);a<h.length;a++){var c=h[a],f=Ik(c,["ebutts","tts","xml"]);"style"===f.toLowerCase()?EO(t,n,e[o][c],e,r):IO(t,n,f,e[o][c],r)}}}function IO(t,n,i,e,r){switch(i){case"backgroundColor":t.style.backgroundColor=e;break;case"color":t.style.color=e;break;case"direction":t.style.direction=e;break;case"display":"none"===e&&(t.style.display="none");break;case"fontFamily":var s=mO.get(e);t.style.fontFamily=s||e;break;case"fontSize":Ts(e,"px")?e=_(e)/24+"em":Ts(e,"c")&&(e=e.replace("c","em")),t.style.fontSize=e;break;case"fontStyle":t.style.fontStyle=e;break;case"fontWeight":t.style.fontWeight=e;break;case"lineHeight":t.style.lineHeight=e;break;case"opacity":t.style.opacity=e;break;case"overflow":t.style.overflow=e;break;case"padding":t.style.padding=e;break;case"textAlign":"right"===e?(t.style.textAlign="right",t.style.justifyContent="flex-end"):"start"===e?(t.style.textAlign="start",t.style.justifyContent="flex-start"):"center"===e?(t.style.textAlign="center",t.style.justifyContent="center"):"end"===e?(t.style.textAlign="end",t.style.justifyContent="flex-end"):"left"===e&&(t.style.textAlign="left",t.style.justifyContent="flex-start");break;case"textDecoration":var u=e;u=(u=(u=(u=u.replace("lineThrough","line-through")).replace("noUnderline","none")).replace("noLineThrough","none")).replace("noOverline","none"),t.style.textDecoration=u;break;case"unicodeBidi":t.style.unicodeBidi=e.replace("bidiOverride","bidi-override");break;case"visibility":t.style.visibility=e;break;case"zIndex":t.style.zIndex=e;break;case"displayAlign":var o;if("before"===e.toLowerCase())o="flex-start";else if("center"===e.toLowerCase())o="center";else{if("after"!==e.toLowerCase())return;o="flex-end"}t.style.alignItems=o;break;case"extent":var a,h,c=RO(n.toLowerCase())?r:t,f=e.split(" ");f.length>=2?(a=f[0],h=f[1]):a=h="100%",c&&(c.style.height=h,c.style.width=a);break;case"origin":var l=RO(n.toLowerCase())?r:t,v=e.split(" "),d=v[0],w=v[1];l&&(d||w)&&(d&&(l.style.left=d),w&&(l.style.top=w));break;case"showBackground":break;case"wrapOption":t.style.whiteSpace=e.replace("noWrap","nowrp").replace("wrap","normal").replace("nowrp","nowrap");break;case"writingMode":var g,y,m,p;switch(e){case"lrtb":g="horizontal-tb";break;case"rltb":g="horizontal-tb",y="rtl",p="bidi-override";break;case"tbrl":g="vertical-rl",m="upright";break;case"tblr":g="vertical-lr",m="upright";break;case"lr":g="horizontal-tb";break;case"rl":g="horizontal-tb",y="rtl";break;case"tb":g="vertical-rl",m="upright";break;default:return}t.style.writingMode=g,t.style.setProperty("-webkit-writing-mode",g),y&&(t.style.direction=y),m&&(t.style.textOrientation=m,t.style.setProperty("-webkit-text-orientation",m)),p&&(t.style.unicodeBidi=p);break;case"textOutline":break;case"linePadding":if(Ts(e,"c")){var k=e.replace("c","em");t.style.paddingLeft=t.style.paddingRight=k}break;case"multiRowAlign":"auto"===e.toLowerCase()?t.style.textAlign="":t.style.textAlign="value"}}function RO(t){return"div"===t||"p"===t||"span"===t}function NO(t){ar(t.style,"flex"),t.style.top="auto",t.style.left="5%",t.style.width="90%",t.style.height="100%",t.style.maxHeight=t.style.maxWidth="100%",t.style.alignItems="flex-start",t.style.overflow="visible",t.style.position="absolute",t.style.justifyContent="center",t.style.fontFamily="Arial, Helvetica, Sans-Serif",t.style.color="white",t.style.textShadow="rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px",t.style.textAlign="start",t.style.writingMode="horizontal-tb",t.style.setProperty("-webkit-writing-mode","horizontal-tb"),t.style.padding="0",t.style.margin="0",t.style.lineHeight="1.3em"}var DO,CO,PO=void 0;function OO(t,n){for(var i,e=DO.UY,r="",s=[],u=t.charAt(n.Lu),o="",a={gs:CO.jY,Ni:"",HY:[]};n.Lu<t.length+1;){switch(u=n.Lu<t.length?t.charAt(n.Lu):"EOF",e){case DO.UY:switch(u){case"&":var h=t.substring(n.Lu).match(/&#?[0-9a-zA-Z]+;/);h?(r+=(i=h[0],PO||(PO=we.document.createElement("textarea")),PO.innerHTML=i,PO.value),n.Mu(h[0].length-1)):r+="&";break;case"<":if(r)return{gs:CO.XY,hp:r};e=DO.VY;break;case"EOF":return{gs:CO.XY,hp:r};default:r+=u}break;case DO.VY:switch(u){case"\t":case"\n":case"\f":case" ":e=DO.zY;break;case".":e=DO.WY;break;case"/":e=DO.GY;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=u,e=DO.qY;break;case">":return n.Mu(1),a;case"EOF":return a;default:r=u,e=DO.$Y}break;case DO.$Y:switch(u){case"\t":case"\f":case" ":e=DO.zY;break;case"\n":o=u,e=DO.zY;break;case".":e=DO.WY;break;case">":return n.Mu(1),{gs:CO.jY,Ni:r,HY:[]};case"EOF":return{gs:CO.jY,Ni:r,HY:[]};default:r+=u}break;case DO.WY:switch(u){case"\t":case"\f":case" ":s.push(o),o="",e=DO.zY;break;case"\n":s.push(o),o=u,e=DO.zY;break;case".":s.push(o),o="";break;case">":return n.Mu(1),s.push(o),{gs:CO.jY,Ni:r,HY:s};case"EOF":return s.push(o),{gs:CO.jY,Ni:r,HY:s};default:o+=u}break;case DO.zY:switch(u){case"&":e=DO.YY;break;case">":n.Mu(1);var c=o.trim();return c=c.replace(/\s/," "),{gs:CO.jY,Ni:r,HY:s,QY:c};default:o+=u}break;case DO.YY:for(var f="",l=n.Lu;">"===t.charAt(l);l++)f+=t.charAt(l);o+=f||"&",e=DO.zY;break;case DO.GY:switch(u){case">":return n.Mu(1),{gs:CO.JY,Ni:r};case"EOF":return{gs:CO.JY,Ni:r};default:r+=u}break;case DO.qY:switch(u){case">":return n.Mu(1),{gs:CO.ZY,KY:r};case"EOF":return{gs:CO.ZY,KY:r};default:r+=u}}n.Mu(1)}return a}function xO(t,n,i,e){if(void 0===e&&(e=0),t&&n){t.style.left="0px";var r=t.getClientRects(),s=n.getClientRects();if(0!==r.length&&0!==s.length){var u=r[0],o=s[0],a=u.width/2+u.left;!function(t,n,i,e){void 0===e&&(e=0);!function(t,n,i,e,r,s){void 0===s&&(s=0);var u=t.getClientRects();if(r&&u.length>0){var o=u[0],a=r[i]+s-o[i],h=r[e]-s-o[e];n=Ft(n,a,h)}t.style[i]=n+"px"}(t,n,"left","right",i,e)}(t,o.width/2+o.left-a,i,e)}}}function BO(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}!function(t){t.UY="Data",t.VY="Tag",t.$Y="StartTag",t.WY="StartTagClass",t.zY="StartTagAnnotation",t.YY="CharRefInAnnotation",t.GY="EndTag",t.qY="TimestampTag"}(DO||(DO={})),function(t){t.XY="string",t.jY="starttag",t.JY="endtag",t.ZY="timestamp"}(CO||(CO={}));var LO,MO=function(){function t(t,n,i,e){this.tQ=void 0,this.nQ=void 0,this.xp=void 0,this.bT=void 0,this.tQ=t,this.nQ=n,this.xp=i,this.bT=e}var n=t.prototype;return n.iQ=function(t){return this.tQ<t.eQ&&this.eQ>t.tQ&&this.nQ<t.rQ&&this.rQ>t.nQ},n.Vm=function(t){return this.tQ<=t.tQ&&t.eQ<=this.eQ&&this.nQ<=t.nQ&&t.rQ<=this.rQ},n.ju=function(){return new t(this.tQ,this.nQ,this.xp,this.bT)},T(t,[{key:"eQ",get:function(){return this.tQ+this.xp},set:function(t){this.tQ=t-this.xp}},{key:"rQ",get:function(){return this.nQ+this.bT},set:function(t){this.nQ=t-this.bT}}]),t}(),FO={wF:wO.WHITE,dF:"sans-serif",gF:"100%",_F:"rgba(0,0,0,0.8)",yF:wO.TRANSPARENT,mF:"none",TF:"visible",pF:void 0,kF:void 0,bF:void 0,AF:void 0},UO="theoplayer-webvtt-region-",jO="theoplayer-webvtt-styling-",HO="theoplayer-webvtt-voice-",XO="theoplayer-webvtt-default-style",VO=5.23,zO=1.14,WO=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,FO)||this).sQ=Xr(),s.uQ=QO(3),s}E(n,t);var i=n.prototype;return i.vY=function(t){var n=s.createElement("div");n.className="theoplayer-webvtt-texttrack-"+t,fr(n),n.style.overflow="hidden",n.style.pointerEvents="none";var i=this.CY.dF;return i&&(n.style.fontFamily=i),n.style.whiteSpace="pre-line",function(){if(s.getElementById(XO))return;for(var t=[],n=0;n<rx.length;n++){var i=rx[n],e=i[0],r=i[1];t.push("."+jO+e+" { color: "+r+" !important; }"),t.push("."+jO+"oQ"+e+" { background-color: "+r+" !important; }"),t.push("video::cue(."+e+") { color: "+r+"; }"),t.push("aQ"+e+") { background-color: "+r+"; }")}var u=s.createElement("style");u.id=XO,u.innerHTML=t.join("\n"),s.body.appendChild(u)}(),n},i.LL=function(){this.HN.appendChild(this.uQ),t.prototype.LL.call(this)},i.lY=function(t,n){var i=this,e=g.min(t/100,n/100),r=vO(this.CY);this.sQ.forEach(function(t){var n=t.wp,s=t.hQ;i.cQ(s,e,r,n)}),this.cQ(this.uQ,e,r)},i.yY=function(n){cN(this.HN,n),t.prototype.yY.call(this,n)},i.IY=function(t,n,i){for(var e=this,r=this.HN,s=this.JF.Kx/100,u=[],o=0;o<t.length;o++){var a=t[o];void 0!==a.wp&&(Js(u,a.wp)||u.push(a.wp))}this.sQ.forEach(function(t,n){var r=t.wp,s=t.hQ;!i&&Js(u,r)||(nr(s),e.sQ.delete(n))});for(var h=0;h<n.length;h++){var c=n[h];!i&&c.Ep||this.dY(c)}var f=[],l=tx(this.uQ.getBoundingClientRect());f.push.apply(f,this.fQ(l));for(var v=0;v<u.length;v++){var d=u[v],w=void 0;this.sQ.has(d.r_)?w=this.sQ.get(d.r_).hQ:(w=JO(d,s),r.appendChild(w),this.sQ.set(d.r_,{wp:d,hQ:w})),f.push(tx(w.getBoundingClientRect()))}for(var g=0;g<t.length;g++){var _=t[g],y=this.MY(_,f,l);void 0!==y&&f.push(y)}},i.fQ=function(t){var n=[],i=this.CY;if(void 0!==i.pF){var e=t.ju();e.bT=i.pF,n.push(e)}if(void 0!==i.kF){var r=t.ju();r.bT=i.kF,r.rQ=t.rQ,n.push(r)}return n},i.MY=function(t,n,i){var e,r;t.wp?(r=this.sQ.get(t.wp.r_).hQ,"up"===t.wp.Cp&&r.children.length>=1&&(r.style.transitionProperty="top",r.style.transitionDuration="0.433s")):r=this.uQ;var s=null==(e=this.wY(t))?void 0:e[0];if(s?r.appendChild(s):(s=this.lQ(t),r.appendChild(s),t.wp||(t.gp?function(t,n,i,e){var r=ZO(t),s=r?i.bT:i.xp,u=y(getComputedStyle(n).lineHeight);if(0===u)return;var o=tx(n.getBoundingClientRect()),a=g.round(ip(t));"rl"===t._p&&(a=-(a+1));var h=u*a;"rl"===t._p&&(h=h-o.xp+u);a<0&&(h+=s,u=-u);r?o.nQ+=h:o.tQ+=h;var c=o.ju(),f=!1;for(;!i.Vm(o)||KO(o,e);)if(r)if(u<0&&o.nQ<i.nQ||u>0&&o.rQ>i.rQ){if(o.nQ=c.nQ,f)break;u=-u,f=!0}else o.nQ+=u;else if(u<0&&o.tQ<i.tQ||u>0&&o.eQ>i.eQ){if(o.tQ=c.tQ,f)break;u=-u,f=!0}else o.tQ+=u;r?n.style.top=(o.nQ-i.nQ)/i.bT*100+"%":n.style.left=(o.tQ-i.tQ)/i.xp*100+"%"}(t,s,i,n):function(t,n,i,e){var r=tx(n.getBoundingClientRect());if(0===r.xp||0===r.bT)return;ZO(t)?"center"===t.lp?r.nQ-=r.bT/2:"end"===t.lp&&(r.nQ-=r.bT):"center"===t.lp?r.tQ-=r.xp/2:"end"===t.lp&&(r.tQ-=r.xp);var s,u=r.ju(),o=u,a=1,h=!1;s=""===t._p?[LO.POS_Y,LO.NEG_Y,LO.POS_X,LO.NEG_X]:"lr"===t._p?[LO.POS_X,LO.NEG_X,LO.POS_Y,LO.NEG_Y]:[LO.NEG_X,LO.POS_X,LO.POS_Y,LO.NEG_Y];var c=y(getComputedStyle(n).lineHeight)/4;if(c>0){for(var f=0;f<s.length&&!h;f++){for(;!ix(r,i,s[f],.01)&&(!i.Vm(r)||KO(r,e));)nx(r,s[f],c);if(i.Vm(r)){o=r.ju(),h=!0;break}var l=(v=r,d=i,w=void 0,_=void 0,void 0,w=g.max(0,g.min(v.eQ,d.eQ)-g.max(v.tQ,d.tQ)),_=g.max(0,g.min(v.rQ,d.rQ)-g.max(v.nQ,d.nQ)),w*_/(v.xp*v.bT));a>l&&(o=r.ju(),a=l),r=u.ju()}i.Vm(r)||(o=u.ju())}var v,d,w,_;n.style.left=(o.tQ-i.tQ)/i.xp*100+"%",n.style.top=(o.nQ-i.nQ)/i.bT*100+"%"}(t,s,i,n)),this.NY(t,[s])),!t.wp)return tx(s.getBoundingClientRect())},i.lQ=function(t){for(var n=new Ko,i=t.hp,e=this.vQ(t),r={dQ:void 0,Em:e},u=r,o="",a="",h=[r],c=[],f=[];n.Lu<i.length;){var l=OO(i,n);if(l.gs===CO.XY){var v=s.createElement("span");BO(v,l.hp),GO(v,h),""!==o&&(v.lang=o),this.wQ(v,a),u.Em.appendChild(v)}else if(l.gs===CO.jY){var d=l.Ni.toLowerCase();switch(d){case"i":case"b":case"u":case"ruby":var w=s.createElement(d);u.Em.appendChild(w),u={dQ:l,Em:w},h.push(u);break;case"rt":var g;if("ruby"===(null==(g=u.dQ)?void 0:g.Ni.toLowerCase())){var _=s.createElement("rt");u.Em.appendChild(_),u={dQ:l,Em:_},h.push(u)}break;case"c":case"v":u={dQ:l,Em:u.Em},h.push(u);break;case"font":var y,m=null==(y=l.QY)?void 0:y.match(/(?:^| )color=["']([^"']+)/i);m&&(a=m[1],f.push(a),u={dQ:l,Em:u.Em},h.push(u));break;case"lang":var p;o=null!=(p=l.QY)?p:"",c.push(o)}}else if(l.gs===CO.JY){var k,b=l.Ni.toLowerCase(),A=null==(k=u.dQ)?void 0:k.Ni.toLowerCase();A===b?(h.pop(),u=h[h.length-1],"font"===b&&(f.pop(),a=f.length>0?f[f.length-1]:"")):"rt"===A&&"ruby"===b?(h.pop(),h.pop(),u=h[h.length-1]):"lang"===b&&(c.pop(),o=c.length>0?c[c.length-1]:"")}else if(l.gs===CO.ZY){var T=l.KY,S=new Ko;try{$p(T,S)}catch(t){ht("ERROR collecting timestamp",t)}}}return e},i.wQ=function(t,n){var i=this.CY,e=this.PY;i._F&&(t.style.background=i._F);var r=e.wF||n||i.wF;r&&(t.style.color=r)},i.cQ=function(t,n,i,e){if(e){var r=qO(e,n);t.style.height=r*i+"px",t.style.left=$O(e)+"%",t.style.top=YO(e,n)+"px"}t.style.fontSize=VO*n*i+"px"},i.vQ=function(t){var n=s.createElement("div");n.style.position="absolute",n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.overflowWrap="break-word",n.style.width="auto",n.style.textAlign=t.cp,function(t,n){"rl"===n._p?t.style.writingMode="vertical-rl":"lr"===n._p?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=sp(n);ZO(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),function(t,n){var i,e,r=rp(n),s=ep(n),u=sp(n);if(ZO(n)){switch(r){case"line-left":i=s;break;case"center":i=s-u/2;break;case"line-right":i=s-u}e=n.gp?0:ip(n)}else{switch(r){case"line-left":e=s;break;case"center":e=s-u/2;break;case"line-right":e=s-u}i=n.gp?0:ip(n)}t.style.left=i+"%",t.style.top=e+"%"}(n,t);var i=this.CY.yF;i&&(n.style.background=i);var e=this.CY.wF;return e&&(n.style.color=e),n.style.textShadow=_O(this.CY.mF),n},n}(gO);function GO(t,n){for(var i=0;i<n.length;i++){var e=n[i];if(e.dQ){for(var r=0,s=e.dQ.HY;r<s.length;r++){var u=s[r];sr(t,jO+u)}"v"===e.dQ.Ni.toLowerCase()&&e.dQ.QY&&sr(t,HO+e.dQ.QY)}}}function qO(t,n){return t.Rp*(VO*n)*zO}function $O(t){return t.Pp-t.Np*t.xp/100}function YO(t,n){var i=t.Op,e=t.Dp*qO(t,n)/100;return g.max(0,i-e)}function QO(t){var n=s.createElement("div");return n.className=UO+"default",fr(n),n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.width="auto",n.style.height="auto",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.padding="0",n.style.boxSizing="border-box",n.style.fontSize=VO*t+"px",n.style.lineHeight=zO+"em",n}function JO(t,n){var i=QO(n);i.className=UO+t.r_;var e=t.xp,r=qO(t,n);return i.style.width=e+"%",i.style.height=r+"px",i.style.left=$O(t)+"%",i.style.right="",i.style.top=YO(t,n)+"px",i.style.bottom="",i.style.boxSizing="border-box",i}function ZO(t){return""===t._p}function KO(t,n){return n.some(function(n){return t.iQ(n)})}function tx(t){return new MO(t.left,t.top,t.width,t.height)}function nx(t,n,i){switch(n){case LO.POS_X:t.tQ+=i;break;case LO.NEG_X:t.tQ-=i;break;case LO.POS_Y:t.nQ+=i;break;case LO.NEG_Y:t.nQ-=i}}function ix(t,n,i,e){switch(i){case LO.POS_X:return t.eQ>n.eQ+e;case LO.NEG_X:return t.tQ<n.tQ-e;case LO.POS_Y:return t.rQ>n.rQ+e;case LO.NEG_Y:return t.nQ<n.nQ-e}}!function(t){t[t.POS_X=0]="POS_X",t[t.NEG_X=1]="NEG_X",t[t.POS_Y=2]="POS_Y",t[t.NEG_Y=3]="NEG_Y"}(LO||(LO={}));var ex,rx=[["white","#fff"],["lime","#0f0"],["cyan","#0ff"],["red","#f00"],["yellow","#ff0"],["magenta","#f0f"],["blue","#00f"],["black","#000"]];!function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(ex||(ex={}));var sx={wF:wO.WHITE,dF:dO.BY,gF:"100%",_F:wO.BLACK,yF:"transparent",mF:"none",gQ:ex.FONT_REGULAR,TF:"visible",pF:void 0,kF:void 0,bF:void 0,AF:void 0},ux=[{_Q:wO.WHITE,gQ:ex.FONT_REGULAR,yQ:0},{_Q:wO.WHITE,gQ:ex.FONT_UNDERLINE,yQ:0},{_Q:wO.GREEN,gQ:ex.FONT_REGULAR,yQ:0},{_Q:wO.GREEN,gQ:ex.FONT_UNDERLINE,yQ:0},{_Q:wO.BLUE,gQ:ex.FONT_REGULAR,yQ:0},{_Q:wO.BLUE,gQ:ex.FONT_UNDERLINE,yQ:0},{_Q:wO.CYAN,gQ:ex.FONT_REGULAR,yQ:0},{_Q:wO.CYAN,gQ:ex.FONT_UNDERLINE,yQ:0},{_Q:wO.RED,gQ:ex.FONT_REGULAR,yQ:0},{_Q:wO.RED,gQ:ex.FONT_UNDERLINE,yQ:0},{_Q:wO.YELLOW,gQ:ex.FONT_REGULAR,yQ:0},{_Q:wO.YELLOW,gQ:ex.FONT_UNDERLINE,yQ:0},{_Q:wO.MAGENTA,gQ:ex.FONT_REGULAR,yQ:0},{_Q:wO.MAGENTA,gQ:ex.FONT_UNDERLINE,yQ:0},{_Q:wO.WHITE,gQ:ex.FONT_ITALICS,yQ:0},{_Q:wO.WHITE,gQ:ex.FONT_UNDERLINE_ITALICS,yQ:0},{_Q:wO.WHITE,gQ:ex.FONT_REGULAR,yQ:0},{_Q:wO.WHITE,gQ:ex.FONT_UNDERLINE,yQ:0},{_Q:wO.WHITE,gQ:ex.FONT_REGULAR,yQ:4},{_Q:wO.WHITE,gQ:ex.FONT_UNDERLINE,yQ:4},{_Q:wO.WHITE,gQ:ex.FONT_REGULAR,yQ:8},{_Q:wO.WHITE,gQ:ex.FONT_UNDERLINE,yQ:8},{_Q:wO.WHITE,gQ:ex.FONT_REGULAR,yQ:12},{_Q:wO.WHITE,gQ:ex.FONT_UNDERLINE,yQ:12},{_Q:wO.WHITE,gQ:ex.FONT_REGULAR,yQ:16},{_Q:wO.WHITE,gQ:ex.FONT_UNDERLINE,yQ:16},{_Q:wO.WHITE,gQ:ex.FONT_REGULAR,yQ:20},{_Q:wO.WHITE,gQ:ex.FONT_UNDERLINE,yQ:20},{_Q:wO.WHITE,gQ:ex.FONT_REGULAR,yQ:24},{_Q:wO.WHITE,gQ:ex.FONT_UNDERLINE,yQ:24},{_Q:wO.WHITE,gQ:ex.FONT_REGULAR,yQ:28},{_Q:wO.WHITE,gQ:ex.FONT_UNDERLINE,yQ:28}],ox=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10];function ax(t,n){return pp(t.mQ,n.mQ)||Xs(t.RS,n.RS)}var hx=32,cx=function(){function t(t,n,i){this.pQ=void 0,this.kQ=t,this.bQ=n,this.J$=i}var n=t.prototype;return n.AQ=function(){return this.pQ=this.TQ(),this.SQ(),this.EQ(),this.pQ},n.TQ=function(){var t=s.createElement("div");t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.IQ/hx*this.bQ.RQ*100+"%",t.style.height=1.2*this.NQ+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.bQ.DQ?"calc(1em - 1ch)":"";var n=this.J$.dF;n&&(t.style.fontFamily=n);var i=this.J$.yF;return i&&(t.style.backgroundColor=i),t},n.SQ=function(){if(this.pQ){var t=this.OQ.CQ/15*100,n=this.OQ.yQ/hx*100,i=(hx-this.xQ.yQ-1)/hx*100,e=(15-this.xQ.CQ-1)/15*100;this.bQ.BQ||(n=i=1,this.pQ.style.width="98%"),e<t?this.pQ.style.bottom=e*this.bQ.RQ+"%":this.pQ.style.top=t*this.bQ.RQ+"%",i<n?this.pQ.style.right=i+"%":this.pQ.style.left=n+"%"}},n.EQ=function(){for(var t=this.kQ.LQ.sort(fx),n=0;n<t.length;n++)this.MQ(t[n-1],t[n]),this.FQ(t[n]);this.MQ(t[t.length-1],void 0)},n.FQ=function(n){var i,e=lO(this.J$,n.UQ),r=t.jQ(e);BO(r,n.HQ),null==(i=this.pQ)||i.appendChild(r)},t.jQ=function(t){var n=s.createElement("span");n.style.display="inline-block",t.gQ!==ex.FONT_ITALICS&&t.gQ!==ex.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.gQ!==ex.FONT_UNDERLINE&&t.gQ!==ex.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline");var i=t.wF;i&&(n.style.color=i);var e=t._F;return e&&(n.style.backgroundColor=e),n.style.textShadow=_O(t.mF),n.style.height="1.2em",n},n.MQ=function(t,n){var i=t?t.XQ.CQ:this.kQ.VQ.CQ,e=n?n.VQ.CQ:this.kQ.XQ.CQ,r=t?t.XQ.yQ:this.kQ.VQ.yQ,s=n?n.VQ.yQ:this.kQ.XQ.yQ;i<e&&(!n||t&&t.VQ.CQ!==n.VQ.CQ?this.zQ():this.WQ(this.kQ.XQ.yQ-r),r=this.kQ.VQ.yQ),r<s&&(n?this.WQ(s-r):this.zQ())},n.zQ=function(){var t,n=s.createElement("br");null==(t=this.pQ)||t.appendChild(n)},n.WQ=function(t){var n;if(!(t<=0)){var i=s.createElement("span");i.style.display="inline-block",BO(i,Es(" ",t)),null==(n=this.pQ)||n.appendChild(i)}},T(t,[{key:"OQ",get:function(){return this.kQ.VQ}},{key:"xQ",get:function(){return this.kQ.XQ}},{key:"IQ",get:function(){return this.kQ.XQ.yQ-this.kQ.VQ.yQ+1}},{key:"NQ",get:function(){return this.kQ.XQ.CQ-this.kQ.VQ.CQ+1}}]),t}();function fx(t,n){return function(t,n){if(t.CQ!==n.CQ)return t.CQ-n.CQ;return t.yQ-n.yQ}(t.VQ,n.VQ)}var lx=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,sx)||this).GQ=void 0,s.qQ=void 0,s}E(n,t);var i=n.prototype;return i.vY=function(t){var n=s.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="10%",this.CY.dF&&(n.style.fontFamily=this.CY.dF),n},i.lY=function(t,n){this.$Q()},i.$Q=function(){var t,n=vO(this.CY);this.qQ={RQ:(t=100*n)/100,DQ:t<=100,BQ:t<=150};var i=this.YQ/hx;this.GQ=i*n,this.HN.style.fontSize=this.GQ+"px"},i.IY=function(t,n,i){for(var e=0;e<n.length;e++){var r=n[e];!i&&r.Ep||this.dY(r)}for(var s=0;s<t.length;s++){var u=t[s];this.MY(u)}},i.MY=function(t){this.qQ&&this.qQ.BQ?this.QQ(80):this.QQ(100),this.$Q();var n=this.wY(t);n||(n=this.FY(t),this.NY(t,n));for(var i=0,e=n;i<e.length;i++){var r=e[i];this.HN.appendChild(r)}},i.FY=function(t){var n=this;return t.hp.map(function(t){return new cx(t,n.qQ,n.CY).AQ()})},i.QQ=function(t){var n=(100-t)/2;this.HN.style.left=n+"%",this.HN.style.width=t+"%"},T(n,[{key:"YQ",get:function(){var t=this.HN.offsetWidth;return this.qQ&&this.qQ.BQ||(t*=.8),t}}]),n}(gO),vx=function(){function t(t,n,i,e,r){var s=this;this.JQ=void 0,this.rq=void 0,this.Xy=void 0,this.ZQ=void 0,this.KQ=[],this.XC=void 0,this.tJ=function(t){var n=t._g;n.tu(h_.Og,s.nJ),n.tu(h_.Bg,s.nJ),n instanceof SP&&(n.VW=s.VW),s.iJ(n)},this.nJ=function(t){var n=t._g;s.iJ(n)},this.eJ=function(t){var n=t._g;n.au(h_.Og,s.nJ),n.au(h_.Bg,s.nJ),s.rJ(n)},this.sJ=function(){for(var t=s.VW,n=0,i=s.Xy.qg;n<i.length;n++){var e=i[n];e instanceof SP&&(e.VW=t)}},this.uJ=function(){for(var t=0,n=s.KQ;t<n.length;t++){n[t].yY(s.XC)}},this.oJ=function(){for(var t=0,n=s.KQ;t<n.length;t++){var i=n[t];i.yY(jr({},i.pY(),{TF:"hidden"}))}},this.aJ=function(){for(var t=0,n=s.KQ;t<n.length;t++){var i=n[t];i.yY(jr({},i.pY(),{TF:"visible"}))}},this.JQ=t,this.rq=n,this.Xy=i,this.ZQ=r,this.XC=e,this.Xy.tu(s_.hg,this.tJ),this.Xy.tu(s_.fg,this.eJ),this.Xy.tu(h_.Cg,this.nJ),this.ZQ.tu(bS.Cg,this.sJ),this.XC.tu("Pg",this.uJ),this.sJ()}var n=t.prototype;return n.hJ=function(t){for(var n=0,i=this.KQ;n<i.length;n++){var e=i[n];if(e._g===t)return e}},t.cJ=function(t){switch(t.gs){case xm.TTML:case xm.SRT:case xm.WEBVTT:case xm.CEA608:return!0}return!1},n.fJ=function(t){switch(t.gs){case xm.TTML:return new kO(t,this.JQ,t.o_,this.rq);case xm.SRT:case xm.WEBVTT:return new WO(t,this.JQ,t.o_,this.rq);case xm.CEA608:return new lx(t,this.JQ,t.o_,this.rq)}},n.lJ=function(t){var n=this.hJ(t);n||(n=this.fJ(t))&&(n.LL(),n.yY(this.XC),this.KQ.push(n),t.g_===j_.v_&&n.SY())},n.rJ=function(t){for(var n=this.KQ,i=n.length-1;i>=0;i-=1){var e=n[i];e._g===t&&(e.Kc(),Qs(n,i))}},n.iJ=function(n){var i;(i=n.u_)!==Wk.lA&&i!==Wk.gE||!t.cJ(n)||(n.m_===Om.ERROR?this.rJ(n):this.lJ(n))},n.wc=function(){for(var t=0,n=this.KQ;t<n.length;t++){var i=n[t];i._g.au(h_.Og,this.nJ),i._g.au(h_.Bg,this.nJ),i.Kc()}Zs(this.KQ)},n.Kc=function(){this.wc();for(var t=0,n=this.KQ;t<n.length;t++){n[t].Kc()}this.Xy.au(s_.hg,this.tJ),this.Xy.au(s_.fg,this.eJ),this.Xy.au(h_.Cg,this.nJ),this.ZQ.au(bS.Cg,this.sJ),this.XC.au("Pg",this.uJ)},T(t,[{key:"VW",get:function(){return this.ZQ.DC}}]),t}();function dx(t){var n=new rR,i=function(t){var n=[];return iR.kB(t)&&n.push(new iR(t)),eR.kB(t)&&n.push(new eR(t)),n}(t);if(i.length>0){for(var e=0;e<i.length;e++){var r=i[e];n.EB(r)}n.SB(i[0])}return n}var wx,gx=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r)||this).vJ=void 0,s.dJ=void 0,s.wJ=void 0,s.wJ=dx(n),s.vJ=new fO,s.dJ=new vx(s.vJ.Em,s.JF,s.$y,s.KF,s.tD),s}E(n,t);var i=n.prototype;return i.dm=function(){return this.ef},i.Us=function(){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.wJ.Kc(),this.vJ.Kc(),this.dJ.Kc(),n.next=5,Ur.awrap(t.prototype.Us.call(this));case 5:case"end":return n.stop()}},null,this,null,Ge)},i.vm=function(){t.prototype.vm.call(this),this.vJ.vm()},i.lm=function(){t.prototype.lm.call(this),this.vJ.lm()},i.V$=function(n){t.prototype.V$.call(this,n),this.vJ.V$(n)},T(n,[{key:"HN",get:function(){return this.ef}},{key:"yy",get:function(){return this.ef.videoHeight}},{key:"py",get:function(){return this.ef.videoWidth}},{key:"tD",get:function(){return this.wJ}}]),n}(nO);!function(t){t.gJ="HELLO",t._J="HI_THERE",t.yJ="INITIALIZE",t.mJ="APPEND_INIT",t.pJ="APPEND_DATA",t.kJ="ACK",t.bJ="REMOVE",t.AJ="DESTROY_SESSION"}(wx||(wx={}));var _x,yx=function(){function t(){this._e=void 0,this.nf=void 0,this.kU=new mf}var n=t.prototype;return n.TJ=function(t){var n=this;return this.kU.Jc(function(t){var i,e,r,s,u,a;return Ur.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(fu(t),i=new MessageChannel,e=i.port1,r=i.port2,o.serviceWorker.controller){h.next=7;break}return h.next=7,Ur.awrap(e_(o.serviceWorker,"install",t));case 7:if("activated"===o.serviceWorker.controller.state){h.next=10;break}return h.next=10,Ur.awrap(e_(o.serviceWorker.controller,"activate",t));case 10:return s={kind:wx.gJ,port:r},o.serviceWorker.controller.postMessage(s,[r]),e.start(),n._e=e,h.prev=15,h.next=18,Ur.awrap(e_(e,"message",t));case 18:if(u=h.sent,(a=u.data).kind===wx._J){h.next=23;break}throw new l("Could not set up message channel");case 23:n.nf=a.sessionId,h.next=30;break;case 26:throw h.prev=26,h.t0=h.catch(15),cu(h.t0)&&n.SJ(),h.t0;case 30:case"end":return h.stop()}},null,null,[[15,26]],Ge)},t)},n.EJ=function(t,n){var i=this;return this._e,this.kU.Jc(function(){var e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i._e){r.next=2;break}throw new l("MessageSession not set up yet or already closed.");case 2:return n||(n=[]),i._e.postMessage(t,n),r.next=7,Ur.awrap(e_(i._e,"message"));case 7:return e=r.sent,r.abrupt("return",e.data);case 10:case"end":return r.stop()}},null,null,null,Ge)})},n.IJ=function(){var t=this;return this.kU.Jc(function(){return t.SJ()})},n.SJ=function(){if(o.serviceWorker.controller&&"activated"===o.serviceWorker.controller.state&&this._e){var t={kind:wx.AJ};this._e.postMessage(t),this._e.close(),this._e=void 0}},t}(),mx=function(){function t(){this.RJ=fp.Wk}var n=t.prototype;return n.NJ=function(t,n){var i=t.qp(n);this.RJ=i.Mp(this.DJ)?this.RJ:i},n.CJ=function(t){this.RJ=t},T(t,[{key:"DJ",get:function(){return this.RJ}}]),t}();!function(t){t.Od="audio",t.xd="video",t.dA="metadata"}(_x||(_x={}));var px=function(t){function n(n,i){var e;return(e=t.call(this)||this).PJ=void 0,e.OJ=void 0,e.kU=new mf,e.xJ=!1,e.BJ=!1,e.Tx=n,e.LJ=i,e}E(n,t);var i=n.prototype;return i.CV=function(t,n){},i.PV=function(t,n){},i.KU=function(){return this.BJ},i.OV=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,null,null,Ge)},i.lV=function(t,n){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,null,null,Ge)},i.nV=function(t,n,i){var e,r,s=this;return Ur.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t.gs===YN.rj){u.next=2;break}throw new l("Streaming or opaque segments are not supported yet.");case 2:return e=t.Xi,r=function(){var t,i,r;return Ur.async(function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.buffer,i={kind:wx.pJ,mediaType:kx(s.Tx),segment:e,startPts:n.MJ,totalDuration:n.uy},u.next=4,Ur.awrap(s.LJ.EJ(i,[t]));case 4:void 0===s.PJ&&(r=n.MJ+n.mb,s.PJ=r,s.OJ=r),s.OJ=s.OJ+n.uy,s.Ks(new Iu(zN.ij));case 7:case"end":return u.stop()}},null,null,null,Ge)},u.abrupt("return",this.kU.Jc(function(t){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return fu(t),n.prev=1,s.xJ=!0,n.next=5,Ur.awrap(r());case 5:return n.prev=5,s.xJ=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],Ge)},i));case 5:case"end":return u.stop()}},null,this,null,Ge)},i.rV=function(t,n,i){var e,r,s=this;return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.gs===YN.rj){n.next=2;break}throw new l("Streaming or opaque initialization segments are not supported yet.");case 2:return e=t.Xi,r=function(){var t;return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return t={kind:wx.mJ,mediaType:kx(s.Tx),segment:e},n.next=3,Ur.awrap(s.LJ.EJ(t,[]));case 3:case"end":return n.stop()}},null,null,null,Ge)},n.abrupt("return",this.kU.Jc(function(t){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return fu(t),n.prev=1,s.xJ=!0,n.next=5,Ur.awrap(r());case 5:return n.prev=5,s.xJ=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],Ge)},i));case 5:case"end":return n.stop()}},null,this,null,Ge)},i.TV=function(){this.BJ=!0},i.pV=function(){this.BJ=!1},i.Kh=function(t,n,i){var e,r=this;return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=function(){var t;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return t={kind:wx.bJ,mediaType:kx(r.Tx),endTime:n},i.next=3,Ur.awrap(r.LJ.EJ(t));case 3:r.PJ=void 0,r.OJ=void 0,r.Ks(new Iu(zN.ij));case 6:case"end":return i.stop()}},null,null,null,Ge)},t.abrupt("return",this.kU.Jc(function(t){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return fu(t),n.prev=1,r.xJ=!0,n.next=5,Ur.awrap(e());case 5:return n.prev=5,r.xJ=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],Ge)},i));case 2:case"end":return t.stop()}},null,this,null,Ge)},i.VU=function(t){return this.Tx===t.Gv},i.zU=function(t){return this.Tx=t.Gv,Ge.resolve()},i.Us=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ou(),t.next=3,Ur.awrap(this.kU.Kc());case 3:case"end":return t.stop()}},null,this,null,Ge)},T(n,[{key:"Tm",get:function(){return void 0===this.PJ||void 0===this.OJ?TS.RC():new TS([this.PJ,this.OJ])}},{key:"cc",get:function(){return{Gv:this.Tx}}},{key:"LV",get:function(){return ym.md}},{key:"yx",get:function(){return this.Tx}},{key:"MV",get:function(){return TS.RC()}},{key:"AL",get:function(){return 30},set:function(t){}},{key:"IL",get:function(){return 30},set:function(t){}},{key:"DB",get:function(){return this.xJ}},{key:"FJ",get:function(){return this.PJ}},{key:"ap",get:function(){return this.OJ}}]),n}(Su);function kx(t){return t.match(/video/)?_x.xd:_x.Od}var bx=function(){function t(t,n){this.Mc=void 0,this.bz=void 0,this.Tz=void 0,this.Mc=t,this.Tz=Gs(n,function(t){return Boolean(t.yx.match(/video/))}),this.bz=Gs(n,function(t){return Boolean(t.yx.match(/audio/))}),this.UJ()}t.jJ=function(n,i){for(var e=[],r=0;r<n.Mz.length;r++){var s=n.Mz[r].Gv;e.push(new px(s,i))}return new t(n,e)};var n=t.prototype;return n.UJ=function(){},n.Us=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ur.awrap(Ge.all([this.bz,this.Tz].filter(H).map(function(t){return t.Us()})));case 2:case"end":return t.stop()}},null,this,null,Ge)},n.Oz=function(t){},n.Lz=function(t,n,i,e){},n.TV=function(){var t,n;null==(t=this.bz)||t.TV(),null==(n=this.Tz)||n.TV()},n.pV=function(){var t,n;null==(t=this.bz)||t.pV(),null==(n=this.Tz)||n.pV()},n.VU=function(t){return!0},n.zU=function(t){return this.Mc=t,Ge.resolve()},T(t,[{key:"HJ",get:function(){return[this.bz,this.Tz].filter(H)}},{key:"yz",get:function(){return this.bz}},{key:"Tm",get:function(){return ZD(this)}},{key:"cc",get:function(){return this.Mc}},{key:"uy",get:function(){return 0}},{key:"KU",get:function(){var t,n,i,e,r=null==(t=null==(n=this.bz)?void 0:n.KU())||t,s=null==(i=null==(e=this.Tz)?void 0:e.KU())||i;return r&&s}},{key:"Fm",get:function(){return new TS([0,1/0])}},{key:"mz",get:function(){return this.Tz}},{key:"qy",get:function(){throw new l("Not implemented")}}]),t}(),Ax=fp.rk,Tx=new fp(-1/0),Sx=fp.Wk,Ex=function(t){function n(n,i){return t.call(this,n,i)||this}E(n,t);var i=n.prototype;return i.Fp=function(t,n){return t.Vp(n)?Ls.Os:t.Sp(n)?Ls.Cs:Ls.Ps},i.Xm=function(t,n){return t.Xm(n)},i.qp=function(t,n){return t.qp(n)},i.Xp=function(t,n){return t.Xp(n)},i.iC=function(){return Ax},i.eC=function(){return Sx},i.oC=function(){return Tx},n.SC=function(t){for(var i=[],e=0;e<t.length;e++)i.push(new fp(t.start(e)),new fp(t.end(e)));return new n(i)},n.XJ=function(t){for(var i=[],e=[],r=0;r<t.$g;r++)i.push(new fp(t.WD(r))),i.push(new fp(t.qD(r))),e.push(t.GD(r)),e.push(t.$D(r));return new n(i,e)},n.IC=function(t){return new n([t,t],[!0,!0])},i.tC=function(t,i){return new n(t,i)},i.ZD=function(t){return t.Vk},n.RC=function(){return Ix},n}(AS),Ix=new Ex([]),Rx=function(t){function n(n){var i;return(i=t.call(this)||this).VJ=!0,i.LJ=new yx,i.zJ=new mx,i.wN=void 0,i.aq=void 0,i.WJ=!0,i.GJ=new na,i.UC=!1,i.pq=Ge.resolve(),i.kq=new au,i.qJ=!0,i.Aq=TS.RC(),i.wJ=void 0,i.$J=void 0,i.Oq=!1,i.kN=void 0,i.YJ=function(){i.wy||i.QJ.$g<=0||i.Tm.$g<=0||i.zJ.NJ(new fp(i.Tm.qD(i.Tm.$g-1)),i.QJ.qD(i.QJ.$g-1))},i.JJ=function(){i.Ks(new By(i.sy))},i.ZJ=function(){i.Ks(new xy(i.sy,i.Sm))},i.KJ=function(){i.Ks(new Oy(i.sy,i.gy))},i.tZ=function(){i.Ks(new Uy(i.sy,i.by))},i.nZ=function(){i.Ks(new Py(i.uy))},i.iZ=function(){i.Ks(new Cb(i.sy))},i.eZ=function(){i.Uu(i.sy)},i.rZ=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:i.qJ&&i.Ks(new Ry(i.sy)),i.WJ=!1,i.qJ=!0;case 3:case"end":return t.stop()}},null,null,null,Ge)},i.sZ=function(){i.WJ=!0,i.Ks(new Iy(i.sy))},i.$J=n,i.aq=new aC(Kt(i)),i.$J.setAttribute("id","player_video"),i.$J.setAttribute("x-webkit-airplay","deny"),i.$J.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),i.$J.playsInline=!0,i.$J.style.width="100%",i.$J.style.height="100%",i.uZ(),i.oZ(),i.wJ=dx(i.$J),i}E(n,t);var e=n.prototype;return e.uZ=function(){this.$J.addEventListener("timeupdate",this.YJ),this.$J.addEventListener("ended",this.JJ),this.$J.addEventListener("timeupdate",this.ZJ),this.$J.addEventListener("ratechange",this.KJ),this.$J.addEventListener("volumechange",this.tZ),this.$J.addEventListener("durationchange",this.nZ),this.$J.addEventListener("playing",this.iZ),this.$J.addEventListener("seeking",this.eZ),this.$J.addEventListener("play",this.rZ),this.$J.addEventListener("pause",this.sZ)},e.aZ=function(){this.$J.removeEventListener("timeupdate",this.YJ),this.$J.removeEventListener("ended",this.JJ),this.$J.removeEventListener("timeupdate",this.ZJ),this.$J.removeEventListener("ratechange",this.KJ),this.$J.removeEventListener("volumechange",this.tZ),this.$J.removeEventListener("durationchange",this.nZ),this.$J.removeEventListener("playing",this.iZ),this.$J.removeEventListener("seeking",this.eZ),this.$J.removeEventListener("play",this.rZ),this.$J.removeEventListener("pause",this.sZ)},e.oZ=function(){this.aq.tu(Sy.Og,this.Zs)},e.hZ=function(){this.aq.au(Sy.Og,this.Zs)},e.Uu=function(t,n){this.kq.Ws(),this.kq=new au,this.pq=this.I$(t,this.pq,this.kq.$s).catch(Z)},e.I$=function(t,n,i){var e,r,s;return Ur.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.Aq=this.Lm,r=null==(e=this.wN)?void 0:e.HJ){u.next=4;break}return u.abrupt("return");case 4:return s=g.max.apply(g,r.map(function(t){return t.FJ?t.FJ:1/0})),this.UC=!0,this.Ks(new My(t)),u.next=9,Ur.awrap(n.catch(Z));case 9:if(fu(i),u.prev=10,this.VJ||this.cZ(),this.$J.load(),this.WJ){u.next=17;break}return this.qJ=!1,u.next=17,Ur.awrap(du(this.$J.play(),i));case 17:if(!(this.m_<uy.G_)){u.next=22;break}return u.next=20,Ur.awrap(this.aq.wu(Sy.Og,i));case 20:u.next=17;break;case 22:this.GJ.Yu(),this.VJ=!1,this.UC=!1,this.Ks(new Fy(this.sy)),u.next=32;break;case 28:throw u.prev=28,u.t0=u.catch(10),this.GJ.Qu(u.t0),u.t0;case 32:return u.prev=32,this.fZ(),this.zJ.CJ(new fp(s)),u.finish(32);case 36:case"end":return u.stop()}},null,this,[[10,28,32,36]],Ge)},e.Jy=function(){this.WJ=!0,this.$J.pause()},e.Qy=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.WJ){t.next=2;break}return t.abrupt("return");case 2:return this.$J.src||this.H$(),t.next=5,Ur.awrap(this.GJ.Wu);case 5:return t.next=7,Ur.awrap(this.$J.play());case 7:case"end":return t.stop()}},null,this,null,Ge)},e.Us=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.LJ&&this.LJ.IJ().catch(Z),this.kq.Ws(),this.aZ(),this.hZ(),this.aq.Us(),this.ou();case 6:case"end":return t.stop()}},null,this,null,Ge)},e.wc=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.LJ&&this.LJ.IJ().catch(Z),this.kq.Ws(),this.$J.removeAttribute("src"),this.$J.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),this.$J.removeAttribute("x-airplay-deny"),this.$J.load(),this.aq.wc(),this.Aq=TS.RC();case 8:case"end":return t.stop()}},null,this,null,Ge)},e.H$=function(){this.X$||(Ox(this.$J,i.jr),this.Oq=!0)},e.cZ=function(){var t,n=this.$J.getClientRects();if(n.length>0){var i,e,r=(t=n[0]).width,s=this.$J.videoWidth/this.$J.videoHeight,u=t.height;r/u>s?(i=u*s,e=u):(e=r/s,i=r),this.$J.style.width=i+"px",this.$J.style.height=e+"px",this.$J.style.marginLeft=(r-i)/2+"px",this.$J.style.marginTop=(u-e)/2+"px",this.$J.style.backgroundColor="black"}},e.fZ=function(){this.$J.style.width="100%",this.$J.style.height="100%",this.$J.style.marginLeft="",this.$J.style.marginTop="",this.$J.style.backgroundColor=""},e.ZN=function(t,n,i,e,r){},e.OE=function(t,n,i,e,r,s){},e.ZU=function(t){},e.hD=function(){return $R(this.$J)},e.lm=function(){this.$J.style.display="block"},e.vm=function(){this.$J.style.display="none"},e.U$=function(){},e.Zh=function(t){var n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.gs!==mb.FE){i.next=2;break}throw new l("Not yet implemented");case 2:return i.next=4,Ur.awrap(this.LJ.TJ());case 4:return n={kind:wx.yJ,mediaBufferConfigs:t.Mz.map(function(t){return t.Gv})},i.next=7,Ur.awrap(this.LJ.EJ(n));case 7:return this.wN=bx.jJ(t,this.LJ),this.$J.preload="none",this.$J.src="https://theo.proxy/"+this.LJ.nf+"/master.m3u8",i.abrupt("return",this.wN);case 11:case"end":return i.stop()}},null,this,null,Ge)},e.j$=function(){},e.LE=function(t){},e.nD=function(){},e.aD=function(t){},e.QN=function(){return!1},e.V$=function(t){t.appendChild(this.$J)},e.dm=function(){return this.$J},e.m$=function(){},e.Am=function(){},T(n,[{key:"HN",get:function(){return this.$J}},{key:"Wz",get:function(){return!1}},{key:"sy",get:function(){return this.$J.currentTime+this.zJ.DJ.Vk}},{key:"wy",get:function(){return this.$J.paused}},{key:"by",get:function(){return this.$J.volume},set:function(t){this.$J.volume=t}},{key:"gy",get:function(){return this.$J.playbackRate},set:function(t){this.$J.playbackRate=t}},{key:"lZ",get:function(){return this.$J.defaultPlaybackRate}},{key:"Tm",get:function(){var t,n;return null!=(t=null==(n=this.wN)?void 0:n.Tm)?t:TS.RC()}},{key:"QJ",get:function(){return Ex.SC(this.$J.buffered)}},{key:"Lm",get:function(){var t=TS.EC(this.vZ);return this.Aq.cC(t.Mu(this.zJ.DJ.Vk))}},{key:"vZ",get:function(){return Ex.SC(this.$J.played)}},{key:"_y",get:function(){return this.UC}},{key:"uy",get:function(){return this.$J.duration}},{key:"vy",get:function(){return this.$J.muted},set:function(t){this.$J.muted=t}},{key:"UQ",get:function(){return this.$J.style}},{key:"W$",get:function(){return jr({},XN,{PU:!0})}},{key:"m_",get:function(){return this.aq.m_}},{key:"yy",get:function(){return this.$J.videoHeight}},{key:"py",get:function(){return this.$J.videoWidth}},{key:"oy",get:function(){return this.$J.ended}},{key:"bT",get:function(){return this.$J.height||this.$J.clientHeight}},{key:"xp",get:function(){return this.$J.width||this.$J.clientWidth}},{key:"Im",get:function(){return!1}},{key:"X$",get:function(){return this.Oq}},{key:"Sm",get:function(){}},{key:"JF",get:function(){}},{key:"Au",get:function(){}},{key:"tD",get:function(){return this.wJ}},{key:"Fm",get:function(){return this.wN?this.wN.Fm:TS.RC()}},{key:"cD",get:function(){}},{key:"$y",get:function(){}},{key:"KF",get:function(){}},{key:"jm",get:function(){return!1},set:function(t){}},{key:"z$",get:function(){return"block"===this.$J.style.display}},{key:"XN",get:function(){return this.kN},set:function(t){this.kN=t}},{key:"G$",get:function(){},set:function(t){}},{key:"iq",get:function(){}}]),n}(Su),Nx=2,Dx=[ym.Od,ym.xd];function Cx(t){var n=s.createElement(t);return vr(n)&&function(t){t.addEventListener("contextmenu",function(t){t.preventDefault()})}(n),Px(n),n}function Px(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),ir(t),dr(t),t.pause(),t.playbackRate=1,t.preload=gS.CD,t.controls=!1,t.style.display="none",vr(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function Ox(t,n){if(n.Le){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var e=t.play();Y(e)&&mu(e),t.pause()}}var xx,Bx;function Lx(t){return{get bandwidth(){return t.QR},get codecs(){return t.iX},get id(){return t.r_},get uid(){return t.s_},get name(){return t.o_},get averageBandwidth(){return t.dZ},get label(){return t.o_},set label(n){t.o_=C_(n)},get height(){return t.bT},get width(){return t.xp},get frameRate(){return t.wZ},get firstFrame(){return t.gZ},get available(){return t._Z},addEventListener:function(n,i){t.tu(n,i)},removeEventListener:function(n,i){t.au(n,i)}}}function Mx(t){return{get bandwidth(){return t.QR},get codecs(){return t.iX},get id(){return t.r_},get uid(){return t.s_},get name(){return t.o_},get averageBandwidth(){return t.dZ},get label(){return t.o_},set label(n){if(!q(n))throw new l("Unexpected - The provided label is not a string");t.o_=n},get audioSamplingRate(){return t.yZ},get available(){return t._Z},addEventListener:function(n,i){t.tu(n,i)},removeEventListener:function(n,i){t.au(n,i)}}}le=(xx={mZ:function(){function t(t,n,i,e,r){void 0===i&&(i=Nx),void 0===e&&(e=Dx),void 0===r&&(r=Nf()),this.pZ=void 0,this.kZ=void 0,this.Es=void 0,this.bZ=void 0,this.rq=void 0,this.XC=void 0,this.AZ=void 0,this.pZ=i,this.kZ=[].concat(e),this.Es=r,this.rq=t,this.XC=n,this.bZ=Xr(),this.TZ()}var n=t.prototype;return n.WC=function(t){for(var n=0,i=this.qC;n<i.length;n++){i[n].V$(t)}},n.jN=function(t){var n=Gs(this.bZ.get(t),function(t){return t._Z});if(n)return n._Z=!1,n.SZ},n.EZ=function(t){if(!this.AZ)throw new l("Error creating iOS Safari MediaController");return this.AZ},n.rD=function(t){var n,i,e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.HN,i=n.tagName.toLowerCase(),r.next=4,Ur.awrap(t.wc());case 4:Px(n),(e=Gs(this.bZ.get(i)||[],function(n){return t===n.SZ}))&&(e._Z=!0);case 7:case"end":return r.stop()}},null,this,null,Ge)},n.GC=function(){for(var t=0,n=this.qC;t<n.length;t++){n[t].H$()}},n.Kc=function(){for(var t=0,n=this.qC;t<n.length;t++){var i=n[t],e=i.HN;i.Us(),Px(e),nr(e)}this.bZ.clear(),this.AZ=void 0},n.TZ=function(){for(var t=0,n=this.kZ;t<n.length;t++){var i=n[t],e=[];this.bZ.set(i,e);for(var r=0;r<this.pZ;r++){var s=Cx(i),u=i===ym.Od?new hO(s,this.Es,this.rq):new gx(s,this.Es,this.rq,this.XC);e.push({SZ:u,_Z:!0})}}if(F.On&&F.hn){var o=Cx(ym.xd);this.AZ=new Rx(o)}},T(t,[{key:"qC",get:function(){for(var t=[],n=0,i=this.kZ;n<i.length;n++){var e=i[n],r=this.bZ.get(e);if(r){var s=r.map(function(t){return t.SZ});t.push.apply(t,s)}}return this.AZ&&t.push(this.AZ),t}}]),t}(),IZ:function(){function t(t){this.RZ=new mf,this.jC=t}var n=t.prototype;return n.IU=function(t){var n=this;return this.RZ.Jc(function(){return n.NZ(t)})},n.hm=function(){this.jC.GC()},n.NZ=function(n){var i,e,r;return Ur.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=this.jC.jN(ym.xd),e=i.HN,s.next=4,Ur.awrap(t.DZ(e,n));case 4:return r=s.sent,s.next=7,Ur.awrap(this.jC.rD(i));case 7:return s.abrupt("return",r);case 8:case"end":return s.stop()}},null,this,null,Ge)},t.DZ=function(n,i){return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!F.En&&!F.Tn){e.next=2;break}return e.abrupt("return","all");case 2:return n.src||(n.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),e.next=5,Ur.awrap(t.CZ());case 5:if(e.t0=!i,!e.t0){e.next=10;break}return e.next=9,Ur.awrap(t.PZ(n,!1));case 9:e.t0=e.sent;case 10:if(!e.t0){e.next=12;break}return e.abrupt("return","all");case 12:return e.next=14,Ur.awrap(t.PZ(n,!0));case 14:if(!e.sent){e.next=16;break}return e.abrupt("return","muted");case 16:return e.abrupt("return","none");case 17:case"end":return e.stop()}},null,null,null,Ge)},t.PZ=function(t,n){var i,e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.muted=n,i=t.play(),r.prev=2,Y(i)){r.next=5;break}return r.abrupt("return",!F.dn);case 5:return e=ku(100),r.next=8,Ur.awrap(Ge.race([i,e]));case 8:return r.abrupt("return",!0);case 11:return r.prev=11,r.t0=r.catch(2),r.abrupt("return",!1);case 14:return r.prev=14,t.pause(),t.muted=!0,r.finish(14);case 18:case"end":return r.stop()}},null,null,[[2,11,14,18]],Ge)},t.CZ=function(){return new Ge(function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else a(t,0)})},n.Kc=function(){this.RZ.Kc()},t}(),OZ:{Px:function(t){we.addEventListener("beforeunload",t)},Vx:function(t){we.removeEventListener("beforeunload",t)}},xZ:r}).mZ,ve=xx.IZ,de=xx.OZ,we=xx.xZ,ge=we&&we.location,_e=we&&we.navigator,function(t){t.BZ="currentbufferingrenditionchange",t.LZ="MZ",t.FZ="UZ",t.jZ="HZ"}(Bx||(Bx={}));var Fx=function(t,n){this.s_=void 0,this.XZ=void 0,this.gs=void 0,this.VZ=void 0,this.zZ=void 0,this.WZ=void 0,this.gi=void 0,this.a_=void 0,this.GZ=void 0,this.qZ=void 0,this.$Z=void 0,this.s_=Im(),this.XZ=n,this.gs=t.gs,this.VZ=t.VZ,this.zZ=t.zZ,this.WZ=t.WZ,this.gi=t.gi,this.a_=t.a_,this.GZ=t.GZ,this.qZ=t.qZ,this.$Z=void 0===t.YZ};function Ux(t,n){return t.gs===n.gs&&(t.gi===n.gi||!(!t.VZ||!n.VZ))}function jx(t,n){return t.XZ===n.XZ}function Hx(t,n){for(var i=0;i<t.length;i++){if(jx(t[i],n))return!0}return!1}var Xx,Vx,zx=function(t){function n(n,i){var e;return(e=t.call(this,h_.jg)||this).h_=void 0,e._g=void 0,e.h_=n||[],e._g=i,e}return E(n,t),n.prototype.gg=function(){return new Wx(this.h_.map(function(t){return t.wg}))},n}(o_),Wx=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).quality=void 0,i.qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return E(n,t),n}(Iu);!function(t){t.QZ="alternative",t.JZ="main",t.ZZ="commentary",t.KZ="",t._E="descriptions",t.tK="main-desc",t.nK="translation"}(Xx||(Xx={})),function(t){t.QZ="alternative",t.JZ="main",t.ZZ="commentary",t.KZ="",t.gE="captions",t.iK="sign",t.lA="subtitles"}(Vx||(Vx={}));var Gx=function(t){function n(n,i,e){var r;return(r=t.call(this,h_.Fg)||this).eK=n,r.rK=i,r.sK=e,r}return E(n,t),n.prototype.gg=function(){return new qx(this.eK&&this.eK.wg)},n}(o_),qx=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return E(n,t),n}(Iu);function $x(t){return{QR:t.QR,dr:t.iX,bT:Yx(t)?t.bT:0,gs:Yx(t)?ym.xd:ym.Od,xp:Yx(t)?t.xp:0}}function Yx(t){var n=t;return void 0!==n.bT&&void 0!==n.xp}var Qx,Jx=function(t){function n(){return t.call(this,h_.NO_QUALITY)||this}return E(n,t),n}(Iu),Zx=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return E(n,t),n}(Iu),Kx=function(t){function n(n,i,e){var r,s,u;(u=t.call(this)||this).Wm=void 0,u.ma=void 0,u.uK=void 0,u.oK=void 0,u.aK=void 0,u.dg=void 0,u.Gm=void 0,u.hK=function(){return u.Ks(new km(Kt(u)))},u.cK=function(){var t=u.i_;t&&u.oK!==t&&(u.oK=t,u.Ks(new Gx(t)))},u.fK=function(){var t=u.e_;u.aK!==t&&(u.aK=t,u.lK.Ks(new __(Kt(u))),u.Ks(new __(Kt(u))))},u.BD=n,u.lK=i,u.h_=e,u.oK=u.i_,u.aK=u.e_;var o=e.Vg(0);u.Wm=null!=(r=null==o?void 0:o.vK.gi)?r:"",u.ma=null!=(s=null==o?void 0:o.vK.a_)?s:"",u.Gm=Tm(),u.BD.tu(Bx.BZ,u.cK),u.BD.tu(Bx.LZ,u.fK);for(var a=0;a<u.h_.$g;a++){u.h_.Vg(a).tu("update",u.hK)}return u}E(n,t);var e=n.prototype;return e.Ym=function(t){this.e_=t},e.Kc=function(){this.ou(),this.BD.au(Bx.BZ,this.cK),this.BD.au(Bx.LZ,this.fK);for(var t=0,n=this.h_.qg;t<n.length;t++){n[t].Kc()}this.h_.wc()},T(n,[{key:"e_",get:function(){var t=this.dK();if(!t)return!1;for(var n=0,i=this.h_.qg;n<i.length;n++){if(i[n].vK===t)return!0}return!1},set:function(t){if(t!==this.e_&&t){for(var n=this.h_.Vg(0).vK,i=this.BD.wK,e=0,r=this.h_.qg;e<r.length;e++){var s=r[e];if(s.gK===i){n=s.vK;break}}this._K(n)}}},{key:"i_",get:function(){if(this.e_)for(var t=this.BD.yK,n=0,i=this.h_.qg;n<i.length;n++){var e=i[n];if(Hx(t,e.vK))return e}}},{key:"wg",get:function(){return this.dg||(this.dg=M_(this)),this.dg}},{key:"r_",get:function(){return this.Gm.toString()}},{key:"s_",get:function(){return this.Gm}},{key:"o_",get:function(){return this.Wm},set:function(t){t!==this.Wm&&(this.Wm=t,this.Ks(new km(this)))}},{key:"a_",get:function(){return this.ma}},{key:"g_",get:function(){return this.e_?"enabled":"disabled"}},{key:"c_",get:function(){return this.uK},set:function(t){var n=this,e=[];t?e=t.filter(function(t){var e=n.i_?$x(n.i_):void 0;return i.jr.Fe(e,$x(t))}).filter(function(i){return n.h_.Vm(t)&&i._Z}):e=this.h_.qg.filter(function(t){return t._Z});0!==e.length?t!==this.uK&&(this.uK&&Ks(this.uK,e)||(this.uK=t?e:void 0,this.BD.mK(e.map(function(t){return t.gK})),1===e.length&&mu(this.BD.pK(e[0].gK,!1)),this.Ks(new zx(e,this)))):this.Ks(new Jx)}}]),n}(Su),tB=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.dK=function(){return this.BD.kK},i._K=function(t){mu(this.BD.bK(t))},T(n,[{key:"u_",get:function(){return Xx.JZ}}]),n}(Kx),nB=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.dK=function(){return this.BD.AK},i._K=function(t){mu(this.BD.TK(t))},T(n,[{key:"u_",get:function(){return Vx.JZ}}]),n}(Kx),iB=function(t){function n(n,i){var e;return(e=t.call(this)||this).Wm="",e._Z=!0,e.gK=n,e.vK=i,e}E(n,t);var i=n.prototype;return i.EE=function(){},i.Kc=function(){this.ou()},T(n,[{key:"r_",get:function(){return String(this.gK.r_)}},{key:"s_",get:function(){return this.gK.r_}},{key:"QR",get:function(){return this.gK.QR}},{key:"dZ",get:function(){return this.gK.dZ}},{key:"o_",get:function(){var t;return null!=(t=this.Wm)?t:this.vK.gi},set:function(t){this.o_!==t&&(this.Wm=t,this.Ks(new Zx(this.wg)))}},{key:"YZ",get:function(){return this.vK.XZ.SK()}}]),n}(Su),eB=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).dg=void 0,e}return E(n,t),n.prototype.gg=function(){return Mx(this)},T(n,[{key:"yZ",get:function(){return 0}},{key:"iX",get:function(){var t;return(null==(t=this.gK.iX)?void 0:t.nX)||""}},{key:"wg",get:function(){return this.dg||(this.dg=this.gg()),this.dg}}]),n}(iB),rB=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).dg=void 0,e}return E(n,t),n.prototype.gg=function(){return Lx(this)},T(n,[{key:"iX",get:function(){var t;return(null==(t=this.gK.iX)?void 0:t.tX)||""}},{key:"gZ",get:function(){return 0}},{key:"wZ",get:function(){return 0}},{key:"bT",get:function(){var t,n;return null!=(t=null==(n=this.gK.EK)?void 0:n.bT)?t:0}},{key:"xp",get:function(){var t,n;return null!=(t=null==(n=this.gK.EK)?void 0:n.xp)?t:0}},{key:"wg",get:function(){return this.dg||(this.dg=this.gg()),this.dg}}]),n}(iB);!function(t){t.IK="FATAL",t.d_="ERROR",t.RK="WARNING",t.NK="INFO",t.DK="DEBUG"}(Qx||(Qx={}));var sB=new(function(){function t(){this.e_=function(){return!1}}var n=t.prototype;return n.CK=function(t){if(!this.e_())return!1;var n=[];return!(n.length>0)||n.some(function(n){return n.toLowerCase()===t.toLowerCase()})},n.PK=function(t){if(this.CK(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.Ar.apply(i,[Qx.DK+" "+t+" -"].concat(e))}},n.IT=function(t){if(this.CK(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.Ar.apply(i,[Qx.NK+" "+t+" -"].concat(e))}},n.xK=function(t){if(this.CK(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.Tr.apply(i,[Qx.RK+" "+t+" -"].concat(e))}},n.Au=function(t){if(this.CK(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.Sr.apply(i,[Qx.d_+" "+t+" -"].concat(e))}},n.BK=function(t){if(this.CK(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.Sr.apply(i,[Qx.IK+" "+t+" -"].concat(e))}},t}()),uB="HLSPlaylistParser",oB=function(){function t(t,n,i){this.BD=t,this.LK=n,this.MK=i}var n=t.prototype;return n.FK=function(){var t,n,i=null==(t=this.BD.UK)?void 0:t.jK;if(i&&0!==i.length){for(var e=null!=(n=Gs(i,function(t){return 0!==t.HK.length&&0!==t.XK.length}))?n:i[0],r=i.filter(function(t){return t!==e}),s=0,u=e.HK;s<u.length;s++){var o=u[s],a=new pm,h=[];a.Xm(new eB(e,o)),h.push(o);for(var c=0;c<r.length;c++)for(var f=r[c],l=0,v=f.HK;l<v.length;l++){var d=v[l];if(Ux(d,o)&&!Hx(h,d)){a.Xm(new eB(f,d)),h.push(d);break}}this.LK.zg(new tB(this.BD,this.LK,a))}for(var w=0,g=e.XK;w<g.length;w++){var _=g[w],y=new pm,m=[];y.Xm(new rB(e,_)),m.push(_);for(var p=0;p<r.length;p++)for(var k=r[p],b=0,A=k.XK;b<A.length;b++){var T=A[b];if(Ux(T,_)&&!Hx(m,T)){y.Xm(new rB(k,T)),m.push(T);break}}this.MK.zg(new nB(this.BD,this.MK,y))}}else sB.xK("LLHLSTrackConfigurator","The HLSModel contains no variant streams.")},n.VK=function(){this.zK(this.LK),this.zK(this.MK)},n.zK=function(t){for(var n=[],i=0,e=t.qg;i<e.length;i++){for(var r=e[i],s=[],u=0,o=r.h_.qg;u<o.length;u++){var a=o[u];Js(a.gK.WK,a.vK)||s.push(a)}for(var h=0;h<s.length;h++){var c=s[h];r.h_.Kh(c),c.Kc()}0===r.h_.$g&&n.push(r)}for(var f=0;f<n.length;f++){var l=n[f];t.Wg(l),l.Kc()}},t}(),aB=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).VC=void 0,e.VC=i,e}return E(n,t),n.prototype.dd=function(t){var n,e,r,s,u;return Ur.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(n=new _w(t),e=this.VC.yL.YR(n)){o.next=4;break}return o.abrupt("return",this.DE.dd(n));case 4:return e.mL(i.wr()/1e3),o.next=7,Ur.awrap(this.DE.dd(t));case 7:return r=o.sent,e.pL(i.wr()/1e3),s=r.Wv().pipeThrough(new Cd(new hB(e))),u={Xi:s,dd:r.dd},o.abrupt("return",new gw(u,r));case 12:case"end":return o.stop()}},null,this,null,Ge)},n}(function(){function t(t){this.DE=void 0,this.DE=t}var n=t.prototype;return n.dd=function(t){return this.DE.dd(t)},n.Xd=function(t){this.DE.Xd(t)},n.Kc=function(){this.DE.Kc()},t}()),hB=function(){function t(t){this.lF=void 0,this.GK=t}var n=t.prototype;return n.start=function(t){this.lF=t},n.transform=function(t){this.GK.kL(i.wr()/1e3,t),this.lF.enqueue(t)},n.flush=function(){this.GK.bL(i.wr()/1e3)},t}(),cB=function(){function t(t){this.qK=void 0,this.$K=0,this.YK=0,this.qK=g.exp(g.log(.5)/t)}var n=t.prototype;return n.QK=function(t,n){var i=g.pow(this.qK,t),e=n*(1-i)+i*this.$K;m(e)||(this.$K=e,this.YK+=t)},n.zU=function(t){var n=g.exp(g.log(.5)/t);if(n!==this.qK)if(0!==this.YK){var i=this.NJ,e=1-g.pow(n,this.YK);this.$K=i*e,this.qK=n}else this.qK=n},T(t,[{key:"NJ",get:function(){var t=1-g.pow(this.qK,this.YK);return this.$K/t}}]),t}(),fB=function(){function t(n,i,e,r){void 0===n&&(n=t.JK),void 0===i&&(i=t.ZK),void 0===e&&(e=t.KK),void 0===r&&(r=!1),this.n0=void 0,this.i0=void 0,this.e0=0,this.r0=[],this.s0=void 0,this.u0=6e4,this.o0=10,this.a0=void 0,this.h0=void 0,this.c0=void 0,this.f0=void 0,this.a0=n,this.h0=i,this.c0=e,this.f0=r,this.n0=new cB(n),this.i0=new cB(i)}var n=t.prototype;return n.QK=function(t){var n=i.wr(),e=t;this.f0&&void 0!==this.s0&&n-this.s0>=this.u0&&this.wc(),this.e0+=1,this.n0.QK(1,e),this.i0.QK(1,e),this.r0.push(e),this.r0.length>this.o0&&this.r0.shift(),this.s0=n},n.l0=function(){return void 0!==this.s0&&i.wr()-this.s0<=this.u0},n.wc=function(){this.n0=new cB(this.a0),this.i0=new cB(this.h0),this.e0=0,this.r0=[],this.s0=void 0},T(t,[{key:"NJ",get:function(){return this.l0()?g.max(this.n0.NJ,this.i0.NJ):this.c0}}]),t}();fB.JK=2,fB.ZK=5,fB.KK=.1;var lB,vB=function(){function t(t){this.v0=t}var n=t.prototype;return n.mL=function(t){for(var n=0,i=this.v0;n<i.length;n++){i[n].mL(t)}},n.pL=function(t){for(var n=0,i=this.v0;n<i.length;n++){i[n].pL(t)}},n.kL=function(t,n){for(var i=0,e=this.v0;i<e.length;i++){e[i].kL(t,n)}},n.bL=function(t){for(var n=0,i=this.v0;n<i.length;n++){i[n].bL(t)}},t}(),dB=function(){function t(t){this.d0=void 0,this.w0=void 0,this.d0=t}var n=t.prototype;return n.mL=function(t){this.w0=t},n.pL=function(t){this.d0.QK(t-this.w0)},n.kL=function(t){},n.bL=function(t){},t}(),wB=function(){function t(t){this.g0=void 0,this._0=void 0,this.y0=0,this.g0=t}var n=t.prototype;return n.pL=function(t){this._0=t},n.kL=function(t,n){this.y0+=n.byteLength},n.bL=function(t){this.g0.QK(t-this._0,this.y0)},n.mL=function(t){},t}(),gB=function(){function t(t,n){void 0===n&&(n=0),this.g0=void 0,this.m0=void 0,this.p0=new _B,this.ZW=0,this.k0=0,this.g0=t,this.m0=n}var n=t.prototype;return n.mL=function(t){},n.kL=function(t,n){var e=n.byteLength,r=this.k0;this.k0=e;var s=t-this.ZW;this.ZW=t,this.p0.jj(n);var u=!this.p0.b0(),o=e>=this.m0;r!==i.jr.Je&&u&&o&&this.g0.QK(s,e)},n.pL=function(t){this.ZW=t},n.bL=function(t){},t}(),_B=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).A0=void 0,n.T0=!1,n}E(n,t);var i=n.prototype;return i.b0=function(){return this.T0},i.jj=function(n){this.T0=!1,t.prototype.jj.call(this,n)},i.Fj=function(n,i){this.A0&&this.A0!==Sp.rA||(this.T0=!0),t.prototype.Fj.call(this,n,i),this.A0=n},i.$j=function(t){return!1},i.Qj=function(t){},i.Jj=function(t){},n}(rD);!function(t){t.S0="sample"}(lB||(lB={}));var yB=function(t){function n(i,e,r,s){var u;return void 0===i&&(i=n.JK),void 0===e&&(e=n.ZK),void 0===r&&(r=n.E0),void 0===s&&(s=n.KK),(u=t.call(this)||this).n0=void 0,u.i0=void 0,u.I0=0,u.c0=void 0,u.R0=void 0,u.R0=r,u.n0=new cB(i),u.i0=new cB(e),u.c0=s,u}E(n,t);var i=n.prototype;return i.QK=function(t,n){var i=8*n/t;this.n0.QK(t,i),this.i0.QK(t,i),this.I0+=n,this.P_(),this.Ks(new Iu(lB.S0))},i.l0=function(){return this.I0>=this.R0},T(n,[{key:"NJ",get:function(){return this.l0()?g.min(this.n0.NJ,this.i0.NJ):this.c0}}]),n}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).N0=0,n}return E(n,t),n.prototype.P_=function(){var t=i.wr();t-this.N0>1e3&&(this.N0=t,ty.P_(this.NJ/8))},n}(Su));yB.E0=128e3,yB.KK=5e5,yB.JK=.5,yB.ZK=5;var mB=function(){function t(t){this.g0=void 0,this.D0=void 0;var n=t.QR>0?t.QR:yB.KK,i=t.JR>0?t.JR:fB.KK;this.g0=new yB(yB.JK,yB.ZK,1,n),this.D0=new fB(fB.JK,fB.ZK,i)}var n=t.prototype;return n.YR=function(t){if("segment"===t.gs||"preload-hint"===t.gs){var n=[new dB(this.D0)];return"stream"!==t.fd||!function(t){return"segment"===t.gs&&"initialization-segment"!==t.Fd}(t)&&"preload-hint"!==t.gs?n.push(new wB(this.g0)):n.push(new gB(this.g0,1e3)),new vB(n)}},n.C0=function(t){this.g0=new yB(yB.JK,yB.ZK,1,t)},T(t,[{key:"QR",get:function(){return this.g0.NJ}},{key:"JR",get:function(){return this.D0.NJ}}]),t}();var pB=function(t){function n(n){var i;return(i=t.call(this,Bx.jZ)||this).Au=n,i}return E(n,t),n}(Iu),kB=function(){function t(t){this.SZ=t}return t.prototype.ZU=function(t){var n={gs:mb.UE,WN:[],Mz:[{Gv:t}]};return Ge.resolve(void 0!==this.SZ.ZU([n]))},t}(),bB=function(t,n,i,e,r){return Ge.resolve(t.filter(function(t){return!!Js(e,t)||1.1*t.QR<=i.QR}))},AB=function(t,n,i,e,r){return Ge.resolve(t.filter(function(t){if(Js(e,t))return!0;for(var s=1/0,u=0,o=t.WK;u<o.length;u++){var a,h,c=o[u];s=g.min(s,null!=(a=null!=(h=c.XZ.P0)?h:c.XZ.O0)?a:1/0)}s===1/0&&(s=1);var f=3*i.JR+t.QR*s/i.QR;return t.QR<=n.QR||r.x0>f}))},TB=function(t,n,i,e,r){return Ge.resolve(Fs(t,function(t,n){return n.QR-t.QR}))},SB=function(t,n,i,e,r){return Ge.resolve(t.every(function(t){return t.B0&&!m(t.B0)})?Fs(t,function(t,n){return n.B0-t.B0}):t)},EB=function(t,n,i,e,r){return Ge.resolve(Fs(t,function(t,n){var i=Js(e,t)?1:0;return(Js(e,n)?1:0)-i}))},IB=function(t,n,i,e,r){return Ge.resolve(t.filter(function(t){return!t.iX||!n.iX||(t.iX.tX?!!n.iX.tX&&(t.iX.tX.split(".")[0]===n.iX.tX.split(".")[0]&&(t.iX.nX?!!n.iX.nX&&(t.iX.nX.split(".")[0]===n.iX.nX.split(".")[0]&&t.iX.eX===n.iX.eX):!n.iX.nX)):!n.iX.tX)}))},RB=function(t,n,e,r,s){return Ge.resolve(function(t,n){if(!i.jr.dn)return t;for(var e=0;e<t.length;e++){var r,s,u,o,a=t[e],h=null!=(r=null==(s=a.EK)?void 0:s.bT)?r:0,c=null!=(u=null==(o=a.EK)?void 0:o.xp)?u:0;if(h===n.bT&&c===n.xp)return t.slice(e,t.length);if(h<n.bT||c<n.xp)return t.slice(0===e?e:e-1,t.length)}return[]}(t,s))};var NB,DB,CB,PB,OB=function(){function t(t){this.L0=[IB,bB,AB,TB,RB,SB,EB],this.VC=t}var n=t.prototype;return n.M0=function(t){this.L0=t},n.F0=function(t,n,i,e){var r,s,u,o,a;return Ur.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(t.length){h.next=2;break}throw new l("AbrEvaluator - Unable to select optimal variant stream from an empty list.");case 2:sB.PK("AbrEvaluator","Performing optimal variant stream selection."),r=this.U0,s=t,u=0,o=this.L0;case 6:if(!(u<o.length)){h.next=14;break}return a=o[u],h.next=10,Ur.awrap(a(s,n,r,i,e));case 10:s=h.sent;case 11:u++,h.next=6;break;case 14:if(s.length){h.next=17;break}return sB.xK("AbrEvaluator","No possible variant stream remains after ABR rule evaluation. Selecting the lowest bandwidth variant stream."),h.abrupt("return",nu(t,function(t){return t.QR}));case 17:return h.abrupt("return",s[0]);case 18:case"end":return h.stop()}},null,this,null,Ge)},T(t,[{key:"U0",get:function(){return this.VC.yL}}]),t}();function xB(t,n){return[t,void 0!==n?t+n-1:Lt]}function BB(t){return Boolean(t.wT)}function LB(t){return Boolean(t.j0)}function MB(t){return t?t.H0?t.Ti+"@"+t.H0.WD+"-"+(null!=(n=t.H0.$g)?n:""):""+t.Ti:"";var n}function FB(t,n){if(n===t)return!0;if(n.Ti!==t.Ti)return!1;if(!t.H0)return!0;if(n.H0){var i=xB(t.H0.WD,t.H0.$g),e=xB(n.H0.WD,n.H0.$g);return i[0]<=e[0]&&i[1]>=e[1]}return!1}function UB(t,n){return t===n||t.Ti===n.Ti&&(Boolean(t.H0)===Boolean(n.H0)&&(!t.H0||!n.H0||t.H0.WD===n.H0.WD&&t.H0.$g===n.H0.$g))}function jB(t){var n=!!t.X0||void 0;return{r_:t.r_,V0:t.V0,cD:t.cD,z0:t.z0,uy:t.uy,W0:t.W0,X0:n,G0:t.q0,$0:t.Y0,Q0:t.Q0,J0:t.J0}}function HB(t,n,i,e){var r=[],s=Gs(i,function(t){return t.Z0===Kr});if(void 0!==s){var u=s.Ti?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(s.Ti.toLowerCase()):"cenc";if(void 0!==u){for(var o=0;o<i.length;o++){var a=i[o];if(a.Z0!==Kr)for(var h=0,c=ps(a.Z0);h<c.length;h++){var f=c[h];r.push({hc:f,nN:a.K0?[a.K0]:[],dR:void 0})}}if(r.length)return{eI:t,n1:{i1:u,rI:s.rI},e1:r,s1:n===ym.Od?e.slice():[],u1:n===ym.xd?e.slice():[],QG:!1}}}}function XB(t,n){var i;if(!t)return n;if(!n)return t;var e=[],r=Xr();return VB(e,r,t.e1),VB(e,r,n.e1),{eI:t.eI,n1:{i1:t.n1.i1,rI:null!=(i=t.n1.rI)?i:n.n1.rI},e1:e,s1:zB(t.s1,n.s1,Js),u1:zB(t.u1,n.u1,Js),QG:t.QG||n.QG||!1}}function VB(t,n,i){for(var e=0;e<i.length;e++){var r=i[e],s=r.hc.Ts,u=void 0;n.has(s)?(u=n.get(s)).nN=zB(u.nN,r.nN,WB):(u=jr({},r),t.push(u),n.set(s,u))}}function zB(t,n,i){for(var e=t.slice(),r=0;r<n.length;r++){var s=n[r];i(e,s)||e.push(s)}return e}function WB(t,n){for(var i=0;i<t.length;i++){if(qu(t[i],n))return!0}return!1}function GB(t,n){var i,e=t.o1;if(e){for(var r=t.yx,s=[],u=0,o=t.iX;u<o.length;u++){var a=o[u];s.push(r+'; codecs="'+a+'"')}i=HB(n||{},t.gs,e,s)}for(var h=0,c=t.a1;h<c.length;h++){i=XB(i,qB(c[h],n))}return i}function qB(t,n){return HB(n||{},t.gs,t.o1||[],[t.Gv])}function $B(t,n){switch(n.gs){case Zr.fs:return t.widevine;case Zr.hs:return t.playready;case Zr.vs:return t.fairplay;case Zr.ls:return t.clearkey}}function YB(t,n,i){if(0!==t.length)return t.map(function(t){return{contentType:t,encryptionScheme:n,robustness:i}})}function QB(t,n,i,e,r){var s,u,o,a,h,c,f,l,v;return Ur.async(function(d){for(;;)switch(d.prev=d.next){case 0:if(t){d.next=2;break}return d.abrupt("return",[]);case 2:return s=n.filter(function(t){return bs(t,"audio")}),u=n.filter(function(t){return bs(t,"video")}),o=[],a=i.map(function(t){return JB(t,e,r)}),d.next=8,Ur.awrap(Ge.all(a));case 8:for(h=d.sent.filter(H),c=KB(h,t.preferredKeySystems),f=0;f<c.length;f++)l=c[f],v=$B(t,l.hc),"cbcs",o.push({hc:l.hc,nN:l.nN,dR:l.dR,sD:[{initDataTypes:[l.hc.ys],audioCapabilities:YB(s,"cbcs",null==v?void 0:v.audioRobustness),videoCapabilities:YB(u,"cbcs",null==v?void 0:v.videoRobustness),persistentState:null==v?void 0:v.persistentState,distinctiveIdentifier:null==v?void 0:v.distinctiveIdentifier}]});return d.abrupt("return",o);case 12:case"end":return d.stop()}},null,null,null,Ge)}function JB(t,n,i){var e,r,s;return Ur.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t.YZ){u.next=2;break}return u.abrupt("return");case 2:if(t.h1){u.next=4;break}return u.abrupt("return");case 4:if(t.Ld===CB.c1){u.next=6;break}return u.abrupt("return");case 6:if(e=ZB(t.h1)){u.next=9;break}return u.abrupt("return");case 9:if(e.Ts!==fs){u.next=13;break}return u.abrupt("return",{hc:e,nN:[],dR:t.YZ});case 13:return sB.IT("HLSDrmUtils","Fetching key uri "+t.YZ+"."),u.next=16,Ur.awrap(n.dd({_d:t.YZ,jd:i}));case 16:return r=u.sent,u.next=19,Ur.awrap(r.zv());case 19:return s=u.sent,u.abrupt("return",{hc:e,nN:[s],dR:void 0});case 21:case"end":return u.stop()}},null,null,null,Ge)}function ZB(t){return t===os?ws:t===ss?ds:t===vs?_s:void 0}function KB(t,n){var i=function(t){var i=n.indexOf(t.hc.Ts);return i>=0?i:n.length};return Fs(t,function(t,n){return i(t)-i(n)})}function tL(t){if("#"!==t[0])throw new l("HLSPlaylistParser - Could not extract M3U8 tag or comment: "+t);return t.split(":",1)[0]}function nL(t){return"#"!==t[0]?t:t.split(":",1)[0]}function iL(t){var n=t.indexOf(":");if(-1===n||t.length<n+1)throw new l("HLSPlaylistParser - Could not extract M3U8 parameter: "+t);return t.substring(n+1)}function eL(t){var n=aL(iL(t));if(void 0===n)throw new l("HLSPlaylistParser - Could not extract M3U8 float parameter: "+t);return n}function rL(t){for(var n={},i=/[:,] ?([A-Z0-9-]+)=([^",]+|"([^"]*)")/gi,e=i.exec(t);null!==e;){var r=e[1],s=void 0;s=void 0!==e[3]?e[3]:e[2],null!==r?n[r]=s:sB.xK(uB,"Ignoring unparsable M3U8 attribute name: "+t+"."),e=i.exec(t)}return n}function sL(t,n){var e,r,s=rL(t);try{e=s.URI?i.Fr(s.URI,n):void 0,r=function(t){switch(t){case"AUDIO":return NB.Od;case"VIDEO":return NB.xd;case"SUBTITLES":return NB.lA;case"CLOSED-CAPTIONS":return NB.f1}throw new l("HLSPlaylistParser - Could not parse M3U8 media type: "+t+".")}(s.TYPE)}catch(n){throw new l("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".")}var u=s["GROUP-ID"],o=s.LANGUAGE,a=s["ASSOC-LANGUAGE"],h=s.NAME,c="YES"===s.DEFAULT,f="YES"===s.AUTOSELECT,v="YES"===s.FORCED,d=s["INSTREAM-ID"],w=s.CHARACTERISTICS,g=s.CHANNELS;if(u||sB.xK(uB,"#EXT-X-MEDIA tag has no GROUP-ID attribute: "+t+"."),o||sB.xK(uB,"#EXT-X-MEDIA tag has no LANGUAGE attribute: "+t+"."),h||sB.xK(uB,"#EXT-X-MEDIA tag has no NAME attribute: "+t+"."),r===NB.f1?(e&&sB.xK(uB,"#EXT-X-MEDIA tag of type CAPTIONS must not have a URI: "+t+"."),d?/^(CC[0-4])|(SERVICE([1-9]|[1-5][0-9]|6[0-3]))$/.test(d)||sB.xK(uB,"#EXT-X-MEDIA's INSTREAM-ID is invalid: "+t+"."):sB.xK(uB,"#EXT-X-MEDIA tag of type CAPTIONS must have an INSTREAM-ID attribute: "+t+".")):d&&sB.xK(uB,"#EXT-X-MEDIA tag must not have an INSTREAM-ID attribute if the TYPE is not CAPTIONS: "+t+"."),c&&!f&&(f=!0,s.AUTOSELECT&&sB.xK(uB,"#EXT-X-MEDIA tag with DEFAULT=YES attribute must have AUTOSELECT=YES attribute: "+t+".")),r===NB.lA&&s.FORCED&&sB.xK(uB,"#EXT-X-MEDIA tag must not have a FORCED attribute if the TYPE is not SUBTITLES: "+t+"."),void 0===u||void 0===h)throw new l("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".");return{l1:a,v1:g,d1:w,GZ:u,zZ:f,VZ:c,WZ:v,qZ:d,a_:o,gi:h,gs:r,YZ:e}}function uL(t,n,e){var r,s,u,o=rL(t);try{r=i.Fr(e,n),u=function(t){if(void 0===t)return;var n=t.split("x"),i=Number(n[0]),e=Number(n[1]);if(m(i)||m(e))throw new l("HLSPlaylistParser - Could not parse RESOLUTION attribute: "+t+".");return{xp:i,bT:e}}(o.RESOLUTION),s=function(t){if(!t)return;for(var n,i,e,r=t.split(","),s=0;s<r.length;s++){var u=r[s],o=u.trim();As(o,"mp4a")?n="mp4a.40.05"===o?"mp4a.40.5":"mp4a.40.02"===o?"mp4a.40.2":o:"ac-3"===o||"ec-3"===o?n=o:As(o,"avc")||As(o,"hvc1")||As(o,"hev1")||As(o,"dvh")?i=u:e=e?e+","+o:o}return{nX:n,tX:i,eX:e}}(o.CODECS)}catch(n){throw new l("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".")}var a=aL(o.BANDWIDTH),h=aL(o["AVERAGE-BANDWIDTH"]),c=aL(o.SCORE),f=aL(o["FRAME-RATE"]),v=o["HDCP-LEVEL"],d=[];if(void 0!==o["ALLOWED-CPC"]){var w=o["ALLOWED-CPC"].split(",");d.push.apply(d,w.map(function(t){var n=t.split(":");return{keysystem:n[0],label:n[1]}}))}var g=o["VIDEO-RANGE"],_=o.AUDIO,y=o.VIDEO,p=o.SUBTITLES,k=o["CLOSED-CAPTIONS"];if(void 0===a?sB.xK(uB,"#EXT-X-STREAM-INF tag has no valid BANDWIDTH attribute: "+t+"."):void 0!==h&&h>a&&sB.xK(uB,"#EXT-X-STREAM-INF tag must have BANDWIDTH attribute higher or equal to AVERAGE-BANDWIDTH attribute: "+t+"."),s||sB.IT(uB,"#EXT-X-STREAM-INF tag should have a CODECS attribute: "+t+"."),s&&s.tX&&void 0===u&&sB.IT(uB,"#EXT-X-STREAM-INF tag should have a valid RESOLUTION attribute if it contains video codecs: "+t+"."),void 0===v||Js(["TYPE-0","TYPE-1","NONE"],v)||sB.xK(uB,"#EXT-X-STREAM-INF tag has an invalid HDCP-LEVEL attribute: "+t+"."),void 0===g||Js(["SDR","PQ","HLG"],g)||sB.xK(uB,"#EXT-X-STREAM-INF tag has an invalid VIDEO-RANGE attribute: "+t+"."),void 0===a)throw new l("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".");return{w1:d,g1:_,dZ:h,QR:a,_1:k,iX:s,wZ:f,m1:v,EK:u,B0:c,b1:p,YZ:r,A1:y,T1:g}}function oL(t,n){var i=rL(t);if(!i.URI)throw new l("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".");try{return uL(t,n,i.URI)}catch(n){throw new l("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".")}}function aL(t){var n=Number(t);return m(n)?void 0:n}function hL(t,n){var i,e,r=rL(t);try{i=function(t){switch(t){case"NONE":return CB.PD;case"AES-128":return CB.S1;case"SAMPLE-AES":return CB.c1;case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return t}throw new l("LLHLSPlaylistParser - Could not parse M3U8 key method: "+t+".")}(r.METHOD),e=r.URI?_L(r.URI,n):void 0}catch(n){throw new l("HLSPlaylistParser - Could not parse #EXT-X-KEY tag: "+t+".")}var s,u,o,a,h,c=r.KEYFORMAT,f=r.IV,v=r.KEYFORMATVERSIONS;if(i!==CB.PD){if(o=c||"identity","SAMPLE-AES-CENC"===i||"SAMPLE-AES-CTR"===i){if(ZB(o)!==ws)throw new l("HLSPlaylistParser - #EXT-X-KEY tag with METHOD="+i+" is only compatible with Widevine.");s=CB.c1}else s=i;u=e,a=f?ta(f):void 0,h=v?v.split("/").map(function(t){return Number(t)}):[1]}else s=CB.PD,(e||c||v||f)&&sB.xK(uB,"#EXT-X-KEY tag with METHOD=NONE must not have additional attributes: "+t+".");return{Ld:s,YZ:u,E1:a,h1:o,I1:h}}function cL(t){var n=iL(t);if(!n)return[void 0,""];var i=n.split(","),e=i[0],r=i[1];return[aL(e),r]}function fL(t,n){var i=t.split("@"),e=aL(i[0]),r=i.length>1?aL(i[1]):n;if(void 0===e||void 0===r)throw new l("HLSPlaylistParser - Could not parse #EXT-X-BYTERANGE tag: "+t+".");return{WD:r,$g:e}}function lL(t){if(void 0!==t)return fL(t,void 0)}function vL(t,n){return fL(iL(t),n)}function dL(t,n){var i=rL(t);try{return{Ti:_L(i.URI,n),H0:lL(i.BYTERANGE)}}catch(n){throw new l("HLSPlaylistParser - Could not parse #EXT-X-MAP tag: "+t+".")}}function wL(t){var n=iL(t);if(!n)throw new l("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");var i=new Date(n);if(!zt(i))throw new l("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");return i}function gL(t){var n,i,e,r=rL(t),s=r["START-DATE"],u=r["END-DATE"],o=aL(r["PLANNED-DURATION"]),a=aL(r.DURATION);void 0!==r["SCTE35-CMD"]&&(n=ta(r["SCTE35-CMD"]).buffer),r["SCTE35-IN"]&&(i=ta(r["SCTE35-IN"]).buffer),r["SCTE35-OUT"]&&(e=ta(r["SCTE35-OUT"]).buffer);var h,c,f="YES"===r["END-ON-NEXT"],v=function(t){for(var n={},i=0,e=w.keys(t);i<e.length;i++){var r=e[i],s=t[r];void 0!==s&&As(r,"X-")&&(n[r]=s)}return n}(r),d=r.ID,g=r.CLASS;if(void 0===s)sB.xK(uB,"Could not parse #EXT-X-DATERANGE tag without START-DATE attribute: "+s+".");else if(h=new Date(s),c=void 0!==u?new Date(u):void 0,zt(h)||sB.xK(uB,"Could not parse EXT-X-DATERANGE tag with invalid START-DATE attribute: "+h+"."),void 0!==a){var _=new Date(h.getTime()+1e3*a);c?c.getTime()!==_.getTime()&&(sB.xK(uB,"DURATION and END-DATE attributes of #EXT-X-DATERANGE tag are not aligned, updating the END-DATE: "+t+"."),c=_):c=_}else c&&(a=(h.getTime()-c.getTime())/1e3);if(f&&(r.CLASS||sB.xK(uB,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute without CLASS attribute: "+t+"."),r.DURATION&&sB.xK(uB,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with DURATION attribute: "+t+"."),c&&sB.xK(uB,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with END-DATE attribute: "+t+".")),void 0===d&&sB.xK(uB,"Could not parse #EXT-X-DATERANGE tag without valid ID attribute: "+t+"."),void 0===d||void 0===h)throw new l("HLSPlaylistParser - Could not parse #EXT-X-DATERANGE tag: "+t+".");return{r_:d,V0:g,cD:h,z0:c,uy:a,W0:o,Y0:n,J0:i,Q0:e,X0:f,q0:v}}function _L(t,n){if(void 0===t)throw new l("HLSPlaylistParser - Unable to parse URL from string: "+t+".");return i.Fr(t,n)}function yL(t,n){var i=rL(t),e=aL(i.DURATION),r=_L(i.URI,n),s=lL(i.BYTERANGE),u="YES"===i.INDEPENDENT,o="YES"===i.GAP;if(void 0===e)throw new l("HLSPlaylistParser - Unable to parse #EXT-X-PART without valid DURATION: "+t);return{uy:e,YZ:{Ti:r,H0:s},R1:u,N1:o}}function mL(t){var n=rL(t);return{D1:"YES"===n["CAN-BLOCK-RELOAD"],C1:aL(n["CAN-SKIP-UNTIL"]),P1:"YES"===n["CAN-SKIP-DATERANGES"],O1:aL(n["HOLD-BACK"]),B1:aL(n["PART-HOLD-BACK"])}}function pL(t,n){var i=rL(t);if(void 0===i.URI)throw new l("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");var e=_L(i.URI,n),r=aL(i["LAST-MSN"]),s=aL(i["LAST-PART"]);if(void 0===r)throw new l("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");return{YZ:e,L1:r,M1:s}}function kL(t,n){var i,e=rL(t),r=aL(e["SKIPPED-SEGMENTS"]),s=null==(i=e["RECENTLY-REMOVED-DATERANGES"])?void 0:i.split("\t");if(!r)throw new l("HLSPlaylistParser - Could not parse #EXT-X-SKIP tag without valid SKIPPED-SEGMENTS attribute: "+t+".");return{F1:r,U1:s,j1:n}}function bL(t){var n=aL(rL(t)["PART-TARGET"]);if(void 0===n)throw new l("HLSPlaylistParser - Could not parse #EXT-X-PART-TARGET-DURATION tag: "+t+".");return n}function AL(t){switch(iL(t)){case"VOD":return PB.H1;case"EVENT":return PB.X1;default:return sB.xK(uB,"Found #EXT-X-PLAYLIST-TYPE tag with invalid value: "+t+"."),PB.md}}function TL(t,n){var i,e,r=rL(t);try{i=function(t){if(void 0===t)throw new l("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".");if("MAP"===t)return DB.V1;if("PART"===t)return DB.z1;throw new l("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".")}(r.TYPE),e=_L(r.URI,n)}catch(n){throw new l("HLSPlaylistParser - Could not parse #EXT-X-PRELOAD-HINT tag: "+t+".")}var s,u=aL(r["BYTERANGE-START"]),o=aL(r["BYTERANGE-LENGTH"]);return void 0===u&&void 0===o||(s={WD:u||0,$g:o}),{gs:i,YZ:{Ti:e,H0:s}}}!function(t){t[t.Od=0]="Od",t[t.xd=1]="xd",t[t.lA=2]="lA",t[t.f1=3]="f1"}(NB||(NB={})),NB.Od,NB.xd,NB.lA,NB.f1,function(t){t[t.V1=0]="V1",t[t.z1=1]="z1"}(DB||(DB={})),function(t){t[t.PD=0]="PD",t[t.S1=1]="S1",t[t.c1=2]="c1"}(CB||(CB={})),function(t){t[t.md=0]="md",t[t.H1=1]="H1",t[t.X1=2]="X1"}(PB||(PB={}));var SL=function(){function t(n){this.W1=0,this.G1=void 0,this.G1=t.q1(n)}var n=t.prototype;return n.Y1=function(){var t=this.G1[this.W1];return this.W1+=1,t},n.Q1=function(){return this.G1[this.W1]},n.ju=function(){var n=new t("");return n.W1=0,n.G1=this.G1.slice(this.W1),n},t.q1=function(t){return t?t.split(/[\r\n]+/).map(function(t){return t.trim()}).filter(function(t){return t}):[]},t}();function EL(t,n,i){var e=t.YZ,r=t.VA,s=t.J1,u=t.WD;switch(i){case"#EXT-X-VERSION":r=function(t){var n=eL(t);return m(n)?(sB.xK(uB,"Playlist version is NaN: "+t+"."),1):n}(n);break;case"#EXT-X-INDEPENDENT-SEGMENTS":s=!0;break;case"#EXT-X-START":u=function(t){var n=rL(t),i=aL(n["TIME-OFFSET"]);if(void 0===i)throw new l("HLSPlaylistParser - #EXT-X-START is missing a TIME-OFFSET: "+t+".");return{Z1:i,K1:"YES"===n.PRECISE}}(n);break;case"#EXT-X-DEFINE":sB.xK(uB,"Ignoring unsupported #EXT-X-DEFINE: "+n+".");break;default:sB.IT(uB,"Ignoring unrecognized line or comment: "+n+".")}return{YZ:e,VA:r,J1:s,WD:u}}function IL(t,n){return t.map(function(t){return t.Ld===CB.PD||t.E1?t:jr({},t,{E1:RL(n)})})}function RL(t){var n=new DataView(new ArrayBuffer(16)),i=new Ko;return i.Mu(8),function(t,n,i,e){void 0===e&&(e=!1);var r=i.getHighBitsUnsigned(),s=i.getLowBitsUnsigned(),u=e?r:s;Ao(t,n,e?s:r,e),Ao(t,n,u,e)}(n,i,lt.fromNumber(t)),new p(n.buffer)}function NL(t,n,e){sB.IT(uB,"Parsing M3U8 playlist at "+t+".");var r=new SL(e);if("#EXTM3U"!==r.Y1())throw new l("HLSPlaylistParser - Could not parse M3U8 playlist. Playlist does not start with #EXTM3U.");return function(t){return/^#EXT-X-(MEDIA|STREAM-INF|I-FRAME-STREAM-INF|SESSION-DATA|SESSION-KEY):/m.test(t)}(e)?function(t,n){var e,r;try{r=i.Fr(t)}catch(n){throw sB.xK(uB,"The master playlist has no valid base URI: "+t+"."),new l("HLSPlaylistParser - Could not parse HLS master playlist: "+t)}for(var s={YZ:r,J1:void 0,WD:void 0,VA:void 0},u=[],o=[],a=[],h=[];;){var c=n.Y1();if(!c)break;try{var f=tL(c);switch(f){case"#EXT-X-MEDIA":var v=sL(c,r);u.push(v);break;case"#EXT-X-STREAM-INF":var d=uL(c,r,n.Y1());o.push(d);break;case"#EXT-X-I-FRAME-STREAM-INF":var w=oL(c,r);a.push(w);break;case"#EXT-X-SESSION-DATA":sB.xK(uB,"Ignoring unsupported #EXT-X-SESSION-DATA: "+c+".");break;case"#EXT-X-SESSION-KEY":var g=hL(c,r);h.push(g);break;default:s=EL(s,c,f)}}catch(t){sB.xK(uB,"Ignoring unparsable line: "+c,t)}}var _=s.VA,y=null!=(e=s.J1)&&e,m=s.WD;return void 0===_&&(sB.xK(uB,"The playlist has no #EXT-X-VERSION, assuming version is 2."),_=2),_>=8&&(o.some(function(t){return void 0!==t.B0})||a.some(function(t){return void 0!==t.B0}))&&(o.some(function(t){return void 0===t.B0})||a.some(function(t){return void 0===t.B0}))&&sB.xK(uB,"If one master playlist variant stream has a SCORE, all variants should have it."),{YZ:r,VA:_,J1:y,WD:m,n2:a,i2:h,wT:u,e2:o}}(t,r):function(t,n,e){var r,s,u,o,a,h,c,f,v,d,w,g,_,y,m,p,k,b,A,T={YZ:t,J1:void 0,WD:void 0,VA:void 0},S=[],E=!1,I=!1,R=[],N=Xr(),D=[],C=[],P=!1,O=!1,x=[],B=[],L=0,M=!1,F=PB.md,U=!1,j=0;try{A=i.Fr(t)}catch(n){throw sB.xK(uB,"The media playlist has no valid base URI: "+t+".",n),new l("HLSPlaylistParser - Could not parse HLS media playlist.")}for(var H=e.ju();void 0===p||void 0===k;){var X=H.Y1();if(!X)break;try{switch(nL(X)){case"#EXT-X-MEDIA-SEQUENCE":p=eL(X);break;case"#EXT-X-DISCONTINUITY-SEQUENCE":k=eL(X)}}catch(t){sB.xK(uB,"Ignoring unparsable line: "+X,t)}}void 0===p&&(sB.IT(uB,"#EXT-X-MEDIA-SEQUENCE tag is missing, assuming first segment media sequence number is 0."),p=0),void 0===k&&(sB.IT(uB,"#EXT-X-DISCONTINUITY-SEQUENCE tag is missing, assuming first segment discontinuity sequence number is 0."),k=0);for(var V=p,z=k;;){var W=e.Y1();if(!W)break;var G=!1;try{var q=nL(W);switch(q){case"#EXTINF":G=!0;var $=cL(W);h=$[0],c=$[1];break;case"#EXT-X-BYTERANGE":G=!0,(f=vL(W,L))&&(L=f.WD+f.$g);break;case"#EXT-X-DISCONTINUITY":G=!0,P=!0,z++;break;case"#EXT-X-KEY":var Y,Q;G=!0;var J=hL(W,A);if(J.Ld===CB.PD){N.clear(),y=void 0;break}var Z=null!=(Y=null==(Q=J.h1)?void 0:Q.toString())?Y:"identity";N.set(Z,J),J.Ld===CB.S1&&(y=J);break;case"#EXT-X-MAP":G=!0,d=dL(W,A),w=y;break;case"#EXT-X-PROGRAM-DATE-TIME":G=!0,g=wL(W);break;case"#EXT-X-GAP":G=!0,O=!0;break;case"#EXT-X-BITRATE":G=!0,_=eL(W);break;case"#EXT-X-TARGETDURATION":s=eL(W);break;case"#EXT-X-DATERANGE":var K=gL(W);S.push(K);break;case"#EXT-X-PART":G=!0;var tt=yL(W,A);C.push(tt);break;case"#EXT-X-PRELOAD-HINT":var nt=TL(W,A);x.push(nt);break;case"#EXT-X-SKIP":R.length>0&&sB.xK(uB,"#EXT-X-SKIP must appear before any #EXTINF tags."),G=!0;var it=kL(W,V);j=it.F1,b=it.U1,V+=it.F1;break;case"#EXT-X-SERVER-CONTROL":var et=mL(W);E=et.D1,u=et.C1,I=et.P1,o=et.O1,a=et.B1;break;case"#EXT-X-RENDITION-REPORT":var rt=pL(W,A);B.push(rt);break;case"#EXT-X-PART-INF":m=bL(W);break;case"#EXT-X-MEDIA-SEQUENCE":G&&sB.xK(uB,"#EXT-X-MEDIA-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-DISCONTINUITY-SEQUENCE":G&&sB.xK(uB,"#EXT-X-DISCONTINUITY-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-ENDLIST":M=!0;break;case"#EXT-X-PLAYLIST-TYPE":F=AL(W);break;case"#EXT-X-I-FRAMES-ONLY":U=!0;break;default:if(As(q,"#"))T=EL(T,W,q);else{v=i.Fr(W,A);var st=d?{YZ:d,s2:w}:void 0,ut={i2:IL(Wr(N),V),lE:D,u2:C,uy:h,$N:c,o2:P,YZ:{H0:f,Ti:v},a2:st,h2:g,N1:O,c2:_,j1:V,f2:z};R.push(ut),V++,D=[],C=[],h=void 0,h=void 0,c=void 0,P=!1,f=void 0,v=void 0,g=void 0,O=!1,_=void 0}}}catch(t){sB.xK(uB,"Ignoring unparsable line: "+W,t)}}if(C.length){var ot=d?{YZ:d,s2:y}:void 0,at={i2:IL(Wr(N),V),lE:D,u2:C,uy:h,$N:c,o2:P,YZ:void 0,a2:ot,h2:g,N1:O,c2:_,j1:V,f2:z};R.push(at)}var ht=T.VA,ct=null!=(r=T.J1)&&r,ft=T.WD;void 0===ht&&(sB.xK(uB,"The media playlist has no #EXT-X-VERSION tag, assuming version is 2."),ht=2),void 0===s&&sB.xK(uB,"Could not parse the HLS media playlist: no #EXT-X-TARGET-DURATION tag was found.");var lt=R.length,vt=lt>0;vt||sB.xK(uB,"The HLS media playlist contains no segments.");var dt=vt&&R[lt-1].u2.length>0;return dt&&void 0===m&&sB.xK(uB,"Could not parse the HLS media playlist: no #EXT-X-PART-TARGET-DURATION tag was found, but it is required when some or all segments contain parts."),dt&&void 0===a&&sB.xK(uB,"Could not parse the HLS media playlist: The #EXT-X-SERVER-CONTROL tag has no PART-HOLDBACK attribute, but it is required when some or all segments contain parts."),{D1:E,C1:u,P1:I,l2:S,f2:k,d2:M,J1:ct,O1:o,w2:U,j1:p,F1:j,B1:a,P0:m,g2:F,_2:x,U1:b,m2:B,b2:s,j0:R,WD:ft,YZ:A,A2:n,VA:ht}}(t,n,r)}var DL=function(){function t(t,n,i){var e,r,s,u;this.r_=CL++,this.XZ=void 0,this.QR=void 0,this.B0=void 0,this.EK=void 0,this.g1=void 0,this.A1=void 0,this.b1=void 0,this._1=void 0,this.T2=void 0,this.S2=void 0,this.E2=[],this.XZ=n,this.QR=t.QR,this.T2=t.dZ,this.B0=t.B0,this.S2=t.iX?PL(t.iX):void 0,this.EK=t.EK,this.g1=null!=(e=t.g1)?e:"I2"+this.r_,this.A1=null!=(r=t.A1)?r:"R2"+this.r_,this.b1=null!=(s=t.b1)?s:"N2"+this.r_,this._1=null!=(u=t._1)?u:"D2"+this.r_,this.E2=i}var n=t.prototype;return n.C2=function(t){for(var n=0,i=this.E2;n<i.length;n++){var e=i[n].XZ.C2(t);if(void 0!==e)return e}},n.P2=function(t){for(var n=0,i=this.E2;n<i.length;n++){var e=i[n].XZ.P2(t);if(void 0!==e)return e}},n.O2=function(t){Ys(this.E2,t)},T(t,[{key:"YZ",get:function(){return this.XZ.YZ}},{key:"iX",get:function(){return this.S2},set:function(t){this.S2=t?PL(t):void 0}},{key:"dZ",get:function(){return this.T2||this.QR}},{key:"B2",get:function(){var t,n;if(!this.E2.length)return TS.RC();var i=null!=(t=iu(this.E2,function(t){var n;return null!=(n=t.XZ.L2)?n:0}))?t:this.WK[0],e=i.XZ.j0;if(!e.length||e.length<2)return TS.RC();var r=i.XZ.d2?e[0].op:e[1].op,s=e[e.length-1],u=s.op+(null!=(n=s.uy)?n:s.M2)-this.WK.reduce(function(t,n){var i,e;return g.max(null!=(i=null!=(e=n.XZ.B1)?e:n.XZ.O1)?i:0,t)},0);return u<r?TS.RC():new TS([r,u])}},{key:"WK",get:function(){return this.E2}},{key:"HK",get:function(){return this.E2.filter(function(t){return t.gs===NB.Od})}},{key:"XK",get:function(){return this.E2.filter(function(t){return t.gs===NB.xd})}},{key:"F2",get:function(){return this.E2.filter(function(t){return t.gs===NB.lA})}},{key:"U2",get:function(){return this.E2.filter(function(t){return t.gs===NB.f1})}}]),t}(),CL=0;function PL(t){return jr({},t,{tX:t.tX?Gc(t.tX):void 0})}var OL=function(){function t(t,n,i,e,r){this.j2=void 0,this.H2=void 0,this.uy=void 0,this.YZ=void 0,this.R1=void 0,this.N1=void 0,this.X2=void 0,this.yp=void 0,this.MJ=void 0,this.V2=void 0,this.j2=t,this.H2=n,this.yp=i,this.X2=e,this.uy=r.uy,this.YZ=r.YZ,this.R1=r.R1,this.N1=r.N1}return t.prototype.z2=function(t,n){this.yp=t,this.X2=n},T(t,[{key:"op",get:function(){var t;return this.yp+(null!=(t=this.V2)?t:0)}},{key:"W2",get:function(){return this.X2}},{key:"i2",get:function(){return this.j2.i2}}]),t}();function xL(t){return void 0!==t.u2}var BL,LL=function(){function t(t,n,i,e,r){this.ya=void 0,this.h2=void 0,this.G2=void 0,this.a2=void 0,this.N1=void 0,this.q2=void 0,this.X2=void 0,this.j1=void 0,this.o2=void 0,this.f2=void 0,this.i2=void 0,this.yp=void 0,this.MJ=void 0,this.Y2=[],this.Q2=0,this.J2=void 0,this.yp=t,this.a2=r.a2,this.q2=i,this.X2=e,this.ya=r.uy,this.h2=r.h2,this.G2=r.YZ,this.N1=r.N1,this.j1=r.j1,this.o2=r.o2,this.f2=n,this.i2=r.i2,this.Z2(r.u2)}var n=t.prototype;return n.K2=function(t){return this.Y2[t]},n.n3=function(t){for(var n=0;n<this.Y2.length;n++){var i=this.Y2[n],e=i.op,r=e+i.uy;if(e<=t&&t<=r)return t===r&&n+1<this.Y2.length?this.Y2[n+1]:i}},n.i3=function(t){for(var n=this.Y2.length-1;n>=0;n--){var i=this.Y2[n];if(i.op<=t)return i}},n.e3=function(t){for(var n=this.i3(t);n&&!n.R1&&n.H2>0;)n=this.K2(n.H2-1);return n},n.z2=function(t,n,i){var e=t.u2.length!==this.Y2.length||i!==this.X2;this.q2=n,this.X2=i,this.ya=t.uy,null!=this.h2||(this.h2=t.h2),void 0===this.G2&&(this.G2=t.YZ),e&&this.Z2(t.u2)},n.Z2=function(t){this.Y2.length>t.length&&(this.Y2.length=t.length);for(var n=0,i=0;i<t.length;i++){var e=t[i],r=!!this.X2&&i===t.length-1,s=this.yp+n;if(i<this.Y2.length)this.Y2[i].z2(s,r);else{var u=new OL(this,i,s,r,e);this.Y2.push(u)}n+=e.uy}this.Q2=n},n.r3=function(){Zs(this.Y2),this.Q2=0},T(t,[{key:"op",get:function(){var t;return this.yp+(null!=(t=this.J2)?t:0)}},{key:"s3",get:function(){return this.yp}},{key:"uy",get:function(){return this.ya}},{key:"YZ",get:function(){return this.G2}},{key:"u3",get:function(){return this.q2}},{key:"W2",get:function(){return this.X2}},{key:"u2",get:function(){return this.Y2}},{key:"M2",get:function(){return this.Q2}},{key:"V2",get:function(){return this.J2},set:function(t){this.J2=t;for(var n=0,i=this.Y2;n<i.length;n++){i[n].V2=t}}}]),t}();!function(t){t.o3="YES",t.a3="v2"}(BL||(BL={}));var ML=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n}(nn);var FL=function(t){function n(n,i){var e,r=UL(i,n.uy,n.cD,n.z0);return(e=t.call(this,i,r,void 0,!1,n.r_)||this).h3=void 0,e.c3=void 0,e.f3=void 0,e.ya=void 0,e.l3=void 0,e.v3=void 0,e.d3=void 0,e.w3=void 0,e.g3=void 0,e._3=void 0,e.h3=n.V0,e.c3=n.cD,e.f3=n.z0,e.ya=n.uy,e.l3=n.W0,e.v3=Boolean(n.X0),e.d3=n.G0||{},e.w3=n.$0,e.g3=n.Q0,e._3=n.J0,e.y3(),e.m3(),e}E(n,t);var i=n.prototype;return i.tc=function(t){var n=!1;void 0===this.h3&&void 0!==t.V0&&(n=!0,this.h3=t.V0),void 0===this.f3&&void 0!==t.z0&&(n=!0,this.f3=t.z0),void 0===this.ya&&void 0!==t.uy&&(n=!0,this.ya=t.uy),void 0===this.l3&&void 0!==t.W0&&(n=!0,this.l3=t.W0),!this.v3&&t.X0&&(n=!0,this.v3=t.X0),n=this.updateCustomAttributes(t,n),void 0===this.w3&&void 0!==t.$0&&(n=!0,this.w3=t.$0),void 0===this.g3&&void 0!==t.Q0&&(n=!0,this.g3=t.Q0),void 0===this._3&&void 0!==t.J0&&(n=!0,this._3=t.J0),this.y3(),this.m3(),this.b3(),n&&this.Ks(new Ym(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.G0)for(var e=0,r=w.keys(t.G0);e<r.length;e++){var s=r[e];void 0===this.d3[s]&&(i=!0,this.d3[s]=t.G0[s])}return i},i.y3=function(){this.ya&&!this.f3&&(this.f3=new Date(this.c3.getTime()+qt(this.ya)))},i.m3=function(){this.f3&&!this.ya&&(this.ya=Gt(this.f3.getTime()-this.c3.getTime()))},i.b3=function(){this.mp===1/0&&(this.f3||this.ya)&&(this.mp=UL(this.yp,this.ya,this.c3,this.f3))},T(n,[{key:"wg",get:function(){var t;return this.dg||(this.dg=b_(Gm(t=this),{get content(){return t.hp},get class(){return t.V0},get startDate(){return t.cD},get endDate(){return t.z0},get duration(){return t.uy},get plannedDuration(){return t.W0},get endOnNext(){return t.X0},get scte35Cmd(){return t.$0},get scte35Out(){return t.Q0},get scte35In(){return t.J0},get customAttributes(){return t.G0}})),this.dg}},{key:"V0",get:function(){return this.h3}},{key:"cD",get:function(){return this.c3}},{key:"z0",get:function(){return this.f3}},{key:"uy",get:function(){return this.ya}},{key:"W0",get:function(){return this.l3}},{key:"X0",get:function(){return this.v3}},{key:"$0",get:function(){return this.w3}},{key:"Q0",get:function(){return this.g3}},{key:"J0",get:function(){return this._3}},{key:"G0",get:function(){return this.d3}}]),n}(Km);function UL(t,n,i,e){return H(n)?t+n:e?t+(Gt(e.getTime())-Gt(i.getTime())):1/0}var jL=function(t){function n(){return t.call(this,void 0,void 0,xm.DATE_RANGE)||this}E(n,t);var i=n.prototype;return i.tc=function(t,n){HL(this,XL(t),n)},i.BE=function(n){var i,e,r;i=this.p_.qg,e=n,(r=qs(i,function(t){return t.V0===e.V0}))&&r.X0&&r.tc({r_:r.r_,z0:e.cD}),t.prototype.BE.call(this,n)},n}(PP);function HL(t,n,i){for(var e=t.p_.qg,r=function(i){var r=e[i],s=Gs(n,function(t){return t.r_===r.r_});s?r.tc(s):t.bE(r)},s=e.length-1;s>=0;s--)r(s);for(var u=0;u<n.length;u++){var o=n[u],a=o.cD;if(void 0!==a&&!t.lW(o.r_)){var h=i(a);t.BE(new FL(o,h))}}}function XL(t){for(var n=Xr(),i=[],e=0;e<t.length;e++){var r=t[e];if(n.has(r.r_)){var s=n.get(r.r_),u=jr({},s,E_(r),{G0:jr({},s.G0,r.G0)});n.set(r.r_,u)}else n.set(r.r_,r),i.push(r.r_)}return i.map(function(t){return n.get(t)})}var VL=String.fromCharCode(95),zL=VL+"HLS_msn",WL=VL+"HLS_part",GL=VL+"HLS_skip",qL=function(){function t(t,n){this.YZ=void 0,this.A3=void 0,this.T3=void 0,this.S3=void 0,this.E3=void 0,this.I3=void 0,this.R3=void 0,this.N3=void 0,this.D3=[],this.C3=[],this.J2=void 0,this.P3=!1,this.O3=void 0,this.x3=!1,this.B3=PB.md,this.Ez=TS.RC(),this.L3=TS.RC(),this.ya=void 0,this.M3=-1/0,this.vE=void 0,this.F3=void 0,this.YZ=t,this.vE=n}var n=t.prototype;return n.SK=function(t){if(!t)return this.YZ;var n=i.Mr(this.YZ);return void 0!==t.j1&&n.searchParams.append(zL,String(t.j1)),void 0!==t.U3&&n.searchParams.append(WL,String(t.U3)),void 0!==t.IA&&n.searchParams.append(GL,t.IA),n.href},n.j3=function(t){return Gs(this.D3,function(n){return n.j1===t})},n.H3=function(t){for(var n=0;n<this.D3.length;n++){var i,e=this.D3[n],r=e.op,s=r+(null!=(i=e.uy)?i:e.M2);if(r<=t&&t<=s)return t===s&&n+1<this.D3.length?this.D3[n+1]:e}},n.C2=function(t){var n=this.X3();if(void 0!==n)return new Date(1e3*t+n)},n.P2=function(t){var n=this.X3();if(void 0!==n)return(t.getTime()-n)/1e3},n.X3=function(){for(var t=this.j0,n=t.length-1;n>=0;n--){var i=t[n];if(void 0!==i.h2)return i.h2.getTime()-1e3*i.op}},n.V3=function(t){switch(t){case DB.V1:return this.T3;case DB.z1:return this.S3;default:return}},n.z2=function(t){var n;void 0===this.E3&&(this.E3=null!=(n=t.b2)?n:this.z3(t));void 0===this.R3&&void 0!==t.O1&&(this.R3=t.O1),void 0===this.I3&&void 0!==t.P0&&(this.I3=t.P0),void 0===this.N3&&void 0!==t.B1&&(this.N3=t.B1),this.P3=t.D1,this.O3=t.C1,this.x3=t.P1,this.B3=t.g2,this.W3(t),this.G3(t);var e=Gs(t._2,function(t){return t.gs===DB.V1}),r=Gs(t._2,function(t){return t.gs===DB.z1});this.T3=e?{YZ:e.YZ,gs:e.gs,f2:t.f2}:void 0,this.S3=r?{YZ:r.YZ,gs:r.gs,f2:t.f2}:void 0,this.A3=i.wr()/1e3,this.L3=this.q3(),this.Ez=this.Y3(this.L3),this.ya=this.Q3(),null!=this.vE||(this.vE=t.WD)},n.q3=function(){var t,n=this.j0;if(0===n.length)return TS.RC();var i=n[0].op,e=n[n.length-1],r=e.op,s=null!=(t=e.uy)?t:e.M2;return new TS([i,r+s])},n.Y3=function(t){var n,i;if(0===t.$g||this.d2)return t;var e=t.WD(0),r=t.qD(0)-(null!=(n=null!=(i=this.B1)?i:this.O1)?n:0);return r<e?TS.IC(e):new TS([e,r])},n.Q3=function(){return 0===this.D3.length?0:this.d2?(t=this.D3,n=function(t){var n;return null!=(n=t.uy)?n:t.M2},t.reduce(function(t,i){return t+n(i)},0)):1/0;var t,n},n.z3=function(t){for(var n,i=0,e=t.j0;i<e.length;i++){var r=e[i];if(void 0!==r.uy){var s=g.max(1,g.round(r.uy));(void 0===n||n<s)&&(n=s)}}if(void 0===n)throw new l("HLSModel - Could not determine required segment target duration.");return n},n.W3=function(t){if(0===t.j0.length)return Zs(this.D3),void this.J3();var n=this.Z3(t);if(n){var i,e,r;n.K3>0&&this.D3.splice(0,n.K3);var s=t.F1;if(s>0){if(s>this.D3.length)throw new ML("New playlist skips over missing segments.");var u=this.D3[s-1];if(void 0===u.uy)throw new ML("New playlist skips over an incomplete segment.");i=u.s3+u.uy,r=u.f2-t.f2,e=s;for(var o=0;o<s;o++)this.D3[o].r3()}else i=n.t4,r=0,e=0;for(var a=0;a<t.j0.length;a++,e++){var h=t.j0[a],c=0===a,f=t.d2&&a===t.j0.length-1,l=h.uy,v=h.f2+r;if(e<this.D3.length){var d=this.D3[e];0,d.z2(h,c,f)}else{var w=new LL(i,v,c,f,h);w.V2=this.J2,this.D3.push(w)}void 0!==l&&(i+=l)}}},n.Z3=function(t){if(0===this.D3.length)return{K3:0,t4:0};var n=this.D3[0].j1,i=this.D3[this.D3.length-1].j1,e=t.j0[0].j1-t.F1,r=t.j0[t.j0.length-1].j1,s=0,u=0;if(e<n)sB.xK("HLSMediaPlaylist","Ignoring older playlist (first media sequence number is "+e+", but previous playlist already started at "+n+")");else{if(!(r<i)){if(i<e){var o;u=null!=(o=function(t,n){var i=qs(t,function(t){return void 0!==t.h2});if(void 0===i)return;var e=function(t){for(var n=0,i=0;i<t.length;i++){var e,r=t[i];if(r.o2)return;if(r.h2)return[r,n];n+=null!=(e=r.uy)?e:0}return}(n.j0);if(void 0===e)return;var r=e[0],s=e[1];if(i.f2!==r.f2)return;var u=(r.h2.getTime()-i.h2.getTime())/1e3;return i.s3+u-s}(this.D3,t))?o:(h=this.D3,c=this.E3,l=h[h.length-1],v=null!=(f=l.uy)?f:g.max(c,l.M2),l.s3+v),sB.PK("HLSMediaPlaylist","New playlist (starting at "+e+") is entirely after previous playlist (ending at "+i+"), resetting playlist and restarting at "+u+"s"),s=this.D3.length,this.J3()}else{0;var a=$s(this.D3,function(t){return t.j1===e});0,u=this.D3[a].s3,a>0&&(s=a)}var h,c,f,l,v;return{K3:s,t4:u}}sB.xK("HLSMediaPlaylist","Ignoring older playlist (last media sequence number is "+r+", but previous playlist already ended at "+i+")")}},n.G3=function(t){var n=this,i=t.l2.map(jB);if(t.P1&&t.A2.IA===BL.a3&&(i=this.C3.concat(i)),this.C3=XL(i),t.U1)for(var e=function(t,i){var e=i[t],r=$s(n.C3,function(t){return t.r_===e});r>=0&&Qs(n.C3,r)},r=0,s=t.U1;r<s.length;r++)e(r,s)},n.n4=function(t,n){if(this.J2!==t){this.J2=t;for(var i=0,e=this.D3;i<e.length;i++){e[i].V2=this.J2}}this.F3=n},n.J3=function(){this.J2=void 0,this.F3=void 0},T(t,[{key:"d2",get:function(){return Boolean(Gs(this.D3,function(t){return t.W2}))}},{key:"uy",get:function(){return this.ya}},{key:"Fm",get:function(){return this.Ez}},{key:"i4",get:function(){return this.L3}},{key:"O0",get:function(){return this.E3}},{key:"P0",get:function(){return this.I3}},{key:"O1",get:function(){return this.d2?0:this.R3?this.R3:this.E3?3*this.E3:void 0}},{key:"B1",get:function(){var t;return null!=(t=this.N3)?t:this.I3?3*this.I3:void 0}},{key:"e4",get:function(){var t,n,i;if(!this.d2&&0!==this.D3.length){var e=this.D3[this.D3.length-1],r=null!=(t=e.uy)?t:e.M2,s=null!=(n=null!=(i=this.B1)?i:this.O1)?n:0;return e.op+r-s}}},{key:"D1",get:function(){return this.P3}},{key:"C1",get:function(){return this.O3}},{key:"P1",get:function(){return this.x3}},{key:"g2",get:function(){return this.B3}},{key:"r4",get:function(){return void 0!==this.P0}},{key:"s4",get:function(){if(this.d2)return!0;var t=i.wr()/1e3,n=this.L2,e=this.u4;return void 0!==n&&t-n<e}},{key:"L2",get:function(){return this.A3}},{key:"V2",get:function(){return this.J2}},{key:"u4",get:function(){var t;return null!=(t=this.E3)?t:1}},{key:"j0",get:function(){return this.D3}},{key:"l2",get:function(){return this.C3}},{key:"o4",get:function(){return this.M3},set:function(t){this.M3=t}},{key:"WD",get:function(){return this.vE}},{key:"a4",get:function(){return this.F3}}]),t}();var $L=function(){function t(){this.h4=[],this.c4=Vr()}var n=t.prototype;return n.f4=function(t){var n=this.c4.get(t);return void 0!==n&&YL(n)},n.l4=function(t){return this.d4(t).v4.Wu},n.w4=function(t){var n=this.c4.get(t);if(!n||!YL(n))throw new l("LLHLSPlayer - Missing timestamp mapping for discontinuity #"+t);return n},n.g4=function(t){return this.w4(t).mb},n._4=function(t,n){var i=xL(n)?n:n.j2,e=this.w4(i.f2),r=t.Xm(e.mb);if(e.y4){var s=mp.qk(n.op).qp(r);if(s.zp().Mp(Tp)){var u=g.round(s.Lp()/Ap.Lp());r=r.Xm(Ap.Nk(u))}}return r},n.m4=function(t,n){return this._4(t,n).qp(t)},n.b4=function(t,n,i,e,r){var s=this.d4(t);void 0===s.mb&&(s.A4.some(function(t){return t.T4===n})||(s.A4.push({T4:n,S4:i,E4:e.Hk(i.Lk),y4:r}),this.I4(s)))},n.I4=function(t){if(!t.mb&&this.R4(t)){var n=eu(t.A4,QL);Zs(t.A4),t.mb=n.E4.qp(n.S4),t.y4=n.y4,t.v4.Yu()}},n.R4=function(t){return this.h4.length>0&&this.h4.every(function(n){return t.A4.some(function(t){return t.T4===n})})},n.d4=function(t){if(this.c4.has(t))return this.c4.get(t);var n={mb:void 0,y4:!1,v4:new na,A4:[]};return this.c4.set(t,n),n},n.N4=function(t){var n=this;this.h4=t,this.c4.forEach(function(t){return n.I4(t)})},n.Us=function(){this.c4.forEach(function(t){return t.v4.Ws()}),this.c4.clear()},t}();function YL(t){return void 0!==t.mb}function QL(t,n){return t.y4||n.y4?(i=t.S4,e=n.S4,r=i.qp(e),i.Yp()||e.Yp()?r:(r.Up(Tp)?r=r.qp(Ap):r.Vp(Tp.Gp())&&(r=r.Xm(Ap)),r)).Fp(mp.rk):t.S4.Fp(n.S4);var i,e,r}var JL=function(){function t(t){this.D4=[],this.C4=[],this.P4=Xr(),this.O4=new $L,this.x4=t}var n=t.prototype;return n.z2=function(t,n){if(LB(t))if(0===this.D4.length)this.B4(t);else{if(!n)return void sB.xK("HLSModel","No rendition was provided to update the playlist. Ignoring the update.");n.XZ.z2(t)}else{if(0!==this.D4.length)return void sB.xK("HLSModel","Master playlist can only be applied once. Ignoring the update.");this.L4(t)}},n.B4=function(t){var n=this.M4(t.YZ);n.z2(t);var i=this.F4(NB.Od,n),e=this.F4(NB.xd,n),r=new DL({YZ:n.YZ,QR:0,dZ:0,B0:NaN,iX:void 0,EK:void 0,wZ:0,w1:[],m1:void 0,T1:void 0,g1:void 0,A1:void 0,b1:void 0,_1:void 0},n,[i,e]);this.D4.push(r)},n.L4=function(t){var n,i=this;(n=this.C4).push.apply(n,t.i2);for(var e=this.U4(t),r=function(n,r){var s=r[n],u=e.filter(function(t){return function(t,n){return ZL(t.gs,t.GZ,n)&&(!t.$Z||t.XZ.YZ===n.YZ)}(t,s)});i.j4(s,u);var o=new DL(s,i.M4(s.YZ,t.WD),u);i.D4.push(o)},s=0,u=t.e2;s<u.length;s++)r(s,u)},n.M4=function(t,n){var i=this.P4.get(t);return void 0===i&&(i=new qL(t,n),this.P4.set(t,i)),i},n.U4=function(t){for(var n=[],i=0,e=t.wT;i<e.length;i++){var r=e[i];if(void 0===r.YZ)for(var s=0,u=t.e2;s<u.length;s++){var o=u[s];if(ZL(r.gs,r.GZ,o)){var a=new Fx(r,this.M4(o.YZ));n.push(a)}}else{var h=new Fx(r,this.M4(r.YZ));n.push(h)}}return n},n.F4=function(t,n){return new Fx({gs:t,YZ:void 0,GZ:"",a_:void 0,l1:void 0,gi:"",VZ:!0,zZ:!1,WZ:!1,d1:void 0,qZ:void 0,v1:void 0},n)},n.j4=function(t,n){var i=n.filter(function(t){return t.gs===NB.Od}),e=n.filter(function(t){return t.gs===NB.xd}),r=t.iX&&(t.iX.tX||t.iX.nX);if((!r||t.iX.tX)&&0===e.length){var s=this.F4(NB.xd,this.M4(t.YZ));n.push(s)}if((!r||t.iX.nX)&&0===i.length){var u=this.F4(NB.Od,this.M4(t.YZ));n.push(u)}t.iX&&t.iX.eX},n.H4=function(t){for(var n=0,i=this.D4;n<i.length;n++)for(var e=0,r=i[n].WK;e<r.length;e++){var s=r[e];if(s===t)return s}},n.X4=function(t){for(var n=0,i=this.D4;n<i.length;n++){var e=i[n];if(e===t)return e}},n.V4=function(t){for(var n=0,i=this.D4;n<i.length;n++){var e=i[n];if(Js(e.WK,t))return e}},n.Us=function(){Zs(this.D4),Zs(this.C4),this.P4.clear(),this.O4.Us()},T(t,[{key:"z4",get:function(){return this.C4}},{key:"jK",get:function(){return this.D4}},{key:"oE",get:function(){return this.O4}}]),t}();function ZL(t,n,i){switch(t){case NB.Od:return i.g1===n;case NB.xd:return i.A1===n;case NB.lA:return i.b1===n;case NB.f1:return i._1===n}return!1}var KL=function(t){function n(n){var i;return(i=t.call(this,nM.W4)||this).vK=n,i}return E(n,t),n}(Iu);function tM(t,n,i,e,r){var s,u;return Ur.async(function(o){for(;;)switch(o.prev=o.next){case 0:void 0===i&&(i=3),void 0===e&&(e=1e3),void 0===r&&(r=1/0),s=0;case 4:return o.prev=5,o.next=8,Ur.awrap(t(n));case 8:return o.abrupt("return",o.sent);case 11:if(o.prev=11,o.t0=o.catch(5),lu(o.t0),!(s<i)){o.next=20;break}return u=g.min(e*g.pow(2,s),r),s++,o.next=19,Ur.awrap(ku(u,n));case 19:return o.abrupt("continue",4);case 20:throw o.t0;case 21:o.next=4;break;case 23:case"end":return o.stop()}},null,null,[[5,11]],Ge)}var nM,iM=function(t){function n(n){var i;return(i=t.call(this,nM.G4)||this).vK=n,i}return E(n,t),n}(Iu),eM="HlsModelUpdater";!function(t){t.W4="q4",t.G4="Y4"}(nM||(nM={}));var rM=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).Q4=void 0,s.J4=!1,s.Z4=void 0,s.K4=void 0,s.t5=Vr(),s.DE=n,s.n5=i,s.i5=e,s.rootURI=r,s.Q4=new JL(r),s}E(n,t);var e=n.prototype;return e.e5=function(t){var n,i;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.Q4.x4){e.next=3;break}throw new l("HLSModelUpdater - Could not load HLS playlist: The provided source is empty.");case 3:return this.Ks(new $N),e.next=6,Ur.awrap(this.r5(n,{},2,t));case 6:if(BB(i=e.sent)||LB(i)){e.next=9;break}throw new l("HLSModelUpdater - Could not load HLS playlist: The playlist is invalid.");case 9:return BB(i)||sB.IT(eM,"Detected media playlist only HLS stream."),this.s5(i),e.next=13,Ur.awrap(this.u5(t));case 13:this.J4=!0;case 14:case"end":return e.stop()}},null,this,null,Ge)},e.o5=function(t,n,i,e){var r,s,u;return Ur.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=this.Q4.H4(t)){o.next=3;break}throw new l("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");case 3:return s={j1:n,U3:i,IA:aM(r)},u=qt(g.max(1,3*t.XZ.u4)),o.prev=5,o.next=8,Ur.awrap(this.a5(r,s,e,u));case 8:o.next=15;break;case 10:throw o.prev=10,o.t0=o.catch(5),lu(o.t0),this.h5(r),o.t0;case 15:case"end":return o.stop()}},null,this,[[5,10]],Ge)},e.c5=function(t,n){var i=this.Q4.H4(t);if(!i)throw new l("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");var e={j1:void 0,U3:void 0,IA:aM(i)},r=qt(g.max(1,3*t.XZ.u4));return this.a5(i,e,n,r)},e.f5=function(t,n){return this.t5.has(t.s_)||this.t5.set(t.s_,new na),du(this.t5.get(t.s_).Wu,n)},e.h5=function(t){this.Ks(new iM(t))},e.a5=function(t,n,e,r){var s,u,o;return Ur.async(function(a){for(;;)switch(a.prev=a.next){case 0:return s=t.XZ.SK(n),a.prev=1,a.next=4,Ur.awrap(this.r5(s,n,0,e,r));case 4:u=a.sent,a.next=12;break;case 7:throw a.prev=7,a.t0=a.catch(1),lu(a.t0),t.XZ.o4=i.wr(),a.t0;case 12:if(LB(u)){a.next=14;break}throw new l("HLSModelUpdater - Could not load HLS playlist for rendition: the playlist is not a media playlist.");case 14:a.prev=14,this.s5(u,t),a.next=24;break;case 18:if(a.prev=18,a.t1=a.catch(14),!(a.t1 instanceof ML&&void 0!==n.IA)){a.next=23;break}return o=jr({},n,{IA:void 0}),a.abrupt("return",this.a5(t,o,e,r));case 23:throw a.t1;case 24:if(!this.Z4||t===this.Z4||this.Z4.XZ.s4){a.next=35;break}return a.prev=25,a.next=28,Ur.awrap(this.c5(this.Z4,e));case 28:a.next=35;break;case 30:a.prev=30,a.t2=a.catch(25),lu(a.t2),this.Z4=t,this.l5();case 35:this.v5(t);case 36:case"end":return a.stop()}},null,this,[[1,7],[14,18],[25,30]],Ge)},e.r5=function(t,n,i,e,r){var s,u,o,a=this;return Ur.async(function(h){for(;;)switch(h.prev=h.next){case 0:return sB.IT(eM,"Loading HLS playlist at "+t+"."),h.prev=1,h.next=4,Ur.awrap(this.n5.d5([t]));case 4:if(s=h.sent,fu(e),void 0===s){h.next=8;break}return h.abrupt("return",NL(s.responseURL,{},s.data));case 8:h.next=14;break;case 10:h.prev=10,h.t0=h.catch(1),lu(h.t0);case 14:return u={_d:t,fd:Lf.Kn,jd:this.i5,Ld:lw.GET,gs:vw.pd,$s:e,Md:r},h.next=17,Ur.awrap(tM(function(){return a.w5(u)},e,i));case 17:return o=h.sent,h.abrupt("return",NL(o.wd,n,o.Xi));case 19:case"end":return h.stop()}},null,this,[[1,10]],Ge)},e.w5=function(t){var n,i;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ur.awrap(this.DE.dd(t));case 2:return n=e.sent,e.next=5,Ur.awrap(n.Xv());case 5:return i=e.sent,e.abrupt("return",{Xi:i,wd:n.wd});case 7:case"end":return e.stop()}},null,this,null,Ge)},e.u5=function(t){var n,i,e,r,s,u,o,a;return Ur.async(function(h){for(;;)switch(h.prev=h.next){case 0:fu(t),n=[],i=0,e=this.Q4.jK;case 3:if(!(i<e.length)){h.next=26;break}r=e[i],s=0,u=r.WK;case 6:if(!(s<u.length)){h.next=23;break}return o=u[s],h.prev=8,h.next=11,Ur.awrap(this.n5.d5([o.XZ.YZ]));case 11:a=h.sent,fu(t),void 0===a||o.XZ.s4||n.push(this.c5(o,t)),h.next=20;break;case 16:h.prev=16,h.t0=h.catch(8),lu(h.t0);case 20:s++,h.next=6;break;case 23:i++,h.next=3;break;case 26:return h.next=28,Ur.awrap(Ge.all(n));case 28:case"end":return h.stop()}},null,this,[[8,16]],Ge)},e.l5=function(){for(var t=0,n=this.Q4.jK;t<n.length;t++)for(var i=0,e=n[t].WK;i<e.length;i++){var r=e[i];r!==this.Z4&&(void 0!==r.XZ.V2&&(r.XZ.s4?this.v5(r):r.XZ.J3()))}},e.v5=function(t){if(0!==t.XZ.j0.length){if(!this.Z4)return this.Z4=t,void this.Z4.XZ.n4(0,void 0);if(this.g5(this.Z4),!this.g5(t)&&void 0===t.XZ.V2){var n=this._5(t,this.Z4);sB.PK(eM,"Assuming global timeline offset of "+n+"s for rendition "+t.XZ.YZ+"."),t.XZ.n4(n,void 0)}}},e._5=function(t,n){var i;if(sM(t)){var e=t.XZ.j0[0],r=n.XZ.j0[0];return sB.PK(eM,"Synchronizing by start of VOD: "+r.op+" vs "+e.op),r.op-e.s3}var s=function(t,n){var i=t.length-1,e=n.length-1;for(;i>=0&&e>=0;){var r=t[i],s=n[e];if(r.f2>s.f2)i--;else if(r.f2<s.f2)e--;else if(r.o2){if(s.o2)return{segment:r,referenceSegment:s};e--}else i--}return}(t.XZ.j0,n.XZ.j0);if(void 0!==s){var u=s.segment,o=s.referenceSegment;return sB.PK(eM,"Synchronizing by start of discontinuity #"+o.f2+": "+o.op+" vs "+u.op),o.op-u.s3}var a=oM(t.XZ.j0);if(void 0!==a){var h=oM(n.XZ.j0);if(void 0!==h)return sB.PK(eM,"Synchronizing by PDT:",h.h2.toISOString()+" vs "+a.h2.getTime()),h.op-a.s3-(h.h2.getTime()-a.h2.getTime())/1e3}var c=uM(n),f=uM(t),l=null!=(i=t.XZ.V2)?i:0;return sB.PK(eM,"Synchronizing by last segment:",c+" vs "+f),c-f+l},e.g5=function(t){var n=this.Q4.H4(t);if(!n)return!1;if(sM(n))return!1;var i,e,r=(i=n.XZ.j0,e=this.Q4.oE,qs(i,function(t){return void 0!==t.MJ&&e.f4(t.f2)}));if(void 0===r)return!1;if(n.XZ.a4===r.f2)return!0;var s=this.Q4.oE._4(r.MJ,r).Lp()-r.s3;return sB.PK(eM,"Synchronize by media timestamp: "+s+"s for rendition "+t.XZ.YZ+"."),n.XZ.n4(s,r.f2),(void 0===this.Z4||void 0===this.Z4.XZ.a4||this.Z4.XZ.a4<r.f2)&&(this.Z4=n),!0},e.s5=function(t,n){var i;(this.Q4.z2(t,n),LB(t)&&n)&&(this.K4=n,this.Ks(new KL(n)),null==(i=this.t5.get(n.s_))||i.Yu(),this.t5.delete(n.s_))},e.y5=function(t,n){for(var i=0,e=this.Q4.jK;i<e.length;i++){var r=e[i],s=Gs(r.XK,function(t){return t.XZ===n});void 0!==s&&void 0===t.tX&&r.O2(s);var u=Gs(r.HK,function(t){return t.XZ===n});void 0!==u&&void 0===t.nX&&r.O2(u),void 0===s&&void 0===u||(r.iX=(o=r.iX,h=void 0,c=void 0,f=void 0,{nX:null!=(h=(a=t).nX)?h:null==o?void 0:o.nX,tX:null!=(c=a.tX)?c:null==o?void 0:o.tX,eX:null!=(f=a.eX)?f:null==o?void 0:o.eX}))}var o,a,h,c,f},e.Us=function(){this.ou(),this.Q4.Us(),this.t5.forEach(function(t){return t.Ws()}),this.t5.clear()},T(n,[{key:"m5",get:function(){return this.J4}},{key:"UK",get:function(){return this.Q4}},{key:"p5",get:function(){return this.K4}}]),n}(Su);function sM(t){return t.XZ.d2||t.XZ.g2===PB.X1}function uM(t){var n,i=t.XZ.j0[t.XZ.j0.length-1];return i.op+(null!=(n=i.uy)?n:i.M2)}function oM(t){return qs(t,function(t){return void 0!==t.h2})}function aM(t){if(void 0!==t.XZ.C1&&!t.XZ.d2&&!(void 0===t.XZ.L2||i.wr()/1e3-t.XZ.L2>=t.XZ.C1/2))return t.XZ.P1?BL.a3:BL.o3}var hM=function(){function t(t,n,i){var e=this;this.k5=void 0,this.b5=void 0,this.dN=void 0,this.A5=void 0,this.T5=void 0,this.S5=function(t){e.b5.hlsDateRange&&e.G3(t.vK)},this.b5=t,this.k5=n,this.dN=i,this.A5=new Gk,this.k5.tu(nM.W4,this.S5)}return t.prototype.G3=function(t){if(0!==t.XZ.l2.length){this.T5||(this.T5=this.dN.OE(Wk.dA,void 0,void 0,void 0,void 0,xm.DATE_RANGE),this.A5.zg(this.T5));HL(this.T5,t.XZ.l2,function(n){var i;return null!=(i=t.XZ.P2(n))?i:NaN})}},T(t,[{key:"$y",get:function(){return this.A5}}]),t}(),cM=function(t){function n(){return t.call(this,Bx.BZ)||this}return E(n,t),n}(Iu);var fM,lM=function(){function t(t){this.D3=[],this.QX=void 0,this.E5=void 0,this.I5=t}var n=t.prototype;return n.R5=function(t){var n;return null==(n=this.N5(t))?void 0:n.vK},n.D5=function(t){this.QX=t,this.C5()},n.P5=function(t,n,i,e,r,s){this.D3.push({j1:n,vK:t,O5:new TS([r,s]),x5:new TS([i,e])}),this.C5()},n.N5=function(t){for(var n=0,i=this.D3;n<i.length;n++){var e=i[n];if(e.x5.uD(t))return e}},n.B5=function(t){for(var n=0,i=this.D3;n<i.length;n++){var e=i[n];if(e.j1===t)return e}},n.TV=function(){var t=this.Tm;t.$g>0&&(this.E5=t.qD(t.$g-1))},n.C5=function(){var t=this.I5.Tm;this.D3=this.D3.filter(function(n){return 0!==t.rC(n.x5).$g})},T(t,[{key:"L5",get:function(){return this.QX}},{key:"Tm",get:function(){return t=this.I5.Tm,n=this.I5.MV,i=n.mC(function(n,i){return t.gC(n,i,!1,!1)}),t.cC(i);var t,n,i}},{key:"j0",get:function(){return this.D3}},{key:"M5",get:function(){return this.E5}}]),t}(),vM=function(){function t(t,n,i,e,r){var s=this;this.I5=void 0,this.F5=void 0,this.U5=void 0,this.zi=void 0,this.j5=void 0,this.H5=void 0,this.qc=new au,this.X5=TS.RC(),this.V5=function(t){s.H5&&(t?RR(t)&&s.z5?s.j5.ML(s.I5.Tm.TC)?s.H5.Yu():s.H5.Qu(t):cu(t)?s.H5.Yu():s.H5.Qu(t):s.H5.Yu(),s.H5=void 0)},this.zi=t,this.U5=i,this.I5=n,this.F5=e,this.j5=r}var n=t.prototype;return n.W5=function(){if(this.G5)throw new l("Cannot perform new operation while BufferAppender is still busy")},n.q5=function(t){this.I5!==t&&(this.W5(),this.I5=t,this.F5=new lM(t))},n.Y5=function(){return this.H5?this.H5.Wu:Ge.resolve()},n.Q5=function(t){var n,i,e=this.F5.M5,r=this.F5.Tm;if(void 0===e)return!1;var s=g.min(t,e);return null!=(n=null==(i=r.KD().lC(this.J5).AC(s))?void 0:i.uD(e))&&n},n.Z5=function(t){return this.F5.R5(t)},n.Ws=function(){this.qc.Ws(),this.qc=new au},n.rV=function(t){var n=this;this.W5(),this.H5=new na;var i=function(i){n.U5.K5(t),n.V5(i)};this.sV(t,this.qc.$s).then(i,i)},n.sV=function(t,n){return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return sB.PK("Buffering","Appending initializer",MB(t.t6.YZ)),i.next=3,Ur.awrap(this.I5.rV(t,n));case 3:sB.PK("Buffering","Appended initializer",MB(t.t6.YZ)),this.F5.D5(t);case 5:case"end":return i.stop()}},null,this,null,Ge)},n.n6=function(t){var n=this;this.W5(),this.H5=new na;var i=function(i){n.U5.K5(t),n.V5(i)};this.i6(t,this.qc.$s).then(i,i)},n.i6=function(t,n){var i,e,r,s,u,o,a,h,c,f,v,d,w,g;return Ur.async(function(_){for(;;)switch(_.prev=_.next){case 0:if(e=t.vK,r=t.j1,void 0!==e.XZ.O0){_.next=4;break}throw new l("MediaBufferWrapper - Cannot append HLSAsset to "+this.zi+" MediaBuffer for a HLSRendition with an undefined targetDuration.");case 4:return s=this.F5.Tm.YD,u=this.I5.Tm,sB.PK("Buffering","Appending",MB(t.t6.YZ)),_.next=9,Ur.awrap(this.I5.nV(t,n));case 9:sB.PK("Buffering","Appended",MB(t.t6.YZ),s,this.F5.Tm.YD),o=t.op,a=o+t.uy,h=t.t6,c=h.op,f=h.op+(null!=(i=h.uy)?i:0),this.F5.P5(e,r,o,a,c,f),v=this.I5.Tm.lC(u),(d=this.F5.B5(r-1))?this.e6(d)?0===v.$g?Boolean(this.r6.B5(r))||(w=this.I5.MV.rC(new TS([o,a])),this.X5=this.X5.cC(w)):(this.X5=this.X5.lC(new TS([v.WD(0),a])),v.WD(0)>o&&(this.X5=this.X5.cC(new TS([o,v.WD(0)])))):this.X5=this.X5.lC(new TS([o,a])):0===v.$g?(g=this.I5.MV.rC(new TS([o,a])),this.X5=this.X5.cC(g)):v.WD(0)>o&&(this.X5=this.X5.cC(new TS([o,v.WD(0)]))),t.t6.W2&&this.F5.TV();case 20:case"end":return _.stop()}},null,this,null,Ge)},n.e6=function(t){var n=t.x5,i=n.WD(0),e=n.qD(n.$g-1),r=n.GD(0),s=n.$D(n.$g-1);return this.X5.dC(i,e,r,s)},T(t,[{key:"gs",get:function(){return this.zi}},{key:"z5",get:function(){return this.zi===ym.Od||this.zi===ym.xd}},{key:"r6",get:function(){return this.F5}},{key:"J5",get:function(){return this.X5}},{key:"G5",get:function(){return void 0!==this.H5}}]),t}(),dM=function(){function t(t,n,i){this.s6=void 0,this.u6=t,this.DE=n,this.i5=i}var n=t.prototype;return n.o6=function(t,n,i,e){var r;return Ur.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Ur.awrap(this.a6(n,e));case 2:return r=s.sent,s.next=5,Ur.awrap(this.u6.o6(t,r,i));case 5:return s.abrupt("return",s.sent);case 6:case"end":return s.stop()}},null,this,null,Ge)},n.a6=function(t,n){var i,e,r,s;return Ur.async(function(u){for(;;)switch(u.prev=u.next){case 0:if((null==(i=this.s6)?void 0:i._d)===t){u.next=10;break}return sB.PK("HLSDecryptor","Fetching new AES-128 decryption key from "+t+"."),u.next=4,Ur.awrap(this.DE.dd({_d:t,fd:Lf.ll,Ld:lw.GET,$s:n,gs:vw.Td,Fd:dw.Pd,jd:this.i5}));case 4:return e=u.sent,u.next=7,Ur.awrap(e.zv());case 7:r=u.sent,s=new p(r),this.s6={_d:t,Xi:s};case 10:return u.abrupt("return",this.s6.Xi);case 11:case"end":return u.stop()}},null,this,null,Ge)},t}(),wM=function(){function t(t,n,i,e,r){void 0===r&&(r=2),this.DE=t,this.n5=n,this.h6=i,this.i5=e,this.c6=r}var n=t.prototype;return n.dd=function(t,n,i,e){var r;return Ur.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Ur.awrap(this.f6(t,n,i,Lf.ll,e));case 2:return r=s.sent,s.t0=p,s.next=6,Ur.awrap(r.zv(e));case 6:return s.t1=s.sent,s.abrupt("return",new s.t0(s.t1));case 8:case"end":return s.stop()}},null,this,null,Ge)},n.l6=function(t,n,i,e){var r;return Ur.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Ur.awrap(this.f6(t,n,i,Lf.dl,e));case 2:return r=s.sent,s.abrupt("return",r.Wv(e));case 4:case"end":return s.stop()}},null,this,null,Ge)},n.f6=function(t,n,i,e,r){var s,u,o,a,h=this;return Ur.async(function(c){for(;;)switch(c.prev=c.next){case 0:return t.H0&&0===(s=xB(t.H0.WD,t.H0.$g))[0]&&s[1]===Lt&&(s=void 0),u=s?{Range:"bytes="+s[0]+"-"+s[1]}:void 0,o=new _w({_d:t.Ti,fd:e,hd:u,jd:this.i5,Ld:lw.GET,gs:n,Fd:i,Ud:this.h6,$s:r}),c.prev=3,c.next=6,Ur.awrap(this.n5.v6(t.Ti,s));case 6:if(a=c.sent,fu(r),void 0===a){c.next=10;break}return c.abrupt("return",new gw({dd:o,Xi:a.buffer}));case 10:c.next=16;break;case 12:c.prev=12,c.t0=c.catch(3),lu(c.t0);case 16:return c.next=18,Ur.awrap(tM(function(){return du(h.DE.dd(o),o.$s)},r,this.c6));case 18:return c.abrupt("return",c.sent);case 19:case"end":return c.stop()}},null,this,[[3,12]],Ge)},t}(),gM=function(){function t(t,n){this.k5=void 0,this.d6=void 0,this.w6=void 0,this.g6=new au,this.ZW=-1/0,this._6=!1,this.k5=t,this.d6=n,this.y6()}var n=t.prototype;return n.m6=function(){return this.d6.XZ.D1},n.p6=function(t,n,e){return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.m6()){r.next=2;break}throw new l("Could not perform blocking playlist update.");case 2:return r.prev=2,r.next=5,Ur.awrap(this.k6());case 5:return fu(e),r.next=8,Ur.awrap(this.k5.o5(this.d6,t,n,e));case 8:this.ZW=i.wr(),r.next=15;break;case 11:throw r.prev=11,r.t0=r.catch(2),cu(r.t0)&&this.y6(),r.t0;case 15:this.y6();case 16:case"end":return r.stop()}},null,this,[[2,11]],Ge)},n.b6=function(t){return this.k5.f5(this.d6,t)},n.y6=function(){var t=this;if(!this.w6&&!this._6){var n=function(){t.w6=void 0};this.w6=this.A6(this.g6.$s).then(n,n)}},n.k6=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.w6){t.next=6;break}return this.g6.Ws(),this.g6=new au,t.next=5,Ur.awrap(this.w6.catch(Z));case 5:this.w6=void 0;case 6:case"end":return t.stop()}},null,this,null,Ge)},n.A6=function(t){var n,e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!this.d6.XZ.d2||!this.d6.XZ.s4){r.next=3;break}return r.abrupt("return");case 3:if(n=i.wr()-this.ZW,e=1e3*this.d6.XZ.u4,!(n<e)){r.next=8;break}return r.next=8,Ur.awrap(ku(e-n,t));case 8:return r.prev=8,r.next=11,Ur.awrap(this.k5.c5(this.d6,t));case 11:r.next=18;break;case 13:throw r.prev=13,r.t0=r.catch(8),lu(r.t0),this.k5.h5(this.d6),r.t0;case 18:this.ZW=i.wr(),r.next=0;break;case 21:case"end":return r.stop()}},null,this,[[8,13]],Ge)},n.Us=function(){this._6=!0,mu(this.k6())},t}();!function(t){t[t.V1=0]="V1",t[t.z1=1]="z1",t[t.kd=2]="kd",t[t.bd=3]="bd"}(fM||(fM={}));var _M="AssetExtractor",yM=function(){function t(){this.T6=[]}var n=t.prototype;return n.S6=function(t,n,i){for(var e=n,r=0,s=this.T6;r<s.length;r++){var u=s[r];if(e>=t)return!0;if(e<u.WD)return!1;if(e<u.qD){if(i<=u.qD)return!0;e=u.qD}}return e>=t},n.E6=function(t,n){for(var i=[],e=0;e<this.T6.length;e+=1){var r=this.T6[e],s=t-r.WD,u=r.Xi.length,o=g.min(u,g.max(s,0)),a=g.max(0,n+s),h=Qo(r.Xi,o,a);h.length&&(e=this.I6(e,r,t,o,a),i.push(h))}return i},n.R6=function(t,n){this.T6.push({WD:t,qD:t+n.length,Xi:n})},n.I6=function(t,n,i,e,r){var s=t;this.T6.splice(s,1),s-=1,n.WD<i&&(s+=1,this.T6.splice(s,0,{WD:n.WD,qD:i,Xi:Qo(n.Xi,0,e)}));var u=i+r-e;return u<n.qD&&(s+=1,this.T6.splice(s,0,{WD:u,qD:n.qD,Xi:Qo(n.Xi,r)})),s},t}(),mM=function(){function t(t,n){this.Nl=void 0,this.N6=n,this.Nl=t.getReader()}var n=t.prototype;return n.D6=function(){var t;return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ur.awrap(this.Nl.read());case 2:if(!(t=n.sent).done){n.next=6;break}throw this.N6=1/0,new l("No more data can be read from the given stream.");case 6:return this.N6+=t.value.length,n.abrupt("return",t.value);case 8:case"end":return n.stop()}},null,this,null,Ge)},n.C6=function(t){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ur.awrap(this.Nl.cancel(t));case 2:case"end":return n.stop()}},null,this,null,Ge)},T(t,[{key:"P6",get:function(){return this.N6}}]),t}(),pM=function(){function t(t,n,i,e){this.G2=void 0,this.Nl=void 0,this.O6=void 0,this.x6=void 0,this.B6=void 0,this.L6=void 0,this.M6=new na,this.G2=t,this.Nl=n,this.O6=i,this.x6=e,this.B6=new na,this.L6=new na}var n=t.prototype;return n.F6=function(){this.L6.Yu(),this.L6=new na},n.U6=function(t){var n=bM(this.G2.H0),i=n.j6,e=n.H6,r=this.O6.E6(i,e-i);sB.PK(_M,"Collected "+r.length+" chunks.");for(var s=0;s<r.length;s++){var u=r[s];t.enqueue(u)}},n.readAndSliceOutAssetBytes=function(t){var n,i,e,r,s,u,o,a,h,c,f,l,v;return Ur.async(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Ur.awrap(this.B6.Wu);case 2:n=bM(this.G2.H0),i=n.j6,e=n.H6,d.prev=3;case 4:return r=this.Nl.P6,d.next=8,Ur.awrap(this.Nl.D6());case 8:if(s=d.sent,u=s.length,sB.PK(_M,"Read "+u+" at "+r+" for extraction of "+MB(this.G2)),o=g.min(r+u,i),!((a=o-r)>0)){d.next=25;break}if(h=Qo(s,0,a),c=Qo(s,a),sB.PK(_M,"Of the read "+u+" bytes, the first "+a+" will be stored locally for extraction of "+MB(this.G2)),this.O6.R6(r,h),!(c.length>0)){d.next=23;break}return sB.PK(_M,"Extracting "+c.length+" bytes for extraction of "+MB(this.G2)),t.enqueue(c),this.F6(),d.abrupt("return",mu(this.readAndSliceOutAssetBytes(t)));case 23:d.next=46;break;case 25:if(!(r+u<=e)){d.next=33;break}return sB.PK(_M,"Extracting the read data range for extraction of "+MB(this.G2)),t.enqueue(s),this.F6(),d.abrupt("return",mu(this.readAndSliceOutAssetBytes(t)));case 33:if(l=Qo(s,0,f=e-r),v=Qo(s,f),l.length>0&&(sB.PK(_M,"Extracting "+l.length+" bytes for extraction of "+MB(this.G2)),t.enqueue(l)),sB.PK(_M,"Of the read "+u+" bytes, the last "+v.length+" will be stored locally for extraction of "+MB(this.G2)),this.O6.R6(r+f,v),sB.PK(_M,"Extraction of "+MB(this.G2)+" completed as the entire request has been fulfilled."),this.X6(t),!this.x6){d.next=45;break}return sB.PK(_M,"Aborting stream upstream as no more bytes are needed from "+MB(this.G2)+"."),d.next=45,Ur.awrap(this.Nl.C6("AssetExtraction - AbortOnEnd"));case 45:return d.abrupt("return");case 46:d.next=4;break;case 48:d.next=54;break;case 50:d.prev=50,d.t0=d.catch(3),sB.PK(_M,"Extraction of "+MB(this.G2)+" completed as the entire source stream has been read."),this.X6(t);case 54:case"end":return d.stop()}},null,this,[[3,50]],Ge)},n.X6=function(t){t.close(),this.F6(),this.M6.Yu()},n.start=function(t){sB.PK(_M,"Preparing to push all collected data to controller for extraction of "+MB(this.G2)),this.U6(t),sB.PK(_M,"Collected data pushed to controller for extraction of "+MB(this.G2));var n=bM(this.G2.H0).H6;this.Nl.P6>=n?(sB.PK(_M,"Extraction of "+MB(this.G2)+" completed as the entire request has been fulfilled."),this.X6(t)):(sB.PK(_M,"Continuing read from original stream for extraction of "+MB(this.G2)),mu(this.readAndSliceOutAssetBytes(t)))},n.pull=function(){return this.B6.Yu(),this.B6=new na,this.L6.Wu},T(t,[{key:"V6",get:function(){return this.M6.Wu}}]),t}(),kM=function(){function t(t,n){this.O6=void 0,this.z6=void 0,this.W6=void 0,this.G2=n;var i=bM(this.G2.H0).j6;this.z6=new mM(t,i),this.O6=new yM}var n=t.prototype;return n.Vm=function(t){if(!FB(this.G2,t))return!1;var n=bM(t.H0),i=n.j6,e=n.H6;return this.O6.S6(this.z6.P6,i,e)},n.G6=function(t,n){var i,e,r;return Ur.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(void 0===n&&(n=!1),i=this.z6,e=this.O6,sB.IT(_M,"Extracting data from "+MB(t)+" out of "+MB(this.G2)),!this.W6){s.next=8;break}return sB.PK(_M,"Awaiting previous extraction before extracting "+MB(t)+" out of "+MB(this.G2)),s.next=8,Ur.awrap(this.W6);case 8:if(this.Vm(t)){s.next=10;break}throw new l("The extractor does not contain the data requested");case 10:return r=new pM(t,i,e,n),this.W6=r.V6,s.abrupt("return",new kd(r));case 13:case"end":return s.stop()}},null,this,null,Ge)},t}();function bM(t){if(t){var n=t.WD;return{j6:n,H6:void 0!==t.$g?n+t.$g:Lt}}return{j6:0,H6:Lt}}var AM,TM=function(){function t(t,n){this.qc=new au,this.q6=void 0,this.G2=t,this.Y6=n,this.q6=this.Zh()}var n=t.prototype;return n.Zh=function(){var t;return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ur.awrap(this.Y6.l6(this.G2,vw.bd,dw.md,this.qc.$s));case 2:return t=n.sent,n.abrupt("return",new kM(t,this.G2));case 4:case"end":return n.stop()}},null,this,null,Ge)},n.Vm=function(t){return FB(this.G2,t)},n.G6=function(t,n){var i;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=!1),e.next=3,Ur.awrap(this.q6);case 3:return i=e.sent,e.next=6,Ur.awrap(du(i.G6(t,n),this.qc.$s));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},null,this,null,Ge)},n.Ws=function(){this.q6.catch(Z),this.qc.Ws()},t}(),SM=function(t){function n(n,i,e){var r;return(r=t.call(this,AM.J6)||this).Q6=n,r.Ud=i,r.Z6=e,r}return E(n,t),n}(Iu),EM="HlsPlaylistDownloader";!function(t){t.J6="segmentdownloaded"}(AM||(AM={}));var IM=function(t){function n(n,i,e,r,s,u,o,a,h){var c;return(c=t.call(this)||this).zi=void 0,c.k5=void 0,c.U5=void 0,c.Y6=void 0,c.K6=void 0,c.xL=void 0,c.d6=void 0,c.t8=void 0,c.n8=void 0,c.i8=void 0,c.e8=new au,c.r8=void 0,c.s8=void 0,c.u8=void 0,c.o8=void 0,c.a8=function(t){c.n8&&(c.d6=c.n8,c.n8=void 0,c.r8=void 0,c.s8=void 0),c.i8&&(t&&!cu(t)?c.i8.Qu(t):c.i8.Yu(),c.i8=void 0)},c.zi=n,c.k5=e,c.U5=r,c.d6=i,c.t8=new gM(e,i),c.K6=new dM(o,s,a),c.Y6=new wM(s,u,function(t){switch(t){case NB.xd:return ww.xd;case NB.Od:return ww.Od;case NB.lA:case NB.f1:return ww.Kn;default:return ww.md}}(i.gs),a),c.xL=h,c}E(n,t);var e=n.prototype;return e.h8=function(t){this.t8.Us(),this.t8=new gM(this.k5,t),this.G5?this.n8=t:(this.d6=t,this.r8=void 0,this.s8=void 0)},e.Y5=function(){return this.i8?this.i8.Wu:Ge.resolve()},e.c8=function(){return this.U5.c8()},e.f8=function(t){this.U5.f8(t)},e.Ws=function(){var t,n;this.e8.Ws(),this.e8=new au,null==(t=this.o8)||t.Ws(),null==(n=this.u8)||n.Ws(),this.o8=void 0,this.u8=void 0,this.r8=void 0,this.s8=void 0},e.Us=function(){this.t8.Us()},e.l8=function(t){var n=this.d6.XZ.H3(t);if(!n)return!1;if(void 0!==this.r8){var i=n.j1===this.r8;return void 0!==this.s8?n.n3(t)===n.K2(this.s8)&&i:i}return!1},e.v8=function(t){var n;if(void 0===this.r8)n=this.d8(t);else if(n=this.w8(this.r8,this.s8)){var i=n,e=i[0],r=i[1],s=(null!=r?r:e).op,u=3*this.vK.XZ.O0;g.abs(s-t)>=u&&(n=this.d8(t))}if(n){var o=n,a=o[0],h=o[1];return 0===(null==h?void 0:h.H2)&&void 0!==a.uy?[a,void 0]:[a,h]}},e.d8=function(t){var n,i,e,r=this.d6.XZ.j0;if(0!==r.length){var s=r[r.length-1];if(s.op+(null!=(n=s.uy)?n:s.M2)<=t)i=s,e=s.e3(t);else if(r[0].op>t)e=(i=r[0]).K2(0);else{var u;e=null==(u=i=this.d6.XZ.H3(t))?void 0:u.e3(t)}return i?[i,e]:void 0}},e.w8=function(t,n){var i,e,r;if((i=this.d6.XZ.j3(t))&&void 0!==n){if(0===i.u2.length)return[i,void 0];e=i.K2(n+1)}void 0!==i&&void 0!==e||(e=null==(r=i=this.d6.XZ.j3(t+1))?void 0:r.K2(0));return i?[i,e]:void 0},e.W5=function(){if(this.G5)throw new l("Cannot perform new operation while PlaylistDownloader is still busy")},e.g8=function(t){this.W5(),this.i8=new na,this._8(t,this.e8.$s).then(this.a8,this.a8)},e.y8=function(){this.t8.y6()},e._8=function(t,n){var i;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((i=this.v8(t))||!this.t8.m6()||void 0===this.r8){e.next=5;break}return e.next=4,Ur.awrap(this.t8.p6(void 0===this.s8?this.r8+1:this.r8,void 0!==this.s8?this.s8+1:void 0,n));case 4:i=this.v8(t);case 5:if(i||!this.t8.m6()||void 0===this.r8){e.next=9;break}return e.next=8,Ur.awrap(this.t8.p6(this.r8+1,0,n));case 8:i=this.v8(t);case 9:if(i){e.next=16;break}return sB.IT(EM,"No next segment / part available, need to update playlist before continuing."),e.next=13,Ur.awrap(this.t8.b6(n));case 13:i=this.v8(t),e.next=9;break;case 16:case"end":return e.stop()}},null,this,null,Ge)},e.m8=function(){return this.U5.p8()},e.k8=function(){this.W5();try{var t=this.d6.XZ.V3(DB.V1);t&&this.b8(t);var n=this.d6.XZ.V3(DB.z1);n&&this.A8(n)}catch(t){throw lu(t),this.vK.XZ.o4=i.wr(),this.k5.h5(this.vK),t}},e.b8=function(t){this.u8&&!this.u8.Vm(t.YZ)&&(this.u8.Ws(),this.u8=void 0),this.u8||(this.u8=new TM(t.YZ,this.Y6))},e.A8=function(t){this.o8&&!this.o8.Vm(t.YZ)&&(this.o8.Ws(),this.o8=void 0),this.o8||(this.o8=new TM(t.YZ,this.Y6))},e.T8=function(t,n,e){var r=this;this.W5(),sB.IT(EM,"Starting download of segment "+MB(t.YZ)+" and part "+(null==n?void 0:n.H2)),this.i8=new na,this.S8(t,n,e,this.e8.$s).catch(function(t){throw lu(t),r.vK.XZ.o4=i.wr(),r.k5.h5(r.vK),t}).then(this.a8,this.a8)},e.S8=function(t,n,i,e){var r,s,u;return Ur.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(u=0,!t.a2){o.next=7;break}if(i&&UB(i.t6.YZ,t.a2.YZ)&&t.f2===i.f2){o.next=7;break}return o.next=5,Ur.awrap(this.E8(t.a2,t,e));case 5:s=o.sent,u=s.a2.Xi.Xi.byteLength;case 7:if(s){o.next=12;break}return o.next=10,Ur.awrap(this.I8(t,n,e));case 10:s=o.sent,u=s.R8.Xi.Xi.byteLength;case 12:this.U5.N8(s),this.Ks(new SM(s.gs,this.zi,u)),sB.PK("Buffering","Download complete",MB(null!=(r=null==n?void 0:n.YZ)?r:t.YZ));case 15:case"end":return o.stop()}},null,this,null,Ge)},e.I8=function(t,n,i){var e,r,s,u;return Ur.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(!n){o.next=26;break}if(!this.o8){o.next=19;break}if(!this.o8.Vm(n.YZ)){o.next=17;break}return o.next=5,Ur.awrap(this.o8.G6(n.YZ));case 5:return r=o.sent,o.t0=p,o.next=9,Ur.awrap(qd(r,i));case 9:return o.t1=o.sent,s=new o.t0(o.t1),o.next=13,Ur.awrap(this.o6(s,n.i2,i));case 13:u=o.sent,e=DM(n,u),o.next=19;break;case 17:this.o8.Ws(),this.o8=void 0;case 19:if(e){o.next=24;break}return sB.PK("Buffering","Start download",MB(n.YZ)),o.next=23,Ur.awrap(this.D8(n,i));case 23:e=o.sent;case 24:o.next=30;break;case 26:return sB.PK("Buffering","Start download",MB(t.YZ)),o.next=29,Ur.awrap(this.C8(t,i));case 29:e=o.sent;case 30:return this.r8=t.j1,this.s8=null==n?void 0:n.H2,o.abrupt("return",{gs:"R8",j1:t.j1,R8:e,vK:this.d6,f2:t.f2});case 33:case"end":return o.stop()}},null,this,null,Ge)},e.E8=function(t,n,i){var e,r,s,u,o;return Ur.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this.u8){a.next=17;break}if(!this.u8.Vm(t.YZ)){a.next=14;break}return a.next=4,Ur.awrap(du(this.u8.G6(t.YZ),i));case 4:return s=a.sent,a.t0=p,a.next=8,Ur.awrap(qd(s,i));case 8:return a.t1=a.sent,u=new a.t0(a.t1),a.next=12,Ur.awrap(this.o6(u,t.s2?[t.s2]:[],i));case 12:o=a.sent,e=RM(t,n,o);case 14:sB.IT(EM,"MAP is required for segment, downloading MAP data."),null==(r=this.u8)||r.Ws(),this.u8=void 0;case 17:if(e){a.next=22;break}return sB.PK("Buffering","Start download",MB(t.YZ)),a.next=21,Ur.awrap(this.P8(t,n,i));case 21:e=a.sent;case 22:return a.abrupt("return",{gs:"a2",a2:e,op:n.op,f2:n.f2,i2:n.i2});case 23:case"end":return a.stop()}},null,this,null,Ge)},e.P8=function(t,n,i){var e,r,s;return Ur.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Ur.awrap(this.Y6.dd(t.YZ,vw.kd,dw.Sd,i));case 2:return e=u.sent,r=t.s2?[t.s2]:[],u.next=6,Ur.awrap(this.o6(e,r,i));case 6:return s=u.sent,u.abrupt("return",RM(t,n,s));case 8:case"end":return u.stop()}},null,this,null,Ge)},e.C8=function(t,n){var i,e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.YZ){r.next=2;break}throw new l("Internal error: attempted to download an incomplete segment");case 2:return r.next=4,Ur.awrap(this.Y6.dd(t.YZ,vw.kd,dw.md,n));case 4:return i=r.sent,r.next=7,Ur.awrap(this.o6(i,t.i2,n));case 7:return e=r.sent,r.abrupt("return",NM(t,e));case 9:case"end":return r.stop()}},null,this,null,Ge)},e.D8=function(t,n){var i,e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Ur.awrap(this.Y6.dd(t.YZ,vw.kd,dw.md,n));case 2:return i=r.sent,r.next=5,Ur.awrap(this.o6(i,t.i2,n));case 5:return e=r.sent,r.abrupt("return",DM(t,e));case 7:case"end":return r.stop()}},null,this,null,Ge)},e.o6=function(t,n,i){var e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(e=Gs(n,function(t){return t.Ld===CB.S1})){r.next=3;break}return r.abrupt("return",t);case 3:if(e.YZ&&e.E1){r.next=6;break}return sB.Au(EM,"Encountered an AES-128 encrypted segment for which no initialization vector could be determined."),r.abrupt("return",t);case 6:return r.next=8,Ur.awrap(this.K6.o6(t,e.YZ,e.E1,i));case 8:return r.abrupt("return",r.sent);case 9:case"end":return r.stop()}},null,this,null,Ge)},T(n,[{key:"G5",get:function(){return void 0!==this.i8}},{key:"vK",get:function(){var t;return null!=(t=this.n8)?t:this.d6}},{key:"O8",get:function(){if(!this.d6.XZ.d2)return!1;if(void 0===this.r8)return!1;var t=this.d6.XZ.j0[this.d6.XZ.j0.length-1];return t.j1===this.r8&&!(this.s8&&this.s8!==t.u2.length-1)}}]),n}(Su);function RM(t,n,i){return{Xi:{Xi:i,gs:YN.rj},gs:fM.V1,t6:t,f2:n.f2}}function NM(t,n){return{Xi:{Xi:n,gs:YN.rj},gs:fM.kd,t6:t,f2:t.f2}}function DM(t,n){return{Xi:{Xi:n,gs:YN.rj},gs:fM.z1,t6:t,f2:t.j2.f2}}var CM,PM=function(){function t(){this.x8=[],this.B8=Xr(),this.L8=void 0,this.M8=void 0}var n=t.prototype;return n.N8=function(t){"a2"===t.gs&&(this.M8=t.a2),this.x8.push(t),this.L8&&(this.L8.Yu(),this.L8=void 0)},n.c8=function(){return this.x8[0]},n.f8=function(t){Ys(this.x8,t)},n.p8=function(){return null!=this.L8||(this.L8=new na),this.L8.Wu},n.F8=function(t){this.U8(t.T4).F8(t)},n.j8=function(t){return this.U8(t).j8()},n.K5=function(t){this.U8(t.T4).K5(t)},n.H8=function(t){var n;null==(n=this.B8.get(t))||n.Us()},n.X8=function(t){return this.U8(t).X8()},n.U8=function(t){if(this.B8.has(t))return this.B8.get(t);var n=new OM;return this.B8.set(t,n),n},n.xu=function(){this.V8(),this.z8()},n.V8=function(){this.M8=void 0,Zs(this.x8)},n.z8=function(){this.B8.forEach(function(t){return t.xu()})},n.Us=function(){this.B8.forEach(function(t){return t.Us()}),this.B8.clear(),this.xu(),this.L8&&(this.L8.Qu(new hu),this.L8=void 0)},T(t,[{key:"L5",get:function(){return this.M8}},{key:"W8",get:function(){for(var t=TS.RC(),n=0,i=this.x8;n<i.length;n++){var e=i[n];if("R8"===e.gs){var r,s=e.R8.t6;t=t.cC(new TS([s.op,s.op+(null!=(r=s.uy)?r:0)]))}}return t}},{key:"G8",get:function(){var t=TS.RC();return this.B8.forEach(function(n){t=t.cC(n.G8)}),t}}]),t}(),OM=function(){function t(){this.q8=[],this.Y8=void 0}var n=t.prototype;return n.F8=function(t){this.q8.push(t),this.Y8&&(this.Y8.Yu(),this.Y8=void 0)},n.j8=function(){return this.q8[0]},n.K5=function(t){Ys(this.q8,t)},n.X8=function(){return null!=this.Y8||(this.Y8=new na),this.Y8.Wu},n.xu=function(){Zs(this.q8)},n.Us=function(){this.xu(),this.Y8&&(this.Y8.Qu(new hu),this.Y8=void 0)},T(t,[{key:"G8",get:function(){for(var t=TS.RC(),n=0,i=this.q8;n<i.length;n++){var e=i[n];"R8"===e.gs&&(t=t.cC(new TS([e.op,e.op+e.uy])))}return t}}]),t}(),xM=function(){function t(t,n){this.Q8=void 0,this.O4=void 0,this.J8=TS.RC(),this.Q8=t,this.O4=n}var n=t.prototype;return n.rV=function(t,n){var i,e,r,s;return Ur.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=t.Xi.Xi,this.Z8(i),this.Q8.gs!==xm.TTML){u.next=8;break}if(this.O4.f4(t.f2)){u.next=6;break}return u.next=6,Ur.awrap(du(this.O4.l4(t.f2),n));case 6:for(e=this.K8(i,t.f2),r=0;r<e.length;r++)s=e[r],this.Q8.BE(s);case 8:case"end":return u.stop()}},null,this,null,Ge)},n.nV=function(t,n){var i,e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==t.Xi){r.next=2;break}return r.abrupt("return");case 2:if(i=t.op,e=i+t.uy,this.J8=this.J8.cC(new TS([i,e])).hC(1e-6),this.O4.f4(t.f2)){r.next=8;break}return r.next=8,Ur.awrap(du(this.O4.l4(t.f2),n));case 8:this.eV(t.Xi.Xi,t.f2,t.t6);case 9:case"end":return r.stop()}},null,this,null,Ge)},n.eV=function(t,n,i){this.Z8(t);for(var e=0,r=this.Q8.gs===xm.WEBVTT?this.t7(t,i):this.K8(t,n);e<r.length;e++){var s=r[e];this.Q8.BE(s)}},n.t7=function(t,n){for(var i,e,r=(void 0===e&&(e=Np),Fp(Vo(Go(t),new Ko),e)),s=r.p_,u=null!=(i=r.bb)?i:{Ab:mp.rk,Tb:mp.rk},o=0;o<s.length;o++){var a=s[o],h=mp.qk(a.op).qp(u.Tb).Xm(u.Ab),c=this.O4._4(h,n).Lp(),f=c+(a.ap-a.op);a.op=c,a.ap=f}return s},n.K8=function(t,n){var i=this.O4.g4(n).Lp();return Pk(t,this.Q8,{_b:0,yb:1/0,mb:i},jc.APPLICATION_MP4)},n.Z8=function(t){this.Q8.gs===xm.DEFAULT&&(this.Q8.gs=this.n7(t)?xm.WEBVTT:xm.TTML)},n.n7=function(t){return Yp(Vo(Wo(Go(t),0,g.min(t.byteLength,7)),new Ko))},n.CV=function(t,n){},n.PV=function(t,n){},T(t,[{key:"Tm",get:function(){return this.J8}},{key:"MV",get:function(){return TS.RC()}}]),t}(),BM=function(t){function n(n,i){var e;return(e=t.call(this,CM.i7)||this).vK=n,e.iX=i,e}return E(n,t),n}(Iu),LM=function(t){function n(n){var i;return(i=t.call(this,CM.e7)||this).vK=n,i}return E(n,t),n}(Iu);!function(t){t.i7="r7",t.e7="s7"}(CM||(CM={}));var MM=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).d6=void 0,s.U5=void 0,s.O4=void 0,s.u7=void 0,s.o7=void 0,s.qc=new au,s.a7=function(t){s.o7&&(t&&!cu(t)?s.o7.Qu(t):(s.o7.Yu(),s.o7=void 0))},s.d6=n,s.U5=i,s.O4=e,s.u7=r,s}E(n,t);var i=n.prototype;return i.h8=function(t){this.d6!==t&&(this.Ws(),this.d6=t)},i.h7=function(t){for(var n=0,i=this.u7;n<i.length;n++){var e=i[n];Js(t,e)||this.U5.H8(e)}this.u7=t},i.Y5=function(){var t,n;return null!=(t=null==(n=this.o7)?void 0:n.Wu)?t:Ge.resolve()},i.W5=function(){if(this.G5)throw new l("Cannot perform new operation while transmuxer is still busy")},i.c7=function(t){var n=this;this.W5(),this.o7=new na;var i=function(i){n.U5.f8(t),n.a7(i)};this.f7(t,this.qc.$s).then(i,i)},i.l7=function(t){var n=this;this.W5(),this.o7=new na;var i=function(i){n.U5.f8(t),n.a7(i)};this.v7(t,this.qc.$s).then(i,i)},i.d7=function(t){this.Ks(new BM(this.d6,t))},i.w7=function(){this.Ks(new LM(this.d6))},i.F8=function(t){Js(this.u7,t.T4)&&this.U5.F8(t)},i.g7=function(t){return this.U5.j8(t)},i.K5=function(t){this.U5.K5(t)},i._7=function(t){return this.U5.X8(t)},i.Ws=function(){this.qc.Ws(),this.qc=new au},T(n,[{key:"vK",get:function(){return this.d6}},{key:"y7",get:function(){return this.u7}},{key:"G5",get:function(){return void 0!==this.o7}}]),n}(Su);function FM(t){return function(t){return xL(t)?t.u3:0===t.H2&&t.j2.u3}(t)?0:t.op}var UM=function(t){function n(n,i,e,r){return t.call(this,n,i,e,[r])||this}E(n,t);var i=n.prototype;return i.f7=function(t,n){fu(n);var i={gs:"m7",Xi:t.a2.Xi,T4:this.y7[0],f2:t.f2,p7:{iX:"",i2:t.i2},op:t.op,vK:this.vK,t6:t.a2.t6};return this.F8(i),Ge.resolve()},i.v7=function(t,n){var i;fu(n);var e=t.R8.t6,r={gs:"R8",Xi:t.R8.Xi,T4:this.y7[0],j1:t.j1,k7:FM(e),op:e.op,uy:null!=(i=e.uy)?i:0,mb:0,f2:t.f2,vK:t.vK,t6:t.R8.t6};return this.F8(r),Ge.resolve()},n}(MM),jM=function(){function t(t,n,i,e){this.b7=[],this.A7=t,this.U5=n,this.T7=i,this.VC=e}var n=t.prototype;return n.h8=function(t){this.A7.h8(t)},n.S7=function(t){for(var n=this,i=t.slice(),e=function(t){var e=n.b7[t];if(!e.z5)throw new l("Invalid state");var r=$s(i,function(t){return t.gs===e.gs});r>=0?(e.q5(i[r]),Qs(i,r)):Qs(n.b7,t)},r=this.b7.length-1;r>=0;r--)e(r);for(var s=0;s<i.length;s++){var u=i[s],o=new lM(u);this.b7.push(new vM(u.gs,u,this.U5,o,this))}i.length>0&&this.U5.xu();var a=t.map(function(t){return t.gs});this.T7.h7(a)},n.ML=function(t){var n,i=(null==(n=this.VC)?void 0:n.ML(t))||!1;return i&&(this.Ws(),this.E7.xu()),i},n.I7=function(t){for(var n=0,i=this.b7;n<i.length;n++){var e=i[n];if(e.gs!==ym.Kn||e.G5)throw new l("Invalid state")}var r=new lM(t),s=new vM(ym.Kn,t,this.U5,r,this);this.b7=[s]},n.R7=function(){for(var t=0,n=this.b7;t<n.length;t++){n[t].r6.C5()}},n.N7=function(t){var n=this.D7.AC(t,.001);return n?n.qD(n.$g-1):t},n.l8=function(t){return!!this.D7.AC(t,.001)||this.A7.l8(t)},n.C7=function(t){return this.P7.uD(t,.001)},n.O7=function(t,n,i){for(var e=0,r=this.b7;e<r.length;e++){var s=r[e].r6,u=s.M5;if(void 0!==u&&n>=u)return!s.Tm.KD().uD(u)}return n-t<i},n.Ws=function(){this.x7(),this.B7()},n.x7=function(){this.L7.Ws()},n.B7=function(){this.M7.Ws(),this.F7.forEach(function(t){return t.Ws()})},n.Us=function(){this.Ws(),this.L7.Us()},T(t,[{key:"F7",get:function(){return this.b7}},{key:"L7",get:function(){return this.A7}},{key:"M7",get:function(){return this.T7}},{key:"E7",get:function(){return this.U5}},{key:"vK",get:function(){return this.A7.vK}},{key:"L5",get:function(){var t=this.U5.L5;if(t)return t;if(this.b7.length>0){var n=this.b7[0].r6.L5;if(n&&this.b7.every(function(t){return t.r6.L5===n}))return n}}},{key:"D7",get:function(){if(0===this.b7.length)return TS.RC();for(var t=this.U5.W8.cC(this.U5.G8).KD(),n=new TS([0,1/0]),i=0,e=this.b7;i<e.length;i++){for(var r=e[i],s=r.r6.Tm,u=r.r6.j0,o=r.J5,a=0;a<u.length;a++)for(var h=u[a],c=h.O5.lC(h.x5),f=0;f<c.$g;f++)t.gC(c.WD(f),c.qD(f),!0,!0)&&(s=s.cC(c.bC(f)));n=n.rC(s).lC(o)}return n=n.cC(t)}},{key:"P7",get:function(){if(0===this.b7.length)return TS.RC();for(var t=this.U5.G8.KD(),n=new TS([0,1/0]),i=0,e=this.b7;i<e.length;i++){for(var r=e[i],s=r.r6.Tm,u=r.r6.j0,o=0;o<u.length;o++)for(var a=u[o],h=a.O5.lC(a.x5),c=0;c<h.$g;c++)t.gC(h.WD(c),h.qD(c),!0,!0)&&(s=s.cC(h.bC(c)));n=n.rC(s)}return n=n.cC(t)}}]),t}();var HM=function(t){function n(){return t.call(this,Bx.FZ)||this}return E(n,t),n}(Iu),XM=function(t){function n(){return t.call(this,Bx.LZ)||this}return E(n,t),n}(Iu),VM=function(t){function i(n,i){var e;return(e=t.call(this)||this).xc=void 0,e.I5=void 0,e.U7=new na,e.CL=DR,e.j7=!1,e.PL=TR,e.RV=new KN,e.zi=n,e.H7=i,e}E(i,t);var e=i.prototype;return e.KU=function(){return this.I5?this.I5.KU():this.j7},e.CV=function(t,n){sB.PK("LazyMediaBuffer","Marking gap from "+t+" to "+n+"."),this.RV.lj(t,n),this.I5&&this.I5.CV(t,n)},e.PV=function(t,n){sB.PK("LazyMediaBuffer","Removing gap from "+t+" to "+n+"."),this.RV.vj(t,n),this.I5&&this.I5.PV(t,n)},e.X7=function(t){this.I5=t,this.I5.IL=this.PL,this.I5.AL=this.CL;for(var n,i=this.RV.dj,e=0;e<i.$g;e++)this.I5.CV(i.WD(e),i.qD(e));this.j7&&(sB.PK("LazyMediaBuffer","End of stream"),null==(n=this.I5)||n.TV());this.I5.tu(zN.ij,this.Zs),this.U7.Yu(t)},e.V7=function(t){return du(this.U7.Wu,t)},e.nV=function(t,n,i){var e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Ur.awrap(this.V7(i));case 2:return e=r.sent,r.next=5,Ur.awrap(e.nV(t,n,i));case 5:case"end":return r.stop()}},null,this,null,Ge)},e.OV=function(){var t;return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ur.awrap(this.V7());case 2:return t=n.sent,n.next=5,Ur.awrap(t.OV());case 5:case"end":return n.stop()}},null,this,null,Ge)},e.rV=function(t,n,i){var e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Ur.awrap(this.V7(i));case 2:return e=r.sent,r.next=5,Ur.awrap(e.rV(t,n,i));case 5:case"end":return r.stop()}},null,this,null,Ge)},e.Kh=function(t,n,i){var e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Ur.awrap(this.V7(i));case 2:return e=r.sent,r.next=5,Ur.awrap(e.Kh(t,n,i));case 5:case"end":return r.stop()}},null,this,null,Ge)},e.lV=function(t,n){var i;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ur.awrap(this.V7());case 2:return i=e.sent,e.next=5,Ur.awrap(i.lV(t,n));case 5:case"end":return e.stop()}},null,this,null,Ge)},e.TV=function(){this.j7=!0,this.I5&&this.I5.TV()},e.VU=function(t){return!!this.I5&&this.I5.VU(t)},e.zU=function(t){var n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Ur.awrap(this.V7());case 2:return n=i.sent,i.next=5,Ur.awrap(n.zU(t));case 5:case"end":return i.stop()}},null,this,null,Ge)},e.Kc=function(){var t;return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:this.ou(),null==(t=this.I5)||t.au(zN.ij,this.Zs);case 2:case"end":return n.stop()}},null,this,null,Ge)},T(i,[{key:"Gv",get:function(){return this.xc}},{key:"LV",get:function(){return this.zi}},{key:"cc",get:function(){if(!this.I5)throw new lf(n.ErrorCode.MEDIA_LOAD_ERROR,"Cannot get the configuration of an uninitialized MediaBuffer.");return this.I5.cc}},{key:"AL",get:function(){return this.CL},set:function(t){this.CL=t,this.I5&&(this.I5.AL=t)}},{key:"Tm",get:function(){return this.I5?this.I5.Tm:TS.RC()}},{key:"MV",get:function(){return this.I5?this.I5.MV:this.RV.dj}},{key:"IL",get:function(){return this.PL},set:function(t){this.PL=t,this.I5&&(this.I5.IL=t)}}]),i}(Su),zM="LazyMediaSource",WM=function(){function t(t,n,i){this.z7=void 0,this.W7=void 0,this.G7=new na,this.wN=void 0,this.q7=!1,this.ya=NaN,this.BJ=!1,this.Y7=0,this.Q7=1/0,this.J7=!1,this.Z7=!1,this.dN=t,n&&(sB.PK(zM,"Created lazy media buffer for audio."),this.z7=new VM(ym.Od,this)),i&&(sB.PK(zM,"Created lazy media buffer for video."),this.W7=new VM(ym.xd,this))}var n=t.prototype;return n.Oz=function(t){this.ya=t,this.wN&&this.wN.Oz(t)},n.TV=function(){this.BJ=!0,this.wN&&this.wN.TV()},n.pV=function(){this.BJ=!1,this.wN&&this.wN.pV()},n.Lz=function(t,n,i,e){this.Y7=t,this.Q7=n,this.J7=Boolean(i),this.Z7=Boolean(e),this.wN&&this.wN.Lz(t,n,i,e)},n.VU=function(t){return!this.wN||this.wN.VU(t)},n.zU=function(t){var n,i,e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.VU(t)){r.next=2;break}throw new l("LazyMediaSource - Unable to reconfigure MediaSource.");case 2:if(this.wN){r.next=19;break}return this.dN.U$(),r.next=6,Ur.awrap(this.dN.Zh(t));case 6:e=r.sent,m(this.ya)||e.Oz(this.ya),this.BJ&&e.TV(),e.Lz(this.Y7,this.Q7,this.J7,this.Z7),sB.PK(zM,"The MediaSource has been loaded."),this.q7=!0,this.wN=e,null==(n=this.z7)||n.X7(this.wN.yz),null==(i=this.W7)||i.X7(this.wN.mz),this.G7.Yu(e),this.dN.j$(),r.next=21;break;case 19:return r.next=21,Ur.awrap(this.wN.zU(t));case 21:case"end":return r.stop()}},null,this,null,Ge)},n.Us=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.wN){t.next=3;break}return t.next=3,Ur.awrap(this.wN.Us());case 3:case"end":return t.stop()}},null,this,null,Ge)},T(t,[{key:"cc",get:function(){return{gs:mb.UE,Mz:[],WN:[]}}},{key:"qy",get:function(){throw new l("Not implemented")}},{key:"yz",get:function(){return this.z7}},{key:"mz",get:function(){return this.W7}},{key:"Tm",get:function(){return this.wN?this.wN.Tm:TS.RC()}},{key:"uy",get:function(){return this.wN?this.wN.uy:this.ya}},{key:"KU",get:function(){return!!this.wN&&this.wN.KU}},{key:"Fm",get:function(){return this.wN?this.wN.Fm:new TS([0,1/0])}}]),t}();function GM(t,n){return void 0===n&&(n=!1),function(i,e){void 0===e&&(e="*");var r,s,u,o=$M(i,"tag"),a=$M(null==e?"*":e,"range"),h=[],c=-1;for(;++c<a.length;)if(r=a[c].toLowerCase(),n||"*"!==r){for(s=-1,u=[];++s<o.length;)if(t(o[s].toLowerCase(),r)){if(!n)return o[s];h.push(o[s])}else u.push(o[s]);o=u}return n?h:void 0}}GM(function(t,n){return"*"===n||t===n||bs(t,n+"-")},!0),GM(function(t,n){var i=t.split("-"),e=n.split("-"),r=0,s=0;if("*"!==e[s]&&i[r]!==e[s])return!1;for(r++,s++;s<e.length;)if("*"!==e[s]){if(!i[r])return!1;if(i[r]!==e[s]){if(1===i[r].length)return!1;r++}else r++,s++}else s++;return!0},!0);var qM=GM(function(t,n){for(var i,e=n;;){if("*"===e||t===e)return!0;if((i=e.lastIndexOf("-"))<0)return!1;"-"===e.charAt(i-2)&&(i-=2),e=e.slice(0,i)}});function $M(t,n){var i=t&&"string"==typeof t?[t]:t;if(!(i&&"object"==typeof i&&"length"in i))throw new l("Invalid "+n+" `"+i+"`, expected non-empty string");return i}var YM,QM=function(t){function n(){return t.call(this,Bf.jf)||this}return E(n,t),n}(Iu),JM=function(t){function n(){return t.call(this,Bf.Uf)||this}return E(n,t),n}(Iu),ZM=16384,KM=71,tF=188,nF=2,iF=3;function eF(t){return rF(t)?YM.B_:null!==_P(Go(t),new Ko)?YM.K7:function(t){return function(t){if(t.length<nF*tF)return-1;for(var n=t.length<iF*tF?nF:iF,i=g.min(1e3,t.length-n*tF),e=0;e<=i;e++){for(var r=!0,s=0;s<n;s++)if(t[e+s*tF]!==KM){r=!1;break}if(r)return e}return-1}(t)>=0}(t)?YM.t9:YM.md}function rF(t){var n=zo(t,0,g.min(t.length,ZM));return pk.qA(Go(n))}!function(t){t[t.md=0]="md",t[t.B_=1]="B_",t[t.t9=2]="t9",t[t.K7=3]="K7"}(YM||(YM={}));var sF=function(){function t(t,n,i,e){this.zi=void 0,this.I5=void 0,this.n9=void 0,this.i9=void 0,this.e9=void 0,this.zi=t,this.I5=n,this.i9=i,this.e9=e}var n=t.prototype;return n.r9=function(t){return this.I5===t},n.rV=function(t,n){return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=3,Ur.awrap(this.I5.rV(t.Xi,{s9:t.vK.s_},n));case 3:this.zi===ym.xd&&rF(t.Xi.Xi)&&this.e9.u9(t.Xi.Xi);case 4:case"end":return i.stop()}},null,this,null,Ge)},n.nV=function(t,n){var i,e,r;return Ur.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(fu(n),sB.IT("HlsMediaBuffer","Got media data, appending to "+this.zi+" MediaBuffer: "+MB(t.t6.YZ)),i=t.k7,e=t.op+t.uy,r={MJ:t.op,uy:t.uy,mb:t.mb,s9:t.vK.s_},void 0===t.Xi){s.next=10;break}return s.next=9,Ur.awrap(this.I5.nV(t.Xi,r,n));case 9:this.o9(t.Xi,t);case 10:this.a9(i,e);case 11:case"end":return s.stop()}},null,this,null,Ge)},n.o9=function(t,n){if(rF(t.Xi)){var i=n.op,e=i+n.uy,r=n.mb;this.i9.P5(t.Xi,i,r),this.zi===ym.xd&&this.e9.P5(t.Xi,i,e,r),function(t,n){if(t.$g>0)for(var i=t.WD(0),e=g.max(0,i-10),r=0;r<n.length;r++)n[r].RE(e)}(this.Tm,[this.i9,this.e9])}},n.a9=function(t,n){for(var i=this.I5.Tm,e=new TS([t,n]).lC(i),r=0;r<e.$g;r++)this.I5.CV(e.WD(r),e.qD(r));for(var s=0;s<i.$g;s++)this.I5.PV(i.WD(s),i.qD(s))},n.CV=function(t,n){this.I5.CV(t,n)},n.PV=function(t,n){this.I5.PV(t,n)},T(t,[{key:"gs",get:function(){return this.zi}},{key:"Tm",get:function(){return this.I5.Tm}},{key:"MV",get:function(){return this.I5.MV}}]),t}(),uF=2500;var oF=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,u,!1)||this).h9=void 0,o.ke=void 0,o.c9=void 0,o.h9=e,o.ke=r,o.c9=s,o}return E(n,t),n.prototype.Sp=function(n){return this===n||S_(this,n)&&t.prototype.Sp.call(this,n)&&T_(this.hp,n.hp)},T(n,[{key:"XS",get:function(){return this.h9}},{key:"Ti",get:function(){return this.ke}},{key:"f9",get:function(){return this.c9}},{key:"wg",get:function(){var t;return this.dg||(this.dg=b_(Gm(t=this),{get schemeIDURI(){return t.XS},get value(){return t.Ti},get emsgID(){return t.f9}})),this.dg}}]),n}(Km);function aF(t,n){return""===n?t:t+" "+n}var hF,cF,fF=function(t){function n(n){var i;return(i=t.call(this)||this).NE=void 0,i.NE=n,i}E(n,t);var i=n.prototype;return i.P5=function(t,i,e){var r=pk.WA(Go(t));if(r){var s=function(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];lk(r,n)&&i.push(r)}return i}(r,Sp.uA);if(s.length){var u=n.l9(r,i,e);this.v9(s,u,e)}}},i.v9=function(t,n,i){for(var e=0;e<t.length;e++){var r=t[e],s=void 0,u=(s=1===r.VA?r.VS.toNumber()/r.Lk+i:n+r.GS/r.Lk)+r.zS/r.Lk;"https://aomedia.org/emsg/ID3"===r.XS?this.d9(r,s):this.w9(r,s,u)}},i.w9=function(t,n,i){var e=aF(t.XS,t.Ti),r=this.g9(e);r||(r=this._9(e),this.y9(r)),r.BE(new oF(n,i,t.XS,t.Ti,t.r_,t.WS))},i.d9=function(t,n){var i=pP(Go(t.WS));if(i){var e=aF(t.XS,t.Ti),r=this.g9(e);r||(r=this.m9(e),this.y9(r));for(var s=0,u=i.PW;s<u.length;s++){var o=u[s],a=new CP(n,o);WC(a,r.p_.qg),r.BE(a)}}},n.l9=function(t,n,i){var e=vk(t,Sp.oA);return e?Qt(e.rE,e.Lk)+i:n},i._9=function(t){var n=this.NE.OE(Wk.dA,"","","",void 0,xm.EMSG);return n.w_=t,n.g_=j_.l_,n},i.m9=function(t){var n=this.NE.OE(Wk.dA,"","","",void 0,xm.ID3);return n.w_=t,n.g_=j_.l_,n},i.wc=function(){var n,i,e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(n=0,i=this.uT.qg;n<i.length;n++)e=i[n],this.NE.LE(e);return r.next=3,Ur.awrap(t.prototype.wc.call(this));case 3:case"end":return r.stop()}},null,this,null,Ge)},n}(function(t){function n(){return t.call(this)||this}E(n,t);var i=n.prototype;return i.y9=function(t){return t.m_=Om.LOADED,this.zg(t),t},i.g9=function(t){for(var n=0,i=this.uT.qg;n<i.length;n++){var e=i[n];if(e.w_===t)return e}},n}(fb));function lF(t){return"function"==typeof t.Cu}function vF(t,n,i){if(!(i&&n.byte>=i)){var e=lF(t)?t.Cu(n.byte):t[n.byte];return n.byte+=1,e}}function dF(t,n){return function(t,n,i){for(var e=0,r=i;r>0;)r-=1,e=256*e+vF(t,n);return e}(t,n,2)}!function(t){t[t.p9=0]="p9",t[t.k9=1]="k9",t[t.b9=2]="b9",t[t.A9=3]="A9",t[t.T9=4]="T9",t[t.S9=5]="S9"}(hF||(hF={})),function(t){t[t.E9=0]="E9",t[t.I9=1]="I9",t[t.R9=2]="R9",t[t.N9=3]="N9"}(cF||(cF={}));var wF,gF=function(){function t(){this.D9=0,this.C9=[],this.lE={}}var n=t.prototype;return n.P9=function(t){this.C9=this.C9.concat(t.C9),this.D9+=t.$g},n.O9=function(t,n,i){var e=this.D9,r=i-n;r>0&&(this.C9.push({x9:n,B9:i,L9:r,M9:e,F9:t}),this.D9+=r)},n.Cu=function(t){for(var n=0,i=this.C9;n<i.length;n++){var e=i[n];if(e.M9<=t&&t<e.M9+e.L9)return e.F9[t+e.x9-e.M9]}},n.U9=function(t,n){for(var i=n,e=0,r=this.C9;e<r.length;e++)for(var s=r[e],u=s.B9,o=s.x9;o<u;o+=1,i+=1)t[i]=s.F9[o];return i},n.j9=function(){for(var t=new p(this.D9),n=0,i=0,e=this.C9;i<e.length;i++)for(var r=e[i],s=r.B9,u=r.x9;u<s;u+=1,n+=1)t[n]=r.F9[u];return t},n.ju=function(n){for(var i=new t,e=0,r=this.C9;e<r.length;e++){var s=r[e];i.O9(s.F9,s.x9,s.B9)}return i.lE=n||jr({},this.lE),i},T(t,[{key:"$g",get:function(){return this.D9},set:function(t){var n=this.C9,i=this.D9-t;if(!(t>=this.D9))if(this.D9=t,0!==t)for(var e=n.length-1;e>=0;e-=1){var r=n[e];if(i<=r.L9)return r.B9-=i,r.L9-=i,void(n.length!==e+1&&(n.length=e+1));i-=r.L9}else n.length=0}},{key:"Xi",get:function(){for(var t=new Array(this.D9),n=0,i=0,e=this.C9;i<e.length;i++)for(var r=e[i],s=r.B9,u=r.x9;u<s;u+=1,n+=1)t[n]=r.F9[u];return t}}]),t}();function _F(t,n,i){return i===hF.p9?i:n!==cF.E9&&n!==cF.I9||i!==hF.k9&&i!==hF.b9?t?n===cF.R9?hF.T9:n===cF.N9?hF.A9:hF.p9:hF.S9:hF.b9}function yF(t,n,i,e){var r={byte:i},s=hF.k9,u=[],o=31&vF(n,r,e);r.byte+=1;for(var a=0;a<o;a+=1){var h=vF(n,r,e),c=4&h,f=3&h;s=_F(Boolean(c),f,s);var l=vF(n,r,e),v=vF(n,r,e);u.push({mQ:t,RS:-1,H9:!a,X9:Boolean(c),gs:f,RY:s,V9:l,z9:v})}return u}function mF(t,n,i){var e=vF(t,n,i);if(!m(e))return String.fromCharCode(e)}function pF(t){var n=t.W9,i={byte:t.G9},e=t.q9,r=vF(n,i,e);if(255===r&&(i.byte+=1),181===r){var s=dF(n,i);if(s===wF.Y9||s===wF.Q9){if(s===wF.Q9)if("GA94"!==function(t,n,i){for(var e="",r=i;r>0;)r-=1,e+=mF(t,n);return e}(n,i,4))return;if(3===vF(n,i,e)){s===wF.Y9&&(i.byte+=1);var u=t;return u.J9=i.byte,u}}}}function kF(t){return 4===t.Z9}function bF(t){for(var n=t.filter(kF).map(pF).filter(H),i=[],e=0;e<n.length;e++){var r=n[e];i.push.apply(i,yF(r.K9,r.W9,r.J9,r.q9))}return i}!function(t){t[t.Y9=47]="Y9",t[t.Q9=49]="Q9"}(wF||(wF={}));var AF="und";var TF,SF=[{gi:"Abkhaz",Tb:"\u0410\u04a7\u0441\u0443\u0430",1:"ab",2:"abk","2T":"abk","2B":"abk",3:"abk"},{gi:"Afar",Tb:"Afaraf",1:"aa",2:"aar","2T":"aar","2B":"aar",3:"aar"},{gi:"Afrikaans",Tb:"Afrikaans",1:"af",2:"afr","2T":"afr","2B":"afr",3:"afr"},{gi:"Akan",Tb:"Akan",1:"ak",2:"aka","2T":"aka","2B":"aka",3:"aka"},{gi:"Albanian",Tb:"Shqip",1:"sq",2:"sqi","2T":"sqi","2B":"alb",3:"sqi"},{gi:"Amharic",Tb:"\u12a0\u121b\u122d\u129b",1:"am",2:"amh","2T":"amh","2B":"amh",3:"amh"},{gi:"Arabic",Tb:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",1:"ar",2:"ara","2T":"ara","2B":"ara",3:"ara"},{gi:"Aragonese",Tb:"Aragon\xe9s",1:"an",2:"arg","2T":"arg","2B":"arg",3:"arg"},{gi:"Armenian",Tb:"\u0540\u0561\u0575\u0565\u0580\u0565\u0576",1:"hy",2:"hye","2T":"hye","2B":"arm",3:"hye"},{gi:"Assamese",Tb:"\u0985\u09b8\u09ae\u09c0\u09af\u09bc\u09be",1:"as",2:"asm","2T":"asm","2B":"asm",3:"asm"},{gi:"Avaric",Tb:"\u0410\u0432\u0430\u0440",1:"av",2:"ava","2T":"ava","2B":"ava",3:"ava"},{gi:"Avestan",Tb:"avesta",1:"ae",2:"ave","2T":"ave","2B":"ave",3:"ave"},{gi:"Aymara",Tb:"Aymar",1:"ay",2:"aym","2T":"aym","2B":"aym",3:"aym"},{gi:"Azerbaijani",Tb:"Az\u0259rbaycanca",1:"az",2:"aze","2T":"aze","2B":"aze",3:"aze"},{gi:"Bambara",Tb:"Bamanankan",1:"bm",2:"bam","2T":"bam","2B":"bam",3:"bam"},{gi:"Bashkir",Tb:"\u0411\u0430\u0448\u04a1\u043e\u0440\u0442\u0441\u0430",1:"ba",2:"bak","2T":"bak","2B":"bak",3:"bak"},{gi:"Basque",Tb:"Euskara",1:"eu",2:"eus","2T":"eus","2B":"baq",3:"eus"},{gi:"Belarusian",Tb:"\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0430\u044f",1:"be",2:"bel","2T":"bel","2B":"bel",3:"bel"},{gi:"Bengali",Tb:"\u09ac\u09be\u0982\u09b2\u09be",1:"bn",2:"ben","2T":"ben","2B":"ben",3:"ben"},{gi:"Bihari",Tb:"\u092d\u094b\u091c\u092a\u0941\u0930\u0940",1:"bh",2:"bih","2T":"bih","2B":"bih",3:"bih"},{gi:"Bislama",Tb:"Bislama",1:"bi",2:"bis","2T":"bis","2B":"bis",3:"bis"},{gi:"Bosnian",Tb:"Bosanski",1:"bs",2:"bos","2T":"bos","2B":"bos",3:"bos"},{gi:"Breton",Tb:"Brezhoneg",1:"br",2:"bre","2T":"bre","2B":"bre",3:"bre"},{gi:"Bulgarian",Tb:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",1:"bg",2:"bul","2T":"bul","2B":"bul",3:"bul"},{gi:"Burmese",Tb:"\u1019\u103c\u1014\u103a\u1019\u102c\u1018\u102c\u101e\u102c",1:"my",2:"mya","2T":"mya","2B":"bur",3:"mya"},{gi:"Catalan",Tb:"Catal\xe0",1:"ca",2:"cat","2T":"cat","2B":"cat",3:"cat"},{gi:"Chamorro",Tb:"Chamoru",1:"ch",2:"cha","2T":"cha","2B":"cha",3:"cha"},{gi:"Chechen",Tb:"\u041d\u043e\u0445\u0447\u0438\u0439\u043d",1:"ce",2:"che","2T":"che","2B":"che",3:"che"},{gi:"Chichewa",Tb:"Chichewa",1:"ny",2:"nya","2T":"nya","2B":"nya",3:"nya"},{gi:"Chinese",Tb:"\u4e2d\u6587",1:"zh",2:"zho","2T":"zho","2B":"chi",3:"zho"},{gi:"Chuvash",Tb:"\u0427\u04d1\u0432\u0430\u0448\u043b\u0430",1:"cv",2:"chv","2T":"chv","2B":"chv",3:"chv"},{gi:"Cornish",Tb:"Kernewek",1:"kw",2:"cor","2T":"cor","2B":"cor",3:"cor"},{gi:"Corsican",Tb:"Corsu",1:"co",2:"cos","2T":"cos","2B":"cos",3:"cos"},{gi:"Cree",Tb:"\u14c0\u1426\u1403\u152d\u140d\u140f\u1423",1:"cr",2:"cre","2T":"cre","2B":"cre",3:"cre"},{gi:"Croatian",Tb:"Hrvatski",1:"hr",2:"hrv","2T":"hrv","2B":"hrv",3:"hrv"},{gi:"Czech",Tb:"\u010ce\u0161tina",1:"cs",2:"ces","2T":"ces","2B":"cze",3:"ces"},{gi:"Danish",Tb:"Dansk",1:"da",2:"dan","2T":"dan","2B":"dan",3:"dan"},{gi:"Divehi",Tb:"Divehi",1:"dv",2:"div","2T":"div","2B":"div",3:"div"},{gi:"Dutch",Tb:"Nederlands",1:"nl",2:"nld","2T":"nld","2B":"dut",3:"nld"},{gi:"Dzongkha",Tb:"\u0f62\u0fab\u0f7c\u0f44\u0f0b\u0f41",1:"dz",2:"dzo","2T":"dzo","2B":"dzo",3:"dzo"},{gi:"English",Tb:"English",1:"en",2:"eng","2T":"eng","2B":"eng",3:"eng"},{gi:"Esperanto",Tb:"Esperanto",1:"eo",2:"epo","2T":"epo","2B":"epo",3:"epo"},{gi:"Estonian",Tb:"Eesti",1:"et",2:"est","2T":"est","2B":"est",3:"est"},{gi:"Ewe",Tb:"E\u028begbe",1:"ee",2:"ewe","2T":"ewe","2B":"ewe",3:"ewe"},{gi:"Faroese",Tb:"F\xf8royskt",1:"fo",2:"fao","2T":"fao","2B":"fao",3:"fao"},{gi:"Fijian",Tb:"Na Vosa Vaka-Viti",1:"fj",2:"fij","2T":"fij","2B":"fij",3:"fij"},{gi:"Finnish",Tb:"Suomi",1:"fi",2:"fin","2T":"fin","2B":"fin",3:"fin"},{gi:"French",Tb:"Fran\xe7ais",1:"fr",2:"fra","2T":"fra","2B":"fre",3:"fra"},{gi:"Fula",Tb:"Fulfulde",1:"ff",2:"ful","2T":"ful","2B":"ful",3:"ful"},{gi:"Galician",Tb:"Galego",1:"gl",2:"glg","2T":"glg","2B":"glg",3:"glg"},{gi:"Georgian",Tb:"\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8",1:"ka",2:"kat","2T":"kat","2B":"geo",3:"kat"},{gi:"German",Tb:"Deutsch",1:"de",2:"deu","2T":"deu","2B":"ger",3:"deu"},{gi:"Greek",Tb:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",1:"el",2:"ell","2T":"ell","2B":"gre",3:"ell"},{gi:"Guaran\xed",Tb:"Ava\xf1e'\u1ebd",1:"gn",2:"grn","2T":"grn","2B":"grn",3:"grn"},{gi:"Gujarati",Tb:"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0",1:"gu",2:"guj","2T":"guj","2B":"guj",3:"guj"},{gi:"Haitian",Tb:"Krey\xf2l Ayisyen",1:"ht",2:"hat","2T":"hat","2B":"hat",3:"hat"},{gi:"Hausa",Tb:"\u0647\u064e\u0648\u064f\u0633\u064e",1:"ha",2:"hau","2T":"hau","2B":"hau",3:"hau"},{gi:"Hebrew",Tb:"\u05e2\u05d1\u05e8\u05d9\u05ea",1:"he",2:"heb","2T":"heb","2B":"heb",3:"heb"},{gi:"Herero",Tb:"Otjiherero",1:"hz",2:"her","2T":"her","2B":"her",3:"her"},{gi:"Hindi",Tb:"\u0939\u093f\u0928\u094d\u0926\u0940",1:"hi",2:"hin","2T":"hin","2B":"hin",3:"hin"},{gi:"Hiri Motu",Tb:"Hiri Motu",1:"ho",2:"hmo","2T":"hmo","2B":"hmo",3:"hmo"},{gi:"Hungarian",Tb:"Magyar",1:"hu",2:"hun","2T":"hun","2B":"hun",3:"hun"},{gi:"Interlingua",Tb:"Interlingua",1:"ia",2:"ina","2T":"ina","2B":"ina",3:"ina"},{gi:"Indonesian",Tb:"Bahasa Indonesia",1:"id",2:"ind","2T":"ind","2B":"ind",3:"ind"},{gi:"Interlingue",Tb:"Interlingue",1:"ie",2:"ile","2T":"ile","2B":"ile",3:"ile"},{gi:"Irish",Tb:"Gaeilge",1:"ga",2:"gle","2T":"gle","2B":"gle",3:"gle"},{gi:"Igbo",Tb:"Igbo",1:"ig",2:"ibo","2T":"ibo","2B":"ibo",3:"ibo"},{gi:"Inupiaq",Tb:"I\xf1upiak",1:"ik",2:"ipk","2T":"ipk","2B":"ipk",3:"ipk"},{gi:"Ido",Tb:"Ido",1:"io",2:"ido","2T":"ido","2B":"ido",3:"ido"},{gi:"Icelandic",Tb:"\xcdslenska",1:"is",2:"isl","2T":"isl","2B":"ice",3:"isl"},{gi:"Italian",Tb:"Italiano",1:"it",2:"ita","2T":"ita","2B":"ita",3:"ita"},{gi:"Inuktitut",Tb:"\u1403\u14c4\u1483\u144e\u1450\u1466",1:"iu",2:"iku","2T":"iku","2B":"iku",3:"iku"},{gi:"Japanese",Tb:"\u65e5\u672c\u8a9e",1:"ja",2:"jpn","2T":"jpn","2B":"jpn",3:"jpn"},{gi:"Javanese",Tb:"Basa Jawa",1:"jv",2:"jav","2T":"jav","2B":"jav",3:"jav"},{gi:"Kalaallisut",Tb:"Kalaallisut",1:"kl",2:"kal","2T":"kal","2B":"kal",3:"kal"},{gi:"Kannada",Tb:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",1:"kn",2:"kan","2T":"kan","2B":"kan",3:"kan"},{gi:"Kanuri",Tb:"Kanuri",1:"kr",2:"kau","2T":"kau","2B":"kau",3:"kau"},{gi:"Kashmiri",Tb:"\u0643\u0634\u0645\u064a\u0631\u064a",1:"ks",2:"kas","2T":"kas","2B":"kas",3:"kas"},{gi:"Kazakh",Tb:"\u049a\u0430\u0437\u0430\u049b\u0448\u0430",1:"kk",2:"kaz","2T":"kaz","2B":"kaz",3:"kaz"},{gi:"Khmer",Tb:"\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a",1:"km",2:"khm","2T":"khm","2B":"khm",3:"khm"},{gi:"Kikuyu",Tb:"G\u0129k\u0169y\u0169",1:"ki",2:"kik","2T":"kik","2B":"kik",3:"kik"},{gi:"Kinyarwanda",Tb:"Kinyarwanda",1:"rw",2:"kin","2T":"kin","2B":"kin",3:"kin"},{gi:"Kyrgyz",Tb:"\u041a\u044b\u0440\u0433\u044b\u0437\u0447\u0430",1:"ky",2:"kir","2T":"kir","2B":"kir",3:"kir"},{gi:"Komi",Tb:"\u041a\u043e\u043c\u0438",1:"kv",2:"kom","2T":"kom","2B":"kom",3:"kom"},{gi:"Kongo",Tb:"Kongo",1:"kg",2:"kon","2T":"kon","2B":"kon",3:"kon"},{gi:"Korean",Tb:"\ud55c\uad6d\uc5b4",1:"ko",2:"kor","2T":"kor","2B":"kor",3:"kor"},{gi:"Kurdish",Tb:"Kurd\xee",1:"ku",2:"kur","2T":"kur","2B":"kur",3:"kur"},{gi:"Kwanyama",Tb:"Kuanyama",1:"kj",2:"kua","2T":"kua","2B":"kua",3:"kua"},{gi:"Latin",Tb:"Latina",1:"la",2:"lat","2T":"lat","2B":"lat",3:"lat"},{gi:"Luxembourgish",Tb:"L\xebtzebuergesch",1:"lb",2:"ltz","2T":"ltz","2B":"ltz",3:"ltz"},{gi:"Ganda",Tb:"Luganda",1:"lg",2:"lug","2T":"lug","2B":"lug",3:"lug"},{gi:"Limburgish",Tb:"Limburgs",1:"li",2:"lim","2T":"lim","2B":"lim",3:"lim"},{gi:"Lingala",Tb:"Ling\xe1la",1:"ln",2:"lin","2T":"lin","2B":"lin",3:"lin"},{gi:"Lao",Tb:"\u0e9e\u0eb2\u0eaa\u0eb2\u0ea5\u0eb2\u0ea7",1:"lo",2:"lao","2T":"lao","2B":"lao",3:"lao"},{gi:"Lithuanian",Tb:"Lietuvi\u0173",1:"lt",2:"lit","2T":"lit","2B":"lit",3:"lit"},{gi:"Luba-Katanga",Tb:"Tshiluba",1:"lu",2:"lub","2T":"lub","2B":"lub",3:"lub"},{gi:"Latvian",Tb:"Latvie\u0161u",1:"lv",2:"lav","2T":"lav","2B":"lav",3:"lav"},{gi:"Manx",Tb:"Gaelg",1:"gv",2:"glv","2T":"glv","2B":"glv",3:"glv"},{gi:"Macedonian",Tb:"\u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438",1:"mk",2:"mkd","2T":"mkd","2B":"mac",3:"mkd"},{gi:"Malagasy",Tb:"Malagasy",1:"mg",2:"mlg","2T":"mlg","2B":"mlg",3:"mlg"},{gi:"Malay",Tb:"Bahasa Melayu",1:"ms",2:"msa","2T":"msa","2B":"may",3:"msa"},{gi:"Malayalam",Tb:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02",1:"ml",2:"mal","2T":"mal","2B":"mal",3:"mal"},{gi:"Maltese",Tb:"Malti",1:"mt",2:"mlt","2T":"mlt","2B":"mlt",3:"mlt"},{gi:"M\u0101ori",Tb:"M\u0101ori",1:"mi",2:"mri","2T":"mri","2B":"mao",3:"mri"},{gi:"Marathi",Tb:"\u092e\u0930\u093e\u0920\u0940",1:"mr",2:"mar","2T":"mar","2B":"mar",3:"mar"},{gi:"Marshallese",Tb:"Kajin M\u0327aje\u013c",1:"mh",2:"mah","2T":"mah","2B":"mah",3:"mah"},{gi:"Mongolian",Tb:"\u041c\u043e\u043d\u0433\u043e\u043b",1:"mn",2:"mon","2T":"mon","2B":"mon",3:"mon"},{gi:"Nauru",Tb:"Dorerin Naoero",1:"na",2:"nau","2T":"nau","2B":"nau",3:"nau"},{gi:"Navajo",Tb:"Din\xe9 Bizaad",1:"nv",2:"nav","2T":"nav","2B":"nav",3:"nav"},{gi:"Northern Ndebele",Tb:"isiNdebele",1:"nd",2:"nde","2T":"nde","2B":"nde",3:"nde"},{gi:"Nepali",Tb:"\u0928\u0947\u092a\u093e\u0932\u0940",1:"ne",2:"nep","2T":"nep","2B":"nep",3:"nep"},{gi:"Ndonga",Tb:"Owambo",1:"ng",2:"ndo","2T":"ndo","2B":"ndo",3:"ndo"},{gi:"Norwegian Bokm\xe5l",Tb:"Norsk (Bokm\xe5l)",1:"nb",2:"nob","2T":"nob","2B":"nob",3:"nob"},{gi:"Norwegian Nynorsk",Tb:"Norsk (Nynorsk)",1:"nn",2:"nno","2T":"nno","2B":"nno",3:"nno"},{gi:"Norwegian",Tb:"Norsk",1:"no",2:"nor","2T":"nor","2B":"nor",3:"nor"},{gi:"Nuosu",Tb:"\ua188\ua320\ua4bf Nuosuhxop",1:"ii",2:"iii","2T":"iii","2B":"iii",3:"iii"},{gi:"Southern Ndebele",Tb:"isiNdebele",1:"nr",2:"nbl","2T":"nbl","2B":"nbl",3:"nbl"},{gi:"Occitan",Tb:"Occitan",1:"oc",2:"oci","2T":"oci","2B":"oci",3:"oci"},{gi:"Ojibwe",Tb:"\u140a\u14c2\u1511\u14c8\u142f\u14a7\u140e\u14d0",1:"oj",2:"oji","2T":"oji","2B":"oji",3:"oji"},{gi:"Old Church Slavonic",Tb:"\u0421\u043b\u043e\u0432\u0463\u0301\u043d\u044c\u0441\u043a\u044a",1:"cu",2:"chu","2T":"chu","2B":"chu",3:"chu"},{gi:"Oromo",Tb:"Afaan Oromoo",1:"om",2:"orm","2T":"orm","2B":"orm",3:"orm"},{gi:"Oriya",Tb:"\u0b13\u0b21\u0b3f\u0b3c\u0b06",1:"or",2:"ori","2T":"ori","2B":"ori",3:"ori"},{gi:"Ossetian",Tb:"\u0418\u0440\u043e\u043d \xe6\u0432\u0437\u0430\u0433",1:"os",2:"oss","2T":"oss","2B":"oss",3:"oss"},{gi:"Panjabi",Tb:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40",1:"pa",2:"pan","2T":"pan","2B":"pan",3:"pan"},{gi:"P\u0101li",Tb:"\u092a\u093e\u0934\u093f",1:"pi",2:"pli","2T":"pli","2B":"pli",3:"pli"},{gi:"Persian",Tb:"\u0641\u0627\u0631\u0633\u06cc",1:"fa",2:"fas","2T":"fas","2B":"per",3:"fas"},{gi:"Polish",Tb:"Polski",1:"pl",2:"pol","2T":"pol","2B":"pol",3:"pol"},{gi:"Pashto",Tb:"\u067e\u069a\u062a\u0648",1:"ps",2:"pus","2T":"pus","2B":"pus",3:"pus"},{gi:"Portuguese",Tb:"Portugu\xeas",1:"pt",2:"por","2T":"por","2B":"por",3:"por"},{gi:"Quechua",Tb:"Runa Simi",1:"qu",2:"que","2T":"que","2B":"que",3:"que"},{gi:"Romansh",Tb:"Rumantsch",1:"rm",2:"roh","2T":"roh","2B":"roh",3:"roh"},{gi:"Kirundi",Tb:"Kirundi",1:"rn",2:"run","2T":"run","2B":"run",3:"run"},{gi:"Romanian",Tb:"Rom\xe2n\u0103",1:"ro",2:"ron","2T":"ron","2B":"rum",3:"ron"},{gi:"Russian",Tb:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",1:"ru",2:"rus","2T":"rus","2B":"rus",3:"rus"},{gi:"Sanskrit",Tb:"\u0938\u0902\u0938\u094d\u0915\u0943\u0924\u092e\u094d",1:"sa",2:"san","2T":"san","2B":"san",3:"san"},{gi:"Sardinian",Tb:"Sardu",1:"sc",2:"srd","2T":"srd","2B":"srd",3:"srd"},{gi:"Sindhi",Tb:"\u0633\u0646\u068c\u064a\u200e",1:"sd",2:"snd","2T":"snd","2B":"snd",3:"snd"},{gi:"Northern Sami",Tb:"S\xe1megiella",1:"se",2:"sme","2T":"sme","2B":"sme",3:"sme"},{gi:"Samoan",Tb:"Gagana S\u0101moa",1:"sm",2:"smo","2T":"smo","2B":"smo",3:"smo"},{gi:"Sango",Tb:"S\xe4ng\xf6",1:"sg",2:"sag","2T":"sag","2B":"sag",3:"sag"},{gi:"Serbian",Tb:"\u0421\u0440\u043f\u0441\u043a\u0438",1:"sr",2:"srp","2T":"srp","2B":"srp",3:"srp"},{gi:"Gaelic",Tb:"G\xe0idhlig",1:"gd",2:"gla","2T":"gla","2B":"gla",3:"gla"},{gi:"Shona",Tb:"ChiShona",1:"sn",2:"sna","2T":"sna","2B":"sna",3:"sna"},{gi:"Sinhala",Tb:"\u0dc3\u0dd2\u0d82\u0dc4\u0dbd",1:"si",2:"sin","2T":"sin","2B":"sin",3:"sin"},{gi:"Slovak",Tb:"Sloven\u010dina",1:"sk",2:"slk","2T":"slk","2B":"slo",3:"slk"},{gi:"Slovene",Tb:"Sloven\u0161\u010dina",1:"sl",2:"slv","2T":"slv","2B":"slv",3:"slv"},{gi:"Somali",Tb:"Soomaaliga",1:"so",2:"som","2T":"som","2B":"som",3:"som"},{gi:"Southern Sotho",Tb:"Sesotho",1:"st",2:"sot","2T":"sot","2B":"sot",3:"sot"},{gi:"Spanish",Tb:"Espa\xf1ol",1:"es",2:"spa","2T":"spa","2B":"spa",3:"spa"},{gi:"Sundanese",Tb:"Basa Sunda",1:"su",2:"sun","2T":"sun","2B":"sun",3:"sun"},{gi:"Swahili",Tb:"Kiswahili",1:"sw",2:"swa","2T":"swa","2B":"swa",3:"swa"},{gi:"Swati",Tb:"SiSwati",1:"ss",2:"ssw","2T":"ssw","2B":"ssw",3:"ssw"},{gi:"Swedish",Tb:"Svenska",1:"sv",2:"swe","2T":"swe","2B":"swe",3:"swe"},{gi:"Tamil",Tb:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd",1:"ta",2:"tam","2T":"tam","2B":"tam",3:"tam"},{gi:"Telugu",Tb:"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41",1:"te",2:"tel","2T":"tel","2B":"tel",3:"tel"},{gi:"Tajik",Tb:"\u0422\u043e\u04b7\u0438\u043a\u04e3",1:"tg",2:"tgk","2T":"tgk","2B":"tgk",3:"tgk"},{gi:"Thai",Tb:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",1:"th",2:"tha","2T":"tha","2B":"tha",3:"tha"},{gi:"Tigrinya",Tb:"\u1275\u130d\u122d\u129b",1:"ti",2:"tir","2T":"tir","2B":"tir",3:"tir"},{gi:"Tibetan Standard",Tb:"\u0f56\u0f7c\u0f51\u0f0b\u0f61\u0f72\u0f42",1:"bo",2:"bod","2T":"bod","2B":"tib",3:"bod"},{gi:"Turkmen",Tb:"T\xfcrkmen\xe7e",1:"tk",2:"tuk","2T":"tuk","2B":"tuk",3:"tuk"},{gi:"Tagalog",Tb:"Tagalog",1:"tl",2:"tgl","2T":"tgl","2B":"tgl",3:"tgl"},{gi:"Tswana",Tb:"Setswana",1:"tn",2:"tsn","2T":"tsn","2B":"tsn",3:"tsn"},{gi:"Tonga",Tb:"faka Tonga",1:"to",2:"ton","2T":"ton","2B":"ton",3:"ton"},{gi:"Turkish",Tb:"T\xfcrk\xe7e",1:"tr",2:"tur","2T":"tur","2B":"tur",3:"tur"},{gi:"Tsonga",Tb:"Xitsonga",1:"ts",2:"tso","2T":"tso","2B":"tso",3:"tso"},{gi:"Tatar",Tb:"\u0422\u0430\u0442\u0430\u0440\u0447\u0430",1:"tt",2:"tat","2T":"tat","2B":"tat",3:"tat"},{gi:"Twi",Tb:"Twi",1:"tw",2:"twi","2T":"twi","2B":"twi",3:"twi"},{gi:"Tahitian",Tb:"Reo M\u0101\u2019ohi",1:"ty",2:"tah","2T":"tah","2B":"tah",3:"tah"},{gi:"Uyghur",Tb:"\u0626\u06c7\u064a\u063a\u06c7\u0631\u0686\u0647",1:"ug",2:"uig","2T":"uig","2B":"uig",3:"uig"},{gi:"Ukrainian",Tb:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",1:"uk",2:"ukr","2T":"ukr","2B":"ukr",3:"ukr"},{gi:"Urdu",Tb:"\u0627\u0631\u062f\u0648",1:"ur",2:"urd","2T":"urd","2B":"urd",3:"urd"},{gi:"Uzbek",Tb:"O\u2018zbek",1:"uz",2:"uzb","2T":"uzb","2B":"uzb",3:"uzb"},{gi:"Venda",Tb:"Tshiven\u1e13a",1:"ve",2:"ven","2T":"ven","2B":"ven",3:"ven"},{gi:"Vietnamese",Tb:"Ti\u1ebfng Vi\u1ec7t",1:"vi",2:"vie","2T":"vie","2B":"vie",3:"vie"},{gi:"Volap\xfck",Tb:"Volap\xfck",1:"vo",2:"vol","2T":"vol","2B":"vol",3:"vol"},{gi:"Walloon",Tb:"Walon",1:"wa",2:"wln","2T":"wln","2B":"wln",3:"wln"},{gi:"Welsh",Tb:"Cymraeg",1:"cy",2:"cym","2T":"cym","2B":"wel",3:"cym"},{gi:"Wolof",Tb:"Wolof",1:"wo",2:"wol","2T":"wol","2B":"wol",3:"wol"},{gi:"Western Frisian",Tb:"Frysk",1:"fy",2:"fry","2T":"fry","2B":"fry",3:"fry"},{gi:"Xhosa",Tb:"isiXhosa",1:"xh",2:"xho","2T":"xho","2B":"xho",3:"xho"},{gi:"Yiddish",Tb:"\u05d9\u05d9\u05b4\u05d3\u05d9\u05e9",1:"yi",2:"yid","2T":"yid","2B":"yid",3:"yid"},{gi:"Yoruba",Tb:"Yor\xf9b\xe1",1:"yo",2:"yor","2T":"yor","2B":"yor",3:"yor"},{gi:"Zhuang",Tb:"Cuengh",1:"za",2:"zha","2T":"zha","2B":"zha",3:"zha"},{gi:"Zulu",Tb:"isiZulu",1:"zu",2:"zul","2T":"zul","2B":"zul",3:"zul"}],EF=[128,64,32,16,8,4,2,1];function IF(t,n){var i=g.floor(n.bit/8),e=0==((lF(t)?t.Cu(i):t[i])&EF[n.bit%8])?0:1;return n.bit+=1,e}function RF(t,n,i){for(var e=0,r=i;r>0;)r-=1,e=2*e+IF(t,n);return e}function NF(t,n){for(var i=0;0===IF(t,n)&&i<32;)i+=1;return RF(t,n,i)+g.pow(2,i)-1}function DF(t,n){var i=NF(t,n);return 1&i?g.floor((i+1)/2):-g.floor(i/2)}function CF(t,n){var i,e=[],r={byte:1};do{e.push(OF(t,n,r)),i=n.Cu(r.byte)}while(void 0!==i&&128!==i);return e}function PF(t,n){var i,e=0;do{e+=i=vF(t,n)}while(255===i);return e}function OF(t,n,i){var e=PF(n,i),r=PF(n,i),s=i.byte,u=s+r;return i.byte=u,{K9:t,Z9:e,ttt:r,G9:s,q9:u,W9:n}}!function(t){t[t.ntt=1]="ntt",t[t.itt=2]="itt",t[t.ett=3]="ett",t[t.rtt=4]="rtt",t[t.stt=5]="stt",t[t.utt=6]="utt",t[t.ott=7]="ott",t[t.att=8]="att",t[t.htt=9]="htt"}(TF||(TF={}));var xF=[void 0,[1,1],[12,11],[10,11],[16,11],[40,33],[24,11],[20,11],[32,11],[80,33],[18,11],[15,11],[64,33],[160,99],[4,3],[3,2],[2,1]];function BF(t,n,i){for(var e=8,r=8,s=0;s<i;s+=1){if(0!==r)r=(e+DF(t,n)+256)%256;e=0===r?e:r}}var LF=function(){function t(t){this.ctt=void 0,this.ftt=[],this.ltt=0,this.ctt=t}var n=t.prototype;return n.dtt=function(){for(var t=this.ftt,n=g.max(0,this.ltt+t.length-2),i=this.ctt,e=i.$g,r=0;n<e;n+=1){var s=i.Cu(n);0===s?r+=1:(3===s&&r>=2&&t.push(n),r=0)}this.ltt=n-t.length},n.wtt=function(t){for(var n=this.ftt,i=t,e=0;e<n.length;e++){if(!(n[e]<=i))return i;i+=1}return i},n.Cu=function(t){if(!(t>this.ctt.$g))return t>this.ltt&&this.dtt(),this.ctt.Cu(this.wtt(t))},t}();var MF=24;function FF(t){var n=t.ZH,i=new gF;return i.O9(qo(n),0,n.length),function(t){var n,i,e,r,s,u,o=new LF(t),a=0,h=0,c=0,f=0,l=o.Cu(1),v={bit:32};if(NF(o,v),100===l||110===l||122===l||144===l){var d=NF(o,v);if(3===d&&(n=IF(o,v)),NF(o,v),NF(o,v),IF(o,v),1===IF(o,v))for(var w=0;w<(3!==d?8:12);w+=1)1===IF(o,v)&&BF(o,v,w<6?16:64)}var _=NF(o,v),y=NF(o,v);if(0===y)NF(o,v);else if(1===y){IF(o,v),DF(o,v),DF(o,v);for(var m=NF(o,v),p=0;p<m;p+=1)DF(o,v)}NF(o,v),IF(o,v);var k=NF(o,v),b=NF(o,v),A=IF(o,v);if(0===A&&IF(o,v),IF(o,v),1===IF(o,v)&&(a=NF(o,v),h=NF(o,v),c=NF(o,v),f=NF(o,v)),1===IF(o,v)){if(1===IF(o,v)){var T=RF(o,v,8);if(255===T)i=RF(o,v,16),e=RF(o,v,16);else{var S=xF[T];S&&(i=S[0],e=S[1])}}1===IF(o,v)&&IF(o,v),1===IF(o,v)&&(RF(o,v,3),IF(o,v),1===IF(o,v)&&(RF(o,v,8),RF(o,v,8),RF(o,v,8))),1===IF(o,v)&&(NF(o,v),NF(o,v)),1===(r=IF(o,v))&&(s=RF(o,v,32),u=RF(o,v,32),IF(o,v))}return{width:g.floor(16*(k+1)-2*a-2*h),height:g.floor((2-A)*(b+1)*16-2*c-2*f),yS:i,mS:e,gtt:!!r&&u/(2*s),_tt:n,ytt:_}}(i).gtt}function UF(t){var n=FF(t)||MF;return t.mtt/n}function jF(t){return t.gs===Sp.Jb}var HF,XF=65536;function VF(t,n,i,e,r){for(var s,u=function(t,n,i,e){var r=i.mtt,s=lt.fromNumber(t.HS||0),u=e.Xm(mp.Kp(s,r));return{ptt:e.Lp(),ktt:e,btt:u,Att:e}}(t,0,i,e),o=mp.nk(t.uy||0,i.mtt),a=t.zA||0,h=!(a&XF)&&(a>>24&3)!==HF.SAMPLE_DEPENDS_ON_OTHERS,c=Go(r),f=new Ko;f.Lu<c.byteLength;){var l=bo(c,f);if((31&mo(c,f,1))===TF.utt){var v,d=new gF;d.O9(r,f.Lu-1,f.Lu+l-1);var w=CF(u.btt,d);(v=s=s||[]).push.apply(v,bF(w))}f.Mu(l-1)}return jr({},u,{uy:o.Lp(),Ttt:o,Stt:u.btt.Lp(),Ett:u.ptt,Itt:h,Rtt:s,Ntt:!1,Dtt:!1})}function zF(t){return t.gs===Sp.Sb}!function(t){t[t.SAMPLE_DEPENDS_ON_UNKNOWN=0]="SAMPLE_DEPENDS_ON_UNKNOWN",t[t.SAMPLE_DEPENDS_ON_OTHERS=1]="SAMPLE_DEPENDS_ON_OTHERS",t[t.SAMPLE_DEPENDS_ON_NO_OTHER=2]="SAMPLE_DEPENDS_ON_NO_OTHER",t[t.SAMPLE_DEPENDS_ON_RESERVED=3]="SAMPLE_DEPENDS_ON_RESERVED"}(HF||(HF={}));var WF=function(t){function n(n,i,e){return t.call(this,n,i,e,!1)||this}return E(n,t),n}(Km),GF=function(){function t(t,n){this.CQ=t,this.yQ=n}return t.prototype.Sp=function(t){return this.CQ===t.CQ&&this.yQ===t.yQ},t}(),qF=function(){function t(t,n){this.Ctt="",this.SF=t,this.Ptt=n}var n=t.prototype;return n.Ott=function(t){this.Ctt+=t},n.xtt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Ott(i)}},T(t,[{key:"HQ",get:function(){return this.Ctt}},{key:"LQ",get:function(){return[this]}},{key:"UQ",get:function(){return this.SF}},{key:"VQ",get:function(){return this.Ptt}},{key:"XQ",get:function(){return new GF(this.VQ.CQ,this.VQ.yQ+this.HQ.length-1)}}]),t}(),$F=function(){function t(){}var n=t.prototype;return n.Btt=function(t){return t.hb(this)},n.Ltt=function(t){var n,i,e=this,r=t.map(function(t,n){return t.hb(e,n)});return n=r,(i=[]).concat.apply(i,n)},n.Mtt=function(t,n){return new YF(t,n).Ftt()},t}(),YF=function(){function t(t,n){this.Utt=[],this.jtt=null,this.CQ=t,this.Htt=n}var n=t.prototype;return n.Ftt=function(){if(this.Xtt)return[];for(var t=0;t<this.CQ.length;t++)this.Vtt(t);return this.ztt(),this.Utt},n.Wtt=function(t){this.jtt=new qF(sx,new GF(this.Htt,t))},n.ztt=function(){this.jtt&&(this.Utt.push(this.jtt),this.jtt=null)},n.Vtt=function(t){var n=this.CQ[t];QF(n)?this.jtt&&this.ztt():(this.jtt||this.Wtt(t),this.jtt.Ott(n))},T(t,[{key:"Xtt",get:function(){return this.CQ.every(QF)}}]),t}();function QF(t){return null==t}var JF=function(){function t(){}return t.Gtt=function(t,n,i){if(!(n>=i)){var e=tu(t,function(t,n){return new YF(t.map(function(t){return t?t.qtt():null}),n).Ftt()});if(0!==e.length)return new WF(n,i,e)}},t}(),ZF="black",KF="white",tU=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{}),nU=function(){function t(){this.$tt=[],this.Ytt=0,this.Qtt=void 0;for(var t=0;t<hx;t++)this.$tt.push(null);this.Qtt=!1}var n=t.prototype;return n.Jtt=function(t){for(var n=0;n<hx;n++)t&&(this.$tt[n]=t.$tt[n])},n.Sp=function(t){for(var n=0;n<hx;n++)if(this.$tt[n]!==t.$tt[n])return!1;return!0},n.Ztt=function(){for(var t=0;t<hx;t++)if(null!==this.$tt[t])return!1;return!0},n.Ktt=function(t){this.Ytt!==t&&(this.Ytt=t),this.Ytt<0?this.Ytt=0:this.Ytt>hx&&(this.Ytt=hx-1)},n.tnt=function(t){var n=this.Ytt+t;this.Ktt(n)},n.nnt=function(){this.tnt(-1),this.$tt[this.Ytt]=null},n.Ott=function(t){t>=144&&this.nnt();var n,i=tU[n=t]?String.fromCharCode(tU[n]):String.fromCharCode(n);this.addParsedChar(i)},n.addParsedChar=function(t){this.Ytt>=hx||(32===Number(t)?(this.$tt[this.Ytt]=this.Qtt?"</i>":"<i>",this.Qtt=!this.Qtt):this.$tt[this.Ytt]=t,this.tnt(1))},n.int=function(t){for(var n=t;n<hx;n++)this.$tt[n]=null},n.xu=function(){this.int(0),this.Ytt=0},n.ent=function(){this.int(this.Ytt)},n.rnt=function(t,n){for(var i=this.$tt,e=null,r=0;r<hx;r++){var s=i[r];null===s?e=null:(e||(e={snt:r,unt:t,xp:0,bT:1,$tt:[[]]},n.push(e)),e.$tt[0].push(s),e.xp++)}},n.hb=function(t,n){return t.Mtt(this.$tt,n)},t}();var iU,eU=function(){function t(t,n){this.ont=void 0,this.ant=void 0,this.hnt=void 0,this.cnt=void 0,this.fnt=void 0,this.lnt=void 0,this.vnt=void 0,this.dnt=void 0,this.wnt=void 0,this.ont=new Array(rU+1);for(var i=0;i<=rU;i++)this.ont[i]=new nU;this.ant=1,this.hnt=0,this.cnt=t,this.fnt=n,this.lnt=!1,this.vnt=!1,this.dnt=KF,this.wnt=ZF,this.wc()}var n=t.prototype;return n.gnt=function(t,n){var i="CC"+(this.cnt<<1|this.fnt+1);if(t>=n)return null;var e=(new $F).Ltt(this.ont.slice(1));return 0===e.length?null:{sp:new WF(t,n,e),Wv:i,_nt:this.cnt<<1|this.fnt+1}},n.wc=function(){this.ynt(),this.ant=1},n.mnt=function(){return this.ant},n.pnt=function(t){this.ant=t},n.Ktt=function(t){this.ont[this.ant].Ktt(t)},n.tnt=function(t){this.ont[this.ant].tnt(t)},n.knt=function(){return this.hnt},n.bnt=function(t){this.hnt=t},n.Ott=function(t,n){if(!(n<32||n>127)){var i="";switch(t){case iU.Ant:i=void 0!==uU[n]?uU[n]:String.fromCharCode(n);break;case iU.Tnt:i=oU[n];break;case iU.Snt:this.Ent(),i=aU[n];break;case iU.Int:this.Ent(),i=hU[n]}i&&this.ont[this.ant].addParsedChar(i)}},n.Ent=function(){this.ont[this.ant].nnt()},n.Rnt=function(t,n,i){if(t>=n)for(var e=i-1;e>=0;e--)this.ont[t+e]=this.ont[n+e];else for(var r=0;r<i;r++)this.ont[t+r]=this.ont[n+r]},n.Nnt=function(t,n){for(var i=0;i<=n;i++)this.ont[t+i]=new nU},n.ynt=function(){this.Nnt(0,rU)},n.Dnt=function(){this.ant=this.hnt>0?this.hnt:0,this.ynt()},n.Cnt=function(t){this.lnt=t},n.Pnt=function(t){this.vnt=t},n.Ont=function(t){this.dnt=t},n.xnt=function(t){this.wnt=t},t}(),rU=15;!function(t){t[t.Ant=0]="Ant",t[t.Tnt=1]="Tnt",t[t.Snt=2]="Snt",t[t.Int=3]="Int"}(iU||(iU={}));var sU,uU={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},oU={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},aU={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},hU={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"},cU=function(){function t(t,n){this.zi=void 0,this.Bnt=void 0,this.Lnt=void 0,this.Mnt=void 0,this.Fnt=void 0,this.Unt=void 0,this.jnt=void 0,this.Hnt=void 0,this.zi=sU.PD,this.Bnt=new eU(t,n),this.Lnt=new eU(t,n),this.Mnt=new eU(t,n),this.Fnt=this.Lnt,this.Unt=0,this.jnt=void 0,this.Hnt=!1}var n=t.prototype;return n.wc=function(){this.Hnt=!0,this.Unt=0,this.zi=sU.PD,this.Fnt=this.Lnt,this.jnt=void 0,this.Lnt.wc(),this.Mnt.wc(),this.Bnt.wc()},n.Xnt=function(t,n){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|n>>5&1]},n.Vnt=function(t,n){var i=this.Xnt(t,n),e=(30&n)>>1,r=KF,s=!1;e<7?r=dU[e]:7===e&&(s=!0);var u=1==(1&n);if(this.zi!==sU.Kn){var o=this.Fnt;if(this.zi===sU.znt&&i!==o.mnt()){var a=1+o.mnt()-o.knt(),h=1+i-o.knt();o.Rnt(h,a,o.knt()),o.Nnt(0,h-1),o.Nnt(i+1,rU-i)}o.pnt(i);var c=ox[t<<1&14|n>>5&1]-1;if(!(c<0)){var f=function(t,n){var i=n>95?n-96:n-64;return{_Q:ux[i]._Q,gQ:ux[i].gQ,yQ:ux[i].yQ,CQ:t}}(c,n);o.Ktt(f.yQ),this.Fnt.Cnt(u),this.Fnt.Pnt(s),this.Fnt.Ont(r),this.Fnt.xnt(ZF)}}},n.Wnt=function(t,n){this.Fnt.Cnt(!1),this.Fnt.Pnt(!1),this.Fnt.Ont(KF);var i=this.Gnt(t,iU.Ant," ".charCodeAt(0)),e=KF,r=!1,s=1==(1&n);return"white_italics"===(e=dU[(14&n)>>1])&&(e="white",r=!0),this.Fnt.Cnt(s),this.Fnt.Pnt(r),this.Fnt.Ont(e),i},n.Gnt=function(t,n,i){if(this.Fnt.Ott(n,i),this.zi===sU.qnt||this.zi===sU.znt){var e=this.$nt(this.Fnt,this.Unt,t);return this.Unt=t,e}return null},n.$nt=function(t,n,i){return this.Hnt?null:t.gnt(n,i)},n.Ynt=function(t,n){var i=ZF;0==(7&t)&&(i=vU[(14&n)>>1]),this.Fnt.xnt(i)},n.Qnt=function(t){var n=fU,i=t.Jnt,e=t.Znt,r=null;switch(i){case n.RCL:this.Knt();break;case n.BS:this.tit();break;case n.AOD:case n.AON:case n.DER:break;case n.RU2:r=this.nit(2,e);break;case n.RU3:r=this.nit(3,e);break;case n.RU4:r=this.nit(4,e);break;case n.FON:r=this.iit(e);break;case n.RDC:this.eit(e);break;case n.TR:this.rit();break;case n.RTD:this.sit();break;case n.EDM:r=this.uit(e);break;case n.CR:r=this.oit(e);break;case n.ENM:this.ait();break;case n.EOC:r=this.hit(e)}return r},n.oit=function(t){var n=this.Fnt;if(this.zi!==sU.znt)return null;var i=this.$nt(n,this.Unt,t),e=n.mnt()-n.knt()+1;return n.Rnt(e-1,e,n.knt()),n.Nnt(0,e-1),n.Nnt(n.mnt(),rU-n.mnt()),this.Unt=t,i},n.nit=function(t,n){this.Fnt=this.Lnt;var i=this.Fnt,e=null;return this.zi!==sU.znt&&this.zi!==sU.Kn&&(e=this.$nt(i,this.Unt,n),this.Lnt.Dnt(),this.Mnt.Dnt(),this.Hnt=!1,i.pnt(rU)),this.zi=sU.znt,i.bnt(t),e},n.iit=function(t){return this.Gnt(t,iU.Ant," ".charCodeAt(0))},n.uit=function(t){var n=this.Lnt,i=null;return this.zi!==sU.Kn&&(i=this.$nt(n,this.Unt,t)),n.ynt(),this.Hnt=!1,i},n.eit=function(t){this.zi=sU.qnt,this.Fnt=this.Lnt,this.Fnt.bnt(0),this.Unt=t},n.ait=function(){this.Mnt.ynt()},n.hit=function(t){var n=null;this.zi!==sU.Kn&&(n=this.$nt(this.Lnt,this.Unt,t));var i=this.Mnt;return this.Mnt=this.Lnt,this.Lnt=i,this.Knt(),this.Unt=t,n},n.Knt=function(){this.zi=sU.cit,this.Fnt=this.Mnt,this.Fnt.bnt(0)},n.tit=function(){this.Fnt.Ent()},n.rit=function(){this.Bnt.wc(),this.Hnt=!1,this.sit()},n.sit=function(){this.Fnt=this.Bnt,this.zi=sU.Kn},n.fit=function(t,n,i){return this.Fnt.Ott(iU.Ant,n),this.Gnt(t,iU.Ant,i)},n.vit=function(t,n,i){var e=1&n?iU.Int:iU.Snt;return this.Gnt(t,e,i)},n.dit=function(t){var n=t.wit,i=t.Jnt,e=t.Znt;if(this.jnt===(n<<8|i))return this.jnt=void 0,null;if(this.jnt=n<<8|i,this.git(n,i))this.Vnt(n,i);else{if(this._it(n,i))return this.Wnt(e,i);if(this.yit(n,i))this.Ynt(n,i);else{if(this.mit(n,i))return this.Gnt(e,iU.Tnt,i);if(this.pit(n,i))return this.vit(e,n,i);if(this.kit(n,i))return this.Qnt(t);this.isTabOffset(n)&&this.Fnt.tnt(i-32)}}return null},n.isTabOffset=function(t){return 23===t||31===t},n.kit=function(t,n){return 20==(246&t)&&32==(240&n)},n.git=function(t,n){return 16==(240&t)&&64==(192&n)},n._it=function(t,n){return 17==(247&t)&&32==(240&n)},n.yit=function(t,n){return 16==(247&t)&&32==(240&n)||23==(247&t)&&45==(255&n)},n.mit=function(t,n){return 17==(247&t)&&48==(240&n)},n.pit=function(t,n){return 18==(246&t)&&32==(224&n)},t.Ait=function(t){return 16==(112&t)},t}(),fU={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47};!function(t){t[t.PD=0]="PD",t[t.cit=1]="cit",t[t.qnt=2]="qnt",t[t.znt=3]="znt",t[t.Kn=4]="Kn"}(sU||(sU={}));var lU,vU=["black","green","blue","cyan","red","yellow","magenta","black"],dU=["white","green","blue","cyan","red","yellow","magenta","white_italics"],wU=function(){function t(t,n,i,e,r){this.Tit=void 0,this.lnt=void 0,this.vnt=void 0,this.wnt=void 0,this.dnt=void 0,this.Tit=t,this.lnt=n,this.vnt=i,this.wnt=e,this.dnt=r}var n=t.prototype;return n.qtt=function(){return this.Tit},n.Sit=function(){return this.lnt},n.Eit=function(){return this.vnt},n.Iit=function(){return this.wnt},n.Rit=function(){return this.dnt},t}(),gU=function(){function t(t){this.Nit=void 0,this.FD=void 0,this.Dit=void 0,this.Cit=void 0,this.Pit=void 0,this.Oit=void 0,this.xit=void 0,this.Bit=void 0,this.Lit=void 0,this.Mit=void 0,this.yp=void 0,this.ant=void 0,this.Fit=void 0,this.vnt=void 0,this.lnt=void 0,this.dnt=void 0,this.wnt=void 0,this.Nit=t,this.FD=!1,this.Dit=!1,this.Cit=0,this.Pit=0,this.Oit=0,this.xit=0,this.Bit=0,this.Lit=lU.Uit,this.Mit=[],this.yp=0,this.ant=0,this.Fit=0,this.vnt=!1,this.lnt=!1,this.dnt=KF,this.wnt=ZF,this.jit()}var n=t.prototype;return n.Hit=function(t,n,i,e,r,s,u){this.FD=t,this.Pit=n,this.Cit=i,this.Oit=e,this.Dit=r,this.xit=s,this.Bit=u},n.jit=function(){this.Mit=[];for(var t=0;t<yU;t++)this.Mit.push(this.Xit())},n.Xit=function(){for(var t=[],n=0;n<_U;n++)t.push(null);return t},n.Vit=function(t){this.zit()&&(this.Mit[this.ant][this.Fit]=new wU(t,this.lnt,this.vnt,this.wnt,this.dnt),this.Fit++)},n.Wit=function(){this.zit()&&(this.Fit<=0&&this.ant<=0||(this.Fit<=0?(this.Fit=this.Bit-1,this.ant--):this.Fit--,this.Mit[this.ant][this.Fit]=null))},n.zit=function(){var t=this.ant<this.xit&&this.ant>=0,n=this.Fit<this.Bit&&this.Fit>=0;return t&&n},n.Git=function(){return this.FD},n.qit=function(t){for(var n=0,i=t;i<yU;i++,n++)this.Mit[n]=this.Mit[i];for(var e=0;e<t;e++,n++)this.Mit[n]=this.Xit()},n.$it=function(){if(this.ant+1>=this.xit)return this.qit(1),void(this.Fit=0);this.ant++,this.Fit=0},n.Yit=function(){this.Mit[this.ant]=this.Xit(),this.Fit=0},n.gnt=function(t,n){if(this.yp>=t)return null;var i=JF.Gtt(this.Mit,this.yp,t);return i?(this.Qit(t),{sp:i,Wv:"svc"+n,_nt:n}):null},n.Jit=function(t,n){this.ant=t,this.Fit=n},n.Zit=function(t){this.wnt=t},n.Kit=function(t){this.dnt=t},n.tet=function(t){this.lnt=t},n.net=function(t){this.vnt=t},n.iet=function(){this.ant=0,this.Fit=0,this.lnt=!1,this.vnt=!1,this.dnt=KF,this.wnt=ZF},n.eet=function(t){this.Lit=t},n.ret=function(){this.FD=!0},n.vm=function(){this.FD=!1},n.uet=function(){this.FD=!this.FD},n.Qit=function(t){this.yp=t},t}();!function(t){t[t.oet=0]="oet",t[t.aet=1]="aet",t[t.Uit=2]="Uit",t[t.het=3]="het"}(lU||(lU={}));var _U=42,yU=15,mU=function(){function t(t){this.cet=void 0,this.fet=void 0,this.let=void 0,this.cet=t,this.fet=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.let=void 0}var n=t.prototype;return n.vet=function(t){var n=t.det(),i=n.Ti,e=n.Znt;i===TU&&(i=i<<16|t.det().Ti);return i>=0&&i<=31?this.wet(i,e):i>=128&&i<=159?this._et(t,i,e):(i>=4096&&i<=4127?this.yet(t,255&i):i>=4224&&i<=4255?this.met(t,255&i):i>=32&&i<=127?this.pet(i):i>=160&&i<=255?this.ket(i):i>=4128&&i<=4223?this.bet(255&i):i>=4256&&i<=4351&&this.Aet(255&i),null)},n.pet=function(t){this.let&&(127!==t?this.let.Vit(String.fromCharCode(t)):this.let.Vit("\u266a"))},n.ket=function(t){this.let&&this.let.Vit(String.fromCharCode(t))},n.bet=function(t){if(this.let)if(void 0!==SU[t]){var n=SU[t];this.let.Vit(n)}else this.let.Vit("_")},n.Aet=function(t){this.let&&(160===t?this.let.Vit("[CC]"):this.let.Vit("_"))},n.wet=function(t,n){if(!this.let)return null;var i=this.let,e=null;switch(t){case pU:i.Wit();break;case bU:i.Git()&&(e=i.gnt(n,this.cet)),i.$it();break;case AU:i.Git()&&(e=i.gnt(n,this.cet)),i.Yit();break;case kU:i.Git()&&(e=i.gnt(n,this.cet)),i.jit(),i.Jit(0,0)}return e},n._et=function(t,n,i){if(n>=128&&n<=135){var e=7&n;this.Tet(e)}else{if(136===n){var r=t.det().Ti;return this.Eet(r,i)}if(137===n){var s=t.det().Ti;this.Iet(s,i)}else{if(138===n){var u=t.det().Ti;return this.Ret(u,i)}if(139===n){var o=t.det().Ti;return this.Net(o,i)}if(140===n){var a=t.det().Ti;return this.Det(a,i)}if(143===n)return this.wc(i);if(144===n)this.Cet(t);else if(145===n)this.Pet(t);else if(146===n)this.Jit(t);else if(151===n)this.Oet(t);else if(n>=152&&n<=159){var h=(15&n)-8;this.Hit(t,h,i)}}}return null},n.yet=function(t,n){n>=8&&n<=15?t.IA(1):n>=16&&n<=23?t.IA(2):n>=24&&n<=31&&t.IA(3)},n.met=function(t,n){n>=128&&n<=135?t.IA(4):n>=136&&n<=143&&t.IA(5)},n.Tet=function(t){this.fet[t]&&(this.let=this.fet[t])},n.xet=Ur.mark(function t(n){var i;return Ur.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<8)){t.next=10;break}if(!(1==(1&n))||!this.fet[i]){t.next=6;break}return t.next=6,i;case 6:n>>=1;case 7:i++,t.next=1;break;case 10:case"end":return t.stop()}},t,this)}),n.Eet=function(t,n){for(var i=null,e=0,r=this.xet(t);e<r.length;e++){var s=r[e],u=this.fet[s];u.Git()&&(i=u.gnt(n,this.cet)),u.jit()}return i},n.Iet=function(t,n){for(var i=0,e=this.xet(t);i<e.length;i++){var r=e[i],s=this.fet[r];s.Git()||s.Qit(n),s.ret()}},n.Ret=function(t,n){for(var i=null,e=0,r=this.xet(t);e<r.length;e++){var s=r[e],u=this.fet[s];u.Git()&&(i=u.gnt(n,this.cet)),u.vm()}return i},n.Net=function(t,n){for(var i=null,e=0,r=this.xet(t);e<r.length;e++){var s=r[e],u=this.fet[s];u.Git()?i=u.gnt(n,this.cet):u.Qit(n),u.uet()}return i},n.Det=function(t,n){for(var i=null,e=0,r=this.xet(t);e<r.length;e++){var s=r[e],u=this.fet[s];u.Git()&&(i=u.gnt(n,this.cet)),this.fet[s]=void 0}return i},n.wc=function(t){var n=this.Det(255,t);return this.xu(),n},n.xu=function(){this.let=void 0,this.fet=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]},n.Cet=function(t){t.IA(1);var n=t.det().Ti;if(this.let){var i=(128&n)>0,e=(64&n)>0;this.let.net(i),this.let.tet(e)}},n.Pet=function(t){var n=t.det().Ti,i=t.det().Ti;if(t.IA(1),this.let){var e=3&n,r=(12&n)>>2,s=(48&n)>>4,u=3&i,o=(12&i)>>2,a=(48&i)>>4,h=this.Bet(s,r,e),c=this.Bet(a,o,u);this.let.Kit(h),this.let.Zit(c)}},n.Jit=function(t){var n=t.det().Ti,i=t.det().Ti;if(this.let){var e=15&n,r=63&i;this.let.Jit(e,r)}},n.Oet=function(t){t.IA(1),t.IA(1);var n=t.det().Ti;if(t.IA(1),this.let){var i=3&n;this.let.eet(i)}},n.Hit=function(t,n,i){var e=void 0!==this.fet[n];if(!e){var r=new gU(n);r.Qit(i),this.fet[n]=r}var s=t.det().Ti,u=t.det().Ti,o=t.det().Ti,a=t.det().Ti,h=t.det().Ti,c=t.det().Ti,f=(32&s)>0,l=127&u,v=(128&u)>0,d=o,w=1+(15&a),g=(240&a)>>4,_=1+(63&h);e&&0===(7&c)||this.fet[n].iet(),this.fet[n].Hit(f,l,d,g,v,w,_),this.let=this.fet[n]},n.Bet=function(t,n,i){var e={0:0,1:0,2:1,3:1};return EU[e[t]<<2|e[n]<<1|e[i]]},t}(),pU=8,kU=12,bU=13,AU=14,TU=16,SU={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},EU=["black","blue","green","cyan","red","magenta","yellow","white"],IU=function(){function t(){this.Let=void 0,this.Met=void 0,this.Fet=void 0,this.Let=[],this.Met=null,this.Fet=0}var n=t.prototype;return n.Uet=function(t){if(t.gs===cF.N9){var n=63&t.Ti;return this.Fet=2*n-1,void(this.Met=[])}if(this.Met&&(this.Fet>0&&(this.Met.push(t),this.Fet--),0===this.Fet)){var i=new RU(this.Met);this.Let.push(i),this.Met=null,this.Fet=0}},n.jet=function(){return this.Let},n.Het=function(){this.Let=[]},n.xu=function(){this.Let=[],this.Met=[],this.Fet=0},t}(),RU=function(){function t(t){this.Xet=void 0,this.Vet=void 0,this.Xet=0,this.Vet=t}var i=t.prototype;return i.zet=function(){return this.Xet<this.Vet.length},i.Wet=function(){return this.Xet},i.det=function(){if(!this.zet())throw new lf(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.Vet[this.Xet++]},i.IA=function(t){if(this.Xet+t>this.Vet.length)throw new lf(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this.Xet+=t},t}(),NU=function(){function t(){this.Get=void 0,this.qet=void 0,this.$et=void 0,this.Yet=void 0,this.Qet=void 0,this.Jet=void 0,this.Zet=void 0,this.Ket=void 0,this.trt=!1,this.Get=[],this.qet=[],this.$et=new IU,this.Yet=0,this.Qet=zr({CC1:new cU(0,0),CC2:new cU(0,1),CC3:new cU(1,0),CC4:new cU(1,1)}),this.Jet=0,this.Zet=0,this.Ket=Vr(),this.wc()}var i=t.prototype;return i.xu=function(){this.Yet=0,this.Get=[],this.qet=[],this.$et.xu(),this.wc(),this.Ket.forEach(function(t){t.xu()})},i.wc=function(){this.Jet=0,this.Zet=0,this.Qet.forEach(function(t){t.wc()})},i.G6=function(t,n){if(t.X9){var i=t.V9,e=t.z9,r=t.gs;r===cF.E9||r===cF.I9?this.Get.push({Znt:n,gs:r,wit:i,Jnt:e,nrt:this.Get.length}):this.trt&&(this.qet.push({Znt:n,gs:r,Ti:i,nrt:this.qet.length}),this.qet.push({Znt:n,gs:cF.R9,Ti:e,nrt:this.qet.length}))}},i.wO=function(){var t=[];Fs(this.Get,function(t,n){return t.Znt-n.Znt||t.nrt-n.nrt}),Fs(this.qet,function(t,n){return t.Znt-n.Znt||t.nrt-n.nrt});for(var n=0,i=this.Get;n<i.length;n++){var e=i[n],r=this.irt(e);r&&t.push(r)}for(var s=0,u=this.qet;s<u.length;s++){var o=u[s];this.$et.Uet(o)}for(var a=this.$et.jet(),h=0;h<a.length;h++){var c=a[h],f=this.ert(c);t.push.apply(t,f)}return this.$et.Het(),this.Get=[],this.qet=[],t},i.irt=function(t){var n=t.gs;if(cU.Ait(t.wit)){var i=t.wit>>3&1;0===n?this.Jet=i:this.Zet=i}var e="CC"+(n<<1|(n?this.Zet:this.Jet)+1),r=this.Qet.get(e);return 255===t.wit&&255===t.Jnt||!t.wit&&!t.Jnt||!this.rrt(t.wit)||!this.rrt(t.Jnt)?(++this.Yet>=45&&this.wc(),null):(this.Yet=0,t.wit&=127,t.Jnt&=127,t.wit||t.Jnt?cU.Ait(t.wit)?r.dit(t):r.fit(t.Znt,t.wit,t.Jnt):null)},i.ert=function(t){var i=[];try{for(;t.zet();){var e=t.det().Ti,r=(224&e)>>5,s=31&e;if(7===r&&0!==s)r=63&t.det().Ti;if(0!==r){if(!this.Ket.has(r)){var u=new mU(r);this.Ket.set(r,u)}for(var o=this.Ket.get(r),a=t.Wet();t.Wet()-a<s;){var h=o.vet(t);h&&i.push(h)}}}}catch(t){if(!(t instanceof lf&&t.code===n.ErrorCode.SUBTITLE_PARSE_ERROR))throw t}return i},i.rrt=function(t){for(var n=0;t;)n^=1&t,t>>=1;return 1===n},t}(),DU=function(t){function n(n,i){var e;return(e=t.call(this,"urt")||this)._nt=n,e.sp=i,e}return E(n,t),n}(Iu),CU=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.ort=function(t,n){for(var i=0;i<t.length;i++){var e=t[i];this.art(e,e.mQ.Lp()+n)}this.wO()},n}(function(t){function n(){var n;return(n=t.call(this)||this).hrt=void 0,n.hrt=new NU,n}E(n,t);var i=n.prototype;return i.art=function(t,n){this.hrt.G6(t,n)},i.wO=function(){for(var t=this.hrt.wO(),n=0;n<t.length;n++){var i=t[n];this.Ks(new DU(i._nt,i.sp))}},i.wc=function(){this.hrt.xu()},i.Kc=function(){this.ou(),this.hrt.xu()},n}(Su)),PU=function(t){function n(n){var i;return(i=t.call(this)||this).crt=void 0,i.frt=void 0,i.lrt=NaN,i.vrt=NaN,i.drt=void 0,i.NE=void 0,i.wrt=function(t){i.grt({_rt:t._nt,yrt:""}).BE(t.sp)},i.NE=n,i.drt=Vr(),i.crt=new CU,i.crt.tu("urt",i.wrt),i}E(n,t);var i=n.prototype;return i.mrt=function(t){return this.drt.get(t)},i.grt=function(t){var n=this.drt.get(t._rt);return n||(n=this.prt(t),this.drt.set(t._rt,n)),n},i.prt=function(t){var n,i=function(t){if(t!==AF)for(var n=t.toLowerCase(),i=0;i<SF.length;i++){var e=SF[i];if(e[1]===n||e[2]===n||e["2T"]===n||e["2B"]===n||e[3]===n)return e}}(t.yrt),e=i?i.gi:"";t.krt&&(e="easy "+e),n=t.o_?"CC "+t.o_:e?"CC "+e:"CC"+t._rt;var r=this.NE.OE(Wk.gE,n,n,e,!1,xm.CEA608);return this.zg(r),r},i.u9=function(t){var n=pk.WA(Go(t));this.frt=function(t){for(var n=0;n<t.uT.length;n++){var i=t.uT[n],e={mT:(h=t.uT[n]).FA.mT,mtt:h.wT.FA.Lk},r=i.wT.IT.DT.PT.xT,s=Gs(r,function(t){return t.gs===Sp.Fb});if(!s){var u=Gs(r.filter(function(t){return t.gs===Sp.Qb}),function(t){var n;return(null==(n=t.vS)?void 0:n.gs)===Sp.Fb});u&&(s=u.vS)}if(s){var o=TD(Go(s.uS.Xi),new Ko),a=s.aS;return jr({},e,{mT:i.FA.mT,uS:Zo(s.uS.Xi),xp:s.xp,bT:s.bT,mS:a&&a.mS,yS:a&&a.yS,brt:o.$H,Art:o.YH,s9:o.QH,ZH:o.ZH[0],KH:o.KH[0]})}}var h}(n.filter(zF)[0])},i.P5=function(t,n,i,e){if(this.frt&&(m(this.lrt)||!Ut(this.lrt,n,1e-5))){m(this.vrt)||Ut(n,this.vrt,1e-5)||this.crt.wc();var r=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.lE.Rtt&&n.push.apply(n,e.lE.Rtt),delete e.lE.Rtt}for(var r=0;r<n.length;r+=1)n[r].RS=r;return n.sort(ax)}(function(t,n,i,e,r){for(var s=[],u=n.filter(jF),o=e(i),a=0;a<u.length;a++){var h,c=u[a],f=Gs(c.uT,function(t){return t.FA.mT===i.mT});if(f)for(var l=f.FA.bS||0,v=f.FA.AS||0,d=f.OS?f.OS.OS:lt.ZERO,w=c.IS+(null!=(h=f.FA.xS)?h:lt.ZERO).toNumber(),g=0,_=f.PS;g<_.length;g++)for(var y=_[g],m=w+(y.IS||0),p=0,k=y.jS;p<k.length;p++){var b=k[p],A=b.Bu||v,T=new gF;T.O9(t,m,m+A);var S=mp.Kp(d,i.mtt);T.lE=r(b,c,i,S,Qo(t,m,m+A)),s.push(T),m+=A,d=d.add(b.uy||l||o)}}return s}(t,pk.WA(Go(t)),this.frt,UF,VF));this.crt.ort(r,e),this.lrt=n,this.vrt=i}},i.wc=function(){var n=this;return this.crt.wc(),this.drt.forEach(function(t){t.Kc(),n.Wg(t),n.NE.LE(t)}),this.drt.clear(),this.frt=void 0,this.lrt=NaN,this.vrt=NaN,t.prototype.wc.call(this)},i.Kc=function(){return this.crt.au("urt",this.wrt),this.crt.Kc(),t.prototype.Kc.call(this)},n}(fb);function OU(t){if(t.gs===NB.f1&&void 0!==t.qZ){var n=t.qZ.match(/^CC([1-4])$/);if(n)return Number(n[1]);var i=t.qZ.match(/^SERVICE([\d+])$/);return i?Number(i[1]):void 0}}var xU=function(){function t(t){this.n5=void 0,this.Trt=!1,this.n5=t}var n=t.prototype;return n.Srt=function(t,n){return this.Trt?this.n5.Srt(t,n):Ge.resolve(!1)},n.v6=function(t,n){return this.Trt?this.n5.v6(t,n):Ge.resolve(void 0)},n.d5=function(t){var n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Ur.awrap(this.n5.d5(t));case 2:return n=i.sent,this.Trt=void 0!==n,i.abrupt("return",n);case 5:case"end":return i.stop()}},null,this,null,Ge)},n.uF=function(t){return this.n5.uF(t)},t}(),BU="LLHLSPlayer",LU=[Sy.J_,Sy.Z_,Sy.K_,Sy.Og],MU=[Bf.zf,Bf.Gf,Bf.Rf],FU=50,UU=3e4,jU=function(t){function e(e,r,s,u,o,a){var h;return(h=t.call(this)||this).dN=void 0,h.DE=void 0,h.AN=void 0,h.kN=void 0,h.Ert=void 0,h.Irt=void 0,h.Rrt=void 0,h.Nrt=void 0,h.n5=void 0,h.jy=void 0,h.Hy=void 0,h.Xy=void 0,h.Drt=Vr(),h.Crt=void 0,h.Prt=void 0,h.pN=void 0,h.i9=void 0,h.e9=void 0,h.Ort=!1,h.CE=new au,h.xrt=void 0,h.b5=void 0,h.wN=void 0,h.q6=void 0,h.Brt=void 0,h.Lrt=new au,h.Mrt=void 0,h.k5=void 0,h.Frt=void 0,h.Urt=void 0,h.jrt=void 0,h.Hrt=void 0,h.Xrt=void 0,h.Vrt=void 0,h.zrt=void 0,h.Wrt=void 0,h.Grt=[],h.bz=void 0,h.Tz=void 0,h.qrt=void 0,h.$rt=void 0,h.Yrt=void 0,h.T7=void 0,h.Qrt=new au,h.Jrt=void 0,h.kq=new au,h.pq=void 0,h.Zrt=-1,h.Krt=void 0,h.tst=void 0,h.nst=void 0,h.ist=void 0,h.rst=void 0,h.sst=void 0,h.ust=!0,h.ost=0,h.ast=!1,h.FC=1,h.yN=gS.PD,h.gN=void 0,h._N=void 0,h.Ez=TS.RC(),h.hst=[],h.cst=void 0,h.fst=!1,h.lst=void 0,h.vst=void 0,h.dst=!1,h.wst=!1,h.gst=void 0,h._st=void 0,h.TN=new oS,h.yst=0,h.handleContentProtectionErrorEvent=function(t){h.gN=wm(t.errorObject),h._N=t.errorObject,h.Zs(t)},h.handleBufferingErrorEvent=function(t){h.EN(new lf(n.ErrorCode.MEDIA_LOAD_ERROR,t.Au.message,t.Au))},h.mst=function(){h.pst();var t=h.uy;t!==h.lst&&(h.lst=t,h.Ks(new Py(h.lst)))},h.kst=function(){h.oy&&h.Ks(new By(h.sy))},h.bst=function(){h.Ks(new Iy(h.sy))},h.Ast=function(){h.Ks(new Ry(h.sy))},h.NN=function(){void 0!==h._st&&i.$n(h._st),h.Ks(new Cb(h.sy))},h.Tst=function(){h.Ks(new qN(h.sy))},h.zE=function(){h.Ks(new Xy(h.sy,h.m_))},h.oG=function(){var t=h.yK;Ks(h.hst,t)||(h.Ks(new cM),h.hst=t),h.Ks(new xy(h.sy,h.Sm))},h.Sst=function(t){h.yst+=t.Z6,"R8"===t.Q6&&t.Ud===ym.xd&&mu(h.F0())},h.Dz=function(){h.Ks(new My(h.sy))},h.RN=function(){h.Ks(new Fy(h.sy))},h.Est=function(){h.Ks(new Uy(h.sy,h.by))},h.Ist=function(){h.dN._y?h.Ks(new Db(h.sy)):(h._st=i.Yn(function(){h.wst&&(h.gst=void 0,mu(h.Rst()))},uF),h.Ks(new Db(h.sy)))},h.Nst=function(){h.wst=!0,h.Ks(new jy(h.sy,h.m_))},h.Dst=function(t){cu(t)||Jk(t)||Zk(t)||(h.Cst(),mu(h.Pst()),h.Ks(new pB(t)))},h.S5=function(){h.pst()},h.Ost=function(t){mu(h.xst(t.vK))},h.Bst=tt(function(t){var n=[h.q6,h.Jrt,h.pq].filter(H);h.kq=new au,h.pq=h.I$(n,t,h.kq.$s).catch(h.Dst)},FU),h.Lst=function(t){if(!cu(t)){var i=t instanceof lf?t:new lf(n.ErrorCode.MEDIA_DECODE_ERROR,t.message,t);h.EN(i)}},h.onTextTrackChange=function(t){if(h.Hrt){var n=t._g,i=Gs(h.Hrt.F2,function(t){return n===h.Drt.get(t.s_)});i&&(n.g_===j_.l_||n.g_===j_.v_?(mu(h.Mst(i)),h.Drt.forEach(function(t){t!==n&&(t.g_=j_.f_)})):h.zrt&&h.zrt===i&&mu(h.Fst(h.Xrt,h.Vrt,void 0)))}},h.retryOfflineRenditionsCallback=function(t,n){return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(h.Ust===t||h.kK===t||h.AK===t){i.next=2;break}return i.abrupt("return");case 2:return i.next=4,Ur.awrap(h.k5.c5(t,n));case 4:t.XZ.o4=-1/0;case 5:case"end":return i.stop()}},null,null,null,Ge)},h.jst=function(){h.Hst()},h.Xst=function(){h.Vst()},h.zst=function(t){h.k5.y5(t.iX,t.vK.XZ),h.Crt.VK();var n=h.Hrt;if(n){var i=void 0!==h.Xrt&&!Js(n.HK,h.Xrt),e=void 0!==h.Vrt&&!Js(n.XK,h.Vrt);(i||e)&&h.Fst(i?void 0:h.Xrt,e?void 0:h.Vrt,h.zrt).catch(Z)}},h.Wst=function(t){h.k5.g5(t.vK)},h.VC=s,h.u6=u,h.Gst=o,h.n5=new xU(a),h.dN=e,h.DE=new aB(r,h.VC),h.AN=new mB(h.VC.yL),h.Rrt=new kB(h.dN),h.Nrt=new OB(h.VC),h.jy=new mm,h.Hy=new mm,h.Crt=new oB(Kt(h),h.jy,h.Hy),h.Prt=new Gk,h.pN=new vb(h.dN,h.DE),h.i9=new fF(h.dN),h.e9=new PU(h.dN),h.Xy=new rS([h.Prt,h.pN.uT,h.i9.uT,h.e9.uT]),h.kN=new iS(h.DE),h.dN.XN=h.kN,h.Ert=new XU(Kt(h),h.dN),h.Irt=new Ob(h.Ert,!0),h.qst(),h}E(e,t);var r=e.prototype;return r.$st=function(t){return nu(t,function(t){return t.QR})},r.Rst=function(){var t,n,i;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ur.awrap(this.Yst());case 2:if(void 0!==(t=e.sent)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Ur.awrap(this.Qst(t));case 7:if((n=e.sent).length>0&&(t=n),void 0===(i=this.$st(t))){e.next=14;break}return e.next=13,Ur.awrap(this.pK(i,!0));case 13:this.AN.C0(i.QR);case 14:case"end":return e.stop()}},null,this,null,Ge)},r.pst=function(){var t=function(t){for(var n=new TS([0,1/0]),i=0,e=0;e<t.length;e++){var r=t[e],s=r.XZ.Fm;s.$g>0&&(n=n.rC(s),i=g.max(i,s.WD(0)))}if(n.$g>0)return n;return TS.IC(i)}([this.Xrt,this.Vrt].filter(H));0!==t.$g&&(this.wN&&this.wN.KU&&this.Jst&&(t=new TS([t.WD(0),this.wN.uy])),this.Ez=t,this.i9.RE(t.WD(0)),this.e9.RE(t.WD(0)))},r.nm=function(){return!1},r.wm=function(){return IS},r.vm=function(){sB.IT(BU,"Hiding the player."),this.dN.vm()},r.Jy=function(){sB.IT(BU,"Pausing the player."),this.dN.Jy()},r.Qy=function(){var t;return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t=this.dN.Qy(),this.Ort){n.next=4;break}return n.next=4,Ur.awrap(this.Zh());case 4:return n.next=6,Ur.awrap(t);case 6:case"end":return n.stop()}},null,this,null,Ge)},r.Zst=function(){this.gN=void 0,this._N=void 0},r.EN=function(t){this.gN||(mu(this.wc()),this.gN=wm(t),this._N=t,this.Ks(new Vy(t)))},r.lm=function(){sB.IT(BU,"Showing the player."),this.dN.lm()},r.im=function(){throw new l("Not implemented")},r.um=function(){throw new l("Not implemented")},r.Am=function(){},r.tm=function(t,n,e){return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(sB.IT(BU,"Setting the player source to "+t.src+"."),this.Zst(),!this.xrt||my(this.xrt)){r.next=6;break}return r.next=5,Ur.awrap(this.wc());case 5:fu(e);case 6:if(t.src&&!my(t)){r.next=8;break}return r.abrupt("return");case 8:this.kN.KR(t.contentProtection),this.b5=t,this.tu(Bx.jZ,this.handleBufferingErrorEvent),this.k5=new rM(this.DE,this.n5,t.useCredentials,i.Fr(t.src)),this.k5.tu(nM.W4,this.S5),this.k5.tu(nM.G4,this.Ost),this.k5.tu(Bf.Lf,this.Zs),this.Mrt=new hM(t,this.k5,this.dN),this.Xy.oN(this.Mrt.$y),this.T7=this.Gst.jJ(),n.textTracks&&this.YN(n.textTracks),yb(this.Xy),this.Kst();case 21:case"end":return r.stop()}},null,this,null,Ge)},r.Kst=function(){this.Lrt.Ws(),this.Lrt=new au,this.Brt=this.tut(this.Brt,this.Lrt.$s).catch(this.Lst)},r.tut=function(t,n){var i;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.yN,!t){e.next=5;break}return e.next=4,Ur.awrap(t);case 4:fu(n);case 5:if(i!==gS.PD&&this.k5){e.next=7;break}return e.abrupt("return");case 7:if(i!==gS.dA){e.next=10;break}return this.nut(n).catch(this.Lst),e.abrupt("return");case 10:this.Zh().catch(this.Lst);case 11:case"end":return e.stop()}},null,this,null,Ge)},r.nut=function(t){var i;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.k5.m5){e.next=11;break}return e.prev=1,e.next=4,Ur.awrap(this.k5.e5(t));case 4:e.next=11;break;case 6:throw e.prev=6,e.t0=e.catch(1),lu(e.t0),this.Bm=!1,new lf(n.ErrorCode.MANIFEST_LOAD_ERROR,"The provided HLS document could not be loaded - "+e.t0.message,e.t0);case 11:return e.next=13,Ur.awrap(this.iut());case 13:return i=e.sent,this.eut(i),this.Crt.FK(),e.next=18,Ur.awrap(this.setInitialRenditions(i,t));case 18:this.rut();case 19:case"end":return e.stop()}},null,this,[[1,6]],Ge)},r.iut=function(){var t,i;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.Wrt=this.k5.UK.jK,this.Wrt.length){e.next=3;break}throw new lf(n.ErrorCode.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant streams.");case 3:return e.next=5,Ur.awrap(this.sut(this.Wrt));case 5:if(0!==(t=e.sent).length){e.next=8;break}throw new lf(n.ErrorCode.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant stream with a supported codec.");case 8:return e.next=10,Ur.awrap(this.Qst(t));case 10:return(i=e.sent).length>0&&(t=i),sB.IT(BU,"Selecting initial active variant stream."),e.abrupt("return",zU(t,this.b5.abr,this.VC));case 14:case"end":return e.stop()}},null,this,null,Ge)},r.setInitialRenditions=function(t,n){var i,e,r,s;return Ur.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(i=GU(t.HK))||this.Frt===i){u.next=6;break}return sB.IT(BU,"Detected initial audio rendition."),this.Frt=i,u.next=6,Ur.awrap(this.uut(i,n));case 6:if(!(e=VU(t.F2))||this.jrt===e){u.next=12;break}return sB.IT(BU,"Detected initial subtitle rendition."),this.jrt=e,u.next=12,Ur.awrap(this.uut(e,n));case 12:if(e||(r=VU(t.U2))&&(sB.IT(BU,"Detected initial closed caption rendition."),this.out(t,r)),!(s=GU(t.XK))||this.Urt===s){u.next=21;break}if(sB.IT(BU,"Detected initial video rendition."),this.Urt=s,i&&jx(s,i)){u.next=21;break}return u.next=21,Ur.awrap(this.uut(s,n));case 21:case"end":return u.stop()}},null,this,null,Ge)},r.rut=function(){this.dst||(this.dst=!0,this.Ert.aut())},r.uut=function(t,n){return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Ur.awrap(this.k5.c5(t,n));case 3:i.next=11;break;case 5:if(i.prev=5,i.t0=i.catch(0),lu(i.t0),!Jk(i.t0)&&!Zk(i.t0)){i.next=11;break}return i.next=11,Ur.awrap(this.hut(t,n));case 11:case"end":return i.stop()}},null,this,[[0,5]],Ge)},r.hut=function(t,n){var i;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ast){e.next=2;break}return e.abrupt("return");case 2:if(t.gs===NB.xd){e.next=7;break}return e.next=5,Ur.awrap(this.cut(t,n));case 5:e.next=18;break;case 7:if(!(this.Wrt&&this.Wrt.length<=1)){e.next=12;break}return e.next=10,Ur.awrap(this.cut(t,n));case 10:e.next=18;break;case 12:return e.next=14,Ur.awrap(this.iut());case 14:return i=e.sent,this.eut(i),e.next=18,Ur.awrap(this.setInitialRenditions(i,n));case 18:case"end":return e.stop()}},null,this,null,Ge)},r.Zh=function(){return this.q6?this.q6:(this.q6=this.Uw(this.CE.$s).catch(this.Lst),this.q6)},r.Uw=function(t){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.dst){n.next=3;break}return n.next=3,Ur.awrap(this.nut(t));case 3:this.Fst(this.Frt,this.Urt,this.jrt).catch(Z),this.Ort=!0;case 5:case"end":return n.stop()}},null,this,null,Ge)},r.YN=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.src&&this.pN.PE(i)}},r.out=function(t,n){for(var i=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i],r=OU(e);void 0!==r&&n.push({_rt:r,yrt:e.a_||"",o_:e.gi})}return n}(t.U2),e=0;e<i.length;e++){var r=i[e];this.e9.grt(r)}if(void 0!==n){var s=OU(n);this.e9.mrt(s).g_=j_.v_}},r.mK=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(!this.fut(i))throw new l("LLHLSPlayer - Could not set an allowed variant stream that does not exists in the internal HLS model.")}this.Wrt=t},r.fut=function(t){var n=this.UK;return!!n&&Js(n.jK,t)},r.lut=function(t){if(this.Hrt)return Gs(this.Hrt.WK,function(n){return n===t})},r.eut=function(t){if(sB.IT(BU,"Setting active variant stream."),this.Hrt!==t){var n;if((null==(n=this.Hrt)?void 0:n.b1)!==(null==t?void 0:t.b1)){if(this.Hrt)for(var i=0,e=this.Hrt.F2;i<e.length;i++){var r=e[i];this.LE(r)}if(t)for(var s=0,u=t.F2;s<u.length;s++){var o=u[s];this.vut(o)}}this.Hrt=t,this.Ks(new HM)}},r.vut=function(t){var n=this.dN.OE(Wk.lA,void 0,t.gi,t.a_,t.VZ);this.Prt.zg(n),this.Drt.set(t.s_,n),n.tu(h_.Cg,this.onTextTrackChange)},r.LE=function(t){var n=this.Drt.get(t.s_);n&&(n.au(h_.Cg,this.onTextTrackChange),this.Prt.Wg(n),this.Drt.delete(t.s_),this.dN.LE(n))},r.Yst=function(){var t,n,i,e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==(n=null!=(t=this.Wrt)?t:this.UK.jK).length||this.Wrt){r.next=4;break}return sB.IT(BU,"The HLS stream does not contain any variant streams, skipping ABR selection."),r.abrupt("return",void 0);case 4:if(1!==n.length||this.Wrt){r.next=7;break}return sB.IT(BU,"The HLS stream contains only a single variant stream, skipping ABR selection."),r.abrupt("return",void 0);case 7:return r.next=9,Ur.awrap(this.sut(n));case 9:if((i=r.sent).length){r.next=13;break}return sB.xK(BU,"LLHLSPlayer - No variant streams with supported codecs available to perform ABR selection on."),r.abrupt("return",void 0);case 13:if(0!==(e=qU(i)).length){r.next=22;break}if(!this.ast){r.next=17;break}return r.abrupt("return",void 0);case 17:return sB.xK(BU,"LLHLSPlayer - No variant streams with online renditions available to perform ABR selection on."),this.ost++,r.next=21,Ur.awrap(this.wut(i));case 21:return r.abrupt("return",void 0);case 22:return r.abrupt("return",e);case 23:case"end":return r.stop()}},null,this,null,Ge)},r.F0=function(){var t,n,i,e,r,s;return Ur.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Ur.awrap(this.Yst());case 2:if(void 0!==(t=u.sent)){u.next=5;break}return u.abrupt("return");case 5:return o=this.dN,a=void 0,h=void 0,a=o.sy,h=o.Tm.AC(a),n=h?h.qD(0)-a:0,u.next=8,Ur.awrap(this.Qst(t));case 8:return i=u.sent,e={xp:this.dN.xp,bT:this.dN.bT,x0:n},u.next=12,Ur.awrap(this.Nrt.F0(t,this.Hrt,i,e));case 12:if(r=u.sent,s=!!this.Hrt&&r.QR<this.Hrt.QR,!(!!s||this.gut(r,t,n))){u.next=18;break}return u.next=18,Ur.awrap(this.pK(r,s));case 18:case"end":return u.stop()}var o,a,h},null,this,null,Ge)},r.gut=function(t,n,e){var r,s;if(t===this.wK)return!1;if(t===this.$st(n))return!0;(!this.gst||this.gst.gK.QR>t.QR)&&(this.gst={gK:t,ptt:i.wr()});var u=i.wr()-this.gst.ptt,o=null!=(r=null==(s=this.AK)?void 0:s.XZ.O0)?r:1/0;return e>=g.max(o-1,5)||u>1e3},r.wut=function(t){var n,i,e,r,s,u=this;return Ur.async(function(o){for(;;)switch(o.prev=o.next){case 0:this.ast=!0,n=!1,i=0;case 3:if(!(i<t.length)){o.next=20;break}if(e=t[i],o.prev=5,void 0!==(r=this.Vrt?Gs(e.XK,function(t){return Ux(t,u.Vrt)}):void 0)){o.next=9;break}return o.abrupt("continue",17);case 9:return o.next=11,Ur.awrap(this.c5(r));case 11:r.XZ.o4=-1/0,n=!0,o.next=17;break;case 15:o.prev=15,o.t0=o.catch(5);case 17:i++,o.next=3;break;case 20:if(!n){o.next=26;break}return this.ost=0,o.next=24,Ur.awrap(this._ut());case 24:o.next=29;break;case 26:return s=g.min(1e3*g.pow(2,this.ost),UU),o.next=29,Ur.awrap(ku(s));case 29:return this.ast=!1,o.next=32,Ur.awrap(this.F0());case 32:case"end":return o.stop()}},null,this,[[5,15]],Ge)},r.sut=function(t){var n,i=this;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ur.awrap(ru(t,function(t){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.iX){n.next=2;break}return n.abrupt("return",!0);case 2:if(n.t1=!t.iX.nX,n.t1){n.next=7;break}return n.next=6,Ur.awrap(i.Rrt.ZU('audio/mp4; codecs="'+t.iX.nX+'"'));case 6:n.t1=n.sent;case 7:if(n.t0=n.t1,!n.t0){n.next=15;break}if(n.t2=!t.iX.tX,n.t2){n.next=14;break}return n.next=13,Ur.awrap(i.Rrt.ZU('video/mp4; codecs="'+t.iX.tX+'"'));case 13:n.t2=n.sent;case 14:n.t0=n.t2;case 15:return n.abrupt("return",n.t0);case 16:case"end":return n.stop()}},null,null,null,Ge)}));case 2:return(n=e.sent).some(function(t){var n;return null==(n=t.iX)?void 0:n.tX})&&(n=n.filter(function(t){return!t.iX||t.iX.tX})),n.some(function(t){var n;return null==(n=t.iX)?void 0:n.nX})&&(n=n.filter(function(t){return!t.iX||t.iX.nX})),e.abrupt("return",n);case 6:case"end":return e.stop()}},null,null,null,Ge)},r.Qst=function(t){var n=this;return ru(t,function(t){var i,e,r,s,u=[GU(t.HK),GU(t.XK),VU(t.F2),VU(t.U2)].filter(H);return i=u,e=function(t){return n.yut(t)},Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<i.length)){t.next=10;break}return s=i[r],t.next=5,Ur.awrap(e(s));case 5:if(t.sent){t.next=7;break}return t.abrupt("return",!1);case 7:r++,t.next=1;break;case 10:return t.abrupt("return",!0);case 11:case"end":return t.stop()}},null,null,null,Ge)})},r.yut=function(t){var n,i,e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==t.XZ.j0.length){r.next=2;break}return r.abrupt("return",!1);case 2:if((n=t.XZ.j0[0]).YZ){r.next=5;break}return r.abrupt("return",!1);case 5:return i=n.YZ,e=i.H0?xB(i.H0.WD,i.H0.$g):void 0,r.prev=7,r.next=10,Ur.awrap(this.n5.Srt(i.Ti,e));case 10:return r.abrupt("return",r.sent);case 13:return r.prev=13,r.t0=r.catch(7),r.abrupt("return",!1);case 16:case"end":return r.stop()}},null,this,[[7,13]],Ge)},r.pK=function(t,n){var i,e,r,s=this;return Ur.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.Ort){u.next=2;break}throw new l("LLHLSPlayer - The LLHLSPlayer is not loaded.");case 2:if(t){u.next=4;break}throw new l("LLHLSPlayer - Cannot explicitly set the active variant stream to undefined.");case 4:if(this.fut(t)){u.next=6;break}throw new l("LLHLSPlayer - Trying to set an active variant stream that does not exists on the internal model.");case 6:if(t!==this.Hrt){u.next=9;break}return sB.IT(BU,"Trying to set the already active variant stream, ignoring."),u.abrupt("return");case 9:return i=this.Xrt?Gs(t.HK,function(t){return Ux(t,s.Xrt)}):void 0,e=this.Vrt?Gs(t.XK,function(t){return Ux(t,s.Vrt)}):void 0,r=this.zrt?Gs(t.F2,function(t){return Ux(t,s.zrt)}):void 0,this.eut(t),this.gst=void 0,u.next=16,Ur.awrap(this.Fst(i,e,r,n));case 16:case"end":return u.stop()}},null,this,null,Ge)},r.bK=function(t){var n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Ort){i.next=2;break}throw new l("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.Hrt){i.next=4;break}throw new l("LLHLSPlayer - Cannot set the active audio rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new l("LLHLSPlayer - Cannot explicitly set the active audio rendition to undefined.");case 6:if(n=this.lut(t)){i.next=9;break}throw new l("LLHLSPlayer - Trying to set an invalid rendition as the active audio rendition.");case 9:return sB.IT(BU,"Switching audio rendition"),i.next=12,Ur.awrap(this.Fst(n,this.Vrt,this.zrt,!1,!0,!1));case 12:case"end":return i.stop()}},null,this,null,Ge)},r.TK=function(t){var n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Ort){i.next=2;break}throw new l("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.Hrt){i.next=4;break}throw new l("LLHLSPlayer - Cannot set the active video rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new l("LLHLSPlayer - Cannot explicitly set the active video rendition to undefined.");case 6:if(n=this.lut(t)){i.next=9;break}throw new l("LLHLSPlayer - Trying to set an invalid rendition as the active video rendition.");case 9:return sB.IT(BU,"Switching video rendition"),i.next=12,Ur.awrap(this.Fst(this.Xrt,n,this.zrt,!1,!1,!0));case 12:case"end":return i.stop()}},null,this,null,Ge)},r.Mst=function(t){var n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Ort){i.next=2;break}throw new l("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.Hrt){i.next=4;break}throw new l("LLHLSPlayer - Cannot set the active subtitle rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new l("LLHLSPlayer - Cannot explicitly set the active video rendition to undefined.");case 6:if(n=this.lut(t)){i.next=9;break}throw new l("LLHLSPlayer - Trying to set an invalid rendition as the active subtitle rendition.");case 9:return sB.IT(BU,"Switching subtitle rendition"),i.next=12,Ur.awrap(this.Fst(this.Xrt,this.Vrt,n));case 12:case"end":return i.stop()}},null,this,null,Ge)},r.xst=function(t,n){return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.ast){i.next=2;break}return i.abrupt("return");case 2:if(t.gs===NB.xd){i.next=7;break}return i.next=5,Ur.awrap(this.cut(t,n));case 5:i.next=17;break;case 7:if(!(this.Wrt&&this.Wrt.length<=1)){i.next=15;break}if(this.Vrt===t){i.next=11;break}return i.next=11,Ur.awrap(this.Fst(this.Xrt,t,this.zrt));case 11:return i.next=13,Ur.awrap(this.cut(t,n));case 13:i.next=17;break;case 15:return i.next=17,Ur.awrap(this.F0());case 17:case"end":return i.stop()}},null,this,null,Ge)},r.c5=function(t,n){return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Ur.awrap(this.k5.c5(t,n));case 3:i.next=12;break;case 5:if(i.prev=5,i.t0=i.catch(0),lu(i.t0),!Jk(i.t0)&&!Zk(i.t0)){i.next=11;break}return i.next=11,Ur.awrap(this.xst(t,n));case 11:throw i.t0;case 12:case"end":return i.stop()}},null,this,[[0,5]],Ge)},r.cut=function(t,n){var i=this;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Js(this.Grt,t)){e.next=2;break}return e.abrupt("return");case 2:return this.Grt.push(t),e.prev=3,e.next=6,Ur.awrap(tM(function(){return i.retryOfflineRenditionsCallback(t,n)},n,1/0,1e3,UU));case 6:if(e.prev=6,Ys(this.Grt,t),t.XZ.o4!==-1/0){e.next=11;break}return e.next=11,Ur.awrap(this._ut());case 11:return e.finish(6);case 12:case"end":return e.stop()}},null,this,[[3,,6,12]],Ge)},r.Fst=function(t,n,i,e,r,s){return void 0===e&&(e=!1),void 0===r&&(r=!1),void 0===s&&(s=!1),this.Xrt===t&&this.Vrt===n&&this.zrt===i?Ge.resolve():void 0===t&&void 0===n?Ge.reject(new l("Trying to buffer no media renditions.")):(this.Xrt=t,this.Vrt=n,this.zrt=i,this.pst(),this.Ks(new XM),this.kq.Ws(),this.kq=new au,this.Qrt.Ws(),this.Qrt=new au,this.Jrt=this.mut([this.Jrt,this.pq].filter(H),t,n,i,e,r,s,this.Qrt.$s).catch(this.Dst),this.Jrt)},r.mut=function(t,n,i,e,r,s,u,o){var a,h,c,f,l,v,d,w,g=this;return Ur.async(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,Ur.awrap(Ge.all(t.map(function(t){return t.catch(Z)})));case 2:return this.Cst(),_.next=5,Ur.awrap(this.Pst());case 5:return h=[],s&&this.wN&&this.wN.yz&&h.push(this.wN.yz.Kh(0,1/0)),u&&this.wN&&this.wN.mz&&h.push(this.wN.mz.Kh(0,1/0)),_.next=10,Ur.awrap(Ge.all(h));case 10:return fu(o),_.next=13,Ur.awrap(this.kut(n,i,o));case 13:return c=_.sent,this.but(n,i,r||c),this.Aut(e,r),fu(o),f=n&&i&&jx(n,i),l=[i,f?void 0:n,e].filter(H),_.prev=19,_.next=22,Ur.awrap(Ge.all(l.filter(function(t){return!t.XZ.s4}).map(function(t){var n;return null==(n=g.k5)?void 0:n.f5(t,o)})));case 22:_.next=27;break;case 24:_.prev=24,_.t0=_.catch(19),lu(_.t0);case 27:fu(o),this.Bz(),this.pst(),void 0!==this.cst?this.Bst(this.cst):!this.fst&&null!=(a=this.wK)&&a.XZ.WD?(d=null==(v=this.wK)?void 0:v.XZ.WD.Z1,w=d,d<0&&(w+=this.wK.XZ.i4.qD(this.wK.XZ.i4.$g-1)),this.Bst(w)):!this.fst&&l.every(function(t){return!t.XZ.d2})?this.Bst(1/0):this.Tut.length>0&&this.Sut();case 31:case"end":return _.stop()}},null,this,[[19,24]],Ge)},r.kut=function(t,n,i){var e,r,s,u,o,a,h,c,f;return Ur.async(function(l){for(;;)switch(l.prev=l.next){case 0:return s=void 0!==t&&t!==n,u=void 0!==n,l.next=4,Ur.awrap(this.Eut(t,n,this.Hrt));case 4:if(o=l.sent,fu(i),!this.wN||o){l.next=8;break}return l.abrupt("return",!1);case 8:if(a=void 0!==(null==(e=this.wN)?void 0:e.yz),h=void 0!==(null==(r=this.wN)?void 0:r.mz),s!==a||u!==h||!o||!this.wN||!this.wN.VU(o)){l.next=17;break}return l.next=14,Ur.awrap(this.Iut(i));case 14:return l.next=16,Ur.awrap(this.wN.zU(o));case 16:return l.abrupt("return",!0);case 17:for(c=0,f=this.Tut;c<f.length;c++)f[c].F7.forEach(function(t){return t.Ws()});if(this.dN.U$(),l.prev=19,!this.wN){l.next=23;break}return l.next=23,Ur.awrap(this.dN.wc());case 23:return l.next=25,Ur.awrap(this.Rut(o,s,u));case 25:this.wN=l.sent;case 26:return l.prev=26,this.dN.j$(),l.finish(26);case 29:return l.abrupt("return",!0);case 30:case"end":return l.stop()}},null,this,[[19,,26,29]],Ge)},r.Eut=function(t,n,i){var e,r,s,u,o,a,h,c,f,l,v,d;return Ur.async(function(w){for(;;)switch(w.prev=w.next){case 0:if(o=i.iX,a=[],!o||!o.nX){w.next=8;break}h='audio/mp4; codecs="'+o.nX+'"',sB.IT(BU,"Configuring MediaSource for initial audio rendition with codec: "+h+"."),a.push(h),w.next=10;break;case 8:if(void 0===t){w.next=10;break}return w.abrupt("return",void 0);case 10:if(!o||!o.tX){w.next=16;break}c='video/mp4; codecs="'+o.tX+'"',sB.IT(BU,"Configuring MediaSource for initial video rendition with codec: "+c+"."),a.push(c),w.next=18;break;case 16:if(void 0===n){w.next=18;break}return w.abrupt("return",void 0);case 18:if(0!==a.length){w.next=21;break}return sB.xK(BU,"No codecs found on the active variant stream."),w.abrupt("return",void 0);case 21:return f=null!=(e=null==n?void 0:null==(r=n.XZ.j0[0])?void 0:r.i2)?e:[],l=null!=(s=null==t?void 0:null==(u=t.XZ.j0[0])?void 0:u.i2)?s:[],v=this.k5.UK,w.next=26,Ur.awrap(QB(this.b5.contentProtection,a,v.z4.concat(l).concat(f),this.DE,this.b5.useCredentials));case 26:return d=w.sent,w.abrupt("return",{gs:mb.UE,Mz:a.map(function(t){return{Gv:t}}),WN:d});case 28:case"end":return w.stop()}},null,this,null,Ge)},r.Rut=function(t,n,i){var e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=6;break}return r.next=3,Ur.awrap(this.dN.Zh(t));case 3:e=r.sent,r.next=7;break;case 6:e=new WM(this.dN,n,i);case 7:return this.wN=e,this.Bz(),this.Hst(),this.Vst(),r.abrupt("return",e);case 12:case"end":return r.stop()}},null,this,null,Ge)},r.Bz=function(){var t=this.wN;if(t&&m(t.uy)){var n,i,e,r=null!=(n=null==(i=this.Xrt)?void 0:i.XZ.uy)?n:null==(e=this.Vrt)?void 0:e.XZ.uy;void 0!==r&&r>0&&t.Oz(r)}this.pst()},r.Hst=function(){var t=this.wN;t&&(t.mz&&(t.mz.AL=this.VC.FL),t.yz&&(t.yz.AL=this.VC.FL))},r.Vst=function(){var t=this.wN;t&&(t.mz&&(t.mz.IL=this.VC.IL),t.yz&&(t.yz.IL=this.VC.IL))},r.but=function(t,n,i){if(!this.wN)throw new l("Invalid state");this.wN.yz?this.bz&&this.bz.r9(this.wN.yz)||(this.bz=new sF(ym.Od,this.wN.yz,this.i9,this.e9)):this.bz=void 0,this.wN.mz?this.Tz&&this.Tz.r9(this.wN.mz)||(this.Tz=new sF(ym.xd,this.wN.mz,this.i9,this.e9)):this.Tz=void 0;var e,r,s,u,o,a,h,c,f,v,d,w,g,_,y,m=t&&n&&jx(t,n);if(this.Tz&&n){var p=m&&this.bz?[this.Tz,this.bz]:[this.Tz];this.$rt?this.$rt.vK!==n&&(i&&(this.$rt.Ws(),this.$rt.E7.xu()),this.$rt.h8(n)):(this.$rt=(e=n,r=p,this.dN,s=this.k5,u=this.DE,o=this.n5,a=this.u6,h=this.T7,c=this.VC,f=this.b5.useCredentials,v=new PM,d=new IM(ym.xd,e,s,v,u,o,a,f,c.yL),w=r.map(function(t){return t.gs}),g=h.Nut(e,v,s.UK.oE,w),(_=new jM(d,v,g,c)).S7(r),_),this.$rt.L7.tu(AM.J6,this.Sst),this.$rt.M7.tu(CM.i7,this.zst),this.$rt.M7.tu(CM.e7,this.Wst)),this.$rt.S7(p)}else{var k;null==(k=this.$rt)||k.Us(),this.$rt=void 0}this.bz&&t&&!m?(this.qrt?this.qrt.vK!==t&&(i&&(this.qrt.Ws(),this.qrt.E7.xu()),this.qrt.h8(t)):(this.qrt=function(t,n,i,e,r,s,u,o,a,h){var c=new PM,f=new IM(ym.Od,t,e,c,r,s,u,h,a.yL),l=o.Nut(t,c,e.UK.oE,[n.gs]),v=new jM(f,c,l,a);return v.S7([n]),v}(t,this.bz,this.dN,this.k5,this.DE,this.n5,this.u6,this.T7,this.VC,this.b5.useCredentials),this.qrt.L7.tu(AM.J6,this.Sst),this.qrt.M7.tu(CM.i7,this.zst),this.qrt.M7.tu(CM.e7,this.Wst)),this.qrt.S7([this.bz])):(null==(y=this.qrt)||y.Us(),this.qrt=void 0);this.Dut()},r.Aut=function(t,n){this.Yrt&&(this.Yrt.L7.vK===t?n&&(this.Yrt.Ws(),this.Yrt.E7.xu()):(this.Yrt.Us(),this.Yrt=void 0));if(!this.Yrt&&t){var i=this.Drt.get(t.s_);i.g_=j_.v_,this.Yrt=function(t,n,i,e,r,s,u){var o=i.UK.oE,a=new xM(n,o),h=new PM,c=new IM(ym.Kn,t,i,h,e,r,s,u),f=new UM(t,h,o,ym.Kn),l=new jM(c,h,f);return l.I7(a),l}(t,i,this.k5,this.DE,this.n5,this.u6,this.b5.useCredentials)}},r.Dut=function(){var t=[this.bz,this.Tz].filter(H).map(function(t){return t.gs});this.k5.UK.oE.N4(t)},r.I$=function(t,n,i){var e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Ur.awrap(Ge.all(t.map(function(t){return t.catch(Z)})));case 2:return fu(i),r.next=5,Ur.awrap(this.Pst());case 5:fu(i),this.cst=void 0,this.vst=void 0,this.fst=!0,e=this.Cut.nC(n),this.dN.Uu(e),this.Ort&&this.Tut.length>0&&(this.Put(this.dN.sy),this.Sut());case 12:case"end":return r.stop()}},null,this,null,Ge)},r.Put=function(t){for(var n=0,i=this.Tut;n<i.length;n++){var e=i[n];e.l8(t)||(e.x7(),e.E7.V8()),e.C7(t)||(e.B7(),e.E7.z8())}},r.Cst=function(){for(var t=0,n=this.Tut;t<n.length;t++){n[t].Ws()}},r.Pst=function(){return Ge.all([this.Out(),this.xut(),this.But()])},r.Sut=function(){this.Lut(),this.Mut(),this.Fut()},r._ut=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.Ort&&this.Tut.length>0)){t.next=6;break}return this.Tut.forEach(function(t){return t.x7()}),t.next=4,Ur.awrap(this.Out());case 4:this.Lut(),this.Tut.forEach(function(t){return t.L7.y8()});case 6:case"end":return t.stop()}},null,this,null,Ge)},r.Lut=function(){var t=this;if(!this.ist){var n=function(){t.ist=void 0};this.Krt=new au,this.ist=this.Uut(this.Krt.$s).catch(this.Dst).then(n,n)}},r.Out=function(){var t,n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.Krt)||t.Ws(),n=this.ist,this.ist=void 0,!n){i.next=6;break}return i.next=6,Ur.awrap(n);case 6:case"end":return i.stop()}},null,this,null,Ge)},r.Uut=function(t){var n,i,e,r,s,u,o,a,h,c,f;return Ur.async(function(l){for(;;)switch(l.prev=l.next){case 0:fu(t),n=this.Tut;case 2:for(i=[],e=this.dN.sy,r=0;r<n.length;r++)s=n[r],u=s.L7,o=s.N7(e),u.G5?i.push(u.Y5()):s.O7(e,o,this.VC.FL)&&((a=u.v8(o))?(c=a[0],f=a[1],u.T8(c,f,s.L5)):((h=u.vK.XZ.j0).length&&h[0].op>o&&(this.sy=1/0),u.k8(),u.g8(o)),i.push(u.Y5()));if(0!==i.length){l.next=13;break}if(!n.every(function(t){return t.L7.O8})){l.next=9;break}return l.abrupt("break",17);case 9:return l.next=11,Ur.awrap(this.dN.wu(Bf.ol,t));case 11:l.next=15;break;case 13:return l.next=15,Ur.awrap(du(Ge.race(i),t));case 15:l.next=2;break;case 17:case"end":return l.stop()}},null,this,null,Ge)},r.Mut=function(){var t=this;if(!this.rst){var n=function(){t.rst=void 0};this.tst=new au,this.rst=this.jut(this.tst.$s).catch(this.Dst).then(n,n)}},r.xut=function(){var t,n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.tst)||t.Ws(),n=this.rst,this.rst=void 0,!n){i.next=6;break}return i.next=6,Ur.awrap(n);case 6:case"end":return i.stop()}},null,this,null,Ge)},r.jut=function(t){var n,i,e,r,s,u,o;return Ur.async(function(a){for(;;)switch(a.prev=a.next){case 0:fu(t),n=this.Tut;case 2:for(i=[],e=0;e<n.length;e++)r=n[e],s=r.L7,(u=r.M7).G5?i.push(u.Y5()):(o=s.c8())?"R8"===o.gs?(u.l7(o),i.push(u.Y5())):"a2"===o.gs&&(u.c7(o),i.push(u.Y5())):i.push(s.m8());if(0!==i.length){a.next=12;break}if(!n.every(function(t){return t.L7.O8})){a.next=8;break}return a.abrupt("break",16);case 8:return a.next=10,Ur.awrap(this.dN.wu(Bf.ol,t));case 10:a.next=14;break;case 12:return a.next=14,Ur.awrap(du(Ge.race(i),t));case 14:a.next=2;break;case 16:case"end":return a.stop()}},null,this,null,Ge)},r.Fut=function(){var t=this;if(!this.sst){this.nst=new au;var n=function(){t.sst=void 0};this.sst=this.Hut(this.nst.$s).catch(this.Dst).then(n,n)}},r.But=function(){var t,n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.nst)||t.Ws(),n=this.sst,this.sst=void 0,!n){i.next=6;break}return i.next=6,Ur.awrap(n);case 6:case"end":return i.stop()}},null,this,null,Ge)},r.Hut=function(t){var n,i,e,r,s,u,o,a,h,c,f,l,v,d=this;return Ur.async(function(w){for(;;)switch(w.prev=w.next){case 0:for((n=this.Tut).forEach(function(t){return t.R7()}),i=[],e=[],r=[],s=0;s<n.length;s++)for(u=n[s],o=u.M7,a=0,h=u.F7;a<h.length;a++)c=h[a],f=c.z5?i:e,c.G5?f.push(c.Y5()):c.Q5(this.dN.sy)||((l=o.g7(c.gs))?"R8"===l.gs&&l.f2===this.Zrt?(c.n6(l),f.push(c.Y5())):"m7"===l.gs&&l.f2===this.Zrt&&(c.rV(l),f.push(c.Y5())):r.push(o._7(c.gs)));if(0!==i.length){w.next=15;break}if(!((v=tu(n,function(t){return t.F7.filter(function(t){return t.z5}).map(function(n){return t.M7.g7(n.gs)})})).length>0&&v.every(function(t){return void 0!==t&&"m7"===t.gs&&t.f2!==d.Zrt}))){w.next=15;break}return w.next=12,Ur.awrap(function(){var i,e,r,s,u,o,a,h,c,f;return Ur.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(e=iu(i=v,function(t){return t.f2}).f2,!i.every(function(t){return t.f2===e})){l.next=20;break}return r=nu(i,function(t){return t.op}).op,l.next=7,Ur.awrap(d.Xut(i));case 7:if(s=l.sent,!d.wN.VU(s)){l.next=15;break}return sB.PK("Discontinuity","Seamless switch from",d.wN.cc,"to",s),l.next=12,Ur.awrap(d.wN.zU(s));case 12:sB.PK("Discontinuity","Seamless switch complete."),l.next=17;break;case 15:return l.next=17,Ur.awrap(d.Vut(r,s,t));case 17:d.Zrt=i[0].f2,l.next=21;break;case 20:for(u=0;u<n.length;u++)for(o=n[u],a=0,h=o.F7;a<h.length;a++)for(c=h[a],f=o.M7.g7(c.gs);f&&f.f2!==e;)o.M7.K5(f),f=o.M7.g7(c.gs);case 21:return l.abrupt("return","continue");case 22:case"end":return l.stop()}},null,null,null,Ge)}());case 12:if("continue"!==w.sent){w.next=15;break}return w.abrupt("continue",0);case 15:if(0!==i.length||0!==e.length||0!==r.length){w.next=19;break}return n.every(function(t){return t.F7.length>0&&t.F7.every(function(t){return t.Q5(d.dN.sy)})})&&this.wN.TV(),w.abrupt("break",23);case 19:return w.next=21,Ur.awrap(du(Ge.race([].concat(i,e,r)),t));case 21:w.next=0;break;case 23:case"end":return w.stop()}},null,this,null,Ge)},r.Xut=function(t){var n,i,e,r;return Ur.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=t.map(function(t){return t.p7.iX}),i=n.map(function(t){return{Gv:t}}),(e=tu(t,function(t){return t.p7.i2})).push.apply(e,this.k5.UK.z4),s.next=6,Ur.awrap(QB(this.b5.contentProtection,n,e,this.DE,this.b5.useCredentials));case 6:return 0===(r=s.sent).length&&this.wN&&this.wN.cc.WN.length>0&&(r=this.wN.cc.WN),s.abrupt("return",{gs:mb.UE,Mz:i,WN:r});case 9:case"end":return s.stop()}},null,this,null,Ge)},r.Vut=function(t,n,i){var e,r,s,u,o,a;return Ur.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(r=this.wN,s=r.uy,!(u=this.sy<t)){h.next=19;break}h.prev=4,sB.PK("Discontinuity","Marking end of stream and waiting for ended to switch discontinuity."),r.TV();case 7:if(this.dN.oy||!(this.dN.sy<t)){h.next=12;break}return h.next=10,Ur.awrap(this.dN.wu([Bf.ol,Bf.Of],i));case 10:h.next=7;break;case 12:h.next=19;break;case 14:throw h.prev=14,h.t0=h.catch(4),r.pV(),r.Oz(s),h.t0;case 19:return sB.PK("Discontinuity","Perform hard switch from",null==(e=this.wN)?void 0:e.cc,"to",n),h.prev=20,this.sy<t&&(this.sy=t),this.dN.U$(),this.Tz=void 0,this.bz=void 0,this.Dut(),h.next=28,Ur.awrap(this.dN.wc());case 28:return h.next=30,Ur.awrap(this.dN.Zh(n));case 30:this.wN=h.sent,this.Bz(),this.Hst(),this.Vst(),this.wN.mz&&(this.Tz=new sF(ym.xd,this.wN.mz,this.i9,this.e9)),this.wN.yz&&(this.bz=new sF(ym.Od,this.wN.yz,this.i9,this.e9)),this.Dut();case 37:return h.prev=37,u&&mu(this.dN.Qy()),this.dN.j$(),h.finish(37);case 41:this.$rt&&(o=void 0!==this.bz&&void 0===this.qrt,a=o?[this.Tz,this.bz]:[this.Tz],this.$rt.S7(a)),this.qrt&&this.qrt.S7([this.bz]),sB.PK("Discontinuity","Hard switch complete.");case 44:case"end":return h.stop()}},null,this,[[4,14],[20,,37,41]],Ge)},r.Iut=function(t){return du(pu(tu(this.Tut,function(t){return t.F7.map(function(t){return t.Y5()})})),t)},r.Kc=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:return sB.IT(BU,"Unloading the player."),this.zut(),this.Zst(),t.next=5,Ur.awrap(this.wc());case 5:return this.dN.XN=void 0,this.Prt.Kc(),t.next=9,Ur.awrap(this.pN.Kc());case 9:return t.next=11,Ur.awrap(this.i9.Kc());case 11:return t.next=13,Ur.awrap(this.e9.Kc());case 13:this.jy.Kc(),this.Hy.Kc(),this.Xy.Kc(),this.Irt.Kc(),this.Ert.Us(),this.u6.Us();case 19:case"end":return t.stop()}},null,this,null,Ge)},r.wc=function(){var t;return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return sB.IT(BU,"Resetting the player."),this.au(Bx.jZ,this.handleBufferingErrorEvent),this.Zrt=-1,this.Lrt.Ws(),this.Lrt=new au,this.CE.Ws(),this.CE=new au,this.kq.Ws(),this.kq=new au,this.Qrt.Ws(),this.Qrt=new au,t=[this.Brt,this.q6,this.pq,this.Jrt].filter(H),n.next=14,Ur.awrap(Ge.all(t.map(function(t){return t.catch(Z)})));case 14:return this.Brt=void 0,this.q6=void 0,this.pq=void 0,this.Jrt=void 0,this.Xrt=void 0,this.Vrt=void 0,this.zrt=void 0,this.Wrt=void 0,this.Frt=void 0,this.Urt=void 0,this.jrt=void 0,this.Grt=[],this.eut(void 0),this.Cst(),n.next=30,Ur.awrap(this.Pst());case 30:return this.qrt&&(this.qrt.Us(),this.qrt=void 0),this.$rt&&(this.$rt.Us(),this.$rt=void 0),this.Yrt&&(this.Yrt.Us(),this.Yrt=void 0),this.bz=void 0,this.Tz=void 0,this.wN=void 0,this.T7&&(this.T7.Us(),this.T7=void 0),this.k5&&(this.k5.Us(),this.k5=void 0),this.Mrt&&(this.Xy.hN(this.Mrt.$y),this.Mrt=void 0),n.next=41,Ur.awrap(this.pN.wc());case 41:return n.next=43,Ur.awrap(this.i9.wc());case 43:return n.next=45,Ur.awrap(this.e9.wc());case 45:return this.dN.nD(),n.next=48,Ur.awrap(this.dN.wc());case 48:this.b5=void 0,this.xrt=void 0,this.Ort=!1,this.FC=1,this.Ez=TS.RC(),this.cst=void 0,this.lst=void 0,this.vst=void 0,this.fst=!1,this.dst=!1,this.wst=!1,this.yst=0,this.Irt.wc(),this.Wut(),this.Ks(new Ey(this.sy,this.m_));case 63:case"end":return n.stop()}},null,this,null,Ge)},r.Wut=function(){for(var t=0,n=this.jy.qg;t<n.length;t++){n[t].Kc()}for(var i=0,e=this.Hy.qg;i<e.length;i++){e[i].Kc()}for(var r=0,s=this.Xy.qg;r<s.length;r++){s[r].Kc()}this.jy.wc(),this.Hy.wc(),this.Xy.wc(),this.Drt.clear()},r.qst=function(){this.Irt.tu(LU,this.Zs),this.Irt.tu(Sy.ey,this.NN),this.Irt.tu(Sy.iy,this.Ist),this.Irt.tu(Sy.Q_,this.Nst),this.VC.tu("TL",this.jst),this.VC.tu("RL",this.Xst),this.dN.tu(MU,this.Zs),this.dN.tu(Bf.If,this.handleContentProtectionErrorEvent),this.dN.tu(Bf.Cf,this.mst),this.dN.tu(Bf.Of,this.kst),this.dN.tu(Bf.Hf,this.bst),this.dN.tu(Bf.Xf,this.Ast),this.dN.tu(Bf.Vf,this.Tst),this.dN.tu(Sy.Og,this.zE),this.dN.tu(Bf.ol,this.oG),this.dN.tu(Bf.$f,this.Dz),this.dN.tu(Bf.qf,this.RN),this.dN.tu(Bf.al,this.Est)},r.zut=function(){this.Irt.au(LU,this.Zs),this.Irt.au(Sy.ey,this.NN),this.Irt.au(Sy.iy,this.Ist),this.Irt.au(Sy.Q_,this.Nst),this.VC.au("TL",this.jst),this.VC.au("RL",this.Xst),this.dN.au(MU,this.Zs),this.dN.au(Bf.If,this.handleContentProtectionErrorEvent),this.dN.au(Bf.Cf,this.mst),this.dN.au(Bf.Of,this.kst),this.dN.au(Bf.Hf,this.bst),this.dN.au(Bf.Xf,this.Ast),this.dN.au(Bf.Vf,this.Tst),this.dN.au(Sy.Og,this.zE),this.dN.au(Bf.ol,this.oG),this.dN.au(Bf.$f,this.Dz),this.dN.au(Bf.qf,this.RN),this.dN.au(Bf.al,this.Est)},T(e,[{key:"Jst",get:function(){for(var t=[this.Xrt,this.Vrt].filter(H),n=0;n<t.length;n++){var i=t[n];if(!i.XZ.d2)return!1;var e=i.XZ.j0,r=e[e.length-1];if(r&&r.f2!==this.Zrt)return!1}return!0}},{key:"wK",get:function(){return this.Hrt}},{key:"kK",get:function(){return this.Xrt}},{key:"AK",get:function(){return this.Vrt}},{key:"Ust",get:function(){return this.zrt}},{key:"Gy",get:function(){return this.jy}},{key:"Tm",get:function(){return this.dN.Tm.oD()}},{key:"yK",get:function(){var t=[];if(this.Hrt)for(var n=this.dN.sy,i=0,e=this.Tut;i<e.length;i++)for(var r=0,s=e[i].F7;r<s.length;r++){var u=s[r].Z5(n);u&&!Js(t,u)&&t.push(u)}return t}},{key:"Sm",get:function(){if(this.Hrt){var t=this.dN.sy;return this.Hrt.C2(t)}},set:function(t){if(t&&this.Hrt){var n=this.Hrt.P2(t);void 0!==n&&(this.sy=n)}}},{key:"sy",get:function(){var t;return null!=(t=this.cst)?t:this.dN.sy},set:function(t){sB.IT(BU,"Seeking to "+t+" s."),this.cst=t,this.vst=!0,this.fst=!0,this.Ks(new My(t)),this.kq.Ws(),this.Ort&&this.Bst(t)}},{key:"uy",get:function(){var t,n,i,e,r,s,u;if(!this.Jst)return null!=(t=null!=(n=null!=(i=null==(e=this.Xrt)?void 0:e.XZ.uy)?i:null==(r=this.Vrt)?void 0:r.XZ.uy)?n:null==(s=this.k5)?void 0:null==(u=s.p5)?void 0:u.XZ.uy)?t:1/0;var o=this.dN.uy;if(m(o)){var a,h,c,f=null!=(a=null==(h=this.Urt)?void 0:h.XZ.uy)?a:null==(c=this.Frt)?void 0:c.XZ.uy;if(void 0!==f)return f}return o}},{key:"oy",get:function(){if(!this.Jst)return!1;if(this._y&&this.Ort){var t,n,i=this.sy,e=null==(t=this.Xrt)?void 0:t.XZ.uy,r=null==(n=this.Vrt)?void 0:n.XZ.uy;return!(void 0!==e&&i<e)&&!(void 0!==r&&i<r)}return this.dN.oy}},{key:"Au",get:function(){return this.gN}},{key:"ly",get:function(){return this._N}},{key:"Yy",get:function(){}},{key:"Im",get:function(){return!1}},{key:"Rm",get:function(){return jr({},{Nm:0,Dm:0,Cm:0,Pm:0,Om:0,xm:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.dN.hD(),{Om:this.yst,Pm:this.VC.yL.QR})}},{key:"UK",get:function(){var t;return null==(t=this.k5)?void 0:t.UK}},{key:"vy",get:function(){return this.dN.vy},set:function(t){this.dN.vy=t}},{key:"Bm",get:function(){return this.ust},set:function(t){this.ust!==t&&(this.ust=t,this.Ks(t?new QM:new JM))}},{key:"wy",get:function(){return this.dN.wy}},{key:"gy",get:function(){return this.dN.gy},set:function(t){sB.IT(BU,"Setting playback rate to "+t+"."),this.dN.gy=t}},{key:"Lm",get:function(){return this.Gut.oD()}},{key:"Gut",get:function(){return this.dN.Lm}},{key:"Mm",get:function(){return this.yN},set:function(t){this.yN!==t&&(this.yN=t,this.Kst())}},{key:"m_",get:function(){var t=this.dN.m_;return this.dst&&(t=g.max(uy.W_,t)),t}},{key:"Fm",get:function(){return this.Cut.oD()}},{key:"Cut",get:function(){var t=this.Ez,n=[this.Xrt,this.Vrt].filter(H);if(t.$g>0&&n.some(function(t){return!t.XZ.d2})){var i=this.Gut,e=t.qD(t.$g-1);if(i.$g>0&&i.qD(i.$g-1)>e){var r=i.qD(i.$g-1),s=n.reduce(function(t,n){return t.rC(n.XZ.i4)},new TS([0,1/0]));s.$g>0&&(r=g.min(r,s.qD(s.$g-1))),t=t.cC(new TS([e,r]))}}return t}},{key:"_y",get:function(){var t;return null!=(t=this.vst)?t:this.dN._y}},{key:"cD",get:function(){}},{key:"$y",get:function(){return this.Xy}},{key:"qy",get:function(){return this.Hy}},{key:"yy",get:function(){return this.dN.yy}},{key:"py",get:function(){return this.dN.py}},{key:"by",get:function(){return this.dN.by},set:function(t){sB.IT(BU,"Setting volume to "+t+"."),this.dN.by=t}},{key:"Um",get:function(){return this.TN}},{key:"jm",get:function(){return!1},set:function(t){}},{key:"fD",get:function(){return this.AN}},{key:"Tut",get:function(){return[this.qrt,this.$rt,this.Yrt].filter(H)}}]),e}(Su),HU=function(){function t(){}return t.prototype.vD=function(n,i){var e;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(ly(n.type)){i.next=2;break}return i.abrupt("return",!1);case 2:if(!n.useNativePlayback){i.next=4;break}return i.abrupt("return",!1);case 4:if(!(e=n.contentProtection)||gA(e)){i.next=12;break}if(mA(e)){i.next=8;break}return i.abrupt("return",!1);case 8:return i.next=10,Ur.awrap(t.qut(e));case 10:if(i.sent){i.next=12;break}return i.abrupt("return",!1);case 12:return i.abrupt("return",!0);case 13:case"end":return i.stop()}},null,null,null,Ge)},t.qut=function(t){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.aes128){n.next=2;break}return n.abrupt("return",!0);case 2:if(n.t0=t.playready,!n.t0){n.next=7;break}return n.next=6,Ur.awrap(i.Or());case 6:n.t0=n.sent;case 7:if(!n.t0){n.next=9;break}return n.abrupt("return",!0);case 9:if(n.t1=t.widevine,!n.t1){n.next=14;break}return n.next=13,Ur.awrap(i.xr());case 13:n.t1=n.sent;case 14:if(!n.t1){n.next=16;break}return n.abrupt("return",!0);case 16:if(n.t2=t.clearkey,!n.t2){n.next=21;break}return n.next=20,Ur.awrap(i.Cr());case 20:n.t2=n.sent;case 21:if(!n.t2){n.next=23;break}return n.abrupt("return",!0);case 23:if(!t.fairplay){n.next=25;break}return n.abrupt("return",!1);case 25:return n.next=27,Ur.awrap(i.Nr());case 27:return n.abrupt("return",n.sent);case 28:case"end":return n.stop()}},null,null,null,Ge)},t}(),XU=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).BD=n,e}return E(n,t),n.prototype.aut=function(){this.Ks(new Xy(this.sy,this.m_))},T(n,[{key:"m_",get:function(){return this.BD.m_}}]),n}(xb);function VU(t){var n=Gs(t,function(t){return t.VZ}),e=t.filter(function(t){return t.zZ}),r=i.Wr,s=e.map(function(t){return t.a_}).filter(H),u=qM(s,r);return u?Gs(e,function(t){return t.a_===u}):n}function zU(t,n,i){var e=qU(function(t,n){if(void 0===n)return t;var i=n.preferredVideoCodecs,e=n.preferredAudioCodecs;if(void 0!==i){for(var r,s=function(n){var s=i[n],u=t.filter(function(t){return t.iX&&t.iX.tX&&UD(t.iX.tX,s)});if(0===u.length)return"continue";if(void 0===e)return{v:u};void 0===r&&(r=u);var o=WU(u,e);return void 0!==o?{v:o}:void 0},u=0;u<i.length;u++){var o=s(u);if("continue"!==o&&"object"==typeof o)return o.v}if(void 0!==r)return r}if(void 0!==e){var a=WU(t,e);if(void 0!==a)return a}return t}(t,n));switch(i.SL.type){case mR.BANDWIDTH:var r=i.UL,s=e.filter(function(t){return t.QR<=r});if(s.length>0)return iu(s,function(t){return t.QR});case mR.PERFORMANCE:return nu(e,function(t){return t.QR});case mR.QUALITY:return iu(e,function(t){return t.QR})}}function WU(t,n){for(var i=function(i){var e=n[i],r=t.filter(function(t){return t.iX&&t.iX.nX&&UD(t.iX.nX,e)});return 0===r.length?"continue":{v:r}},e=0;e<n.length;e++){var r=i(e);if("continue"!==r&&"object"==typeof r)return r.v}}function GU(t){var n;return null!=(n=VU(t))?n:t[0]}function qU(t){return t.filter(function(t){return t.XK.some(function(t){return t.XZ.o4<i.wr()-UU})||0===t.XK.length})}var $U=function(){function t(){}var i=t.prototype;return i.o6=function(t,i,e){var r,s;return Ur.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Ur.awrap(crypto.subtle.importKey("raw",i,{name:"AES-CBC"},!1,["decrypt"]));case 3:return r=u.sent,u.next=6,Ur.awrap(crypto.subtle.decrypt({name:"AES-CBC",iv:e},r,t));case 6:return s=u.sent,u.abrupt("return",new p(s));case 10:throw u.prev=10,u.t0=u.catch(0),new lf(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.");case 13:case"end":return u.stop()}},null,null,[[0,10]],Ge)},i.Us=function(){},t.Ac=function(){return"undefined"!=typeof crypto&&void 0!==crypto.subtle&&void 0!==crypto.subtle.decrypt},t}(),YU=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).data=i,e}return E(n,t),n}(Iu),QU=["message","messageerror","error"],JU=function(t){function n(n){var i;return(i=t.call(this,H_.d_)||this).error=n,i}return E(n,t),n}(Iu),ZU=function(t){function n(n){var i;return(i=t.call(this)||this).$ut=void 0,i.Yut=void 0,i.Qut=[],i.Jut=function(t){if(i.Zut)t.Kut();else{i.$ut=t,i.$ut.tu(QU,i.Zs);for(var n=0,e=i.Qut;n<e.length;n++){var r=e[n];t.tot(r.mu,r.iot)}Zs(i.Qut)}},i.eot=function(t){if(!i.Zut){var n=t instanceof l?t:new l("Could not create Worker.");i.Ks(new JU(n)),i.Kut()}},i.Yut=new au,n(i.Yut.$s).then(i.Jut,i.eot),i}E(n,t);var i=n.prototype;return i.tot=function(t,n){this.Zut||(void 0!==this.$ut?this.$ut.tot(t,n):this.Qut.push({mu:t,iot:n}))},i.Kut=function(){this.Zut||(this.Yut.Ws(),Zs(this.Qut),void 0!==this.$ut&&this.$ut.Kut())},T(n,[{key:"Zut",get:function(){return this.Yut.$s.xs}}]),n}(Su);var KU=function(t){function n(n){var i;return(i=t.call(this)||this).$ut=void 0,i.rot=function(t){i.Ks(new YU("message",t.data))},i.uot=function(t){i.Ks(new YU("messageerror",t.data))},i.s$=function(t){null==t.preventDefault||t.preventDefault();var n=t.error instanceof l?t.error:new l(t.message);i.Ks(new JU(n)),i.Kut()},i.$ut=new k(n),i.$ut.addEventListener("message",i.rot),i.$ut.addEventListener("messageerror",i.uot),i.$ut.addEventListener("error",i.s$),i}E(n,t);var i=n.prototype;return i.tot=function(t,n){n?this.$ut.postMessage(t,n):this.$ut.postMessage(t)},i.Kut=function(){this.ou(),this.$ut.removeEventListener("message",this.rot),this.$ut.removeEventListener("messageerror",this.uot),this.$ut.removeEventListener("error",this.s$),this.$ut.terminate()},n}(Su),tj=0,nj="iframe.html",ij=function(n){function e(e,r){var u;(u=n.call(this)||this).Fh=void 0,u.oot=void 0,u.aot=void 0,u.hot=void 0,u.cot=function(){u.aot.removeEventListener("load",u.cot),u.aot.contentWindow.postMessage({type:"initialize",id:u.Fh,script:u.oot},"*")},u.fot=function(t){t.origin===u.hot&&t.data.id===u.Fh&&("initialized"===t.data.type||("error"===t.data.type?(u.Ks(new JU(new l(t.data.data.message))),u.Kut()):u.Ks(new YU("message",t.data.data))))},u.Fh=tj++,u.oot=e;var o,a,h=i.Mr(nj,r);return u.aot=(o=h.href,(a=s.createElement("iframe")).width="0",a.height="0",a.style.display="none",a.src=o,s.body.appendChild(a),a),u.hot=h.origin,u.aot.addEventListener("load",u.cot),t.addEventListener("message",u.fot),u}E(e,n);var r=e.prototype;return r.tot=function(t,n){n?this.aot.contentWindow.postMessage({type:"message",data:t},"*",n):this.aot.contentWindow.postMessage({type:"message",data:t},"*")},r.Kut=function(){var n;this.aot.removeEventListener("load",this.cot),t.removeEventListener("message",this.fot),null==(n=this.aot.contentWindow)||n.postMessage({type:"terminate"},"*"),nr(this.aot)},e}(Su);function ej(t,n){return t=i.Fr(t,n),new ZU(function(e){return function(t,n,e){var r,s,u,o,a,h,c,f;return Ur.async(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,r=new KU(t),l.next=4,Ur.awrap(oj(r,e));case 4:return l.abrupt("return",r);case 7:l.prev=7,l.t0=l.catch(0),null==(s=r)||s.Kut(),lu(l.t0);case 11:if(!uj||!Of){l.next=42;break}return l.prev=12,l.next=15,Ur.awrap(i.ag.dd({_d:t,Ld:lw.GET,fd:Lf.Kn,$s:e}));case 15:return o=l.sent,l.next=18,Ur.awrap(o.Xv(e));case 18:u=l.sent,l.next=24;break;case 21:l.prev=21,l.t1=l.catch(12),lu(l.t1);case 24:if(!u){l.next=42;break}return l.prev=25,h=Of([u],{type:"application/javascript"}),a=URL.createObjectURL(h),r=new KU(a),l.next=31,Ur.awrap(oj(r,e));case 31:return l.abrupt("return",r);case 34:l.prev=34,l.t2=l.catch(25),null==(c=r)||c.Kut(),lu(l.t2),uj=!1;case 39:return l.prev=39,a&&URL.revokeObjectURL(a),l.finish(39);case 42:return l.prev=42,r=new ij(t,n),l.next=46,Ur.awrap(oj(r,e));case 46:return l.abrupt("return",r);case 49:throw l.prev=49,l.t3=l.catch(42),null==(f=r)||f.Kut(),l.t3;case 53:case"end":return l.stop()}},null,null,[[0,7],[12,21],[25,34,39,42],[42,49]],Ge)}(t,n,e)})}var rj,sj,uj=!0;function oj(t,i){var e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Ur.awrap(t.wu(["message","error"],i));case 2:if("error"!==(e=r.sent).type){r.next=5;break}throw u=e.error,new lf(n.ErrorCode.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation.",u);case 5:if(G(s=e.data)&&"4.12.9"===s.lot){r.next=7;break}throw new lf(n.ErrorCode.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check that the worker's version matches THEOplayer's version (4.12.9).");case 7:return r.abrupt("return",e);case 8:case"end":return r.stop()}var s,u},null,null,null,Ge)}!function(t){t.vot="o6",t.dot="C6"}(rj||(rj={})),function(t){t.wot="got",t._ot="yot"}(sj||(sj={}));var aj=function(){function t(t){var e=this;this.mot=void 0,this.pot=void 0,this.$ut=void 0,this.kot=0,this.bot=Xr(),this.Aot=function(t){var i=t.data,r=i.Tot,s=e.bot.get(r);s&&(e.bot.delete(r),i.Sot===sj.wot?s.Yu(i.Eot):i.Sot===sj._ot&&s.Qu(new lf(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.")))},this.Sw=function(t){var i=new lf(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,t.error.message,t.error);e.Us(i)},this.mot=t;try{this.pot=i.Fr("theoplayer.d.js",t)}catch(t){throw new lf(n.ErrorCode.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}}var e=t.prototype;return e.Iot=function(){var t=ej(this.pot,this.mot);return t.tu("message",this.Aot),t.tu("error",this.Sw),t},e.o6=function(t,n,i){var e=""+ ++this.kot,r={Rot:rj.vot,Not:e,Dot:t,Cot:n,Pot:i},s=new na;return this.bot.set(e,s),null!=this.$ut||(this.$ut=this.Iot()),this.$ut.tot(r),s.Wu},e.Us=function(t){void 0===t&&(t=new hu),this.bot.forEach(function(n){return n.Qu(t)}),this.bot.clear(),this.$ut&&(this.$ut.Kut(),this.$ut=void 0)},t}();function hj(t,n){if(void 0===n.Oot)return{nX:void 0,tX:t};if(void 0===n.xot)return{nX:t,tX:void 0};for(var i=Bc(t),e=fj(i),r=fj(i),s=0;s<i.boxes.length;s++){var u=i.boxes[s];cD(u)&&(e.boxes[s]=wj(u,n.xot),r.boxes[s]=wj(u,n.Oot))}var o=e.serialize().join(),a=r.serialize().join();return{nX:o,tX:a}}function cj(t){var n=Gs(t.boxes,aD);if(n){var i=Gs(n.boxes,hD);if(i)return i.handlerType}}function fj(t){var n,i=new Nc;return(n=i.boxes).push.apply(n,t.boxes),i}function lj(t){var n,i=new Vh;return(n=i.boxes).push.apply(n,t.boxes),i}var vj=8;function dj(t,n){for(var i=function(t){var n,i=new nc;return(n=i.boxes).push.apply(n,t.boxes),i}(t),e=gj(n),r=0;r<i.boxes.length;r++){var s=i.boxes[r];if(s===n)i.boxes[r]=new wh(new p(n.getSize()-vj));else if(s instanceof Vh){var u=s,o=$s(u.boxes,function(t){return t instanceof Hh&&t.trackId===e});if(o>=0){var a=u.boxes[o],h=lj(u);h.boxes[o]=new wh(new p(a.getSize()-vj)),i.boxes[r]=h}}}return i}function wj(t,n){for(var i=function(t){var n,i=new vc;return(n=i.boxes).push.apply(n,t.boxes),i}(t),e=0;e<i.boxes.length;e++){var r=i.boxes[e];if(r instanceof fc){var s=Gs(r.boxes,fD);s&&s.trackId===n&&(i.boxes[e]=new wh(new p(r.getSize()-vj)))}}return i}function gj(t){return Gs(t.boxes,oD).trackId}function _j(t,n,i){for(var e=Gs(t.boxes,fD),r=!0,s=0,u=t.boxes;s<u.length;s++){var o=u[s];if(o instanceof sc)o.baseMediaDecodeTime=o.baseMediaDecodeTime.subtract(i.Hk(n).gk());else if(o instanceof rc)o.baseMediaDecodeTime-=i.Bp(n);else if(o instanceof hc&&o.samples.length>0&&r){r=!1;var a=o.samples;if(!o.flags.sampleDurationPresent){o.flags.sampleDurationPresent=!0;for(var h=e.defaultSampleDuration,c=0;c<a.length;c++){a[c].duration=h}}a[0].duration+=i.Bp(n),o.samples=a}}}function yj(t,n){var i=vk(pk.WA(Go(t)),Sp.Jb);if(!i)throw new l("Mp4Transmuxer - Unable to parse segment or part.");return function(t,n){for(var i=[],e=function(t,e){var r=e[t];if(!r.OS||0===r.PS.length||0===r.PS[0].jS.length)return"continue";for(var s=r.FA.mT,u=Gs(n.uT,function(t){return t.mT===s}),o=0,a=1/0,h=0,c=r.FA.bS||0,f=0,l=r.PS;f<l.length;f++)for(var v=0,d=l[f].jS;v<d.length;v++){var w,g=d[v],_=g.HS||0,y=o+_,m=(o+=null!=(w=g.uy)?w:c)+_;y<a&&(a=y),m>h&&(h=m)}var p=mp.Kp(r.OS.OS,u.Lk);i.push({mT:s,Bot:p,FJ:p.Xm(mp.nk(a,u.Lk)),Lot:p.Xm(mp.nk(o,u.Lk)),Mot:p.Xm(mp.nk(h,u.Lk))})},r=0,s=t.uT;r<s.length;r++)e(r,s);return i}(i,n)}var mj,pj=function(t){function i(n,i,e,r,s){var u;return(u=t.call(this,i,e,r,s)||this).Hw=void 0,u.Fot=void 0,u.Uot=void 0,u.jot=void 0,u.Hot=void 0,u.Xot=0,u.Vot=0,u.zot=Vr(),u.Hw=n,u}E(i,t);var e=i.prototype;return e.f7=function(n,i){return t.prototype.f7.call(this,n,i)},e.Wot=function(t){var n;return this.zot.has(t.f2)?n=this.zot.get(t.f2):(n=eF(t.R8.Xi.Xi),this.zot.set(t.f2,n)),n},e.v7=function(i,e){var r,s,u,o,a,h,c,f,l,v,d,w,g,_,y,m,p,k,b,A,T,S,E,I,R;return Ur.async(function(N){for(;;)switch(N.prev=N.next){case 0:if(fu(e),s=this.Wot(i),u=i.R8,s===YM.t9||s===YM.K7){N.next=5;break}return N.abrupt("return",t.prototype.v7.call(this,i,e));case 5:if(!u.t6.i2.some(bj)){N.next=7;break}throw new lf(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"SAMPLE-AES encryption is not supported for MPEG-TS or Packed Audio segments");case 7:if(o=this.Hw.Got(),s!==YM.t9){N.next=14;break}return N.next=11,Ur.awrap(o.qot({data:u.Xi.Xi,metadata:this.Fot}));case 11:a=N.sent,N.next=17;break;case 14:return N.next=16,Ur.awrap(o.$ot({data:u.Xi.Xi,metadata:this.Fot}));case 16:a=N.sent;case 17:if(fu(e),this.d7({nX:a.metadata.audio_codec,tX:a.metadata.video_codec,eX:void 0}),h=mp.Kp(lt.fromBits(a.metadata.first_decode_timestamp.low,a.metadata.first_decode_timestamp.high),a.metadata.first_decode_timestamp.base),c=mp.Kp(lt.fromBits(a.metadata.first_presentation_timestamp.low,a.metadata.first_presentation_timestamp.high),a.metadata.first_presentation_timestamp.base),u.t6.MJ=c,this.w7(),this.O4.f4(i.f2)){N.next=30;break}for(f=mp.qk(u.t6.op),l=0,v=this.y7;l<v.length;l++)d=v[l],this.O4.b4(i.f2,d,h,f,!0);if(this.w7(),this.O4.f4(i.f2)){N.next=30;break}return N.next=30,Ur.awrap(du(this.O4.l4(i.f2),e));case 30:if(w=this.O4.m4(h,u.t6),this.Fot=a.metadata,g={j1:i.j1,k7:FM(u.t6),op:u.t6.op,uy:null!=(r=u.t6.uy)?r:0,mb:w.Lp(),f2:i.f2,vK:i.vK,t6:u.t6},void 0!==a.data.audio_media||void 0!==a.data.video_media){N.next=36;break}for(_=0,y=this.y7;_<y.length;_++)m=y[_],p=jr({gs:"R8",Xi:void 0,T4:m},g),this.F8(p);return N.abrupt("return");case 36:k=[],void 0!==a.data.audio_media&&(!a.data.audio_init||this.Uot&&this.Xot===i.f2&&$u(this.Uot,a.data.audio_init)||(b={gs:"m7",Xi:{gs:YN.rj,Xi:a.data.audio_init},T4:ym.Od,f2:i.f2,p7:{iX:'audio/mp4; codecs="'+a.metadata.audio_codec+'"',i2:u.t6.i2},op:u.t6.op,vK:i.vK,t6:u.t6},this.Uot=a.data.audio_init,this.Xot=i.f2,this.F8(b)),A=jr({gs:"R8",Xi:{gs:YN.rj,Xi:a.data.audio_media},T4:ym.Od},g),this.F8(A)),void 0!==a.data.video_media&&(!a.data.video_init||this.jot&&this.Vot===i.f2&&$u(this.jot,a.data.video_init)||(T={gs:"m7",Xi:{gs:YN.rj,Xi:a.data.video_init},T4:ym.xd,f2:i.f2,p7:{iX:'video/mp4; codecs="'+a.metadata.video_codec+'"',i2:u.t6.i2},op:u.t6.op,vK:i.vK,t6:u.t6},this.jot=a.data.video_init,this.Vot=i.f2,this.Hot=SD(Go(a.data.video_init)),this.F8(T)),S=this.Hot.uT[0],E=yj(a.data.video_media,this.Hot)[0],I=this.Yot(a.data.video_media,S,E,u.t6),this.Qot=S,R=jr({gs:"R8",Xi:{gs:YN.rj,Xi:I},T4:ym.xd},g),this.F8(R),k.push(E)),this.Jot=u.t6,this.Zot=k;case 41:case"end":return N.stop()}},null,this,null,Ge)},e.Ws=function(){this.Uot=void 0,this.jot=void 0,t.prototype.Ws.call(this)},i}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).ZX=void 0,n.Kot=void 0,n.Jot=void 0,n.Zot=void 0,n.Qot=void 0,n}E(n,t);var i=n.prototype;return i.f7=function(t,n){fu(n);var i=this.vK.gs,e=SD(Go(t.a2.Xi.Xi));if(!e)throw new l("Mp4Transmuxer - Unable to parse "+i+" MP4 initializer.");this.ZX=e;var r=function(t){for(var n,i,e,r=0,s=t.uT;r<s.length;r++){var u=s[r];n||(n=u.iX.nX),i||(i=u.iX.tX),e||(e=u.iX.eX)}if(n||i)return{nX:n,tX:i,eX:e};return}(e);r&&this.d7(r);var s=function(t){var n=Bc(t),i=Gs(n.boxes,sD),e=i.boxes.filter(uD),r=Gs(e,function(t){return cj(t)===Ah.AUDIO}),s=Gs(e,function(t){return cj(t)===Ah.VIDEO}),u={Oot:r?gj(r):void 0,xot:s?gj(s):void 0};if(!r||!s)return{nX:r?t:void 0,tX:s?t:void 0,lE:u};var o=fj(n),a=fj(n),h=n.boxes.indexOf(i);o.boxes[h]=dj(i,s),a.boxes[h]=dj(i,r);var c=o.serialize().join(),f=a.serialize().join();return{nX:c,tX:f,lE:u}}(t.a2.Xi.Xi);if(this.Kot=s.lE,s.tX){var u=Gs(e.uT,function(t){return t.mT===s.lE.xot}),o={gs:"m7",Xi:{gs:YN.rj,Xi:s.tX},T4:ym.xd,f2:t.f2,p7:{iX:'video/mp4; codecs="'+u.iX.tX+'"',i2:t.i2},op:t.op,vK:this.vK,t6:t.a2.t6};this.F8(o)}if(s.nX){var a=Gs(e.uT,function(t){return t.mT===s.lE.Oot}),h={gs:"m7",Xi:{gs:YN.rj,Xi:s.nX},T4:ym.Od,f2:t.f2,p7:{iX:'audio/mp4; codecs="'+a.iX.nX+'"',i2:t.i2},op:t.op,vK:this.vK,t6:t.a2.t6};this.F8(h)}return Ge.resolve()},i.v7=function(t,n){var i,e,r,s,u,o,a,h,c,f,l,v,d,w,g,_,y,m,p,k;return Ur.async(function(b){for(;;)switch(b.prev=b.next){case 0:if(fu(n),e=t.R8.t6,r=this.vK.gs,sB.IT("Mp4Transmuxer","Got media data, transmuxing for "+r+" track: "+MB(e.YZ)),s=t.R8.Xi,(u=yj(s.Xi,this.ZX)).length>0&&(o=eu(u.map(function(t){return t.FJ}),pp),e.MJ=o,this.w7()),this.O4.f4(t.f2)){b.next=13;break}if(a=mp.qk(e.op),u.length>0){for(h=eu(u.map(function(t){return t.Bot}),pp),c=0,f=this.y7;c<f.length;c++)l=f[c],this.O4.b4(t.f2,l,h,a,!1);this.w7()}if(this.O4.f4(t.f2)){b.next=13;break}return b.next=13,Ur.awrap(du(this.O4.l4(t.f2),n));case 13:v=this.O4.g4(t.f2),d={j1:t.j1,k7:FM(e),op:e.op,uy:null!=(i=e.uy)?i:0,mb:v.Lp(),f2:t.f2,vK:t.vK,t6:t.R8.t6},(w=hj(s.Xi,this.Kot)).tX&&(g=this.Kot.xot,_=Gs(this.ZX.uT,function(t){return t.mT===g}),y=Gs(u,function(t){return t.mT===g}),m=this.Yot(w.tX,_,y,e),this.Qot=_,p=jr({gs:"R8",Xi:{gs:YN.rj,Xi:m},T4:ym.xd},d),this.F8(p)),w.nX&&(k=jr({gs:"R8",Xi:{gs:YN.rj,Xi:w.nX},T4:ym.Od},d),this.F8(k)),this.Jot=e,this.Zot=u;case 20:case"end":return b.stop()}},null,this,null,Ge)},i.Yot=function(t,n,i,e){if(!function(t){return xL(t)?t.o2:0===t.H2&&t.j2.o2}(e))return t;if(!this.Jot||!this.Qot||!this.Zot)return t;var r=this.Qot.mT,s=Gs(this.Zot,function(t){return t.mT===r}),u=this.O4._4(s.Mot,this.Jot),o=this.O4._4(i.FJ,e).qp(u).Hk(n.Lk);if(o.Hp(mp.rk))return t;if(o.Mp(mp.qk(.5)))return t;var a=xL(e)?e:e.j2;return sB.PK("Mp4Transmuxer","Stretching first video frame of segment #"+a.j1+" to fill gap of "+o.Lp()+"s"),function(t,n,i){var e=Bc(t),r=Gs(e.boxes,cD);if(r){for(var s=r.getSize(),u=0,o=r.boxes;u<o.length;u++){var a=o[u];a instanceof fc&&_j(a,n,i)}var h=r.getSize();if(h!==s)for(var c=h-s,f=0,l=r.boxes;f<l.length;f++){var v=l[f];v instanceof fc&&lD(v,c)}}return e.serialize().join()}(t,n.Lk,o)},n}(MM)),kj=function(){function t(){}return t.prototype.Nut=function(t,n,i,e){return new pj(this,t,n,i,e)},t}();function bj(t){return t.Ld===CB.c1}!function(t){t[t.MPEGTS_TO_FMP4=0]="MPEGTS_TO_FMP4",t[t.RAW_AUDIO_TO_FMP4=1]="RAW_AUDIO_TO_FMP4"}(mj||(mj={}));var Aj=function(){function t(t){var e=this;this.mot=void 0,this.pot=void 0,this.nat=void 0,this.$ut=void 0,this.kot=0,this.bot=Vr(),this.iat=0,this.Aot=function(t){var n=t.data;if(void 0!==n.requestId){var i=e.bot.get(n.requestId);if(!i)return;e.bot.delete(n.requestId),n.success?i.Yu(n.output):i.Qu(new lf(n.errorCode,n.error))}else n.success||e.Us(new lf(n.errorCode,n.error))},this.Sw=function(t){var i=new lf(n.ErrorCode.MEDIA_DECODE_ERROR,t.error.message,t.error);e.Us(i)},this.mot=t,this.nat=function(){if("undefined"==typeof WebAssembly)return!1;var t=F.yn;return!(t>0&&t<=56)}();var r=this.nat?"THEOplayer.transmux.js":"THEOplayer.transmux.asmjs.js";try{this.pot=i.Fr(r,t)}catch(t){throw new lf(n.ErrorCode.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}this.$ut=this.Iot()}var e=t.prototype;return e.qot=function(t){return this.eat(mj.MPEGTS_TO_FMP4,t)},e.$ot=function(t){return this.eat(mj.RAW_AUDIO_TO_FMP4,t)},e.Iot=function(){var t=ej(this.pot,this.mot);return t.tu("message",this.Aot),t.tu("error",this.Sw),t},e.eat=function(t,n){var i=++this.kot;this.iat+=1;var e={type:t,id:i,input:n},r=new na;return this.bot.set(i,r),this.$ut.tot(e,[n.data.buffer]),r.Wu},e.Us=function(t){void 0===t&&(t=new hu),this.bot.forEach(function(n){return n.Qu(t)}),this.bot.clear(),this.$ut.Kut()},t}(),Tj=function(t){function n(n){var i;return(i=t.call(this)||this).$ut=void 0,i.rat=n,i}E(n,t);var i=n.prototype;return i.Got=function(){var t;return null!=(t=this.$ut)?t:this.$ut=new Aj(this.rat)},i.Us=function(){this.$ut&&(this.$ut.Us(),this.$ut=void 0)},n}(kj),Sj=function(){function t(t){this.rat=t}return t.prototype.jJ=function(){return new Tj(this.rat)},t}(),Ej=function(){function t(t){this.ZR=void 0,this.ZR=t}var n=t.prototype;return n.jN=function(t){return this.ZR.jN(t)},n.EZ=function(t){return this.ZR.EZ(t)},n.rD=function(t){return this.ZR.rD(t)},t}(),Ij=function(t){function n(n){var i;return(i=t.call(this)||this).dN=void 0,i.wN=void 0,i.sat=new Y_,i.uat=function(t){return i._m(t)},i.dN=n,i.sat.t_=n.$y,i.dN.tu(HN,i.uat),i}E(n,t);var i=n.prototype;return i.qL=function(){return this.dN.Tm},i.YL=function(){return this.dN.Sm},i.JL=function(){return this.dN.sy},i.KL=function(){return this.dN.uy},i.oat=function(){return this.dN.cD},i.aat=function(){return this.dN.oy},i.fat=function(){return this.dN.wy},i.fM=function(){return this.dN.Lm},i.dM=function(){return this.dN.m_},i.wM=function(){return this.dN.Fm},i.gM=function(){return this.dN._y},i._M=function(){return this.sat},i.pY=function(){return this.dN.KF},i.vat=function(){return this.dN.XN},i.dat=function(t){this.dN.XN=t},i.wat=function(t){this.dN.G$=t},i.gat=function(){return this.dN.iq},i.hD=function(){return this.dN.hD()},i.Qy=function(){return this.dN.Qy()},i.Jy=function(){this.dN.Jy()},i.Uu=function(t,n){this.dN.Uu(t,n)},i.aD=function(t){this.dN.aD(t)},i.lm=function(){this.dN.lm()},i.vm=function(){this.dN.vm()},i.OE=function(t,n,i,e,r,s,u){return this.dN.OE(t,n,i,e,r,s,u)},i.QN=function(){return this.dN.QN()},i.ZN=function(t,n,i,e,r){return this.dN.ZN(t,n,i,e,r)},i.LE=function(t){this.dN.LE(t)},i.nD=function(){this.dN.nD()},i.ZU=function(t){return this.dN.ZU(t)},i.Zh=function(t){var n,i;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ur.awrap(this.dN.Zh(t));case 2:return n=e.sent,i=t.gs===mb.FE?this._at(n):this.yat(n),this.wN=i,e.abrupt("return",i);case 6:case"end":return e.stop()}},null,this,null,Ge)},i.wc=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.wN){t.next=4;break}return t.next=3,Ur.awrap(this.wN.Us());case 3:this.wN=void 0;case 4:return t.next=6,Ur.awrap(this.dN.wc());case 6:case"end":return t.stop()}},null,this,null,Ge)},i.U$=function(){this.dN.U$()},i.j$=function(){this.dN.j$()},i.Us=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.ou(),this.dN.au(HN,this.uat),this.sat.t_=void 0,this.sat.Kc(),!this.wN){t.next=8;break}return t.next=7,Ur.awrap(this.wN.Us());case 7:this.wN=void 0;case 8:case"end":return t.stop()}},null,this,null,Ge)},i.H$=function(){this.dN.H$()},i.mat=function(t){this.dN.au(HN,this.uat),this.dN=t,this.sat.t_=t.$y,this.dN.tu(HN,this.uat)},i._m=function(t){this.Ks(t)},T(n,[{key:"pat",get:function(){return this.dN}},{key:"Tm",get:function(){return this.qL()}},{key:"Sm",get:function(){return this.YL()}},{key:"sy",get:function(){return this.JL()}},{key:"JF",get:function(){return this.dN.JF}},{key:"uy",get:function(){return this.KL()}},{key:"cD",get:function(){return this.oat()}},{key:"oy",get:function(){return this.aat()}},{key:"Au",get:function(){return this.dN.Au}},{key:"bT",get:function(){return this.dN.bT}},{key:"xp",get:function(){return this.dN.xp}},{key:"tD",get:function(){return this.dN.tD}},{key:"vy",get:function(){return this.dN.vy},set:function(t){this.dN.vy=t}},{key:"wy",get:function(){return this.fat()}},{key:"gy",get:function(){return this.dN.gy},set:function(t){this.dN.gy=t}},{key:"Lm",get:function(){return this.fM()}},{key:"m_",get:function(){return this.dM()}},{key:"Fm",get:function(){return this.wM()}},{key:"_y",get:function(){return this.gM()}},{key:"$y",get:function(){return this._M()}},{key:"KF",get:function(){return this.pY()}},{key:"z$",get:function(){return this.dN.z$}},{key:"by",get:function(){return this.dN.by},set:function(t){this.dN.by=t}},{key:"X$",get:function(){return this.dN.X$}},{key:"Im",get:function(){return this.dN.Im}},{key:"W$",get:function(){return this.dN.W$}},{key:"XN",get:function(){return this.vat()},set:function(t){this.dat(t)}},{key:"G$",get:function(){return this.dN.G$},set:function(t){this.wat(t)}},{key:"iq",get:function(){return this.gat()}}]),n}(Su),Rj=function(t){function n(n){return t.call(this,n)||this}E(n,t);var i=n.prototype;return i.V$=function(t){this.dN.V$(t)},i.m$=function(){this.dN.m$()},i.Am=function(){this.dN.Am()},T(n,[{key:"HN",get:function(){return this.dN.HN}},{key:"Wz",get:function(){return this.dN.Wz}},{key:"jm",get:function(){return this.dN.jm},set:function(t){this.dN.jm=t}}]),n}(Ij),Nj=function(){function t(t){this.wN=void 0,this.wN=t}var n=t.prototype;return n.mc=function(){return this.wN.cc},n.wM=function(){return this.wN.Fm},n.VU=function(t){return this.wN.VU(t)},n.zU=function(t){return this.wN.zU(t)},n.Us=function(){return Ge.resolve()},T(t,[{key:"cc",get:function(){return this.mc()}},{key:"Fm",get:function(){return this.wM()}},{key:"qy",get:function(){return this.wN.qy}}]),t}(),Dj=function(t){function n(n){var i;return(i=t.call(this,n)||this).bz=void 0,i.Tz=void 0,i.bat=function(t){return i.Aat(t)},i}E(n,t);var i=n.prototype;return i.qL=function(){return this.wN.Tm},i.KL=function(){return this.wN.uy},i.Tat=function(){return this.wN.KU},i.Oz=function(t){this.wN.Oz(t)},i.Lz=function(t,n,i,e){this.wN.Lz(t,n,i,e)},i.TV=function(){this.wN.TV()},i.pV=function(){this.wN.pV()},i.Us=function(){return this.bz&&(this.bz.Us(),this.bz=void 0),this.Tz&&(this.Tz.Us(),this.Tz=void 0),t.prototype.Us.call(this)},i.Sat=function(t){this.wN=t,this.bz?t.yz?this.bz.q5(t.yz):(this.bz.Us(),this.bz=void 0):t.yz&&(this.bz=this.Eat(t.yz),this.bz.tu(JN,this.bat)),this.Tz?t.mz?this.Tz.q5(t.mz):(this.Tz.Us(),this.Tz=void 0):t.mz&&(this.Tz=this.Eat(t.mz),this.Tz.tu(JN,this.bat))},i.Aat=function(t){},T(n,[{key:"yz",get:function(){return this.bz}},{key:"mz",get:function(){return this.Tz}},{key:"Tm",get:function(){return this.qL()}},{key:"uy",get:function(){return this.KL()}},{key:"KU",get:function(){return this.Tat()}}]),n}(Nj),Cj=function(t){function n(n){var i;return(i=t.call(this)||this).Mc=void 0,i.CL=0,i.PL=0,i.Mc=n,i}E(n,t);var i=n.prototype;return i.nV=function(t,n,i){return Ge.reject(new l("Invalid media buffer"))},i.OV=function(){return Ge.reject(new l("Invalid media buffer"))},i.rV=function(t,n,i){return Ge.reject(new l("Invalid media buffer"))},i.KU=function(){return!1},i.TV=function(){},i.CV=function(t,n){},i.PV=function(t,n){},i.Kh=function(t,n,i){return Ge.resolve()},i.lV=function(t,n){return Ge.reject(new l("Invalid media buffer"))},i.Ym=function(t,n){return Ge.reject(new l("Invalid media buffer"))},i.VU=function(t){return!1},i.zU=function(t){return Ge.reject(new l("Invalid media buffer"))},i.Us=function(){this.ou()},T(n,[{key:"IL",get:function(){return this.PL},set:function(t){this.PL=t}},{key:"Tm",get:function(){return TS.RC()}},{key:"cc",get:function(){return this.Mc}},{key:"LV",get:function(){return ym.md}},{key:"MV",get:function(){return TS.RC()}},{key:"Iat",get:function(){return!1}},{key:"AL",get:function(){return this.CL},set:function(t){this.CL=t}}]),n}(Su),Pj=function(t){function n(n){var i;return(i=t.call(this,n)||this).dN=void 0,i}E(n,t);var i=n.prototype;return i.nV=function(t,n,i){return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:return fu(i),e.next=3,Ur.awrap(this.Rat(this.dN.sy,null==n?void 0:n.MJ,null==n?void 0:n.uy));case 3:if(fu(i),t.gs!==YN.dl){e.next=10;break}return e.next=7,Ur.awrap(this.Nat(t,n,i));case 7:return e.abrupt("return",e.sent);case 10:return e.next=12,Ur.awrap(this.Dat(t,n,i));case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}},null,this,null,Ge)},i.Nat=function(t,n,i){var e,r,s,u;return Ur.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=t;case 1:return r=Yd(e.Xi),s=r[0],u=r[1],e={gs:YN.dl,Xi:s},o.prev=4,o.next=7,Ur.awrap(this.Cat(e,n,i));case 7:return u.cancel(new hu).catch(Z),o.abrupt("return");case 11:if(o.prev=11,o.t0=o.catch(4),!RR(o.t0)){o.next=20;break}return o.next=16,Ur.awrap(this.Rat(this.dN.sy,n.MJ,n.uy,i));case 16:if(!o.sent){o.next=20;break}return e={gs:YN.dl,Xi:u},o.abrupt("continue",1);case 20:throw u.cancel(o.t0).catch(Z),o.t0;case 22:o.next=1;break;case 24:case"end":return o.stop()}},null,this,[[4,11]],Ge)},i.Dat=function(t,n,i){return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,fu(i),e.next=5,Ur.awrap(this.Cat(t,n,i));case 5:return e.abrupt("return",e.sent);case 8:if(e.prev=8,e.t0=e.catch(1),!RR(e.t0)){e.next=16;break}return e.next=13,Ur.awrap(this.Rat(this.dN.sy,n.MJ,n.uy,i));case 13:if(!e.sent){e.next=16;break}return e.abrupt("continue",0);case 16:throw e.t0;case 17:e.next=0;break;case 19:case"end":return e.stop()}},null,this,[[1,8]],Ge)},i.Rat=function(t,n,i,e){var r,s,u,o,a;return Ur.async(function(h){for(;;)switch(h.prev=h.next){case 0:r=IR(t,n,i,this.Tm,this.AL,this.IL),s=0;case 2:if(!(s<r.length)){h.next=9;break}return u=r[s],o=u[0],a=u[1],h.next=6,Ur.awrap(this.Pat(o,a,e));case 6:s++,h.next=2;break;case 9:return h.abrupt("return",r.length>0);case 10:case"end":return h.stop()}},null,this,null,Ge)},i.Cat=function(n,i,e){return t.prototype.nV.call(this,n,i,e)},i.Pat=function(n,i,e){return t.prototype.Kh.call(this,n,i,e)},T(n,[{key:"SZ",get:function(){return this.dN},set:function(t){this.dN=t}}]),n}(function(t){function n(n){var i;return(i=t.call(this)||this).I5=void 0,i.Oat=function(t){return i._m(t)},i.I5=n,i.I5.tu(JN,i.Oat),i}E(n,t);var i=n.prototype;return i.xat=function(){return this.I5.IL},i.Bat=function(t){this.I5.IL=t},i.qL=function(){return this.I5.Tm},i.mc=function(){return this.I5.cc},i.Lat=function(){return this.I5.MV},i.Mat=function(){return this.I5.AL},i.Fat=function(t){this.I5.AL=t},i.nV=function(t,n,i){return this.I5.nV(t,n,i)},i.OV=function(){return this.I5.OV()},i.rV=function(t,n,i){return this.I5.rV(t,n,i)},i.KU=function(){return this.I5.KU()},i.TV=function(){this.I5.TV()},i.CV=function(t,n){this.I5.CV(t,n)},i.PV=function(t,n){this.I5.PV(t,n)},i.Kh=function(t,n,i){return this.I5.Kh(t,n,i)},i.lV=function(t,n){return this.I5.lV(t,n)},i.VU=function(t){return this.I5.VU(t)},i.zU=function(t){return this.I5.zU(t)},i._m=function(t){this.Ks(t)},i.Us=function(){this.ou(),this.q5(new Cj(this.cc))},i.q5=function(t){this.I5.au(JN,this.Oat),this.I5=t,this.I5.tu(JN,this.Oat)},T(n,[{key:"IL",get:function(){return this.xat()},set:function(t){this.Bat(t)}},{key:"Tm",get:function(){return this.qL()}},{key:"cc",get:function(){return this.mc()}},{key:"LV",get:function(){return this.I5.LV}},{key:"MV",get:function(){return this.Lat()}},{key:"AL",get:function(){return this.Mat()},set:function(t){this.Fat(t)}}]),n}(Su)),Oj=function(t){function n(n){var i;return(i=t.call(this,n)||this).dN=void 0,i.Sat(n),i}return E(n,t),n.prototype.Eat=function(t){var n=new Pj(t);return n.SZ=this.dN,n},T(n,[{key:"SZ",get:function(){return this.dN},set:function(t){this.dN=t,this.bz&&(this.bz.SZ=t),this.Tz&&(this.Tz.SZ=t)}}]),n}(Dj),xj=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),T(n,[{key:"Mm",get:function(){return this.wN.Mm},set:function(t){this.wN.Mm=t}}]),n}(Nj),Bj=function(t){function n(n){return t.call(this,n)||this}E(n,t);var i=n.prototype;return i.V$=function(t){this.dN.V$(t)},i.m$=function(){this.dN.m$()},i.Am=function(){this.dN.Am()},i.dm=function(){return this.dN.dm()},T(n,[{key:"HN",get:function(){return this.dN.HN}},{key:"Wz",get:function(){return this.dN.Wz}},{key:"py",get:function(){return this.dN.py}},{key:"yy",get:function(){return this.dN.yy}},{key:"jm",get:function(){return this.dN.jm},set:function(t){this.dN.jm=t}}]),n}(Ij),Lj=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.yat=function(t){var n=new Oj(t);return n.SZ=this,n},i._at=function(t){return new xj(t)},T(n,[{key:"pat",get:function(){return this.dN}}]),n}(Rj),Mj=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.yat=function(t){var n=new Oj(t);return n.SZ=this,n},i._at=function(t){return new xj(t)},T(n,[{key:"pat",get:function(){return this.dN}}]),n}(Bj),Fj=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.jN=function(n){return n===ym.xd?new Mj(t.prototype.jN.call(this,n)):n===ym.Od?new Lj(t.prototype.jN.call(this,n)):void 0},i.rD=function(n){var i;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n,e.next=3,Ur.awrap(i.Us());case 3:return e.next=5,Ur.awrap(t.prototype.rD.call(this,i.pat));case 5:case"end":return e.stop()}},null,this,null,Ge)},n}(Ej);function Uj(t){return kw(t)}function jj(t,n){var i=kw(t);return n?""+i+n:""+i}var Hj,Xj=function(){function t(t,n,i,e){this.Uat=t,this.jat=n,this.Hat=i,this.Xat=e}var n=t.prototype;return n.d5=function(t){var n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Ur.awrap(this.Uat.Vat(t.map(Uj)));case 2:return n=i.sent,i.abrupt("return",n.shift());case 4:case"end":return i.stop()}},null,this,null,Ge)},n.Srt=function(t,n){var i=jj(t,n);return this.jat.Du(i)},n.v6=function(t,n){var i,e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:return e=jj(t,n),r.next=3,Ur.awrap(this.Hat.Cu(e));case 3:if(r.t0=i=r.sent,null!=r.t0){r.next=8;break}r.t1=void 0,r.next=9;break;case 8:r.t1=i.data;case 9:return r.abrupt("return",r.t1);case 10:case"end":return r.stop()}},null,this,null,Ge)},n.uF=function(t){return this.Xat.Cu(t)},t}(),Vj=function(){function t(){}var n=t.prototype;return n.zat=function(t){return Ge.resolve(!1)},n.Wat=function(t){return Ge.reject(zj)},n.Gat=function(t){return Ge.reject(zj)},n.Du=function(t){return Ge.resolve(!1)},n.Cu=function(t){return Ge.resolve(void 0)},n.qat=function(t,n){return Ge.resolve(void 0)},n.Vat=function(t){return Ge.resolve([])},n.$at=function(){return Ge.resolve([])},n.Yat=function(t){return Ge.resolve([])},n.Qat=function(t,n){return Ge.resolve([])},n.Kh=function(t){return Ge.reject(zj)},n.Jat=function(t){return Ge.reject(zj)},n.Zat=function(){return Ge.reject(zj)},t}(),zj="Storage disabled",Wj=function(){function t(){this.Kat=void 0,this.j0=void 0,this.tht=void 0,this.nht=void 0,this.iht=void 0,this.Kat=new Vj,this.j0=new Vj,this.tht=new Vj,this.nht=new Vj,this.iht=new Vj}return t.jJ=function(){return Ge.resolve(new t)},t.prototype.eht=function(t){return Ge.reject(Gj)},t}(),Gj="Storage disabled",qj=function(){function t(t){var n=this;this.zs=new na,this.rht=void 0,this.zs.Yu(t),this.zs.Wu.then(function(t){n.rht=t})}var n=t.prototype;return n.zat=function(t){var n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.rht,i.t0){i.next=5;break}return i.next=4,Ur.awrap(this.sht);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.zat(t));case 7:case"end":return i.stop()}},null,this,null,Ge)},n.Wat=function(t,n){var i;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.rht,e.t0){e.next=5;break}return e.next=4,Ur.awrap(this.sht);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.Wat(t,n));case 7:case"end":return e.stop()}},null,this,null,Ge)},n.Gat=function(t,n){var i;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.rht,e.t0){e.next=5;break}return e.next=4,Ur.awrap(this.sht);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.Gat(t,n));case 7:case"end":return e.stop()}},null,this,null,Ge)},n.Du=function(t){var n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.rht,i.t0){i.next=5;break}return i.next=4,Ur.awrap(this.sht);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Du(t));case 7:case"end":return i.stop()}},null,this,null,Ge)},n.Cu=function(t){var n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.rht,i.t0){i.next=5;break}return i.next=4,Ur.awrap(this.sht);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Cu(t));case 7:case"end":return i.stop()}},null,this,null,Ge)},n.qat=function(t,n){var i;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.rht,e.t0){e.next=5;break}return e.next=4,Ur.awrap(this.sht);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.qat(t,n));case 7:case"end":return e.stop()}},null,this,null,Ge)},n.Vat=function(t){var n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.rht,i.t0){i.next=5;break}return i.next=4,Ur.awrap(this.sht);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Vat(t));case 7:case"end":return i.stop()}},null,this,null,Ge)},n.$at=function(){var t;return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.rht,n.t0){n.next=5;break}return n.next=4,Ur.awrap(this.sht);case 4:n.t0=n.sent;case 5:return t=n.t0,n.abrupt("return",t.$at());case 7:case"end":return n.stop()}},null,this,null,Ge)},n.Yat=function(t){var n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.rht,i.t0){i.next=5;break}return i.next=4,Ur.awrap(this.sht);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Yat(t));case 7:case"end":return i.stop()}},null,this,null,Ge)},n.Qat=function(t,n){var i;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.rht,e.t0){e.next=5;break}return e.next=4,Ur.awrap(this.sht);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.Qat(t,n));case 7:case"end":return e.stop()}},null,this,null,Ge)},n.Kh=function(t){var n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.rht,i.t0){i.next=5;break}return i.next=4,Ur.awrap(this.sht);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Kh(t));case 7:case"end":return i.stop()}},null,this,null,Ge)},n.Jat=function(t){var n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.rht,i.t0){i.next=5;break}return i.next=4,Ur.awrap(this.sht);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Jat(t));case 7:case"end":return i.stop()}},null,this,null,Ge)},n.Zat=function(){var t;return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.rht,n.t0){n.next=5;break}return n.next=4,Ur.awrap(this.sht);case 4:n.t0=n.sent;case 5:return t=n.t0,n.abrupt("return",t.Zat());case 7:case"end":return n.stop()}},null,this,null,Ge)},T(t,[{key:"sht",get:function(){return this.zs.Wu}}]),t}(),$j=function(){function t(t){var n=this;this.zs=new na,this.uht=void 0,this.j0=void 0,this.Kat=void 0,this.tht=void 0,this.nht=void 0,this.iht=void 0,this.zs.Yu(t);var i=this.zs.Wu;i.then(function(t){n.uht=t}),this.j0=new qj(i.then(function(t){return t.j0})),this.Kat=new qj(i.then(function(t){return t.Kat})),this.tht=new qj(i.then(function(t){return t.tht})),this.nht=new qj(i.then(function(t){return t.nht})),this.iht=new qj(i.then(function(t){return t.iht}))}return t.prototype.eht=function(t){var n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.uht,i.t0){i.next=5;break}return i.next=4,Ur.awrap(this.oht);case 4:i.t0=i.sent;case 5:return n=i.t0,i.next=8,Ur.awrap(n.eht(t));case 8:return i.abrupt("return",i.sent);case 9:case"end":return i.stop()}},null,this,null,Ge)},T(t,[{key:"oht",get:function(){return this.zs.Wu}}]),t}();function Yj(t){return new l("This storage cannot handle persistency type "+t)}!function(t){t.aht="readonly",t.hht="readwrite"}(Hj||(Hj={}));var Qj=function(){function t(){this.zo=[]}var n=t.prototype;return n.zat=function(t){return Ge.resolve("temporary"===t)},n.Wat=function(t,n){return void 0===n&&(n="temporary"),"temporary"!==n?Ge.reject(Yj(n)):(this.cht(t.key),this.zo.push(t),Ge.resolve())},n.Gat=function(t,n){if(void 0===n&&(n="temporary"),"temporary"!==n)return Ge.reject(Yj(n));for(var i=0;i<t.length;i++){var e=t[i];this.cht(e.key)}for(var r=0;r<t.length;r++){var s=t[r];this.zo.push(s)}return Ge.resolve()},n.Du=function(t){return Ge.resolve(Boolean(this.fht(t)))},n.Cu=function(t){return Ge.resolve(this.fht(t))},n.qat=function(t,n){return Ge.resolve(this.vht(t,n))},n.Vat=function(t){var n=this,i=t?t.map(function(t){return n.fht(t)}):this.zo;return Ge.resolve(i.filter(H))},n.$at=function(){return Ge.resolve([].concat(this.zo))},n.Yat=function(t){return this.Qat(t,"key")},n.Qat=function(t,n){var i=this.zo.filter(function(i){return i[n]===t});return Ge.resolve(i)},n.Kh=function(t){return this.cht(t),Ge.resolve()},n.Jat=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.cht(i)}return Ge.resolve()},n.Zat=function(){return Zs(this.zo),Ge.resolve()},n.fht=function(t){return this.vht(t,"key")},n.vht=function(t,n){for(var i=0,e=this.zo;i<e.length;i++){var r=e[i];if(r[n]===t)return r}},n.cht=function(t){var n=this.fht(t);n&&Ys(this.zo,n)},t}(),Jj=function(){function t(){this.Kat=void 0,this.j0=void 0,this.tht=void 0,this.nht=void 0,this.iht=void 0,this.Kat=new Qj,this.j0=new Qj,this.tht=new Qj,this.nht=new Qj,this.iht=new Qj}return t.jJ=function(){return Ge.resolve(new t)},t.prototype.eht=function(t){return t(this)},t}(),Zj=function(){function t(t){this.dht=t}var n=t.prototype;return n.zat=function(t){var n,i,e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.dht;case 1:if(!(n<i.length)){r.next=10;break}return e=i[n],r.next=5,Ur.awrap(e.zat(t));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:n++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,this,null,Ge)},n.Wat=function(t,n){var i,e,r;return Ur.async(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n&&(n="persistent"),i=0,e=this.dht;case 2:if(!(i<e.length)){s.next=11;break}return r=e[i],s.next=6,Ur.awrap(r.zat(n));case 6:if(!s.sent){s.next=8;break}return s.abrupt("return",r.Wat(t));case 8:i++,s.next=2;break;case 11:throw Yj(n);case 12:case"end":return s.stop()}},null,this,null,Ge)},n.Gat=function(t,n){var i,e,r;return Ur.async(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n&&(n="persistent"),i=0,e=this.dht;case 2:if(!(i<e.length)){s.next=11;break}return r=e[i],s.next=6,Ur.awrap(r.zat(n));case 6:if(!s.sent){s.next=8;break}return s.abrupt("return",r.Gat(t));case 8:i++,s.next=2;break;case 11:throw Yj(n);case 12:case"end":return s.stop()}},null,this,null,Ge)},n.Du=function(t){var n,i,e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.dht;case 1:if(!(n<i.length)){r.next=10;break}return e=i[n],r.next=5,Ur.awrap(e.Du(t));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:n++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,this,null,Ge)},n.Cu=function(t){var n,i,e,r;return Ur.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=0,i=this.dht;case 1:if(!(n<i.length)){s.next=11;break}return e=i[n],s.next=5,Ur.awrap(e.Cu(t));case 5:if(!(r=s.sent)){s.next=8;break}return s.abrupt("return",r);case 8:n++,s.next=1;break;case 11:return s.abrupt("return",void 0);case 12:case"end":return s.stop()}},null,this,null,Ge)},n.qat=function(t,n){var i,e,r,s;return Ur.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.dht;case 1:if(!(i<e.length)){u.next=11;break}return r=e[i],u.next=5,Ur.awrap(r.qat(t,n));case 5:if(!(s=u.sent)){u.next=8;break}return u.abrupt("return",s);case 8:i++,u.next=1;break;case 11:return u.abrupt("return",void 0);case 12:case"end":return u.stop()}},null,this,null,Ge)},n.Vat=function(t){var n,i,e,r;return Ur.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=[],i=0,e=this.dht;case 2:if(!(i<e.length)){s.next=13;break}return r=e[i],s.t0=n.push,s.t1=n,s.next=8,Ur.awrap(r.Vat(t));case 8:s.t2=s.sent,s.t0.apply.call(s.t0,s.t1,s.t2);case 10:i++,s.next=2;break;case 13:return s.abrupt("return",n);case 14:case"end":return s.stop()}},null,this,null,Ge)},n.$at=function(){var t,n,i,e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:t=[],n=0,i=this.dht;case 2:if(!(n<i.length)){r.next=13;break}return e=i[n],r.t0=t.push,r.t1=t,r.next=8,Ur.awrap(e.$at());case 8:r.t2=r.sent,r.t0.apply.call(r.t0,r.t1,r.t2);case 10:n++,r.next=2;break;case 13:return r.abrupt("return",t);case 14:case"end":return r.stop()}},null,this,null,Ge)},n.Yat=function(t){var n,i,e,r;return Ur.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=[],i=0,e=this.dht;case 2:if(!(i<e.length)){s.next=13;break}return r=e[i],s.t0=n.push,s.t1=n,s.next=8,Ur.awrap(r.Yat(t));case 8:s.t2=s.sent,s.t0.apply.call(s.t0,s.t1,s.t2);case 10:i++,s.next=2;break;case 13:return s.abrupt("return",n);case 14:case"end":return s.stop()}},null,this,null,Ge)},n.Qat=function(t,n){var i,e,r,s;return Ur.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=[],e=0,r=this.dht;case 2:if(!(e<r.length)){u.next=13;break}return s=r[e],u.t0=i.push,u.t1=i,u.next=8,Ur.awrap(s.Qat(t,n));case 8:u.t2=u.sent,u.t0.apply.call(u.t0,u.t1,u.t2);case 10:e++,u.next=2;break;case 13:return u.abrupt("return",i);case 14:case"end":return u.stop()}},null,this,null,Ge)},n.Kh=function(t){var n,i,e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.dht;case 1:if(!(n<i.length)){r.next=8;break}return e=i[n],r.next=5,Ur.awrap(e.Kh(t));case 5:n++,r.next=1;break;case 8:case"end":return r.stop()}},null,this,null,Ge)},n.Jat=function(t){var n,i,e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.dht;case 1:if(!(n<i.length)){r.next=8;break}return e=i[n],r.next=5,Ur.awrap(e.Jat(t));case 5:n++,r.next=1;break;case 8:case"end":return r.stop()}},null,this,null,Ge)},n.Zat=function(){var t,n,i;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n=this.dht;case 1:if(!(t<n.length)){e.next=8;break}return i=n[t],e.next=5,Ur.awrap(i.Zat());case 5:t++,e.next=1;break;case 8:case"end":return e.stop()}},null,this,null,Ge)},t}();function Kj(t){return function(){var n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Ur.awrap(Ge.all(t.map(function(t){return t()})));case 2:return n=i.sent,i.abrupt("return",tH.jJ(n));case 4:case"end":return i.stop()}},null,null,null,Ge)}}var tH=function(){function t(t){this.wht=void 0,this.ght=void 0,this._ht=void 0,this.yht=void 0,this.mht=void 0,this.pht=void 0,this.wht=t,this.ght=new Zj(t.map(function(t){return t.nht})),this._ht=new Zj(t.map(function(t){return t.iht})),this.yht=new Zj(t.map(function(t){return t.tht})),this.mht=new Zj(t.map(function(t){return t.Kat})),this.pht=new Zj(t.map(function(t){return t.j0}))}return t.jJ=function(n){return Ge.resolve(new t(n))},t.prototype.eht=function(n){var i=this;if(0===this.wht.length)return n(this);var e=[],r=0;return this.wht[r].eht(function s(u){return e.push(u),++r<i.wht.length?i.wht[r].eht(s):n(new t(e))})},T(t,[{key:"nht",get:function(){return this.ght}},{key:"iht",get:function(){return this._ht}},{key:"tht",get:function(){return this.yht}},{key:"Kat",get:function(){return this.mht}},{key:"j0",get:function(){return this.pht}}]),t}(),nH=function(){function t(t){this.kht=void 0,this.bht=[],this.Aht=!0,this.kht=t}var n=t.prototype;return n.jJ=function(){return new $j(this.Tht())},n.Tht=function(){var t,n,i;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Aht){e.next=4;break}return e.next=3,Ur.awrap(Ge.resolve());case 3:this.Aht=!1;case 4:t=0,n=this.bht;case 5:if(!(t<n.length)){e.next=18;break}return i=n[t],e.prev=7,e.next=10,Ur.awrap(Kj([Jj.jJ,i])());case 10:return e.abrupt("return",e.sent);case 13:e.prev=13,e.t0=e.catch(7);case 15:t++,e.next=5;break;case 18:return e.next=20,Ur.awrap(Kj([Jj.jJ,this.kht])());case 20:return e.abrupt("return",e.sent);case 21:case"end":return e.stop()}},null,this,[[7,13]],Ge)},n.DU=function(t){if(!this.Aht)throw new l("Registration overdue");this.bht.push(t)},t}(),iH=function(){function t(){}return t.DU=function(n){t.ZR.DU(n)},T(t,null,[{key:"qn",get:function(){return t.Sht||(t.Sht=t.ZR.jJ()),t.Sht}}]),t}();iH.ZR=new nH(Wj.jJ),iH.Sht=void 0;var eH=function(t){function n(n,i,e,r,s,u){var o,a=new Fj(n),h=a.jN(ym.xd);return(o=t.call(this,h,i,e,r,s,u)||this).vN=void 0,o.vN=a,o}return E(n,t),n.prototype.Kc=function(){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ur.awrap(t.prototype.Kc.call(this));case 2:return n.next=4,Ur.awrap(this.vN.rD(this.dN));case 4:case"end":return n.stop()}},null,this,null,Ge)},n}(function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.dm=function(){if(void 0!==this.dN.yy)return this.dN.dm()},T(n,[{key:"jm",get:function(){return!1},set:function(t){}}]),n}(jU));dS(new(function(t){function i(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).lD=QT.M_,n}E(i,t);var e=i.prototype;return e.FI=function(t,n,i,e,r,s){return new eH(n,i,r,(u=e.libraryLocation,$U.Ac()?new $U:new aj(u)),new Sj(e.libraryLocation),new Xj(iH.qn.tht,iH.qn.Kat,iH.qn.j0,iH.qn.iht));var u},e.vD=function(i,e){var r;return Ur.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Ur.awrap(t.prototype.vD.call(this,i,e));case 2:if(s.sent){s.next=4;break}return s.abrupt("return",!1);case 4:if(null==(r=i.hls)||!r.useLegacy){s.next=8;break}if(Js(FN,"hls-legacy")){s.next=7;break}throw new lf(n.ErrorCode.SOURCE_NOT_SUPPORTED,'The given source requires the "hls-legacy" feature to be enabled.');case 7:return s.abrupt("return",!1);case 8:return s.abrupt("return",!0);case 9:case"end":return s.stop()}},null,this,null,Ge)},e.dD=function(){return!0},i}(function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.vD=function(n,i){return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.MediaSource){e.next=2;break}return e.abrupt("return",!1);case 2:if(!F.hn&&!F.Vn){e.next=4;break}return e.abrupt("return",!1);case 4:if(!i.manifestMetadataTrack){e.next=6;break}return e.abrupt("return",!1);case 6:return e.abrupt("return",t.prototype.vD.call(this,n,i));case 7:case"end":return e.stop()}},null,this,null,Ge)},n}(HU)))),sB.e_=function(){return!(!r||!r.THEOplayerDebugLogsEnabled)};var rH=[];function sH(){rH.shift()()}var uH,oH=function(){function t(t){this.Eht=void 0,this.Iht=void 0,this.Rht=void 0,this.Rht=t}var n=t.prototype;return n.Nht=function(t){return this.Eht=this.Eht||{},void 0===this.Eht[t]&&(this.Eht[t]=[]),this.Eht[t]},n.addEventListener=function(t,n){var i=this.Nht(t);-1===i.indexOf(n)&&i.push(n)},n.uu=function(t){(this.Iht||(this.Iht=[])).push(t)},n.removeEventListener=function(t,n){var i=this.Nht(t);n?Ys(i,n):i.length=0},n.du=function(t){var n=this.Iht;n&&Ys(n,t)},n.ou=function(){this.Eht=void 0},n.dispatchEvent=function(t,n){if(n)return i=this.dispatchEvent.bind(this,t),rH.push(i),void a(sH,0);var i;"string"==typeof t&&(t={type:t});for(var e=this.Nht(t.type).slice(),r=this.Iht&&this.Iht.slice(),s=0;s<e.length;s++){e[s].call(this.Rht||this,t)}if(r)for(var u=0;u<r.length;u++){r[u].call(this.Rht||this,t)}},n.Dht=function(t){return Boolean(this.Eht&&this.Eht[t]&&this.Eht[t].length)},n.Cht=function(){return this.Eht?w.keys(this.Eht):[]},t}(),aH=function(t){function n(n,i){var e,r=fH[n];return(e=t.call(this,r?r.mu:"")||this).code=void 0,e.info=void 0,e.helpLink=void 0,e.helpLinkText=void 0,e.code=n,e.info=i,e.helpLink=r&&r.Pht,e.helpLinkText=r&&r.Oht,e}return E(n,t),T(n,[{key:"name",get:function(){return"THEOplayerError"}}]),n}(nn);!function(t){t.xht="LICENSE_INVALID",t.Bht="MANIFEST_NOT_FOUND",t.Lht="MANIFEST_CORS_ERROR",t.Mht="INVALID_HLS_MANIFEST",t.Fht="PLAYBACK_ISSUE",t.Uht="AUDIO_ISSUE",t.jht="BROWSER_SUPPORT_ISSUE",t.Hht="INVALID_KEY",t._ot="DECRYPTION_ERROR",t.Xht="AD_BLOCK_DETECTED",t.Vht="THEOPLAYER_NOT_INITIALIZED",t.d_="ERROR",t.zht="MANIFEST_SEQUENCE_RESET_ERROR",t.Wht="PLAYER_INCORRECTLY_CONFIGURED",t.Ght="UNSUPPORTED"}(uH||(uH={}));for(var hH,cH=[{Ju:uH.xht,mu:"The license for this player is invalid. Please contact your service provider for additional information."},{Ju:uH.Bht,mu:"Could not load the manifest file."},{Ju:uH.Lht,mu:"Could not load the manifest file. Make sure the source is set correctly and that CORS support is enabled.",Pht:"https://www.theoplayer.com/documentation/cors.html",qht:!1},{Ju:uH.Mht,mu:"The source of the player is an invalid HLS manifest.",Pht:"https://developer.apple.com/library/ios/technotes/tn2288/_index.html"},{Ju:uH.Fht,mu:"There appears to be a playback issue."},{Ju:uH.Uht,mu:"There is an audio issue. Please contact your service provider with the code below for additional information."},{Ju:uH.jht,mu:"Your browser doesn't support a feature. Try upgrading your browser or please contact your service provider referring to the code below."},{Ju:uH.Hht,mu:"There is an invalid key being decrypted. Please contact your service provider with the code below for additional information."},{Ju:uH._ot,mu:"There is a decryption error. Please contact your service provider with the code below for additional information."},{Ju:uH.Xht,mu:"An ad blocker was detected. Please turn it off and refresh the page in order to watch this video."},{Ju:uH.Vht,mu:"THEOplayer hasn't been initialized yet. Please check your configuration or wait."},{Ju:uH.d_,mu:"THEOplayer encountered an error. If this issue holds, please contact your service provider."},{Ju:uH.zht,mu:"The video stream has been reset. THEOplayer will attempt to reload the source."},{Ju:uH.Wht,mu:"The player is incorrectly configured.",Pht:"https://support.theoplayer.com/hc/en-us/articles/214343065-Player-API"},{Ju:uH.Ght,mu:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."}],fH={},lH=0;lH<cH.length;lH++){var vH=cH[lH];fH[vH.Ju]=vH}function dH(t,n){return/^https?:\/\//.exec(t)?t:/^:\/\//.exec(t)?t:0===t.indexOf("/")?n.substr(0,n.indexOf("/",8))+t:n+t}function wH(t,n){return t.length>=n.length&&0===t.lastIndexOf(n,0)}function gH(t){var n=t.indexOf(":");return-1!==n&&t.length>n+1?t.substring(n+1):null}function _H(t){for(var n={},i=/(:|,) ?([A-Z0-9\-]+)=((0(X|x)([0-9a-fA-F]+))|(([0-9]+(\.[0-9]+)?)x([0-9]+(\.[0-9]+)?))|([0-9]+(\.[0-9]+)?)|([A-Za-z\-]+[A-Za-z\-0-9]*)|("(([^"]*\\")*[^"]*)"))/g,e=i.exec(t);null!==e;){var r=e[2],s=void 0;s=void 0!==e[6]?ta(e[6]):void 0!==e[7]?{width:y(e[8]),height:y(e[10])}:void 0!==e[12]?y(e[12]):void 0!==e[14]?e[14]:void 0!==e[16]?e[16]:null,n[r.toLowerCase()]=s,e=i.exec(t)}return n}var yH,mH="x-";function pH(t,n,i,e){var r=t.split("@"),s=dH(n,i),u=_(r[0],10),o=r[1]?_(r[1],10):e;return{YZ:s,toString:function(){return s},indexOf:function(t){return s.indexOf(t)},$ht:{WD:o,qD:o+u-1}}}function kH(t,n,i){var e,r,s,u,o,a=0,h=0,c=0,f=null,l=0,v=!1,d=[],w=null,m=0,k=t.match(/[^\r\n]+/g);if(!k||"#EXTM3U"!==k[0].trim())throw new aH(uH.Mht,{code:"HMP2670",uri:n});for(var b={live:!0,hasEnd:!1,isEvent:!1,streams:[],fragments:[],media:[],dateRanges:[],isMasterPlaylist:!1,uri:n,metadata:null,duration:NaN,estimateDuration:NaN},A=1;A<k.length;A+=1){var T=k[A].trim();if(d.push(T+""),wH(T,"#EXT")){if(wH(T,"#EXTINF"))c=(c=y(gH(T)))||.5;else if(wH(T,"#EXT-X-BYTERANGE"))f=gH(T);else if(wH(T,"#EXT-X-KEY"))(s=_H(T)).method&&"NONE"===s.method?s=null:s.absoluteURI=dH(s.uri,i);else if(wH(T,"#EXT-X-DISCONTINUITY")&&!wH(T,"#EXT-X-DISCONTINUITY-"))v=!0,l+=1;else if(wH(T,"#EXT-X-STREAM-INF"))(r=_H(T)).H2=h++,(A+=1)<k.length&&(r.uri=dH(k[A].trim(),i),b.streams.push(r));else if(wH(T,"#EXT-X-MEDIA")&&!wH(T,"#EXT-X-MEDIA-"))(u=_H(T)).uri&&(u.uri=dH(u.uri,i)),b.media.push(u);else if(wH(T,"#EXT-X-PROGRAM-DATE-TIME"))w=new Date(gH(T));else if(wH(T,"#EXT-X-DISCONTINUITY-SEQUENCE"))b.Yht=!0,b.Qht=_(gH(T),10);else if(wH(T,"#EXT-X-MEDIA-SEQUENCE"))a=_(gH(T),10),b.Jht=!0,b.Zht=a;else if(wH(T,"#EXT-X-TARGETDURATION"))b.targetDuration=_(gH(T),10),b.hasTargetDuration=!0;else if(wH(T,"#EXT-X-PLAYLIST-TYPE:EVENT"))b.isEvent=!0;else if(wH(T,"#EXT-X-ENDLIST"))b.live=!1,b.hasEnd=!0;else if(wH(T,"#EXT-X-MAP")){var S=_H(T),E=S.uri,I=S.byterange;o=I?pH(I,E,i,0):dH(E,i)}else if(wH(T,"#EXT-X-VERSION"))b.version=_(gH(T),10);else if(wH(T,"#EXT-X-DATERANGE")){var R=bH(T);b.dateRanges.push(R)}}else if(wH(T,"#"));else if(0!==T.length){f?m=(e=pH(f,T,i,m)).$ht.qD+1:e=dH(T,i);var N,D=s&&jr({},s);s&&void 0===s.iv&&(N=a%4294967295,D.iv=new p([0,0,0,0,0,0,0,0,0,0,0,0,N>>24,N>>16,N>>8,255&N])),b.fragments.push({start:0,duration:c,uri:e,H2:a,Kht:v,f2:l,key:D,h2:w,tct:d,nct:!1,ict:o}),a+=1,c=0,f=null,v=!1,w=null,d=[]}}return b.hasEnd&&b.fragments.length&&(b.fragments[b.fragments.length-1].nct=!0),b.isMasterPlaylist=0!==b.streams.length,b.metadata=function(t){var n=t&&t.fragments&&t.fragments.length,i=t.targetDuration,e=0,r=0;if(!n)return null;for(var s=0,u=t.fragments;s<u.length;s++){var o=u[s];r+=o.duration,i=g.min(i,o.duration),e=g.max(e,o.duration)}return{ect:i,rct:e,sct:n?t.fragments[n-1].duration:0,uct:r/n,act:r}}(b),function(t){if(!t.isMasterPlaylist){t.duration=0;for(var n=0,i=t.fragments;n<i.length;n++){var e=i[n];t.duration+=e.duration}t.estimateDuration=t.duration/t.fragments.length,t.targetDuration||(t.targetDuration=t.estimateDuration),t.live&&(t.fragments.length<10?t.duration=-.001:t.duration=-(t.duration-3*t.targetDuration))}}(b),function(t){for(var n=0,i=0,e=t.fragments;i<e.length;i++){var r=e[i];r.start=n,n+=r.duration}}(b),function(t){t.streams.sort(function(t,n){return t.bandwidth&&n.bandwidth&&t.bandwidth!==n.bandwidth?t.bandwidth-n.bandwidth:t.resolution&&n.resolution&&t.resolution.width!==n.resolution.width&&t.resolution.height!==n.resolution.height?t.resolution.height*t.resolution.width-n.resolution.height*n.resolution.width:t.H2-n.H2})}(b),function(t,n){for(var i={},e=0;e<t.media.length;e+=1){var r=t.media[e];r.type===n&&r.uri&&(i[r["group-id"]]=(i[r["group-id"]]||0)+1)}for(var s=t.media.length-1;s>=0;s-=1){var u=t.media[s];u.type!==n||i[u["group-id"]]||Qs(t.media,s)}}(b,"VIDEO"),function(t){for(var n=0,i=0,e=t.streams;i<e.length;i++)e[i].id=n,n+=1;for(var r=0,s=t.media;r<s.length;r++)s[r].id=n,n+=1}(b),function(t){for(var n=function(n,i){var e=i[n];"video"in e&&(e.media=function(t,n){for(var i,e=t.length>>>0,r=arguments[1],s=0;s<e;s++)if(i=t[s],n.call(r,i,s,t))return i}(t.media,function(t){return t["group-id"]==e.video}))},i=0,e=t.streams;i<e.length;i++)n(i,e)}(b),b}function bH(t){var n=_H(t),i=function(t){for(var n={},i=0,e=w.keys(t);i<e.length;i++){var r=e[i];As(r,mH)&&(n[r.substr(mH.length)]=t[r])}return n}(n),e=n["start-date"]?new Date(n["start-date"]):void 0,r=n["end-date"]?new Date(n["end-date"]):void 0,s="YES"===n["end-on-next"]||void 0,u=n["scte35-cmd"]?n["scte35-cmd"].buffer:void 0,o=n["scte35-out"]?n["scte35-out"].buffer:void 0,a=n["scte35-in"]?n["scte35-in"].buffer:void 0;return{r_:n.id,V0:n.class,cD:e,z0:r,uy:n.duration,W0:n["planned-duration"],X0:s,G0:i,$0:u,Q0:o,J0:a}}!function(t){t.NO_EXTM3U="HMP2670",t[t.DATERANGE_INVALID_1=101]="DATERANGE_INVALID_1",t[t.DATERANGE_INVALID_2=102]="DATERANGE_INVALID_2",t[t.DATERANGE_INVALID_3=103]="DATERANGE_INVALID_3",t[t.DATERANGE_INVALID_4=104]="DATERANGE_INVALID_4",t[t.DATERANGE_INVALID_5=105]="DATERANGE_INVALID_5",t[t.DATERANGE_INVALID_6=106]="DATERANGE_INVALID_6"}(yH||(yH={}));(hH={})[yH.NO_EXTM3U]="The manifest does not contain a EXTM3U tag.",hH[yH.DATERANGE_INVALID_1]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST have a CLASS attribute.",hH[yH.DATERANGE_INVALID_2]="Other EXT-X-DATERANGE tags with the same CLASS attribute MUST NOT specify Date Ranges that overlap.",hH[yH.DATERANGE_INVALID_3]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST NOT contain DURATION or END-DATE attributes.",hH[yH.DATERANGE_INVALID_4]="If a Playlist contains an EXT-X-DATERANGE tag, it MUST also contain at least one EXT-X-PROGRAM-DATE-TIME tag.",hH[yH.DATERANGE_INVALID_5]="If a Playlist contains two EXT-X-DATERANGE tags with the same ID attribute value, then any AttributeName that appears in both tags MUST have the same AttributeValue.",hH[yH.DATERANGE_INVALID_6]="If a Date Range contains a START-DATE attribute and a DURATION attribute and an END-DATE attribute, the value of the END-DATE attribute MUST be equal to the value of the START-DATE attribute plus the value of the DURATION attribute.";var AH=function(){function t(){}return t.prototype.WA=function(t,n,i){return kH(t,n,i)},t}(),TH=3,SH=function(){function t(t,n,i){void 0===i&&(i=TH),this.DE=t,this.i5=n,this.hct=i}var n=t.prototype;return n.cct=function(t,n,i){return this.fct(t,n,!0,i)},n.lct=function(t,n,i){return this.fct(t,n,!1,i)},n.fct=function(t,n,i,e){var r,s,u,o,a,h,c,f;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:s=100,u=0;case 2:if(!(u<this.hct)){i.next=31;break}if(!(u>0)){i.next=7;break}return i.next=6,Ur.awrap(ku(s,e));case 6:s<1e4&&(s=g.min(2*s,1e4));case 7:o=0;case 8:if(!(o<t.length)){i.next=28;break}return a=t[o],i.prev=10,h=new _w({_d:a,fd:Lf.Kn,hd:n,jd:this.i5,Ld:lw.GET,gs:vw.pd,Fd:dw.md,$s:e}),i.next=14,Ur.awrap(this.DE.dd(h));case 14:return c=i.sent,i.next=17,Ur.awrap(c.Xv(e));case 17:return f=i.sent,i.abrupt("return",{vct:f,dct:a,wd:c.wd});case 22:i.prev=22,i.t0=i.catch(10),r=i.t0;case 25:o++,i.next=8;break;case 28:u++,i.next=2;break;case 31:throw r;case 32:case"end":return i.stop()}},null,this,[[10,22]],Ge)},t}(),EH=function(){function t(t){this.wct=void 0,this.wct=t}return t.prototype.gct=function(t,n,i,e){var r,s,u,o;return Ur.async(function(a){for(;;)switch(a.prev=a.next){case 0:void 0===e&&(e=!1),s=0,u=this.wct;case 2:if(!(s<u.length)){a.next=17;break}return o=u[s],a.prev=4,a.next=7,Ur.awrap(o.gct(t,n,i,e));case 7:return a.abrupt("return",a.sent);case 10:a.prev=10,a.t0=a.catch(4),lu(a.t0),r=a.t0;case 14:s++,a.next=2;break;case 17:throw r;case 18:case"end":return a.stop()}},null,this,[[4,10]],Ge)},t}(),IH=function(){function t(t){this.n5=t}return t.prototype.gct=function(t,n,i,e){var r;return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ur.awrap(this.n5.d5(t));case 2:if(!(r=n.sent)){n.next=7;break}return n.abrupt("return",{vct:r.data,dct:r.locationURL,wd:r.responseURL});case 7:throw new l("Manifest fetch from cache unsuccesful");case 8:case"end":return n.stop()}},null,this,null,Ge)},t}(),RH=function(){function t(t){this._ct=t}return t.prototype.gct=function(t,n,i,e){return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0===e&&(e=!1),!e){r.next=7;break}return r.next=4,Ur.awrap(this._ct.cct(t,n,i));case 4:return r.abrupt("return",r.sent);case 7:return r.next=9,Ur.awrap(this._ct.lct(t,n,i));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,Ge)},t}();function NH(t,n){return new EH([new IH(n),new RH(t)])}var DH=function(){function t(t,n,i){this.yct=t,this.mct=n,this.pct=i}var n=t.prototype;return n.gct=function(t,n,i,e){var r;return Ur.async(function(s){for(;;)switch(s.prev=s.next){case 0:return void 0===e&&(e=!1),s.next=3,Ur.awrap(this.yct.gct(t,n,i,e));case 3:return r=s.sent,s.next=6,Ur.awrap(this.kct(r));case 6:return s.abrupt("return",r);case 7:case"end":return s.stop()}},null,this,null,Ge)},n.kct=function(t){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ur.awrap(this.mct.Wat({key:Uj(t.dct),locationURL:kw(t.dct),responseURL:kw(t.wd),data:t.vct,references:[this.pct.r_]}));case 2:case"end":return n.stop()}},null,this,null,Ge)},t}();function CH(t){return-1===(t=t.split("#")[0].split("?")[0]).indexOf("/")?t:t.substring(0,t.lastIndexOf("/")+1)}var PH,OH,xH=function(){function t(t,n,i){this.Mc=void 0,this.DE=void 0,this.yct=void 0,this.bct=void 0,this.bct=new AH,this.Mc=t,this.DE=i;var e=this.Mc&&this.Mc.crossOrigin===iy.U_,r=new SH(i,e,1);this.yct=NH(r,new Xj(iH.qn.tht,iH.qn.Kat,iH.qn.j0,iH.qn.iht))}var n=t.prototype;return n.Zh=function(t,n,i){var e=this.Uw(t,n);return i&&e.then(function(t){return i(null,t)},function(t){return i(t)}),e},n.Uw=function(t,n){var i,e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Ur.awrap(this.yct.gct([t],n));case 3:return i=r.sent,t=i.wd,e=this.bct.WA(i.vct,t,CH(t)),r.abrupt("return",{xy:e,Act:i.vct});case 10:if(r.prev=10,r.t0=r.catch(0),!(r.t0 instanceof Iw)){r.next=16;break}throw new aH(uH.Bht,{code:"MFL8600",uri:t});case 16:if(!(r.t0 instanceof Rw)){r.next=24;break}if(0!==r.t0.iw.od){r.next=21;break}throw new aH(uH.Lht,{code:"MFL3900",uri:t,status:r.t0.iw.od});case 21:throw new aH(uH.Bht,{code:"MFL4100",uri:t,status:r.t0.iw.od});case 22:r.next=25;break;case 24:throw new aH(uH.d_,{error:r.t0,uri:t});case 25:case"end":return r.stop()}},null,this,[[0,10]],Ge)},t}(),BH=function(t){function n(n,i){var e;return(e=t.call(this)||this).Tct=void 0,e.Sct=void 0,e.Ect=void 0,e.Ict=void 0,e.Rct=void 0,e.Nct=void 0,e.Dct=void 0,e.gN=void 0,e.Tct=new xH(i||{},iH.qn.tht,n),e}E(n,t);var i=n.prototype;return i.Zy=function(){void 0!==this.Ict&&(h(this.Ict),this.Ict=void 0),this.Ect&&this.Ect.dd&&(this.Ect=void 0)},i.Cct=function(t){if(this.Dct)for(var n=0,i=this.Dct.fragments;n<i.length;n++){var e=i[n];if(e.uri===t)return e}},n.Pct=function(t,n,i,e){var r,s=t.targetDuration,u=t.metadata;return r=t.fragments.length&&u&&(!s||u.act<3*s)?1e3*u.ect:s?1e3*s:1e4,i===n&&(r/=2),r=g.max(r-e,1e3)},i.Oct=function(t){if(t.fragments.length>0)for(var n=this.Cct(t.fragments[0].uri),i=n&&n.H2||0,e=0,r=t.fragments;e<r.length;e++){r[e].H2+=i}},i.xct=function(t,i,e,r,s,u){var o=this;if(this.Ect&&e===this.Ect.dd){var h=bI()-i;if(r){this.Ect=void 0,this.gN=r;var c={type:"Au",Au:r};return this.dispatchEvent(c),s&&s(r)}this.Ect=void 0;var f=u.xy,l=u.Act;f.Jht||this.Oct(f),t===this.Sct&&(this.Nct=f),this.Dct=f;var v=n.Pct(f,l,this.Rct,h);f.live?f.isMasterPlaylist||(this.Ict=a(function(){return o.Uw(t)},v)):this.Zy(),s&&s(r,u);var d={type:"Bct",manifest:f,manifestText:l};this.dispatchEvent(d),this.Rct=l}},i.Uw=function(t,n){var i=this,e=bI(),r=t;h(this.Ict),this.Ict=void 0;var s=this.Tct.Zh(r,{},function(r,u){return i.xct(t,e,s,r,n,u)});this.Ect={dd:s,_d:t}},i.WD=function(t,n){var i,e,r,s=this,u=!1;(r=t||(this.Dct?this.Dct.uri:this.Sct))&&(this.Ect&&this.Ect._d===t?n&&(i=function(t){s.removeEventListener("Au",e),s.removeEventListener("Bct",i);var r=t;n(null,{xy:r.manifest,Act:r.manifestText})},e=function(t){s.removeEventListener("Au",e),s.removeEventListener("Bct",i),n(t.Au)},this.addEventListener("Au",e),this.addEventListener("Bct",i)):(this.Zy(),this.Uw(r,function(t,i){if(!u)return u=!0,n&&n(t,i)})))},i.Lct=function(t){t&&(this.Rct=void 0,this.Nct&&this.Nct.isMasterPlaylist?this.WD(t.uri):this.Dct&&!this.Mct()&&this.WD(this.Dct.uri))},i.Kc=function(){this.Zy(),this.ou()},i.Mct=function(){return!!this.Ect||!!this.Ict||!(!this.Dct||this.Dct.live)},T(n,[{key:"xy",get:function(){return this.Dct}},{key:"Fct",get:function(){return this.Nct}},{key:"Uct",get:function(){return this.Sct},set:function(t){this.Zy(),this.Rct=void 0,this.Nct=void 0,this.Dct=void 0,this.Sct=t}}]),n}(oH),LH=function(t){function n(){return t.call(this,"jct")||this}return E(n,t),n}(Iu),MH=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Hct=void 0,r.Xct=void 0,r.Vct=void 0,r.xrt=void 0,r.zct=void 0,r.DE=void 0,r.EG=void 0,r.Wct=void 0,r.Gct=function(){r.Ks(new LH)},r.xrt=n,r.zct=jr({},i,{crossOrigin:r.xrt.crossOrigin,withCredentials:r.xrt.useCredentials,liveOffset:r.xrt.liveOffset,hlsDateRange:r.xrt.hlsDateRange}),r.DE=e,r.Xct=[],r.EG=!1,r}E(n,t);var i=n.prototype;return i.qct=function(){if(this.Vct)return this.Vct.xy},i.WD=function(t){var n=this;mu(tM(function(){return n.$ct()},t))},i.$ct=function(){var t,n,i,e,r,s;return Ur.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Ur.awrap(this.Yct());case 2:if((t=u.sent).isMasterPlaylist)for(this.Hct=t,n=0,i=t.streams;n<i.length;n++)e=i[n],r=new BH(this.DE,this.zct),this.Xct.push({stream:{uri:e.uri,width:e.resolution&&e.resolution.width,height:e.resolution&&e.resolution.height},updater:r});else s=new BH(this.DE,this.zct),this.Xct.push({stream:{uri:t.uri},updater:s});this.Wct&&(this.Qct(this.Wct.width,this.Wct.height),this.Wct=void 0),this.EG=!0;case 6:case"end":return u.stop()}},null,this,null,Ge)},i.Jct=function(t,n){this.EG?this.Qct(t,n):this.Wct={width:t,height:n}},i.Qct=function(t,n){this.Zct();var i=this.Kct(t,n);i&&(this.Vct=i.updater,this.Vct.addEventListener("Bct",this.Gct),i.updater.WD(i.stream.uri))},i.Zct=function(){this.Vct&&(this.Vct.Zy(),this.Vct.removeEventListener("Bct",this.Gct),this.Vct=void 0)},i.Kct=function(t,n){return 1===this.Xct.length?this.Xct[0]:Gs(this.Xct,function(i){return i.stream.width===t&&i.stream.height===n})},i.Yct=function(){var t,n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return t=new xH(this.zct,iH.qn.tht,this.DE),i.next=3,Ur.awrap(t.Zh(this.xrt.src,{}));case 3:return n=i.sent,i.abrupt("return",n.xy);case 5:case"end":return i.stop()}},null,this,null,Ge)},i.Kc=function(){this.Zct();for(var t=0,n=this.Xct;t<n.length;t++){n[t].updater.Kc()}Zs(this.Xct)},n}(Su),FH=function(t){function n(n,i,e){var r;return(r=t.call(this,n)||this).tft=void 0,r.nft=void 0,r.iF=void 0,r.ift=!1,r.T5=void 0,r.wq=void 0,r.handleManifestUpdate=function(){var t=r.tft.qct();if(t){var n=r.cD;if(n){var i=n.getTime(),e=r.T5;e||(e=new jL,r.T5=e),e.tc(t.dateRanges,function(t){return(t.getTime()-i)/1e3}),!r.ift&&e.p_.$g>0&&(r.$y.zg(e),r.wq.zg(e),r.ift=!0)}}},r.eft=function(){r.tft&&r.tft.Jct(r.py,r.yy)},r.nft=i,r.iF=e,r.wq=new DP(Kt(r)),r.tu(Bf.Gf,r.eft),r}E(n,t);var i=n.prototype;return i.tm=function(n,i,e){return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Ur.awrap(t.prototype.tm.call(this,n,i,e));case 2:n.hlsDateRange&&this.rft(n,i,e);case 3:case"end":return r.stop()}},null,this,null,Ge)},i.rft=function(t,n,i){this.tft&&(this.tft.au("jct",this.handleManifestUpdate),this.tft.Kc()),this.tft=new MH(t,n,this.nft),this.tft.tu("jct",this.handleManifestUpdate),this.tft.WD(i)},i.wc=function(){return this.T5&&(this.$y.Wg(this.T5),this.wq.Wg(this.T5),this.T5.Kc(),this.T5=void 0,this.ift=!1),this.wq.wc(),t.prototype.wc.call(this)},i.Kc=function(){return this.au(Bf.Gf,this.eft),this.tft&&(this.tft.au("jct",this.handleManifestUpdate),this.tft.Kc()),this.wq.Kc(),t.prototype.Kc.call(this)},n}(function(t){function n(n){var i;(i=t.call(this)||this).sft=void 0,i.sft=n;for(var e=0;e<mS.length;e++){var r=mS[e];i.sft.tu(r,i.Zs)}return i}E(n,t);var i=n.prototype;return i.nm=function(){return this.sft.nm()},i.wm=function(){return this.sft.wm()},i.dm=function(){return this.sft.dm()},i.vm=function(){return this.sft.vm()},i.Am=function(){return this.sft.Am()},i.Jy=function(){return this.sft.Jy()},i.Qy=function(){return this.sft.Qy()},i.wc=function(){return this.sft.wc()},i.tm=function(t,n,i){return this.sft.tm(t,n,i)},i.lm=function(){return this.sft.lm()},i.im=function(){return this.sft.im()},i.um=function(){return this.sft.um()},i.Kc=function(){this.ou();for(var t=0;t<mS.length;t++){var n=mS[t];this.sft.au(n,this.Zs)}return this.sft.Kc()},T(n,[{key:"Gy",get:function(){return this.sft.Gy}},{key:"Tm",get:function(){return this.sft.Tm}},{key:"Sm",get:function(){return this.sft.Sm},set:function(t){this.sft.Sm=t}},{key:"sy",get:function(){return this.sft.sy},set:function(t){this.sft.sy=t}},{key:"uy",get:function(){return this.sft.uy}},{key:"oy",get:function(){return this.sft.oy}},{key:"ly",get:function(){return this.sft.ly}},{key:"Yy",get:function(){return this.sft.Yy}},{key:"Au",get:function(){return this.sft.Au}},{key:"Im",get:function(){return this.sft.Im}},{key:"Rm",get:function(){return this.sft.Rm}},{key:"vy",get:function(){return this.sft.vy},set:function(t){this.sft.vy=t}},{key:"Bm",get:function(){return this.sft.Bm}},{key:"wy",get:function(){return this.sft.wy}},{key:"gy",get:function(){return this.sft.gy},set:function(t){this.sft.gy=t}},{key:"Lm",get:function(){return this.sft.Lm}},{key:"Mm",get:function(){return this.sft.Mm},set:function(t){this.sft.Mm=t}},{key:"m_",get:function(){return this.sft.m_}},{key:"Fm",get:function(){return this.sft.Fm}},{key:"_y",get:function(){return this.sft._y}},{key:"cD",get:function(){return this.sft.cD}},{key:"$y",get:function(){return this.sft.$y}},{key:"yy",get:function(){return this.sft.yy}},{key:"qy",get:function(){return this.sft.qy}},{key:"py",get:function(){return this.sft.py}},{key:"by",get:function(){return this.sft.by},set:function(t){this.sft.by=t}},{key:"Um",get:function(){return this.sft.Um}},{key:"jm",get:function(){return this.sft.jm},set:function(t){this.sft.jm=t}},{key:"fD",get:function(){return this.sft.fD}}]),n}(Q_));PH=function(t,n,i){return new FH(t,n,i)},lS._D().yD(PH),function(t){t.uft="statechange"}(OH||(OH={}));var UH,jH=function(t){function n(n){var i;return(i=t.call(this,OH.uft)||this).RY=n,i}return E(n,t),n}(Iu),HH=function(t){function n(n,i){var e;return void 0===i&&(i=""),(e=t.call(this,"An error occurred while casting.")||this).errorCode=n,e.description=i,e}return E(n,t),T(n,[{key:"name",get:function(){return"CastError"}}]),n}(nn),XH=function(){function t(){this.oft=void 0}var n=t.prototype;return n.aft=function(){return this.oft||(this.oft=this.hft().catch(function(){throw new HH("API_NOT_INITIALIZED","The Chromecast library could not be loaded successfully.")})),this.oft},n.hft=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(zH()){t.next=4;break}return t.next=3,Ur.awrap(this.cft());case 3:0;case 4:if(VH()){t.next=9;break}return i.Tr('Detected the Chromecast library was loaded without the CAF framework. It is strongly encouraged to load it with the CAF framework by using this URL: "//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"'),t.next=8,Ur.awrap(hr("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js"));case 8:0;case 9:return t.abrupt("return");case 10:case"end":return t.stop()}},null,this,null,Ge)},n.cft=function(){return new Ge(function(t,n){var i=r.__onGCastApiAvailable;r.__onGCastApiAvailable=function(e,s){e?t():n(new l(s)),r.__onGCastApiAvailable=i,i&&i(e,s)}})},t}();function VH(){return Boolean("undefined"!=typeof cast&&cast.framework)}function zH(){return"undefined"!=typeof chrome&&chrome&&chrome.cast&&chrome.cast.isAvailable}XH.qn=new XH,function(t){t.fft="receiver_info",t.X1="event",t.lft="propertychange",t.vft="trackevent"}(UH||(UH={}));var WH,GH,qH="urn:x-cast:com.theoplayer.cast",$H=function(){function t(t){var n=this;this.dft=void 0,this.wft=[],this.Ys=[],this.gft=void 0,this._ft=function(t,i){var e=n.yft(i);if(e)if(e.type===UH.lft)for(var r=0,s=n.wft;r<s.length;r++){var u=s[r];for(var o in e.properties)u(o,e.properties[o])}else if(e.type===UH.X1)for(var a=0,h=n.Ys;a<h.length;a++){(0,h[a])(e.event)}else e.type===UH.vft&&n.gft&&e.event.trackState&&n.gft(e.event.trackId,e.event.trackState.targetQualityIds)},this.dft=t,this.dft.mft(qH,this._ft)}var n=t.prototype;return n.yft=function(t){var n;try{n=JSON.parse(t)}catch(t){0}return n},n.pft=function(t){this.wft.push(t)},n.kft=function(t){Ys(this.wft,t)},n.tu=function(t){this.Ys.push(t)},n.au=function(t){Ys(this.Ys,t)},n.bft=function(t){this.gft=t},n.Aft=function(t){this.gft=void 0},n.EJ=function(t,n,i,e){var r=i||Z,s=e||Z;this.dft.EJ(t,n).then(r).catch(s)},n.Kc=function(){this.dft.Tft(qH,this._ft),Zs(this.Ys),Zs(this.wft),this.gft=void 0},t}();!function(t){t.fft="theoplayer_receiver_info",t.vft="theoplayer_trackpropertychange",t.Sft="theoplayer_propertychange"}(WH||(WH={})),function(t){t.Eft="medialoadedchange",t.al="volumechange",t.Ift="casterror",t.Rft="playererror",t.Nft="targetqualitychanged",t.Dft="receiverinfochanged"}(GH||(GH={}));var YH,QH=function(t){function n(){return t.call(this,GH.Eft)||this}return E(n,t),n}(Iu),JH=function(t){function n(n,i){var e;return(e=t.call(this,GH.al)||this).by=n,e.vy=i,e}return E(n,t),n}(Iu),ZH=function(t){function n(n){var i;return(i=t.call(this,GH.Ift)||this).Au=n,i}return E(n,t),n}(Iu),KH=function(t){function n(n){var i;return(i=t.call(this,GH.Rft)||this).Au=n,i}return E(n,t),n}(Iu),tX=function(t){function n(n,i){var e;return(e=t.call(this,GH.Nft)||this).mT=n,e.Cft=i,e}return E(n,t),n}(Iu),nX=function(t){function n(){return t.call(this,GH.Dft)||this}return E(n,t),n}(Iu),iX=function(t){function n(n){var i;return(i=t.call(this)||this).dft=void 0,i.Pft=void 0,i.Oft=void 0,i.xft=function(t){i.Ks(new ZH(t))},i.Bft=function(t,n){"error"===t&&i.Ks(new KH(n))},i.Lft=function(t,n){i.Ks(new tX(t,n))},i.Mft=function(t,n){var e=JSON.parse(n);e.type===UH.fft&&(i.Oft=e.info,i.Ks(new nX))},i.dft=n,i.Pft=new $H(i.dft),i.Pft.pft(i.Bft),i.Pft.bft(i.Lft),i.Fft(),i}E(n,t);var i=n.prototype;return i.Uft=function(t,n,i){this.Pft.EJ(qH,function(t,n,i){return{type:WH.vft,trackID:t,trackType:n,properties:{targetQuality:i}}}(t,n,i),Z,this.xft)},i.Fft=function(){this.dft.mft(qH,this.Mft),this.Pft.EJ(qH,{type:WH.fft})},i.jft=function(){return this.Oft},i.Kc=function(){this.ou(),this.dft.Tft(qH,this.Mft),this.Pft.kft(this.Bft),this.Pft.Aft(this.Lft),this.Pft.Kc(),this.dft.Kc()},n}(Su);!function(t){t.ij="bufferedchange",t.ol="timeupdate",t.Cf="durationchange",t.Og="readystatechange",t.Sft="playbackratechange",t.Hft="played",t.Xf="play",t.Hf="pause",t.Xft="programdatetimechange",t.Of="ended",t.Vft="mediastopped",t.Ift="error",t.$f="seeking",t.qf="seeked",t.zft="seekablechange",t.Gf="resize",t.Wft="sourceupdate",t.Gft="trackupdate",t.qft="activetrackupdate",t.iy="waiting",t.ey="playing",t.Wf="representationchange",t.Yf="segmentnotfound",t.Tu="encrypted",t.If="contentprotectionerror",t.Rf="contentprotectionsuccess"}(YH||(YH={}));var eX,rX,sX=function(t){function n(n){var i;return(i=t.call(this,YH.ij)||this).Tm=n,i}return E(n,t),n}(Iu),uX=function(t){function n(n){var i;return(i=t.call(this,YH.ol)||this).sy=n,i}return E(n,t),n}(Iu),oX=function(t){function n(n){var i;return(i=t.call(this,YH.Xft)||this).h2=n,i}return E(n,t),n}(Iu),aX=function(t){function n(n){var i;return(i=t.call(this,YH.Cf)||this).uy=n,i}return E(n,t),n}(Iu),hX=function(t){function n(){return t.call(this,YH.Of)||this}return E(n,t),n}(Iu),cX=function(t){function n(n){var i;return(i=t.call(this,YH.Ift)||this).Au=n,i}return E(n,t),n}(Iu),fX=function(t){function n(n){var i;return(i=t.call(this,YH.Hf)||this).wy=n,i}return E(n,t),n}(Iu),lX=function(t){function n(n){var i;return(i=t.call(this,YH.Sft)||this).gy=n,i}return E(n,t),n}(Iu),vX=function(t){function n(n){var i;return(i=t.call(this,YH.Hft)||this).Lm=n,i}return E(n,t),n}(Iu),dX=function(t){function n(n){var i;return(i=t.call(this,YH.Og)||this).m_=n,i}return E(n,t),n}(Iu),wX=function(t){function n(n){var i;return(i=t.call(this,YH.zft)||this).Fm=n,i}return E(n,t),n}(Iu),gX=function(t){function n(n,i){var e;return(e=t.call(this,YH.Wft)||this).pm=n,e.ED=i,e}return E(n,t),n}(Iu),_X=function(t){function n(n){var i;return(i=t.call(this,YH.$f)||this).sy=n,i}return E(n,t),n}(Iu),yX=function(t){function n(n){var i;return(i=t.call(this,YH.qf)||this).sy=n,i}return E(n,t),n}(Iu),mX=function(t){function n(n,i){var e;return(e=t.call(this,YH.Gf)||this).py=n,e.yy=i,e}return E(n,t),n}(Iu),pX=function(t){function n(){return t.call(this,YH.Vft)||this}return E(n,t),n}(Iu),kX=function(t){function n(n,i,e){var r;return(r=t.call(this,YH.Gft)||this).audioTracks=n,r.videoTracks=i,r.textTracks=e,r}return E(n,t),n}(Iu),bX=function(t){function n(n){var i;return(i=t.call(this,YH.qft)||this).trackIds=n,i}return E(n,t),n}(Iu),AX=function(t){function n(n){var i;return(i=t.call(this,YH.iy)||this).sy=n,i}return E(n,t),n}(Iu),TX=function(t){function n(n){var i;return(i=t.call(this,YH.ey)||this).sy=n,i}return E(n,t),n}(Iu),SX=function(t){function n(n,i){var e;return(e=t.call(this,YH.Wf)||this).rK=n,e.sK=i,e}return E(n,t),n}(Iu),EX=function(t){function n(n,i,e,r,s,u){var o;return void 0===u&&(u=0),(o=t.call(this,YH.Yf)||this).$ft=n,o.Au=i,o.T4=e,o._g=r,o.eK=s,o.Yft=u,o}return E(n,t),n}(Iu),IX=function(t){function n(n,i,e){var r;return(r=t.call(this,YH.Tu)||this).ys=n,r.Ru=i,r.sy=e,r}return E(n,t),n}(Iu),RX=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,YH.If)||this).Au=n,o.Qft=i,o.od=e,o.ld=r,o.Jft=s,o.Zu=u,o}return E(n,t),n}(Iu),NX=function(t){function n(){return t.call(this,YH.Rf)||this}return E(n,t),n}(Iu),DX=function(t){function n(n){var i;return(i=t.call(this)||this).Pft=void 0,i.xft=function(t){i.Ks(new cX(t))},i.Zft=function(t,n){switch(t){case"buffered":i.Ks(new sX(new TS(n)));break;case"currentProgramDateTime":i.Ks(new oX(new Date(n)));break;case"played":i.Ks(new vX(new TS(n)));break;case"seekable":i.Ks(new wX(new TS(n)));break;case"videoHeight":i.Ks(new mX(void 0,n));break;case"videoWidth":i.Ks(new mX(n,void 0))}},i.iz=function(t){switch(t.type){case Sy.Og:i.Ks(new dX(t.readyState));break;case Bf.$f:i.Ks(new _X(t.currentTime));break;case Bf.qf:i.Ks(new yX(t.currentTime));break;case Sy.iy:i.Ks(new AX(t.currentTime));break;case Sy.ey:i.Ks(new TX(t.currentTime));break;case Bf.Wf:i.Ks(new SX(t.representation,t.previousRepresentation));break;case Bf.Yf:i.Ks(new EX(t.segmentStartTime,t.error,t.trackType,t.track,t.quality,t.retryCount));break;case Bf.Tu:i.Ks(new IX(t.initDataType,t.initData,t.currentTime));break;case Bf.If:i.Ks(new RX(t.error,t.licenseAcquisitionURL,t.status,t.statusText,t.licenseAcquisitionMessage,t.systemCode));break;case Bf.Rf:i.Ks(new NX)}},i.Pft=n,i.Pft.tu(i.iz),i.Pft.pft(i.Zft),i}E(n,t);var i=n.prototype;return i.cM=function(t){this.Pft.EJ(qH,function(t){return{type:WH.Sft,properties:{playbackRate:t}}}(t),Z,this.xft)},i.Kc=function(){this.ou(),this.Pft.au(this.iz),this.Pft.kft(this.Zft)},n}(Su);function CX(t){return t.type===eX.Od}function PX(t){return t.type===eX.xd}function OX(t){return t.type===eX.Kn}function xX(t){switch(t){case chrome.cast.ErrorCode.CANCEL:return"CANCEL";case chrome.cast.ErrorCode.TIMEOUT:return"TIMEOUT";case chrome.cast.ErrorCode.API_NOT_INITIALIZED:return"API_NOT_INITIALIZED";case chrome.cast.ErrorCode.INVALID_PARAMETER:return"INVALID_PARAMETER";case chrome.cast.ErrorCode.EXTENSION_NOT_COMPATIBLE:return"EXTENSION_NOT_COMPATIBLE";case chrome.cast.ErrorCode.EXTENSION_MISSING:return"EXTENSION_MISSING";case chrome.cast.ErrorCode.RECEIVER_UNAVAILABLE:return"RECEIVER_UNAVAILABLE";case chrome.cast.ErrorCode.SESSION_ERROR:return"SESSION_ERROR";case chrome.cast.ErrorCode.CHANNEL_ERROR:return"CHANNEL_ERROR";case chrome.cast.ErrorCode.LOAD_MEDIA_FAILED:return"LOAD_MEDIA_FAILED";default:return"CANCEL"}}!function(t){t.Kn="TEXT",t.Od="AUDIO",t.xd="VIDEO"}(eX||(eX={})),function(t){t.lA="SUBTITLES",t.gE="CAPTIONS",t._E="DESCRIPTIONS",t.yE="CHAPTERS",t.dA="METADATA"}(rX||(rX={}));var BX=function(t){function n(n,i,e){var r;(r=t.call(this,i)||this).Kft=void 0,r.tlt=void 0,r.nlt=void 0,r.ilt=function(t){r.elt(),r.Bz(),r.rlt(),r.slt(),r.ult(),r.olt(),r.hlt(),r.clt(),t||(LX(r.tlt)&&r.Ks(new hX),r.Ks(new pX))},r.flt=function(t){var n,i=new HH(xX(t.code),null!=(n=t.description)?n:void 0);r.xft(i)},r.Kft=n,r.tlt=e;var s=new chrome.cast.media.GetStatusRequest;return r.tlt.getStatus(s,function(){r.llt()},Z),r.tlt.addUpdateListener(r.ilt),r.vlt(),r.ilt(!0),r}E(n,t);var i=n.prototype;return i.dlt=function(){return this.tlt.getEstimatedTime()},i.clt=function(){var t=this.tlt.activeTrackIds;t&&this.Ks(new bX(t))},i.hlt=function(){var t,n=null==(t=this.tlt.media)?void 0:t.tracks;if(n){var i=n.filter(CX),e=n.filter(PX),r=n.filter(OX);this.Ks(new kX(i,e,r))}},i.llt=function(){var t,n,i,e;null!=(t=this.Kft.jft())&&t.version?i=null==(e=this.tlt.customData)?void 0:e.sourceDescription:i=HE({sources:this.tlt.media.contentId},Wy({}));this.Ks(new gX(null==(n=this.tlt.customData)?void 0:n.currentSource,i))},i.ult=function(){var t=this.dlt();this.Ks(new uX(t))},i.vlt=function(){this.nlt=c(this.ult.bind(this),n.TIMEUPDATE_INTERVAL)},i.wlt=function(){f(this.nlt)},i.olt=function(){this.wlt(),this.vlt()},i.elt=function(){var t=this.tlt,n=Boolean(t.customData)?t.customData.buffers:void 0;n&&this.Ks(new wX(new TS(n.seekable)))},i.Bz=function(){var t,n=this.tlt.media;t=Boolean(n)&&n.streamType===chrome.cast.media.StreamType.LIVE?1/0:n&&n.duration||NaN,this.Ks(new aX(t))},i.rlt=function(){var t,n=void 0!==(t=this.tlt)&&t.playerState===chrome.cast.media.PlayerState.PAUSED||LX(this.tlt);this.Ks(new fX(n))},i.slt=function(){var t=this.tlt.playbackRate;this.Ks(new lX(t))},i.Jy=function(){var t=new chrome.cast.media.PauseRequest;this.tlt.pause(t,Z,this.flt)},i.Zy=function(){var t=new chrome.cast.media.StopRequest;this.tlt.stop(t,Z,this.flt)},i.Qy=function(){var t=new chrome.cast.media.PlayRequest;this.tlt.play(t,Z,this.flt)},i.Uu=function(t,n){var i=this,e=new chrome.cast.media.SeekRequest;return e.currentTime=t,e.resumeState=n?chrome.cast.media.ResumeState.PLAYBACK_PAUSE:chrome.cast.media.ResumeState.PLAYBACK_START,new Ge(function(t,n){i.tlt.seek(e,t,function(t){var i;n(new HH(xX(t.code),null!=(i=t.description)?i:void 0))})})},i.glt=function(t){var n=new chrome.cast.media.EditTracksInfoRequest(t);this.tlt.editTracksInfo(n,Z,this.flt)},i.Kc=function(){this.wlt(),this.tlt.removeUpdateListener(this.ilt),t.prototype.Kc.call(this)},n}(DX);function LX(t){return void 0!==t&&t.playerState===chrome.cast.media.PlayerState.IDLE&&t.idleReason===chrome.cast.media.IdleReason.FINISHED}BX.TIMEUPDATE_INTERVAL=250;var MX=function(){function t(t){this.Kft=void 0,this.Kft=t}var n=t.prototype;return n.mft=function(t,n){this.Kft.addMessageListener(t,n)},n.Tft=function(t,n){this.Kft.removeMessageListener(t,n)},n.EJ=function(t,n){var i=this;return new Ge(function(e,r){i.Kft.sendMessage(t,n,e,function(t){r(new HH(xX(t.code),t.description))})})},n.Kc=function(){},t}(),FX=function(t){function n(n){var i;(i=t.call(this,new MX(n.getSessionObj()))||this).Kft=void 0,i._lt=void 0,i.ylt=function(){var t=i.plt();i.Ks(new JH(t.receiver.volume.level,t.receiver.volume.muted))},i.klt=function(){return i.blt(i.Kft.getMediaSession())},i.Alt=function(){var t;null==(t=i._lt)||t.au(YH.Vft,i.Alt),i._lt=void 0,i.Ks(new QH)},i.Tlt=function(t){var n=new HH(xX(t.code),t.description);i.xft(n)},i.Kft=n,i.Kft.addEventListener(cast.framework.SessionEventType.MEDIA_SESSION,i.klt),i.plt().addUpdateListener(i.ylt),i.ylt();var e=i.Kft.getMediaSession();return e&&i.blt(e),i}E(n,t);var i=n.prototype;return i.plt=function(){return this.Kft.getSessionObj()},i.blt=function(t){!this._lt&&t&&t.idleReason!==chrome.cast.media.IdleReason.FINISHED&&(this._lt=new BX(this,this.Pft,t),this.ylt(),this._lt.tu(YH.Vft,this.Alt),this.Ks(new QH))},i.Slt=function(){return this._lt},i.Elt=function(t){var n,i;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=UX(t.Ilt,t.sy,t.Rlt),e.prev=1,e.next=4,Ur.awrap(this.Kft.loadMedia(n));case 4:i=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),i=e.t0;case 10:if(!i){e.next=12;break}throw new HH(xX(i));case 12:case"end":return e.stop()}},null,this,[[1,7]],Ge)},i.uM=function(t){this.plt().setReceiverMuted(t,Z,this.Tlt)},i.bM=function(t){this.plt().setReceiverVolumeLevel(t,Z,this.Tlt)},i.Nlt=function(){return this.plt().receiver.friendlyName},i.Kc=function(){this.Kft.removeEventListener(cast.framework.SessionEventType.MEDIA_SESSION,this.klt),this.plt().removeUpdateListener(this.ylt),t.prototype.Kc.call(this)},n}(iX);function UX(t,n,i){var e=function(t){var n=CE(t)||"",i=DE(t)||"",e=new chrome.cast.media.MediaInfo(n,i);return e.metadata=function(t,n,i){var e=new n.cast.media.GenericMediaMetadata;if(i&&(e.images=[new n.cast.Image(i)]),!t)return e;if(t.images)if(e.images||(e.images=[]),q(t.images))e.images.push(new n.cast.Image(t.images));else for(var r=0,s=t.images;r<s.length;r++){var u=s[r];if(q(u)){var o=new n.cast.Image(u);e.images.push(o)}else{var a=new n.cast.Image(u.src);a.height=u.height||void 0,a.width=u.width||void 0,e.images.push(a)}}return t.releaseDate&&(e.releaseDate=t.releaseDate),t.releaseYear&&(e.releaseYear=t.releaseYear),t.subtitle&&(e.subtitle=t.subtitle),t.title&&(e.title=t.title),t.type&&(e.metadataType=function(t,n){switch(t){case"movie":return n.cast.media.MetadataType.MOVIE;case"audio":return n.cast.media.MetadataType.MUSIC_TRACK;case"tv-show":return n.cast.media.MetadataType.TV_SHOW;case"generic":default:return n.cast.media.MetadataType.GENERIC}}(t.type,n)),e}(t.metadata,chrome,t.poster),e}(t),r=new chrome.cast.media.LoadRequest(e);return r.autoplay=!0,r.currentTime=n,r.customData=i,r}var jX=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Dlt=void 0,n.Clt=void 0,n.Plt=void 0,n.GM=function(){var t=n.Olt();n.Clt=t===rE.CONNECTED?new FX(n.Dlt.getCurrentSession()):void 0,n.Ks(new jH(t))},n}E(n,t);var i=n.prototype;return i.xlt=function(t){this.Plt=t},i.Blt=function(){return this.Plt},i.Llt=function(){return this.Clt},i.Olt=function(){switch(this.Dlt.getCastState()){case cast.framework.CastState.CONNECTED:return rE.CONNECTED;case cast.framework.CastState.CONNECTING:return rE.CONNECTING;case cast.framework.CastState.NOT_CONNECTED:return rE.AVAILABLE;case cast.framework.CastState.NO_DEVICES_AVAILABLE:default:return rE.UNAVAILABLE}},i.LL=function(t){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ur.awrap(XH.qn.aft());case 2:this.Dlt=cast.framework.CastContext.getInstance(),this.Dlt.addEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED,this.GM),this.Dlt.setOptions({receiverApplicationId:t.appID,autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED});case 5:case"end":return n.stop()}},null,this,null,Ge)},i.Mlt=function(){var t;return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ur.awrap(this.Dlt.requestSession());case 3:if(!(t=n.sent)){n.next=6;break}throw t;case 6:n.next=11;break;case 8:throw n.prev=8,n.t0=n.catch(0),new HH(xX(n.t0));case 11:case"end":return n.stop()}},null,this,[[0,8]],Ge)},i.Flt=function(t){var n,i=new na,e=null==(n=this.Plt)?void 0:n.onStart(t),r=e?HE(e,Wy({})):void 0;return i.Yu(r),i.Wu},i.Ult=function(t){var n,i=new na,e=null==(n=this.Plt)?void 0:n.onStop(t),r=e?HE(e,Wy({})):void 0;return i.Yu(r),i.Wu},i.jlt=function(t){var n,i=new na,e=null==(n=this.Plt)?void 0:n.onJoin(t),r=e?HE(e,Wy({})):void 0;return i.Yu(r),i.Wu},i.Hlt=function(t){var n,i=new na,e=null==(n=this.Plt)?void 0:n.onLeave(t),r=e?HE(e,Wy({})):void 0;return i.Yu(r),i.Wu},i.Xlt=function(t){this.Dlt.endCurrentSession(t)},n}(Su),HX=1;var XX,VX=function(t){function n(n,i,e,r,s,u,o,a,h,c,f){var l;return(l=t.call(this)||this).BC=void 0,l.ya=void 0,l.jz=void 0,l.MC=void 0,l.FC=void 0,l.Vlt=void 0,l.zlt=void 0,l.jy=void 0,l.Hy=void 0,l.Xy=void 0,l.BD=n,l.BC=i,l.ya=e,l.jz=r,l.MC=s,l.FC=u,l.Vlt=c,l.zlt=f,l.jy=o,l.jy.wc(),l.Hy=a,l.Hy.wc(),l.Xy=h,l.Xy.wc(),l}E(n,t);var i=n.prototype;return i.qL=function(){return TS.RC().oD()},i.JL=function(){return this.BC},i.YL=function(){},i.KL=function(){return this.ya},i.nM=function(){return this.jz},i.iM=function(){},i.aM=function(){return this.MC},i.Wlt=function(){},i.hM=function(){return this.FC},i.cM=function(t){this.FC!==t&&(this.FC=t,this.Ks(new Oy(this.BD.sy,t)))},i.dM=function(){return uy.z_},i.fM=function(){return TS.RC().oD()},i.wM=function(){return TS.RC().oD()},i.gM=function(){return!1},i.GL=function(){return this.jy},i.mM=function(){return this.Hy},i._M=function(){return this.Xy},i.glt=function(t){},i.pM=function(){return this.Vlt},i.yM=function(){return this.zlt},i.Qy=function(){},i.Jy=function(){},i.Uu=function(t){},i.Zy=function(){},i.Kc=function(){},n}(Su);!function(t){t.Glt="ccmodechangerequest",t.qlt="cctargetqualitychangerequest",t.$lt="cctrackchangerequest"}(XX||(XX={}));var zX=function(t){function n(n,i,e){var r;return(r=t.call(this,XX.Glt)||this).track=n,r.trackId=i,r.mode=e,r}return E(n,t),n}(Iu),WX=function(t){function n(n){var i;(i=t.call(this)||this).r_=void 0,i.s_=void 0,i.w_=void 0,i.u_=void 0,i.a_=void 0,i.m_=void 0,i.gs=void 0,i.Wm=void 0,i.nW=void 0,i.oW=void 0,i.aW=void 0,i.hW=void 0,i.eP=void 0,i.Ylt=void 0,i.dg=void 0;var e,r=n.customData;return i.s_=+n.trackId||0,i.r_=(r&&r.id||i.s_)+"",i.Wm=r&&r.label||n.name||"",i.a_=r&&r.language||n.language||"",i.w_=r&&r.inBandMetadataTrackDispatchType||"",i.u_=r&&r.kind||function(t){switch(t){case rX.lA:return Wk.lA;case rX.gE:return Wk.gE;case rX._E:return Wk._E;case rX.yE:return Wk.yE;case rX.dA:return Wk.dA}return}(n.subtype)||"subtitles",i.m_=Om.NONE,i.gs=r&&void 0!==r.type?Fm(e=r.type)?e:xm.DEFAULT:xm.WEBVTT,i.nW=[],i.aW=new yC(i.nW),i.oW=[],i.hW=new yC(i.oW),i.eP=V_(r&&r.mode||j_.f_),i.Ylt=i.eP,i}E(n,t);var i=n.prototype;return i.__=function(t){this.g_=t},i.Qlt=function(t){},i.Kc=function(){},i.wc=function(){},T(n,[{key:"wg",get:function(){return this.dg||(this.dg=W_(this)),this.dg}},{key:"o_",get:function(){return this.Wm},set:function(t){t!==this.Wm&&(this.Wm=t,this.Ks(new km(this)))}},{key:"k_",get:function(){return this.hW}},{key:"p_",get:function(){return this.aW}},{key:"g_",get:function(){return this.eP},set:function(t){t=V_(t),this.eP!==t&&(this.eP=t,this.Ylt!==t&&this.Ks(new zX(this,this.s_,t)),this.Ks(new __(this)))}},{key:"Jlt",get:function(){return this.Ylt},set:function(t){t=V_(t);var n=this.eP!==t;this.eP=t,this.Ylt=t,n&&this.Ks(new __(this))}}]),n}(Su);var GX,qX=function(t){function n(n,i){var e;return(e=t.call(this,XX.$lt)||this).trackId=n,e.enabled=i,e}return E(n,t),n}(Iu),$X=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).s_=void 0,u.Wm=void 0,u.Zlt=void 0,u.r_=n,u.QR=i,u.iX=e,u.YZ=s,u.s_=Im(),u.Wm=r||"",u.Zlt=!0,u}return E(n,t),n.prototype.EE=function(){this.Zlt=!1,this.Ks(new Zx(this.wg))},T(n,[{key:"o_",get:function(){return this.Wm},set:function(t){this.Wm!==t&&(this.Wm=t,this.Ks(new Zx(this.wg)))}},{key:"dZ",get:function(){}},{key:"_Z",get:function(){return this.Zlt}}]),n}(Su),YX=function(t){function n(n,i,e,r,s,u,o,a,h){var c;return void 0===h&&(h=0),(c=t.call(this,n,i,e,r,s)||this).dg=void 0,c.wZ=u,c.xp=o,c.bT=a,c.gZ=h,c}return E(n,t),T(n,[{key:"wg",get:function(){return this.dg||(this.dg=Lx(this)),this.dg}}]),n}($X),QX=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,e,r,s)||this).dg=void 0,o.yZ=u,o}return E(n,t),T(n,[{key:"wg",get:function(){return this.dg||(this.dg=Mx(this)),this.dg}}]),n}($X),JX=function(t){function n(n,i){var e;return(e=t.call(this,XX.qlt)||this).track=n,e.targetQuality=i,e}return E(n,t),n}(Iu);!function(t){t.Od="audio",t.xd="video",t.Kn="text"}(GX||(GX={}));var ZX=function(t){function n(n){var i;(i=t.call(this)||this).r_=void 0,i.s_=void 0,i.u_=void 0,i.a_=void 0,i.LV=void 0,i.Wm=void 0,i.Klt=void 0,i.Hm=new pm,i.tvt=void 0,i.qm=void 0,i.nvt=void 0,i.dg=void 0,i.hK=function(){return i.Ks(new km(Kt(i)))};var e=n.customData;if(i.s_=+n.trackId||0,i.r_=(e&&e.id||i.s_)+"",i.Wm=e&&e.label||n.name||"",i.a_=e&&e.language||n.language||"",i.u_=e&&e.kind||"main",i.qm=e&&e.enabled,i.nvt=i.qm,CX(n)){i.LV=GX.Od;var r=n.customData&&n.customData.qualities;if(r)for(var s=0;s<r.length;s++){var u=r[s],o=new QX(u.id,u.bandwidth,u.codecs,u.name,"",u.audioSamplingRate);o.tu("update",i.hK),i.Hm.Xm(o)}}else{i.LV=GX.xd;var a=n.customData&&n.customData.qualities;if(a)for(var h=0;h<a.length;h++){var c=a[h],f=new YX(c.id,c.bandwidth,c.codecs,c.name,"",c.frameRate,c.width,c.height);f.tu("update",i.hK),i.Hm.Xm(f)}}return i}E(n,t);var i=n.prototype;return i.Ym=function(t){this.e_=t},i.Qlt=function(t){if(t.targetQualityIds){for(var n=[],i=0;i<this.Hm.$g;i++){var e=this.Hm.Vg(i);t.targetQualityIds.indexOf(e.r_)>-1&&n.push(e)}var r=n.length?n:void 0;this.ivt(r)}},i.ivt=function(t){var n,i;n=this.tvt,i=t,(!n&&i||n&&!i||n&&i&&!Ks(n,i))&&(this.tvt=t&&this.Hm.Vm(t)?t:void 0,this.Ks(new zx(this.tvt,this)))},i.unload=function(){for(var t=0,n=this.Hm.qg;t<n.length;t++){n[t].au("update",this.hK)}this.Hm.wc()},T(n,[{key:"i_",get:function(){return this.Klt}},{key:"c_",get:function(){return this.tvt},set:function(t){this.ivt(t),this.Ks(new JX(this,t))}},{key:"h_",get:function(){return this.Hm}},{key:"o_",get:function(){return this.Wm}},{key:"label",set:function(t){t!==this.Wm&&(this.Wm=t,this.Ks(new km(this)))}},{key:"e_",get:function(){return this.qm},set:function(t){this.qm!==t&&(this.qm=t,this.nvt!==t&&this.Ks(new qX(this.s_,t)),this.Ks(new __(this)))}},{key:"evt",get:function(){return this.nvt},set:function(t){var n=this.qm!==t;this.qm=t,this.nvt=t,n&&this.Ks(new __(this))}},{key:"wg",get:function(){return this.dg||(this.dg=M_(this)),this.dg}},{key:"g_",get:function(){return this.e_?"enabled":"disabled"}}]),n}(Su);var KX,tV=function(t){function n(n,i){var e;return(e=t.call(this,Bf.Wf)||this).representation=n,e.previousRepresentation=i,e}return E(n,t),n}(Iu),nV=function(t){function n(n,i,e,r,s,u){var o;return void 0===u&&(u=0),(o=t.call(this,Bf.Yf)||this).segmentStartTime=n,o.error=i,o.trackType=e,o.track=r,o.quality=s,o.retryCount=u,o}return E(n,t),n}(Iu),iV=function(t){function n(n,i,e){var r;return(r=t.call(this,Bf.Tu)||this).currentTime=n,r.initDataType=i,r.initData=e,r}return E(n,t),n}(Iu);!function(t){t.rvt="legacy",t.svt="caf"}(KX||(KX={}));var eV=function(t){function i(i,e,r){var s;return(s=t.call(this)||this).Kft=void 0,s.tlt=void 0,s.J8=TS.RC(),s.BC=void 0,s.uvt=void 0,s.ya=void 0,s.jz=!1,s.gN=void 0,s.MC=void 0,s.FC=void 0,s.ovt=void 0,s.Hz=uy.z_,s.Aq=TS.RC(),s.Ez=TS.RC(),s.UC=!1,s.Vlt=void 0,s.zlt=void 0,s.jy=void 0,s.Hy=void 0,s.Xy=void 0,s.avt=void 0,s.cvt=!1,s.fvt=function(t){s.Ks(new Db(t.sy))},s.NN=function(t){s.Ks(new Cb(t.sy))},s.lvt=function(t){s.Ks(new tV(t.rK,t.sK))},s.vvt=function(t){s.Ks(new nV(t.$ft,t.Au,t.T4,t._g,t.eK,t.Yft))},s.dvt=function(t){s.Ks(new iV(t.sy,t.ys,t.Ru))},s.wvt=function(t){s.Ks(new UP(new lm(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.Au,void 0,t.Qft,t.od,t.ld,t.Jft,t.Zu)))},s.gvt=function(){s.Ks(new jP)},s._vt=function(t){s.UC||t.sy===s.JL()||(s.BC=t.sy,s.Ks(new xy(s.JL(),s.YL())))},s.Pz=function(t){s.J8=t.Tm,s.Ks(new qN(s.JL()))},s.yvt=function(t){s.uvt=t.h2.getTime()-s.JL()},s.mvt=function(t){s.Zs(t)},s.pvt=function(t){s.Aq=t.Lm},s.kvt=function(t){s.Ez=t.Fm},s.bvt=function(t){var n,i;s.zlt=null!=(n=t.yy)?n:s.zlt,s.Vlt=null!=(i=t.py)?i:s.Vlt,s.Ks(new pb)},s.nz=function(t){s.Hz=t.m_,s.Ks(new Xy(s.JL(),t.m_))},s.Dz=function(t){s.UC=!0,s.BC=t.sy,s.Ks(new My(t.sy))},s.RN=function(t){s.UC=!1,s.BC=t.sy,s.Ks(new xy(s.JL(),s.YL())),s.Ks(new Fy(t.sy))},s.Avt=function(t){var n=t.uy;s.ya===n||m(s.ya)&&m(n)||(s.ya=n,s.Ks(new Py(s.ya)))},s.kst=function(){s.jz=!0,s.BC=s.KL(),s.Ks(new By(s.JL()))},s.bst=function(t){var n=t.wy;s.cvt=n,s.MC!==n&&(s.MC=n,s.MC?s.Ks(new Iy(s.JL())):s.Ks(new Ry(s.JL())))},s.Tvt=function(t){var n=t.gy;s.ovt!==n&&(s.ovt=void 0,s.FC!==n&&(s.FC=n,s.Ks(new Oy(s.JL(),n))))},s.Svt=function(t){sV(s.jy,t.audioTracks.map(function(t){return t.trackId})),sV(s.Hy,t.videoTracks.map(function(t){return t.trackId})),sV(s.Xy,t.textTracks.map(function(t){return t.trackId}));var n=t.videoTracks;if(s.Evt()&&0===n.length&&0!==s.pM()){var i=s.Ivt();n.push(i)}var e=t.audioTracks;if(s.Evt()&&0===e.length){var r=s.Rvt();e.push(r)}uV(e,s.jy),uV(n,s.Hy),function(t,n){for(var i=!1,e=0;e<t.length;e++){var r=t[e],s=rV(n,r.trackId);s||(s=new WX(r),n.zg(s),i=!0)}}(t.textTracks,s.Xy)},s.Nvt=function(t){var n=t.trackIds;if(s.Evt()){var i=s.Hy.qg.map(function(t){return t.r_}),e=s.jy.qg.map(function(t){return t.r_});Js(i.concat(e),"0")&&n.push(0)}oV(n,s.jy),oV(n,s.Hy),function(t,n){for(var i=0,e=n.qg;i<e.length;i++){var r=e[i];r.Jlt=Js(t,r.s_)?j_.v_:j_.f_}}(n,s.Xy)},s.xft=function(t){s.avt=void 0,s.Ks(new cX(t))},s.Kft=i,s.tlt=e,s.BC=r.JL(),s.ya=r.KL(),s.MC=r.aM(),s.FC=r.hM(),s.Vlt=r.pM(),s.zlt=r.yM(),s.jy=r.GL(),s.Hy=r.mM(),s.Xy=r._M(),s.tlt.tu(YH.Of,s.kst),s.tlt.tu(YH.Hf,s.bst),s.tlt.tu(YH.Gf,s.bvt),s.tlt.tu(YH.qf,s.RN),s.tlt.tu(YH.ey,s.NN),s.tlt.tu(YH.$f,s.Dz),s.tlt.tu(YH.iy,s.fvt),s.tlt.tu(YH.Tu,s.dvt),s.tlt.tu(YH.Ift,s.mvt),s.tlt.tu(YH.ol,s._vt),s.tlt.tu(YH.Gft,s.Svt),s.tlt.tu(YH.Hft,s.pvt),s.tlt.tu(YH.ij,s.Pz),s.tlt.tu(YH.Cf,s.Avt),s.tlt.tu(YH.zft,s.kvt),s.tlt.tu(YH.Yf,s.vvt),s.tlt.tu(YH.Og,s.nz),s.tlt.tu(YH.qft,s.Nvt),s.tlt.tu(YH.Sft,s.Tvt),s.tlt.tu(YH.Wf,s.lvt),s.tlt.tu(YH.Xft,s.yvt),s.tlt.tu(YH.If,s.wvt),s.tlt.tu(YH.Rf,s.gvt),s}E(i,t);var e=i.prototype;return e.Wlt=function(){this.MC=!1,this.Ks(new Ry(this.JL()))},e.qL=function(){return this.J8.oD()},e.JL=function(){return this.BC},e.YL=function(){if(this.uvt)return new Date(this.JL()+this.uvt)},e.KL=function(){return this.ya},e.iM=function(){return this.gN},e.nM=function(){return this.jz},e.aM=function(){return this.MC},e.hM=function(){return this.FC},e.cM=function(t){this.FC!==t&&(this.ovt=this.FC,this.FC=t,this.Ks(new Oy(this.JL(),t)),this.tlt.cM(t))},e.dM=function(){return this.Hz},e.fM=function(){return this.Aq.oD()},e.wM=function(){var t=this,n=this.Ez.oD(),i=n.end;return n.end=function(n){var e=t.JL();return i(n)<e?e:i(n)},n},e.gM=function(){return this.UC},e.GL=function(){return this.jy},e.mM=function(){return this.Hy},e._M=function(){return this.Xy},e.Ivt=function(){return{customData:{activeQuality:{averageBandwidth:0,bandwidth:0,codecs:"",frameRate:0,height:this.yM(),id:"0",name:"",width:this.pM()},enabled:!0,id:"0",kind:"main",label:"",language:"",qualities:[],uid:0},language:"",name:"",trackContentId:"",trackContentType:"",trackId:0,type:eX.xd}},e.Rvt=function(){return{customData:{activeQuality:{averageBandwidth:0,bandwidth:0,codecs:"",id:"0",name:"",audioSamplingRate:0},qualities:[],enabled:!0,id:"0",kind:"main",label:"",language:"",uid:0},language:"",name:"",trackContentId:"",trackContentType:"",trackId:0,type:eX.Od}},e.Evt=function(){var t,n;return!(void 0!==(null==(t=this.Kft.jft())?void 0:t.version))||(null==(n=this.Kft.jft())?void 0:n.sdkType)===KX.svt},e.glt=function(t){this.Evt()&&Ys(t,0),this.tlt.glt(t)},e.pM=function(){return this.Vlt},e.yM=function(){return this.zlt},e.Qy=function(){this.MC&&(this.MC=!1,this.cvt=!1,this.Ks(new Ry(this.JL()))),this.tlt.Qy()},e.Jy=function(){this.MC||(this.MC=!0,this.cvt=!0,this.Ks(new Iy(this.JL()))),this.tlt.Jy()},e.Uu=function(t){var n,i,e=void 0!==this.avt;(this.avt=t,this.cvt=this.aM(),e)||(null!=(n=null==(i=this.Kft.jft())?void 0:i.version)&&n&&this.Dz(new _X(t)),this.I$(t))},e.I$=function(t){this.tlt.Uu(t,this.cvt).then(this.Dvt(t)).catch(this.xft)},e.Dvt=function(t){var n=this;return function(){void 0!==n.avt&&(n.avt===t?n.avt=void 0:n.I$(n.avt))}},e.Zy=function(){this.tlt.Zy()},e.Kc=function(){this.tlt.au(YH.Of,this.kst),this.tlt.au(YH.Hf,this.bst),this.tlt.au(YH.Gf,this.bvt),this.tlt.au(YH.qf,this.RN),this.tlt.au(YH.ey,this.NN),this.tlt.au(YH.$f,this.Dz),this.tlt.au(YH.iy,this.fvt),this.tlt.au(YH.Tu,this.dvt),this.tlt.au(YH.Ift,this.mvt),this.tlt.au(YH.ol,this._vt),this.tlt.au(YH.Gft,this.Svt),this.tlt.au(YH.Hft,this.pvt),this.tlt.au(YH.ij,this.Pz),this.tlt.au(YH.Cf,this.Avt),this.tlt.au(YH.zft,this.kvt),this.tlt.au(YH.Yf,this.vvt),this.tlt.au(YH.Og,this.nz),this.tlt.au(YH.qft,this.Nvt),this.tlt.au(YH.Sft,this.Tvt),this.tlt.au(YH.Wf,this.lvt),this.tlt.au(YH.Xft,this.yvt),this.tlt.au(YH.If,this.wvt),this.tlt.au(YH.Rf,this.gvt),this.tlt.Kc()},i}(Su);function rV(t,n){for(var i=0,e=t.qg;i<e.length;i++){var r=e[i];if(r.s_===n)return r}}function sV(t,n){for(var i=!1,e=0;e<t.$g;e++){var r=t.Vg(e);-1===n.indexOf(r.s_)&&(t.Wg(r),e--,i=!0)}return i}function uV(t,n){for(var i=!1,e=0;e<t.length;e++){var r=t[e],s=rV(n,r.trackId);s||(s=new ZX(r),n.zg(s),i=!0)}return i}function oV(t,n){for(var i=0,e=n.qg;i<e.length;i++){var r=e[i];r.evt=Js(t,r.s_)}return!1}var aV=[Bf.Of,Bf.Cf,Bf.zf,Bf.Gf,Bf.Hf,Bf.Xf,Bf.Vf,Bf.ol,Bf.$f,Bf.qf,Sy.iy,Sy.ey,Bf.Wf,Bf.Yf,Bf.Tu,Bf.If,Bf.Rf],hV=50,cV=function(t){function n(n,i){var e;return(e=t.call(this)||this).kp=!1,e.Cvt=Z,e.Pvt=0,e.jE=uy.z_,e.VE=!1,e.XE=!1,e.Ovt=!1,e.xvt=void 0,e.Kft=void 0,e.Oa=void 0,e.LC=void 0,e.me=void 0,e._lt=void 0,e.LD=void 0,e.xrt=void 0,e.gN=void 0,e._N=void 0,e.Bvt=function(t){var n,i;(t.by&&!Ut(t.by,e.Oa,1e-5)||t.vy&&t.vy!==e.LC)&&(e.Oa=null!=(n=t.by)?n:e.Oa,e.LC=null!=(i=t.vy)?i:e.LC,e.Ks(new Uy(e.sy,e.Oa)))},e.Lvt=function(){var t,n=e.Kft.Slt();null==(t=e._lt)||t.au(YH.Wft,e.Mvt),n?(e._lt=n,e._lt.tu(YH.Wft,e.Mvt),e.RY=new eV(e.Kft,n,e.me)):e.RY=e.Fvt()},e.Mvt=function(t){e.XD(t.pm),e.llt(t.ED)},e.Uvt=function(t){var n=e.jvt(t.mT);if(n){var i={targetQualityIds:t.Cft};n.Qlt(i)}},e.mvt=function(t){e.Hvt(t.Au)},e.Hvt=function(t){e.Cvt&&e.Cvt(t)},e.Xvt=function(t){e.gN=t.Au,e._N=gm(e.gN),e.Ks(new Vy(e._N))},e.Vvt=function(t){if(t.enabled)for(var n=0,i=(e.qy.qg.some(function(n){return n.s_===t.trackId})?e.qy:e.Gy).qg;n<i.length;n++){var r=i[n];r.e_&&r.s_!==t.trackId&&(r.e_=!1)}},e.zvt=function(t){var n,i;if(t.mode===j_.v_)for(var r=0,s=e.$y.qg;r<s.length;r++){var u=s[r];u.g_===j_.v_&&u.s_!==t.trackId&&(n=u.u_,i=t.track.u_,$k(n)&&$k(i)&&(n===i||n===Wk.lA&&i===Wk.gE||n===Wk.gE&&i===Wk.lA))&&(u.g_=j_.f_)}},e.clt=tt(function(){e.Wvt()},hV),e.Gvt=function(t){var n=e.qvt(t.targetQuality),i=t.track;e.Kft.Uft(i.s_,i.LV,n)},e.zE=function(t){e.Ks(t);var n=t.readyState;!e.VE&&e.jE===uy.z_&&n>=uy.W_&&(e.VE=!0,e.Ks(new Cy(t.currentTime))),!e.XE&&e.jE<=uy.W_&&n>=uy.G_&&(e.XE=!0,e.Ks(new Ly(t.currentTime))),e.jE<=uy.G_&&n>=uy.q_&&e.Ks(new jy(t.currentTime)),e.jE<=uy.q_&&n===uy.Y_&&e.Ks(new Hy(t.currentTime)),e.jE=n},e.BD=n,e.Oa=e.BD.by,e.LC=e.BD.vy,e.Kft=i,e.Kft.tu(GH.Ift,e.mvt),e.Kft.tu(GH.Rft,e.Xvt),e.Kft.tu(GH.al,e.Bvt),e.Kft.tu(GH.Eft,e.Lvt),e.Kft.tu(GH.Nft,e.Uvt),e.LD=e.BD.pm,e.xrt=e.BD.Ky(),e.RY=new VX(Kt(e),e.BD.sy,e.BD.uy,e.BD.oy,e.BD.wy,e.BD.gy,new mm,new mm,new Gk,e.BD.py,e.BD.yy),e.$vt(),e}E(n,t);var i=n.prototype;return i.XD=function(t){t&&(T_(this.LD&&I_(this.LD),t&&I_(t))||(this.LD=t,this.Ks(new K_(t))))},i.llt=function(t){t&&(T_(this.xrt&&I_(this.xrt),t&&I_(t))||(this.Pvt=0,this.xrt=t,this.Ks(new IN(t)),this.me.Wlt()))},i.jvt=function(t){for(var n=0,i=this.qy.qg;n<i.length;n++){var e=i[n];if(e.s_===t)return e}for(var r=0,s=this.Gy.qg;r<s.length;r++){var u=s[r];if(u.s_===t)return u}},i.Zh=function(){var t=this.xvt||this.BD.Ky();this.kp&&t&&this.Elt(t,!this.BD.wy,this.BD.sy)},i.Ky=function(){return this.xrt},i.tm=function(t){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.xrt=t,n.next=3,Ur.awrap(this.Elt(t,!0,0));case 3:this.xvt=void 0;case 4:case"end":return n.stop()}},null,this,null,Ge)},i.dm=function(){},i.wm=function(){return IS},i.gm=function(){return[]},i.hm=function(){},i.Qy=function(){this.Kft.Slt()||this.Ovt||!this.xrt?this.me.Qy():this.Elt(this.xrt,!0,0)},i.Jy=function(){this.me.Jy()},i.Zy=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.me.Zy();case 1:case"end":return t.stop()}},null,this,null,Ge)},i.cm=function(t){this.kp=!0},i.fm=function(){this.LD=void 0;var t=this.by,n=this.vy;this.kp=!1,t===this.BD.by&&n===this.BD.vy||this.Ks(new Uy(this.sy,this.by))},i._m=function(t){return!1},i.lm=function(){},i.vm=function(){},i.nm=function(){return!1},i.im=function(){},i.um=function(){},i.Elt=function(t,n,i){this.Ovt=!0,this.wc(),this.Pvt=this.BD.Fm.length>0?this.BD.Fm.start(0):0;var e=this.uy===1/0,r=function(t,n,i){return{theoplayer_version:HX,streamStart:t,isLive:n,sourceDescription:i}}(this.Pvt,e,t),s={Ilt:t,sy:i?i-this.Pvt:0,Rlt:r};return this.Yvt(s)},i.Yvt=function(t){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ur.awrap(this.Kft.Elt(t));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),this.Hvt(n.t0);case 8:return n.prev=8,this.Ovt=!1,n.finish(8);case 11:case"end":return n.stop()}},null,this,[[0,5,8,11]],Ge)},i.$vt=function(){this.Qvt(this.Gy,"audio"),this.Qvt(this.qy,"video"),this.Qvt(this.$y,"text")},i.Qvt=function(t,n){for(var i=this,e=0,r=t.qg;e<r.length;e++){var s=r[e];this.Jvt(s,n)}t.tu(s_.hg,function(t){i.Jvt(t._g,n)})},i.Jvt=function(t,n){"text"!==n?(t.tu(XX.qlt,this.Gvt),t.tu(XX.$lt,this.Vvt),t.tu(XX.$lt,this.clt)):(t.tu(XX.Glt,this.zvt),t.tu(XX.Glt,this.clt))},i.Wvt=function(){for(var t=[],n=0,i=this.qy.qg;n<i.length;n++){var e=i[n];e.e_&&t.push(e.s_)}for(var r=0,s=this.Gy.qg;r<s.length;r++){var u=s[r];u.e_&&t.push(u.s_)}for(var o=0,a=this.$y.qg;o<a.length;o++){var h=a[o];h.g_===j_.v_&&t.push(h.s_)}this.me.glt(t)},i.qvt=function(t){var n,i;return!!t&&((null!=(n=null==(i=this.Kft.jft())?void 0:i.version)?n:-1)>=2?t.map(function(t){return t.r_}):[t[0].r_])},i.Zvt=function(t){this.Cvt=t},i.Am=function(){},i.wc=function(){return this.jE=uy.z_,this.VE=!1,this.XE=!1,this.gN=void 0,this._N=void 0,Ge.resolve()},i.Kc=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ur.awrap(this.wc());case 2:this.ou(),this.RY=this.Fvt(),this.Kft.au(GH.Ift,this.mvt),this.Kft.au(GH.Rft,this.Xvt),this.Kft.au(GH.al,this.Bvt),this.Kft.au(GH.Eft,this.Lvt),this.Kft.au(GH.Nft,this.Uvt),this.Kft.Kc();case 10:case"end":return t.stop()}},null,this,null,Ge)},i.Fvt=function(){return new VX(this,this.me.JL(),this.me.KL(),this.me.nM(),this.me.aM(),this.me.hM(),this.me.GL(),this.me.mM(),this.me._M(),this.me.pM(),this.me.yM())},T(n,[{key:"RY",set:function(t){var n,i,e;null==(n=this.me)||n.au(YH.Ift,this.mvt),null==(i=this.me)||i.au(aV,this.Zs),null==(e=this.me)||e.au(Sy.Og,this.zE);var r=this.me;this.me=t,null==r||r.Kc(),this.me.tu(YH.Ift,this.mvt),this.me.tu(aV,this.Zs),this.me.tu(Sy.Og,this.zE)}},{key:"Ep",get:function(){return this.kp}},{key:"Gy",get:function(){return this.me.GL()}},{key:"Tm",get:function(){return this.me.qL()}},{key:"Kvt",get:function(){return this.xvt||this.xrt},set:function(t){this.xvt=t}},{key:"Sm",get:function(){return this.me.YL()}},{key:"pm",get:function(){return this.LD}},{key:"sy",get:function(){return this.me.JL()+this.Pvt},set:function(t){this.Ovt||(this.Kft.Slt()||this.Ovt||!this.xrt?this.me.Uu(t-this.Pvt):this.Elt(this.xrt,!0,t))}},{key:"uy",get:function(){return this.me.KL()}},{key:"Em",get:function(){return this.BD.Em}},{key:"oy",get:function(){return this.me.nM()}},{key:"Au",get:function(){return this.gN}},{key:"ly",get:function(){return this._N}},{key:"Yy",get:function(){}},{key:"Rm",get:function(){return{Nm:0,Dm:0,Cm:0,Pm:0,Om:0,xm:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"vy",get:function(){return this.kp?this.LC:this.BD.vy},set:function(t){this.LC=t,this.Ks(new Uy(this.sy,this.by)),this.Kft.uM(t)}},{key:"Bm",get:function(){return!0}},{key:"wy",get:function(){return this.me.aM()}},{key:"gy",get:function(){return this.me.hM()},set:function(t){this.me.cM(t)}},{key:"Lm",get:function(){return this.me.fM()}},{key:"Mm",get:function(){return gS.CD},set:function(t){}},{key:"m_",get:function(){return this.me.dM()}},{key:"Fm",get:function(){return this.me.wM()}},{key:"_y",get:function(){return this.me.gM()}},{key:"$y",get:function(){return this.me._M()}},{key:"yy",get:function(){return this.me.yM()}},{key:"py",get:function(){return this.me.pM()}},{key:"qy",get:function(){return this.me.mM()}},{key:"by",get:function(){return this.kp?this.Oa:this.BD.by},set:function(t){this.Oa=t,this.Ks(new Uy(this.sy,this.by)),this.Kft.bM(t)}},{key:"Um",get:function(){return this.BD.Um}},{key:"jm",get:function(){return!1},set:function(t){}},{key:"Im",get:function(){return!1}}]),n}(J_),fV=function(t){function n(n){var i;return(i=t.call(this,"error")||this).Au=n,i}return E(n,t),n.prototype.gg=function(){return new lV(this.Au)},n}(o_),lV=function(t){function n(n){var i;return(i=t.call(this,"error")||this).error=n,i}return E(n,t),n}(Iu),vV=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return E(n,t),n}(Iu);function dV(t,n){var i=void 0;return{get casting(){return t.qM},get error(){return t.Au},get receiverName(){return t.tdt},get state(){return t.RY},start:function(){t.WD()},stop:function(){t.Zy()},join:function(){t.ndt()},leave:function(){t.idt()},set connectionCallback(t){null==n||n.xlt(t)},get connectionCallback(){return null==n?void 0:n.Blt()},get source(){return i||t.ED},set source(n){i=n,t.ED=n?HE(n):void 0},addEventListener:function(n,i){var e=O_(n,C_);t.tu(e,i)},removeEventListener:function(n,i){var e=O_(n,C_);t.au(e,i)}}}var wV=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Mc=void 0,r.gN=void 0,r.dg=void 0,r.edt=void 0,r.BD=void 0,r.me=rE.UNAVAILABLE,r.rdt=void 0,r.sdt=void 0,r.udt=void 0,r.odt=void 0,r.adt=!1,r.hdt=function(){r.odt.tu(OH.uft,r.cdt),r.RY=r.odt.Olt()},r.cdt=function(t){var n=t.RY;n!==rE.UNAVAILABLE&&n!==rE.AVAILABLE||r.fdt(!1),r.RY=n},r.xvt=void 0,r.CG=function(t){t instanceof HH&&(r.gN=t,r.Ks(new fV(t).wg))},r.udt=n,r.odt=e,r.Mc=i.chromecast,r.rdt=i.strategy,r.sdt=r.odt.LL(r.Mc),r.sdt.then(r.hdt).catch(r.CG),r}E(n,t);var i=n.prototype;return i.ldt=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.sdt){t.next=2;break}throw new l("Chromecast must be initialized before starting a session");case 2:return t.next=4,Ur.awrap(this.sdt);case 4:if(this.odt.Llt()){t.next=7;break}return t.next=7,Ur.awrap(this.odt.Mlt());case 7:case"end":return t.stop()}},null,this,null,Ge)},i.WD=function(){var t,n,i,e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:return this.adt=!0,r.prev=1,this.RY=rE.CONNECTING,r.next=5,Ur.awrap(this.ldt());case 5:if(this.vdt(),!this.BD){r.next=13;break}return i=null==(n=this.edt)?void 0:n.Ky(),r.next=10,Ur.awrap(this.odt.Flt(i));case 10:(e=r.sent)?this.BD.Kvt=e:this.xvt?this.BD.Kvt=this.xvt:this.BD.Kvt=i,this.BD.Zh();case 13:this.RY=rE.CONNECTED,null==(t=this.edt)||t.wc(),r.next=23;break;case 17:return r.prev=17,r.t0=r.catch(1),r.next=21,Ur.awrap(this.fdt(!1));case 21:this.RY=rE.AVAILABLE,cu(r.t0)||this.CG(r.t0);case 23:case"end":return r.stop()}},null,this,[[1,17]],Ge)},i.ndt=function(){var t,n,i,e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:return this.adt=!0,r.prev=1,this.RY=rE.CONNECTING,r.next=5,Ur.awrap(this.ldt());case 5:if(this.vdt(),!this.BD){r.next=12;break}return i=null==(n=this.edt)?void 0:n.Ky(),r.next=10,Ur.awrap(this.odt.jlt(i));case 10:(e=r.sent)&&(this.BD.Kvt=e);case 12:this.RY=rE.CONNECTED,null==(t=this.edt)||t.wc(),r.next=22;break;case 16:return r.prev=16,r.t0=r.catch(1),r.next=20,Ur.awrap(this.fdt(!0));case 20:this.RY=rE.AVAILABLE,cu(r.t0)||this.CG(r.t0);case 22:case"end":return r.stop()}},null,this,[[1,16]],Ge)},i.ddt=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.odt.Llt()){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Ur.awrap(this.WD());case 4:case"end":return t.stop()}},null,this,null,Ge)},i.vdt=function(){this.edt=this.udt.jM.t_,this.BD||(this.BD=this.wdt(this.edt)),this.gN=void 0,this.edt.Jy(),this.udt.jM.t_=this.BD},i.wdt=function(t){var n=new cV(t,this.odt.Llt());return n.Zvt(this.CG),this.udt.jM.Wy(n),n},i.gdt=function(){this.BD&&(this.udt.jM.ym(this.BD),this.BD.Kc(),this.BD=void 0)},i.fdt=function(t){var n,i,e,r;return Ur.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(this.adt=!1,this.BD){s.next=4;break}return s.abrupt("return");case 4:if(n=this.BD.Ep,this.udt.jM.t_=this.edt,i=this.BD.Ky(),e=this.BD.sy,this.gdt(),!n){s.next=20;break}if(!t){s.next=16;break}return s.next=13,Ur.awrap(this.odt.Hlt(i));case 13:r=s.sent,s.next=19;break;case 16:return s.next=18,Ur.awrap(this.odt.Ult(i));case 18:r=s.sent;case 19:(r||i)&&(this.udt.wg.source=r||i,this.udt.ZL(e),this.udt.Qy());case 20:case"end":return s.stop()}},null,this,null,Ge)},i.idt=function(){this.qM&&(this.odt.Xlt(!1),this.fdt(!0))},i.Zy=function(){this.qM&&(this.odt.Xlt(!0),this.fdt(!1))},i.Kc=function(){this.odt.au(OH.uft,this.cdt),this.ou(),this.gdt()},T(n,[{key:"qM",get:function(){return this.RY===rE.CONNECTING||this.RY===rE.CONNECTED}},{key:"Au",get:function(){return this.gN}},{key:"wg",get:function(){return this.dg||(this.dg=dV(this,this.odt)),this.dg}},{key:"tdt",get:function(){var t;return null==(t=this.odt.Llt())?void 0:t.Nlt()}},{key:"ED",get:function(){var t;return this.xvt?this.xvt:null==(t=this.BD)?void 0:t.Kvt},set:function(t){this.xvt=t,t&&this.BD&&(this.BD.Kvt=t,this.BD.Zh())}},{key:"RY",get:function(){return this.me},set:function(t){this.adt||t!==rE.CONNECTING&&t!==rE.CONNECTED||(t=rE.AVAILABLE),this.me!==t&&(this.me=t,this.Ks(new vV(this.RY)))}}]),n}(Q_);wV._dt="ChromecastController",gN(function(t){return function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.gg=function(){var n=this.QF.wg;return b_(t.prototype.gg.call(this),{get cast(){return n}})},n}(t)},fN.tU);var gV,_V=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).dg=void 0,n}E(n,t);var i=n.prototype;return i.ndt=function(){console.warn("Joining a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.idt=function(){console.warn("Leaving a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.WD=function(){console.warn("Starting a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.Zy=function(){console.warn("Stopping a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.ddt=function(){return Ge.resolve()},i.Kc=function(){},T(n,[{key:"qM",get:function(){return!1}},{key:"Au",get:function(){}},{key:"tdt",get:function(){}},{key:"ED",get:function(){},set:function(t){}},{key:"RY",get:function(){return rE.UNAVAILABLE}},{key:"wg",get:function(){return this.dg||(this.dg=dV(this)),this.dg}}]),n}(Q_);function yV(t){return function(n){return function(n){function i(i,e){var r;return(r=n.call(this,i,e)||this).ydt=void 0,r.cc.cast.strategy!==ny.DISABLED?(r.ydt=new wV(Kt(r),r.cc.cast,t),r.QF.$M(r.ydt)):r.ydt=new _V,r}E(i,n);var e=i.prototype;return e.gg=function(){var t=this,i=n.prototype.gg.call(this);return b_(i.cast,{get chromecast(){return t.ydt.wg}}),i},e.Ky=function(){var t,i,e=n.prototype.Ky.call(this);return!e&&null!=(t=this.ydt)&&t.qM&&null!=(i=this.ydt)&&i.ED?this.ydt.ED:e},e.Qy=function(){n.prototype.Qy.call(this),this.cc.cast.strategy===ny.AUTO&&this.ydt&&!this.ydt.qM&&this.ydt.ddt()},e.Kc=function(){this.ydt&&this.ydt.Kc(),n.prototype.Kc.call(this)},i}(n)}}gN(yV(new jX),fN.tU),function(t){t[t.mdt=0]="mdt",t[t.pdt=1]="pdt"}(gV||(gV={}));var mV,pV,kV=function(){function t(t){this.kdt=Xr(),this.bdt=Xr(),this.Adt=t}var n=t.prototype;return n.Tdt=function(t,n,i,e,r,s,u,o,a,h,c){var f=this;t.bP.forEach(function(t){if(!f.Sdt(t.Edt)){var l=t.Idt(n,i,e,r,s,u,o,a,h,c);l&&f.Rdt(l,i)}})},n.Sdt=function(t){return this.kdt.get(t)},n.Rdt=function(t,n){this.kdt.set(t.Ndt,t),this.bdt.set(t.Ndt,t.Ddt),n.Wy(t),this.Adt.nP(t.Cdt)},n.Pdt=function(t){this.kdt.has(t.Ndt)||(this.bdt.set(t.Ndt,t),this.Adt.nP(t.Cdt))},n.Odt=function(t){return this.bdt.forEach(t)},n.xdt=function(t){this.kdt.forEach(function(n){n.xdt(t)})},n.Kc=function(){this.kdt.forEach(function(t){return t.Kc()}),this.bdt.forEach(function(t){return t.Kc()}),this.kdt.clear(),this.bdt.clear()},t}(),bV=function(t){function n(n,i,e,r){var s;return(s=t.call(this,e||i&&AV[i]||n,r)||this).Bdt=n,s.Ldt=i,s.Mdt=e,s}return E(n,t),T(n,[{key:"Fdt",get:function(){return this.Bdt}},{key:"Udt",get:function(){var t;return null!=(t=this.Ldt)?t:pV.UNKNOWN_ERROR}}]),n}(nn);!function(t){t.ADBLOCK="adblock",t.NETWORK="network",t.PARSING="parsing",t.PLAYBACK="playback",t.GENERAL="general"}(mV||(mV={})),function(t){t[t.VAST_MALFORMED_RESPONSE=100]="VAST_MALFORMED_RESPONSE",t[t.VAST_SCHEMA_VALIDATION_ERROR=101]="VAST_SCHEMA_VALIDATION_ERROR",t[t.VAST_UNSUPPORTED_VERSION=102]="VAST_UNSUPPORTED_VERSION",t[t.VAST_TRAFFICKING_ERROR=200]="VAST_TRAFFICKING_ERROR",t[t.VAST_UNEXPECTED_LINEARITY=201]="VAST_UNEXPECTED_LINEARITY",t[t.VAST_UNEXPECTED_DURATION_ERROR=202]="VAST_UNEXPECTED_DURATION_ERROR",t[t.UNEXPECTED_SIZE=203]="UNEXPECTED_SIZE",t[t.VAST_WRAPPER_ERROR=300]="VAST_WRAPPER_ERROR",t[t.VAST_LOAD_TIMEOUT=301]="VAST_LOAD_TIMEOUT",t[t.VAST_TOO_MANY_REDIRECTS=302]="VAST_TOO_MANY_REDIRECTS",t[t.VAST_NO_ADS_AFTER_WRAPPER=303]="VAST_NO_ADS_AFTER_WRAPPER",t[t.GENERAL_LINEAR_ERROR=400]="GENERAL_LINEAR_ERROR",t[t.FILE_NOT_FOUND=401]="FILE_NOT_FOUND",t[t.VAST_MEDIA_LOAD_TIMEOUT=402]="VAST_MEDIA_LOAD_TIMEOUT",t[t.VAST_LINEAR_ASSET_MISMATCH=403]="VAST_LINEAR_ASSET_MISMATCH",t[t.VAST_PROBLEM_DISPLAYING_MEDIA_FILE=405]="VAST_PROBLEM_DISPLAYING_MEDIA_FILE",t[t.MEZZANINE_FILE_REQUIRES=406]="MEZZANINE_FILE_REQUIRES",t[t.MEZZANINE_FILE_DOWNLOADED_FIRST_TIME=407]="MEZZANINE_FILE_DOWNLOADED_FIRST_TIME",t[t.AD_IN_VAST_REJECTED=408]="AD_IN_VAST_REJECTED",t[t.INTERACTIVE_CREATIVE_NOT_EXECUTED=409]="INTERACTIVE_CREATIVE_NOT_EXECUTED",t[t.VERIFICATION_CODE_NOT_EXECUTED=410]="VERIFICATION_CODE_NOT_EXECUTED",t[t.GENERAL_NON_LINEAR_ERROR=500]="GENERAL_NON_LINEAR_ERROR",t[t.NONLINEAR_DIMENSIONS_ERROR=501]="NONLINEAR_DIMENSIONS_ERROR",t[t.OVERLAY_AD_LOADING_FAILED=502]="OVERLAY_AD_LOADING_FAILED",t[t.VAST_NONLINEAR_ASSET_MISMATCH=503]="VAST_NONLINEAR_ASSET_MISMATCH",t[t.GENERAL_COMPANION_AD_ERROR=600]="GENERAL_COMPANION_AD_ERROR",t[t.INVALID_DIMENSIONS_COMPANION_AD=601]="INVALID_DIMENSIONS_COMPANION_AD",t[t.COMPANION_REQUIRED_ERROR=602]="COMPANION_REQUIRED_ERROR",t[t.COMPANION_AD_LOADING_FAILED=603]="COMPANION_AD_LOADING_FAILED",t[t.UNABLE_TO_FIND_SUPPORTED_COMPANION=604]="UNABLE_TO_FIND_SUPPORTED_COMPANION",t[t.UNKNOWN_ERROR=900]="UNKNOWN_ERROR",t[t.GENERAL_VPAID_ERROR=901]="GENERAL_VPAID_ERROR",t[t.MALFORMED_URI=1005]="MALFORMED_URI",t[t.VAST_ASSET_NOT_FOUND=1007]="VAST_ASSET_NOT_FOUND",t[t.VAST_EMPTY_RESPONSE=1009]="VAST_EMPTY_RESPONSE",t[t.UNKNOWN_AD_RESPONSE=1010]="UNKNOWN_AD_RESPONSE",t[t.UNSUPPORTED_LOCALE=1011]="UNSUPPORTED_LOCALE",t[t.INVALID_ARGUMENTS=1101]="INVALID_ARGUMENTS",t[t.INVALID_ADX_EXTENSION=1105]="INVALID_ADX_EXTENSION",t[t.AUTOPLAY_DISALLOWED=1205]="AUTOPLAY_DISALLOWED"}(pV||(pV={}));var AV={100:"XML parsing error.",101:"VAST schema validation error.",102:"VAST version of response not supported.",200:"Trafficking error. The video player received an ad type that it was not expecting and/or cannot display.",201:"Video player expecting different linearity.",202:"Video player expecting different duration.",203:"Video player expecting different size.",300:"General wrapper error.",301:"Timeout of VAST URI provided in wrapper element, or of VAST URI provided in a subsequent wrapper element. This includes request errors such as invalid URI, unreachable or request timeout for URI, and security or other exceptions related to requesting a VAST URI.",302:"Wrapper limit reached, as defined by the video player. Too many wrapper responses have been received with no InLine response. This can be caused by a circular loop of daisy chaining (one network bouncing to another and another).",303:"No ads VAST response after one or more wrappers. This also includes the number of empty VAST responses from fallback.",400:"General linear error. The video player is unable to display the linear ad.",401:"File not found. Unable to find Linear/MediaFile from URI.",402:"Unable to download or timeout of MediaFile URI.",403:"Could not find a media file that is supported by this video player, based on the attributes of the MediaFile element.",405:"Problem displaying a media file.",406:"A mezzanine file was required, but not provided.",407:"The mezzanine file was downloaded for the first time, so the ad did not serve. This can occur when an ad insertion is missed because the creative is being transcoded. It continues to occur until the creative is available for insertion.",408:"The ad returned in the VAST response was rejected.",409:"The interactive creative defined in the InteractiveCreativeFile node was not executed.",410:"The code referenced in the Verification node was not executed.",500:"General NonLinearAds error.",501:"Unable to display non-linear ad because creative dimensions do not align with creative display area (in other words, the creative dimension was too large). This can occur if you use CSS styles to set width and height of the video ,content element. You should instead use the width and height HTML attributes.",502:"Unable to fetch NonLinearAds/NonLinear resource.",503:"Could not find NonLinearResource with supported type. This can occur when a creative size is larger than the player size.",600:"General CompanionAds error.",601:"Unable to display companion because creative dimensions do not fit within the companion display area (in other words, space was not available).",602:"Unable to display required companion.",603:"Unable to fetch CompanionAds/Companion resource.",604:"Could not find Companion resource with supported type.",900:"VAST 2 error. Even if you request VAST 3 or your DFP network default is VAST 3, this can occur if you have a VAST redirect that returns a VAST 2 response.",901:"General VPAID error",1005:"URI malformed."},TV=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).jdt=void 0,e.jdt=i,e}return E(n,t),n}(o_),SV=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).ad=i,e}return E(n,t),n}(Iu),EV=function(t){function n(n,i,e,r){var s;return(s=t.call(this,"Hdt",null)||this).Fdt=n,s.mu=i,s.Ju=e,s.ED=r,s}return E(n,t),n.prototype.gg=function(){return new IV(this.Fdt,this.mu,this.Ju,this.ED)},n.Xdt=function(t){return new n(mV.GENERAL,t.mu,t.Udt)},n.Vdt=function(t,i){return new n(t.Fdt,t.message,t.Udt,i)},n}(TV),IV=function(t){function n(n,i,e,r){var s;return(s=t.call(this,"aderror",null)||this).problemType=n,s.message=i,s.errorCode=e,s.source=r,s}return E(n,t),n}(SV);var RV=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).zdt=void 0,r.Wdt=void 0,r.zdt=n,r.Wdt=e,r}return E(n,t),n.prototype.Qy=function(){this.zdt.t_=this.Wdt,this.zdt.Qy()},n}(VR),NV=function(t){function i(n,i){var e,r;return(e=t.call(this)||this).wg=void 0,e.Gdt=void 0,e.qdt=void 0,e.$dt=void 0,e.Ydt=!1,e.Bq=!1,e.Qdt=function(){e.Ydt&&e.Jdt("Starting ads was not possible. Turn off your AdBlocker and try again.")},e.rZ=function(){e.Bq=!0},e.BD=n,e.zdt=i,i.tu("play",e.rZ),e.wg=(r=Kt(e),{get playing(){return r.Zdt},get currentAds(){var t=[];return r.Kdt(function(n){var i=n.twt;i.length&&(t=t.concat(i))}),t},get currentAdBreak(){var t=null;return r.Kdt(function(n){!t&&n.nwt&&(t=n.nwt)}),t},get scheduledAds(){var t=[];return r.Kdt(function(n){t=t.concat(n.iwt)}),t},get scheduledAdBreaks(){var t=[];return r.Kdt(function(n){t=t.concat(n.ewt)}),t},skip:function(){r.Kdt(function(t){t.IA()})},schedule:function(t){var n=ME(t,sE.qn);n?r.Pe(n,gV.mdt,!1):console.error("Invalid ad description")},addEventListener:function(t,n){r.rwt.tu(t,n)},removeEventListener:function(t,n){r.rwt.au(t,n)}}),e.$dt=new HR(Kt(e),e.wg),e.qdt=new kV(Kt(e)),e.tu("Hdt",e.Qdt),e}E(i,t);var e=i.prototype;return e.Pe=function(t,n,i){try{this.Ydt=i;var e=sE.qn.kP(t),r=this.qdt.Sdt(e.Edt);if(!r)throw new bV(mV.ADBLOCK);n!==gV.pdt&&this.Bq||(this.Gdt=new RV(this.zdt,this.zdt.t_,r),this.zdt.t_=this.Gdt),e.Pe(t,n,r,this.Ydt)}catch(n){0,this.Ks(EV.Vdt(n,t.sources))}},e.xdt=function(t){this.qdt.xdt(t)},e.Jdt=function(t){var i,e=new lf(n.ErrorCode.AD_BLOCKER_DETECTED,t),r=wm(e);this.zdt.t_=new DS(this.BD.Em,r,e),null==(i=this.Gdt)||i.Kc(),this.BD.Kc(),this.Kc(),this.zdt.ym(this.BD)},e.Kdt=function(t){return this.swt.Odt(t)},e.wc=function(){var t;this.Bq=!1,this.zdt.t_===this.Gdt&&(this.zdt.t_=this.BD),null==(t=this.Gdt)||t.wc(),this.Gdt=void 0},e.Kc=function(){this.ou(),this.zdt.au("play",this.rZ),this.au("Hdt",this.Qdt),this.qdt.Kc(),this.$dt.Kc(),this.Gdt=void 0},T(i,[{key:"swt",get:function(){return this.qdt}},{key:"rwt",get:function(){return this.$dt}},{key:"Zdt",get:function(){var t=!1;return this.Kdt(function(n){t=t||n.uwt}),t}}]),i}(GS);gN(function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).owt=void 0,e.owt=new NV(e.NF,e.jM),e}E(n,t);var i=n.prototype;return i.tm=function(n){this.owt.wc(),t.prototype.tm.call(this,n)},i.SU=function(n,i){var e,r,s,u;return Ur.async(function(o){for(;;)switch(o.prev=o.next){case 0:return fu(i),o.next=3,Ur.awrap(t.prototype.SU.call(this,n,i));case 3:if(fu(i),n&&n.ads){o.next=6;break}return o.abrupt("return");case 6:for(e=Boolean(n.blockContentIfAdError),this.owt.xdt(n.playAdsAfterTime),r=0,s=n.ads;r<s.length;r++)u=s[r],this.owt.Pe(u,gV.pdt,e);case 9:case"end":return o.stop()}},null,this,null,Ge)},i.gg=function(){var n=this;return b_(t.prototype.gg.call(this),{get ads(){return n.owt.wg}})},i.Kc=function(){this.owt.Kc(),t.prototype.Kc.call(this)},n}(t)},fN.tU),gN(function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).owt&&e.owt.swt.Tdt(sE.qn,e.NF,e.jM,e.JF,i,e.YF,e.KF,e.qF,e.ag,n,e.OF),e}return E(n,t),n.prototype.Kc=function(){t.prototype.Kc.call(this)},n}(t)},fN.tU);var DV=0!==F.xn?F.xn:F.cn,CV=F.hn&&DV<12,PV=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Hy=void 0,r.jy=void 0,r.Xy=void 0,r.awt=void 0,r.TN=new oS,r.hwt=function(){r.RD.lm()},r.cwt=function(){r.doHandleWindowFocus()},r.RD=n,r.fwt=i,r.JF=e,r.Hy=new mm,r.jy=new mm,r.Xy=new Gk,r.awt=new WS,r.RD.tu("currentsourcechange",r.Zs),r}E(n,t);var i=n.prototype;return i.cm=function(t){qy(this,t)},i.fm=function(){0},i.wm=function(){return IS},i.Ky=function(){return this.fwt.Ky()},i.tm=function(t,n){return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return fu(n),i.next=3,Ur.awrap(this.RD.tm(t,n));case 3:case"end":return i.stop()}},null,this,null,Ge)},i.nm=function(){return!1},i.im=function(){},i.um=function(){},i.Kc=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.ou(),this.jy.Kc(),this.Hy.Kc(),this.Xy.Kc(),this.awt.Kc(),this.RD.au("currentsourcechange",this.Zs);case 6:case"end":return t.stop()}},null,this,null,Ge)},i.lwt=function(){CV&&this.addWindowFocusEventListeners(),this.fwt.t_=this},i.vwt=function(){CV&&this.removeWindowFocusEventListeners(),F.Vn&&this.Em.querySelectorAll("video[src]").forEach(function(t){t.src=""}),this.fwt.t_=this.RD},i.addWindowFocusEventListeners=function(){we.addEventListener("blur",this.hwt),we.addEventListener("focus",this.cwt)},i.removeWindowFocusEventListeners=function(){we.removeEventListener("blur",this.hwt),we.removeEventListener("focus",this.cwt)},i.doHandleWindowFocus=function(){var t=this;requestAnimationFrame(function(){return t.RD.vm()})},i.Am=function(){},i.wc=function(){return Ge.resolve()},T(n,[{key:"Ddt",get:function(){return this}},{key:"ewt",get:function(){return[]}},{key:"Yy",get:function(){}},{key:"Um",get:function(){return this.TN}},{key:"Cdt",get:function(){return this.awt}},{key:"Gy",get:function(){return this.jy}},{key:"uwt",get:function(){return this.fwt.t_===this}},{key:"Tm",get:function(){return TS.RC().oD()}},{key:"Sm",get:function(){return null},set:function(t){}},{key:"pm",get:function(){return this.RD.pm}},{key:"Im",get:function(){return!1}},{key:"Rm",get:function(){return{Nm:0,Dm:0,Cm:0,Pm:0,Om:0,xm:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Bm",get:function(){return!0}},{key:"gy",get:function(){return 1},set:function(t){}},{key:"Mm",get:function(){return this.RD.Mm},set:function(t){this.RD.Mm=t}},{key:"Lm",get:function(){return new TS([0,this.sy]).oD()}},{key:"_y",get:function(){return!1}},{key:"$y",get:function(){return this.Xy}},{key:"qy",get:function(){return this.Hy}},{key:"jm",get:function(){return!1},set:function(t){}}]),n}(J_);function OV(t){s.createElement("img").src=t}var xV=new RegExp(/^(\d\d):(\d\d):(\d\d)(?:\.(\d{3}))?$/);function BV(t){if(q(t)){var n=t.match(xV);if(n)return 3600*_(n[1],10)+60*_(n[2],10)+Number(n[3])+(Number(n[4])||0)/1e3}}function LV(t){if(void 0!==t){var n=t.match(/^([1-9]?\d|100)%$/);if(n)return _(n[1])/100}}var MV,FV=function(){},UV=function(t){function n(n){var i;return(i=t.call(this)||this).dwt=void 0,i.dwt=n,i}return E(n,t),T(n,[{key:"wwt",get:function(){return this.dwt}}]),n}(FV),jV=function(){function t(){this.gwt=void 0,this.gwt=null}return T(t,[{key:"_wt",get:function(){return this.gwt}}]),t}(),HV=function(t){function n(n){var i;return(i=t.call(this)||this).ywt=void 0,i.mwt=void 0,i.pwt=void 0,i.ywt=n,i.mwt=0,i.pwt=null,i}E(n,t);var i=n.prototype;return i.kwt=function(){if(null===this.pwt&&(this.pwt=this.ywt.wwt[this.mwt].bwt()),this.mwt<this.ywt.wwt.length){var t=this.pwt.kwt();null==t&&(this.mwt+=1,this.mwt<this.ywt.wwt.length&&(this.pwt=this.ywt.wwt[this.mwt].bwt(),t=this.pwt.kwt())),this.gwt=t}else this.gwt=void 0;return this.gwt},i.Au=function(){return this.kwt()},n}(jV),XV=function(t){function n(n){return t.call(this,n.sort(function(t,n){return t.RS-n.RS}))||this}return E(n,t),n.prototype.bwt=function(){return new HV(this)},n}(UV),VV=function(t){function n(n,i){var e;return(e=t.call(this)||this).Awt=void 0,e.Twt=void 0,e.Swt=void 0,e.Awt=n,e.Twt=i,e.Swt=!1,e}return E(n,t),T(n,[{key:"r_",get:function(){return this.Awt}},{key:"RS",get:function(){return this.Twt}},{key:"Ewt",get:function(){return this.Swt}}]),n}(FV),zV=function(t){function n(n){var i;return(i=t.call(this)||this).ywt=void 0,i.Iwt=void 0,i.ywt=n,i.Iwt=!1,i}E(n,t);var i=n.prototype;return i.kwt=function(){if(this.Iwt)this.gwt=void 0;else{this.Iwt=!0;var t=null,n=null,i=null,e=null,r=[],s=this.ywt.Rwt||[];this.ywt.Au&&(e=this.ywt.Au);for(var u=0,o=this.ywt.Nwt;u<o.length;u++){var a=o[u];a.Dwt&&(t=a.Dwt),a.Cwt&&(n=a.Cwt),a.Pwt&&(i=a.Pwt),r=r.concat(a.universalAdIds)}this.gwt={Owt:s,Dwt:t,xwt:n,Pwt:i,Au:e,Bwt:r}}return this.gwt},i.Au=function(){return this.kwt()},n}(jV),WV=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this,n,i)||this).Lwt=e,a.Mwt=r,a.Fwt=s,a.Uwt=u,a.gN=o,a}return E(n,t),n.prototype.bwt=function(){return new zV(this)},T(n,[{key:"Nwt",get:function(){return this.Uwt}},{key:"jwt",get:function(){return this.Lwt}},{key:"Hwt",get:function(){return this.Mwt}},{key:"Rwt",get:function(){return this.Fwt}},{key:"Au",get:function(){return this.gN}}]),n}(VV),GV=function(){function t(t,n){this.Xwt=void 0,this.Vwt=void 0,this.Xwt=t,this.Vwt=n}return T(t,[{key:"zwt",get:function(){return this.Xwt}},{key:"Wwt",get:function(){return this.Vwt}}]),t}(),qV=function(){function t(t,n,i,e,r,s){this.Gwt=void 0,this.qwt=void 0,this.$wt=void 0,this.Ywt=void 0,this.Qwt=void 0,this.Jwt=void 0,this.Zwt=void 0,this.Lwt=void 0,this.Gwt=t,this.qwt=n,this.$wt=i,this.Ywt=e,this.Qwt=!1,this.Jwt=r,this.Lwt=s}return t.prototype.Kwt=function(){this.Qwt=!0},T(t,[{key:"tgt",get:function(){return this.Gwt}},{key:"ngt",get:function(){return this.qwt}},{key:"igt",get:function(){return this.$wt}},{key:"egt",get:function(){return this.Ywt}},{key:"rgt",get:function(){return this.Zwt},set:function(t){this.Zwt=t}},{key:"sgt",get:function(){return this.Jwt}},{key:"ugt",get:function(){return this.Qwt}},{key:"jwt",get:function(){return this.Lwt}}]),t}();!function(t){t.ogt="all",t.agt="any",t.PD="none"}(MV||(MV={}));var $V,YV=function(){function t(t,n){this.hgt=void 0,this.cgt=void 0,this.hgt=t,this.cgt=n}return T(t,[{key:"fgt",get:function(){return this.hgt}},{key:"lgt",get:function(){return this.cgt}}]),t}(),QV=function(){function t(t,n,i,e,r,s,u,o,a,h,c,f,l,v,d,w){this.Ba=void 0,this.La=void 0,this.Fh=void 0,this.vgt=void 0,this.dgt=void 0,this.wgt=void 0,this.ggt=void 0,this._gt=void 0,this.ygt=void 0,this.mgt=void 0,this.Gwt=void 0,this.qwt=void 0,this.$wt=void 0,this.pgt=void 0,this.kgt=void 0,this.bgt=void 0,this.Ba=t,this.La=n,this.Fh=i,this.vgt=e,this.dgt=r,this.wgt=s,this.ggt=u,this._gt=o,this.ygt=a,this.mgt=h,this.Gwt=c,this.qwt=f,this.$wt=l,this.pgt=v,this.kgt=d,this.bgt=w}return T(t,[{key:"r_",get:function(){return this.Fh}},{key:"xp",get:function(){return this.Ba}},{key:"bT",get:function(){return this.La}},{key:"Agt",get:function(){return this.vgt}},{key:"Tgt",get:function(){return this.dgt}},{key:"Sgt",get:function(){return this.wgt}},{key:"Egt",get:function(){return this.ggt}},{key:"Igt",get:function(){return this._gt}},{key:"Rgt",get:function(){return this.ygt}},{key:"Ngt",get:function(){return this.mgt}},{key:"tgt",get:function(){return this.Gwt}},{key:"ngt",get:function(){return this.qwt}},{key:"igt",get:function(){return this.$wt}},{key:"Dgt",get:function(){return this.pgt}},{key:"Wwt",get:function(){return this.kgt}},{key:"Cgt",get:function(){return this.bgt}}]),t}(),JV=function(){function t(t,n){this.Fh=void 0,this.G2=void 0,this.Fh=t,this.G2=n}return T(t,[{key:"id",get:function(){return this.Fh}},{key:"uri",get:function(){return this.G2}}]),t}(),ZV=function(){function t(t,n,i,e){this.Pgt=void 0,this.Ogt=void 0,this.xgt=void 0,this.Bgt=void 0,this.Pgt=t,this.Ogt=n,this.xgt=i,this.Bgt=e}return T(t,[{key:"Lgt",get:function(){return this.Pgt}},{key:"Mgt",get:function(){return this.Ogt}},{key:"Fgt",get:function(){return this.xgt}},{key:"Ugt",get:function(){return this.Bgt}}]),t}(),KV=function(t){function n(n){var i;return(i=t.call(this)||this).ywt=void 0,i.Iwt=void 0,i.pwt=void 0,i.ywt=n,i.Iwt=!1,i.pwt=null,i}E(n,t);var i=n.prototype;return i.kwt=function(){if(!this.Iwt&&this.ywt.jgt){null===this.pwt&&(this.pwt=this.ywt.jgt.bwt()),this.Iwt=!0;var t=this.pwt.kwt(),n=null,i=null,e=null;if(this.ywt.Nwt)for(var r=0,s=this.ywt.Nwt;r<s.length;r++){var u=s[r];u.Dwt&&(n=u.Dwt),u.Cwt&&(i=u.Cwt),u.Pwt&&(e=u.Pwt)}var o=t.Owt.concat(this.ywt.Owt),a=t.Dwt;if(n&&t.Dwt){var h=new ZV(t.Dwt.Hgt.Lgt,t.Dwt.Hgt.Mgt,t.Dwt.Hgt.Fgt.concat(n.Hgt.Fgt),t.Dwt.Hgt.Ugt.concat(n.Hgt.Ugt));(a=t.Dwt).Hgt=h,a.Wwt=a.Wwt.concat(n.Wwt)}var c=t.xwt;if(i&&i.zwt){for(var f=[],l=0,v=i.zwt;l<v.length;l++){var d=v[l];f.concat(d.egt.Fgt)}for(var w=[],g=0,_=t.xwt.zwt;g<_.length;g++){var y=_[g],m=y[0],p=new ZV(y.egt.Lgt,y.egt.Mgt,y.egt.Fgt.concat(f),t.Dwt.Hgt.Ugt.concat(n.Hgt.Ugt));w.push(new qV(m.Xgt,m.Vgt,m.zgt,p,m.sgt))}c=new GV(w,t.xwt.Wwt.concat(i.Wwt))}var k=t.Pwt;if(k){var b=k.fgt;e&&e.fgt&&(b=e.fgt),k=new YV(b,t.Pwt.lgt.concat(e&&e.lgt||[]))}var A=t.Au;this.ywt.Au&&(A=this.ywt.Au),this.gwt={Owt:o,Dwt:a,xwt:c,Pwt:k,Au:A,Bwt:t.Bwt}}else this.Iwt?this.gwt=void 0:(this.Iwt=!0,this.gwt=null);return this.gwt},i.Au=function(){return this.kwt()},n}(jV),tz=function(t){function n(n,i,e,r,s,u,o,a,h){var c;return(c=t.call(this,n,i)||this).Wgt=void 0,c.Ggt=void 0,c.qgt=void 0,c.$gt=void 0,c.Ygt=void 0,c.Uwt=void 0,c.gN=void 0,c.Wgt=e,c.Ggt=r,c.qgt=s,c.Uwt=u,c.$gt=o,c.Ygt=a,c.gN=h,c}return E(n,t),n.prototype.bwt=function(){return new KV(this)},T(n,[{key:"Owt",get:function(){return this.Wgt}},{key:"jgt",get:function(){return this.Ggt}},{key:"Qgt",get:function(){return this.qgt}},{key:"Nwt",get:function(){return this.Uwt}},{key:"Jgt",get:function(){return this.$gt}},{key:"Zgt",get:function(){return this.Ygt}},{key:"Au",get:function(){return this.gN}}]),n}(VV),nz=function(){function t(t,n,i,e,r,s,u,o){this.Fh=void 0,this.Kgt=void 0,this.t_t=void 0,this._gt=void 0,this.n_t=void 0,this.i_t=void 0,this.e_t=void 0,this.r_t=void 0,this.Fh=t,this.Kgt=n,this.t_t=i,this._gt=e,this.n_t=r,this.i_t=s,this.e_t=u,this.r_t=o}return T(t,[{key:"r_",get:function(){return this.Fh}},{key:"s_t",get:function(){return this.Kgt}},{key:"u_t",get:function(){return this.t_t}},{key:"Igt",get:function(){return this._gt}},{key:"Dwt",get:function(){return this.n_t}},{key:"Cwt",get:function(){return this.i_t}},{key:"Pwt",get:function(){return this.e_t}},{key:"universalAdIds",get:function(){return this.r_t}}]),t}(),iz=function(){function t(t,n,i,e,r,s,u){this.o_t=void 0,this.a_t=void 0,this.Vwt=void 0,this.h_t=void 0,this.c_t=void 0,this.Qwt=void 0,this.Jwt=void 0,this.Zwt=void 0,this.Lwt=void 0,this.o_t=t,this.a_t=n,this.Vwt=i,this.h_t=e,this.c_t=r,this.Qwt=!1,this.Jwt=s,this.Lwt=u}return t.prototype.Kwt=function(){this.Qwt=!0},T(t,[{key:"uy",get:function(){return this.o_t}},{key:"f_t",get:function(){return this.a_t}},{key:"Wwt",get:function(){return this.Vwt},set:function(t){this.Vwt=t}},{key:"Hgt",get:function(){return this.h_t},set:function(t){this.h_t=t}},{key:"l_t",get:function(){return this.c_t},set:function(t){this.c_t=t}},{key:"v_t",get:function(){return this.Qwt}},{key:"rgt",get:function(){return this.Zwt},set:function(t){this.Zwt=t}},{key:"sgt",get:function(){return this.Jwt}},{key:"jwt",get:function(){return this.Lwt}}]),t}();function ez(t,n){return oz(t)&&t.getAttribute(n)||void 0}function rz(t,n){return sz(t,n,void 0,!1)}function sz(t,n,i,e){return n===(t.localName?t.localName:t.nodeName)&&(e&&i?i===t.namespaceURI:!i||!t.namespaceURI||i===t.namespaceURI)}function uz(t,n){for(var i=[],e=0;e<t.childNodes.length;e+=1){var r=t.childNodes.item(e);oz(r)&&rz(r,n)&&i.push(r)}return i}function oz(t){return t&&1===t.nodeType}function az(t,n){var i=(new DOMParser).parseFromString(t,n);if(!i||i.getElementsByTagName("parsererror").length>0)throw new l('Invalid document for MIME type "'+n+'"');return i}function hz(t){return az(t,"text/xml")}function cz(t){switch(t){case $V.d_t:case $V.w_t:case $V.d_:return!0;default:return!1}}!function(t){t.g_t="mute",t.__t="unmute",t.Hf="pause",t.y_t="resume",t.m_t="rewind",t.p_t="skip",t.k_t="playerExpand",t.b_t="playerCollapse",t.A_t="fullscreen",t.T_t="exitFullscreen",t.S_t="expand",t.COLLAPSE="collapse",t.E_t="start",t.I_t="firstQuartile",t.R_t="thirdQuartile",t.N_t="midpoint",t.D_t="complete",t.C_t="acceptInvitationLinear",t.P_t="acceptInvitation",t.O_t="timeSpentViewing",t.x_t="otherAdInteraction",t.Vf="progress",t.B_t="creativeView",t.L_t="adExpand",t.M_t="adCollapse",t.F_t="minimize",t.U_t="close",t.j_t="closeLinear",t.H_t="overlayViewDuration",t.d_t="breakStart",t.w_t="breakEnd",t.d_="error"}($V||($V={}));var fz=[$V.g_t,$V.__t,$V.Hf,$V.y_t,$V.m_t,$V.p_t,$V.j_t,$V.U_t,$V.k_t,$V.b_t,$V.A_t,$V.T_t,$V.S_t,$V.COLLAPSE,$V.B_t,$V.E_t,$V.I_t,$V.N_t,$V.R_t,$V.D_t,$V.C_t,$V.P_t,$V.O_t,$V.x_t,$V.Vf];function lz(t){return void 0!==t&&-1!==fz.indexOf(t)}var vz=[$V.E_t,$V.I_t,$V.N_t,$V.R_t,$V.D_t,$V.g_t,$V.__t,$V.Hf,$V.y_t,$V.m_t,$V.p_t,$V.k_t,$V.b_t,$V.S_t,$V.COLLAPSE,$V.A_t,$V.T_t,$V.B_t,$V.P_t,$V.L_t,$V.M_t,$V.F_t,$V.U_t,$V.H_t,$V.x_t,$V.Vf];function dz(t){return void 0!==t&&-1!==vz.indexOf(t)}var wz=[$V.g_t,$V.__t,$V.Hf,$V.y_t,$V.m_t,$V.p_t,$V.k_t,$V.b_t,$V.B_t];function gz(t){return void 0!==t&&-1!==wz.indexOf(t)}function _z(t,n){if(void 0!==t&&""!==t&&void 0!==n){var i=t.match(/^(\d+):(\d+):(\d+)$/);return i?y(i[1]||"0")+60*y(i[2]||"0")+y(i[3]||"0"):(i=t.match(/^(100|[1-9]\d|\d)%$/))?y(i[1]||"0")*n/100:void 0}}var yz,mz,pz=function(){function t(t,n,i){this.X_t=void 0,this.V_t=void 0,this.z_t=void 0,this.X_t=t,this.V_t=n,this.z_t=i}return T(t,[{key:"W_t",get:function(){return this.X_t}},{key:"Lu",get:function(){return this.V_t}},{key:"eventURL",get:function(){return this.z_t}}]),t}(),kz=function(){function t(t){this.G_t=void 0,this.G_t=t}return T(t,[{key:"q_t",get:function(){return this.G_t}}]),t}(),bz=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n)||this).$_t=void 0,s.bgt=void 0,s.Pgt=void 0,s.$_t=i,s.Pgt=e,s.bgt=r,s}return E(n,t),T(n,[{key:"Lgt",get:function(){return this.Pgt}},{key:"Cgt",get:function(){return this.bgt}},{key:"Y_t",get:function(){return this.$_t}}]),n}(kz),Az=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n}(kz),Tz=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n}(kz),Sz={Q_t:{Ju:100,mu:"XML parsing error."},J_t:{Ju:303,mu:"Empty or invalid VAST error."},Z_t:{Ju:400,mu:"General linear error"},K_t:{Ju:403,mu:"Unsupported MIME-type or missing mediafiles error"},tyt:{Ju:500,mu:"General nonlinear error"},rO:{Ju:900,mu:"Network error"}},Ez=function(){function t(t){this.nyt=void 0,this.nyt=t}return t.prototype.iyt=function(t){if(this.eyt){var n=this.eyt.replace(/\[ERRORCODE]/,""+t.Ju);OV(n)}},T(t,[{key:"eyt",get:function(){return this.nyt}}]),t}(),Iz=31536e3,Rz=2592e3,Nz=86400,Dz=3600,Cz=60,Pz=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,Oz=function(){function t(t){this.ryt=void 0;var n=t.match(Pz);if(!n)throw new l("The given value could not be parsed as a valid DateTimeInterval");var i=Number(n[1])||0,e=Number(n[2])||0,r=Number(n[3])||0,s=Number(n[4])||0,u=Number(n[5])||0,o=Number(n[6])||0;this.ryt=i*Iz+e*Rz+r*Nz+s*Dz+u*Cz+o}var n=t.prototype;return n.syt=function(){return this.ryt},n.uyt=function(){return 1e3*this.ryt},T(t,[{key:"ptt",get:function(){return mp.qk(this.ryt,1e3)}}]),t}();!function(t){t.FE="static",t.UE="dynamic"}(yz||(yz={})),function(t){t.oyt="progressive",t.ayt="interlaced",t.md="unknown"}(mz||(mz={}));var xz=function(){function t(t,n){this.hyt=t,this.cyt=n}return t.prototype.Lp=function(){return this.hyt/this.cyt},t}(),Bz=/^(?:true|false)$/i,Lz=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function Mz(t){if(void 0!==t)return new Oz(t)}function Fz(t){if(void 0!==t){var n=t.match(Lz);if(!n)throw new l("The given value could not be parsed as a valid Date");var i=n[1],e=n[2],r=n[3],s=n[4],u=n[5],o=n[6],a=n[7],h=n[8],c=n[9],f=n[10],v=n[11],d=("-"===i?-1:1)*Number(e),w=Number(r)-1,_=Number(s),y=Number(u),p=Number(o),k=Number(a),b=Number("0."+(h||"")),A=g.round(1e3*b);if(c)p-=("-"===c?-1:1)*(60*Number(f)+Number(v));var T=new Date(Date.UTC(d,w,_,y,p,k,A));if(m(T.getTime()))throw new l("The given value could not be parsed as a valid Date");return T}}function Uz(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[Hz(n[1]),Hz(n[2])]}}function jz(t){if(void 0!==t){if(!m(Number(t)))try{return lt.fromString(t,!0)}catch(t){}throw new l("The given value could not be parsed as a valid unsigned long")}}function Hz(t){if(void 0!==t){var n=Number(t);if(!m(n))return n;throw new l("The given value could not be parsed as a valid Number")}}function Xz(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),e=Number(n[1]||1);if(!m(i)&&!m(e))return new xz(i,e);throw new l("The given value could not be parsed as a valid frame rate")}}function Vz(t){if(void 0!==t){if(Bz.test(t))return"true"===t.toLowerCase();if(!m(_(t)))return Boolean(_(t));throw new l("The given value could not be parsed as a valid Boolean.")}}function zz(t){return{_d:t.Hi,fyt:Vz(t.xi("availabilityTimeComplete")),lyt:Hz(t.xi("availabilityTimeOffset"))}}function Wz(t){return t.map(zz)}function Gz(t){var n,i,e,r,s,u,o=eW(t),a=(i="default_KID",e="urn:mpeg:cenc:2013",r="cenc",void 0===(s=(n=t).Bi(e,i))&&(s=n.xi(r+":"+i)),s),h=Sk(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==h&&(u=Ju(h.Hi)),!u){var c=Sk(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==c&&(u=function(t){var n=Xu(t.Hi),i=new p([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),e=n.length,r=12+i.length+4+e,s=new ArrayBuffer(r),u=new p(s),o=new DataView(s),a=new Ko;Ao(o,a,r),Ao(o,a,1886614376),Ao(o,a,0),_o(o,a,i),Ao(o,a,e),_o(o,a,n),0;return u.buffer}(c))}return{rI:a,K0:u,Z0:o.Z0,Ti:o.Ti}}function qz(t){return{vyt:t.xi("sourceURL"),$ht:Uz(t.xi("range"))}}function $z(t,n){var i=t.xi("d"),e=t.xi("t"),r=Hz(t.xi("r"));n.push({uy:i,op:e,dyt:r})}function Yz(t){return{wyt:t.xi("index"),gyt:Uz(t.xi("indexRange")),wT:t.xi("media"),_yt:Uz(t.xi("mediaRange"))}}function Qz(t){var n,i;return jr({},Kz(t),{yyt:(n=t.Ii("SegmentURL"),(i=n.map(Yz)).length>0?i:void 0),myt:t.xi("xlink:href"),pyt:t.xi("xlink:actuate")})}function Jz(t){var n=t.map(Qz);return n.length>0?n:void 0}function Zz(t){var n=Vz(t.xi("availabilityTimeComplete")),i=Hz(t.xi("availabilityTimeOffset")),e=Uz(t.xi("indexRange")),r=Vz(t.xi("indexRangeExact")),s=t.Ii("Initialization");if(s.length>1)throw new l("The provided MPEG-DASH document's "+t.Ni+" element can not have more than one Initialization element.");var u=1===s.length?qz(s[0]):void 0,o=jz(t.xi("presentationTimeOffset")),a=t.Ii("RepresentationIndex");if(a.length>1)throw new l("The provided MPEG-DASH document's "+t.Ni+" element can not have more than one RepresentationIndex element.");return{fyt:n,lyt:i,gyt:e,kyt:r,byt:u,Ayt:o,Tyt:1===a.length?qz(a[0]):void 0,Syt:Mz(t.xi("timeShiftBufferDepth")),Lk:Hz(t.xi("timescale"))}}function Kz(t){var n=Zz(t),i=t.Ii("BitstreamSwitching"),e=i.length>0?qz(i[0]):void 0,r=Hz(t.xi("duration")),s=t.Ii("SegmentTimeline");if(s.length>1)throw new l("The provided MPEG-DASH document's "+t.Ni+" element can not have more than one SegmentTimeline element.");return jr({},n,{Eyt:e,uy:r,Iyt:1===s.length?function(t){for(var n=[],i=t.Ii("S"),e=0;e<i.length;e++)$z(i[e],n);return n}(s[0]):void 0,Ryt:Hz(t.xi("startNumber")),Nyt:Hz(t.xi("endNumber"))})}function tW(t){return jr({},Kz(t),{Dyt:t.xi("bitstreamSwitching"),Cyt:t.xi("index"),Pyt:t.xi("initialization"),Oyt:t.xi("media")})}function nW(t){return{yZ:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(Hz)):1===n.length?n.map(Hz)[0]:void 0}}(t.xi("audioSamplingRate")),iX:t.xi("codecs"),xyt:Vz(t.xi("codingDependency")),o1:function(t){if(0!==t.length)return t.map(Gz)}(t.Ii("ContentProtection")),Byt:t.Ii("EssentialProperty").map(rW),wZ:Xz(t.xi("frameRate")),bT:Hz(t.xi("height")),Lyt:Hz(t.xi("maxPlayoutRate")),Myt:Hz(t.xi("maximumSAPPeriod")),yx:t.xi("mimeType"),Fyt:t.xi("profiles"),Uyt:t.xi("sar"),jyt:function(t){switch(t){case mz.oyt:case mz.ayt:case mz.md:return t;default:return}}(t.xi("scanType")),Hyt:t.xi("segmentProfiles"),Xyt:Hz(t.xi("startWithSAP")),xp:Hz(t.xi("width"))}}function iW(t){var n=nW(t),i=Hz(t.xi("bandwidth")),e=Wz(t.Ii("BaseURL")),r=t.xi("dependencyId"),s=t.xi("id"),u=t.xi("mediaStreamStructureId"),o=Hz(t.xi("qualityRanking")),a=t.Ii("SegmentBase");if(a.length>1)throw new l("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");var h=1===a.length?Zz(a[0]):void 0,c=Jz(t.Ii("SegmentList")),f=t.Ii("SegmentTemplate");if(f.length>1)throw new l("The provided MPEG-DASH document's Representation element can not have more than one SegmentTemplate element.");return jr({},n,{QR:i,Vyt:e,zyt:r,r_:s,Wyt:u,Gyt:o,qyt:h,$yt:c,Yyt:1===f.length?tW(f[0]):void 0})}function eW(t){return{Z0:t.xi("schemeIdUri"),Ti:t.xi("value")}}function rW(t){return eW(t)}function sW(t){return eW(t)}function uW(t){return eW(t)}function oW(t){var n,i=nW(t),e=function(t){return t.map(uW)}(t.Ii("Accessibility")),r=Wz(t.Ii("BaseURL")),s=Vz(t.xi("bitstreamSwitching")),u=t.xi("contentType"),o=Hz(t.xi("group")),a=Hz(t.xi("id")),h=(null==(n=t.Ii("Label")[0])?void 0:n.Hi)||"",c=t.xi("lang"),f=Hz(t.xi("maxBandwidth")),v=Xz(t.xi("maxFrameRate")),d=Hz(t.xi("maxHeight")),w=Hz(t.xi("maxWidth")),g=Hz(t.xi("minBandwidth")),_=Xz(t.xi("minFrameRate")),y=Hz(t.xi("minHeight")),m=Hz(t.xi("minWidth")),p=t.xi("par"),k=t.Ii("Representation").map(iW);if(0===k.length)throw new l("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var b=function(t){return t.map(sW)}(t.Ii("Role")),A=Vz(t.xi("segmentAlignment"))||!1,T=t.Ii("SegmentBase");if(T.length>1)throw new l("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentBase element.");var S=1===T.length?Zz(T[0]):void 0,E=Jz(t.Ii("SegmentList")),I=t.Ii("SegmentTemplate");if(I.length>1)throw new l("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentTemplate element.");var R,N=1===I.length?tW(I[0]):void 0,D=Hz(t.xi("selectionPriority")),C=D||1,P=Vz(t.xi("subsegmentAlignment"))||!1;try{R=Hz(t.xi("subsegmentStartsWithSAP"))}catch(t){}return jr({},i,{Qyt:e,Vyt:r,Eyt:s,Gv:u,Jyt:o,r_:a,o_:h,a_:c,Zyt:f,Kyt:v,tmt:d,nmt:w,imt:g,emt:_,rmt:y,smt:m,umt:p,a1:k,omt:b,amt:A,qyt:S,$yt:E,Yyt:N,lD:C,hmt:P,cmt:R,fmt:t.xi("xlink:actuate")||"onRequest",lmt:t.xi("xlink:href")})}function aW(t){var n=jz(t.xi("presentationTime"))||lt.ZERO,i=jz(t.xi("duration")),e=Hz(t.xi("id")),r=function(t){for(var n=t.ji,i={},e=0;e<n.length;e++)i[n[e].gi]=n[e].Ti;return i}(t),s=t.Hi;return{VS:n,uy:i,r_:e,ji:r,Xi:""!==s.trim()?s:t.xi("messageData")||""}}function hW(t){return{lmt:t.xi("xlink:href"),fmt:t.xi("xlink:actuate"),Z0:t.xi("schemeIdUri"),Ti:t.xi("value"),Lk:Hz(t.xi("timescale")),Ayt:jz(t.xi("presentationTimeOffset")),mx:t.Ii("Event").map(aW)}}function cW(t,n){var i=t.Ii("AssetIdentifier");if(i.length>1)throw new l("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var e=1===i.length?eW(i[0]):void 0,r=t.Ii("AdaptationSet").map(oW),s=Wz(t.Ii("BaseURL")),u=Vz(t.xi("bitstreamSwitching")),o=Mz(t.xi("duration")),a=t.Ii("EventStream").map(hW),h=t.xi("id"),c=n&&Mz(n.xi("start")),f=t.Ii("SegmentBase");if(f.length>1)throw new l("The provided MPEG-DASH document's Period element can not have more than one SegmentBase element.");var v=1===f.length?Zz(f[0]):void 0,d=Jz(t.Ii("SegmentBase")),w=t.Ii("SegmentTemplate");if(w.length>1)throw new l("The provided MPEG-DASH document's Period element can not have more than one SegmentTemplate element.");var g=1===w.length?tW(w[0]):void 0,_=Mz(t.xi("start"));t.Ii("Subset");var y=t.xi("xlink:href");return{vmt:r,dmt:e,Vyt:s,Eyt:u,uy:o,wmt:a,r_:h,gmt:c,qyt:v,$yt:d,Yyt:g,WD:_,fmt:t.xi("xlink:actuate"),lmt:y}}function fW(t){var n=t.xi("schemeIdUri");if(n)return{Z0:n,Ti:t.xi("value")}}function lW(t,n){var i=Fz(t.xi("availabilityEndTime")),e=Fz(t.xi("availabilityStartTime")),r=Wz(t.Ii("BaseURL")),s=t.xi("id"),u=t.Ii("Location").map(function(t){return""+t.Hi}),o=Mz(t.xi("maxSegmentDuration")),a=Mz(t.xi("maxSubsegmentDuration")),h=Mz(t.xi("mediaPresentationDuration"));t.Ii("Metrics");var c=Mz(t.xi("minBufferTime"));if(!c)throw new l("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var f=Mz(t.xi("minimumUpdatePeriod")),v=function(t){for(var n=[],i=0;i<t.length;i+=1)n.push(cW(t[i],t[i+1]));return n}(t.Ii("Period"));if(!v.length)throw new l("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var d=t.xi("profiles");if(!d)throw new l("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");return{_mt:i,ymt:e,Vyt:r,r_:s,mmt:u,pmt:n,kmt:o,bmt:a,Amt:h,Tmt:c,Smt:f,Emt:v,Fyt:d,Imt:Fz(t.xi("publishTime")),Rmt:Mz(t.xi("suggestedPresentationDelay")),Syt:Mz(t.xi("timeShiftBufferDepth")),gs:function(t){switch(t){case yz.FE:case yz.UE:return t;default:return}}(t.xi("type")),Nmt:function(t){for(var n=[],i=0;i<t.length;i++){var e=fW(t[i]);e&&n.push(e)}return n}(t.Ii("UTCTiming"))}}var vW=function(){function t(){}return t.prototype.rft=function(t,n){return function(t,n){if(!t)throw new l("The provided MPEG-DASH document does not contain a valid MPD root element.");return lW(t,n)}(i.oi(t).Vi,n)},t}();function dW(t){if(!t)return!1;switch(t.toLocaleLowerCase()){case ey.M_:case ey.H_:case ey.L_:return!0;default:return!1}}function wW(t){var n=gr();return!!(dW(t)||t&&n&&null!=n&&n.canPlayType&&n.canPlayType(t))||(_W("Invalid or unsupported MediaFile Content delivery type, skipping mediafile"),!1)}function gW(t,n){n.forEach(function(n){new Ez(n).iyt(t)})}function _W(t){0}var yW,mW=function(){function t(t,n){this.Dmt=void 0,this.Cmt=void 0,this.Dmt=t,this.Cmt=n}return T(t,[{key:"Pmt",get:function(){return this.Dmt}},{key:"Omt",get:function(){return this.Cmt}}]),t}();!function(t){t.xmt="linear",t.Bmt="nonlinear",t.Lmt="companion",t.Mmt="vmap"}(yW||(yW={}));var pW,kW=function(){function t(){}var n=t.prototype;return n.Fmt=function(n,i){var e,r,s,u;return Ur.async(function(o){for(;;)switch(o.prev=o.next){case 0:if("vmap"!==n.sources.type&&(void 0!==n.sources.type||void 0!==n.timeOffset)){o.next=28;break}return o.next=3,Ur.awrap(t.Umt(n.sources.src,i));case 3:if(e=o.sent,r=e&&e.documentElement){o.next=7;break}throw new bV(mV.NETWORK,pV.VAST_SCHEMA_VALIDATION_ERROR,"Ad source is not a valid XML document.");case 7:if(!rz(r,"VMAP")){o.next=13;break}return o.next=10,Ur.awrap(this.jmt(r,n,i));case 10:return o.abrupt("return",o.sent);case 13:if(!rz(r,"VAST")){o.next=25;break}return o.next=16,Ur.awrap(this.Hmt(r,i,!1));case 16:if(!(s=o.sent)){o.next=22;break}return u=new EW("",!0,!0,s),o.abrupt("return",[new TW("start",u,pW.xmt,"",[],!1,!0,n)]);case 22:return o.abrupt("return",[]);case 23:o.next=26;break;case 25:throw new bV(mV.GENERAL,pV.VAST_MALFORMED_RESPONSE,"Only VMAP and VAST files are allowed as ad source.");case 26:o.next=33;break;case 28:if("vast"!==n.sources.type&&(void 0!==n.sources.type||void 0===n.timeOffset)){o.next=32;break}return o.abrupt("return",[new SW(String(n.timeOffset),n,i)]);case 32:throw new bV(mV.GENERAL,pV.VAST_MALFORMED_RESPONSE,"Something went wrong parsing the ad source; only VMAP and VAST files are allowed as ad source.");case 33:case"end":return o.stop()}},null,this,null,Ge)},n.Xmt=function(n,i,e,r){var s,u;return Ur.async(function(o){for(;;)switch(o.prev=o.next){case 0:return void 0===r&&(r=[]),o.prev=1,o.next=4,Ur.awrap(t.Umt(n,i));case 4:s=o.sent,o.next=12;break;case 7:throw o.prev=7,o.t0=o.catch(1),gW(o.t0 instanceof bV&&o.t0.Udt===pV.VAST_MALFORMED_RESPONSE?Sz.J_t:Sz.rO,r),o.t0;case 12:if(!(u=s&&s.documentElement)||!rz(u,"VAST")){o.next=17;break}return o.next=16,Ur.awrap(this.Hmt(u,i,e,r));case 16:return o.abrupt("return",o.sent);case 17:return o.abrupt("return",void 0);case 18:case"end":return o.stop()}},null,this,[[1,7]],Ge)},n.Vmt=function(t,n,i,e){var r,s,u,o;return Ur.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(null!=(r=t.sources)&&r.src){a.next=2;break}throw new bV(mV.GENERAL,pV.MALFORMED_URI,"Property src on adSource is missing.");case 2:return a.next=4,Ur.awrap(this.Xmt(t.sources.src,e,!1));case 4:return s=a.sent,u=new EW("",!0,!0,s),(o=new TW(n,u,pW.xmt,"",[],!1,!0,t)).zmt=i,a.abrupt("return",o);case 9:case"end":return a.stop()}},null,this,null,Ge)},t.requestSuccessOnly=function(t,n){var i;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ur.awrap(n.dd(t));case 3:i=e.sent,e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new bV(mV.NETWORK,pV.UNKNOWN_ERROR,"Something went wrong while requesting xml from server.",e.t0);case 9:if(fw(i)){e.next=11;break}throw new bV(mV.NETWORK,pV.UNKNOWN_ERROR,"Something went wrong while requesting xml from server.");case 11:return e.abrupt("return",i);case 12:case"end":return e.stop()}},null,null,[[0,6]],Ge)},t.Umt=function(t,n){var i,e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=new _w({_d:t,fd:Lf.Kn,Ld:lw.GET}),r.next=3,Ur.awrap(this.requestSuccessOnly(i,n));case 3:return e=r.sent,r.prev=4,r.t0=hz,r.next=8,Ur.awrap(e.Xi());case 8:return r.t1=r.sent,r.abrupt("return",(0,r.t0)(r.t1));case 12:throw r.prev=12,r.t2=r.catch(4),new bV(mV.NETWORK,pV.VAST_MALFORMED_RESPONSE,"The ad source could not be loaded.");case 15:case"end":return r.stop()}},null,this,[[4,12]],Ge)},n.Hmt=function(t,n,i,e){var r,s,u,o,a,h,c,f,l,v,d;return Ur.async(function(w){for(;;)switch(w.prev=w.next){case 0:if(void 0===e&&(e=[]),r=[],s=[],u=[],t&&rz(t,"VAST")){w.next=9;break}if(!i){w.next=8;break}throw gW(Sz.J_t,e),new bV(mV.PARSING,pV.VAST_NO_ADS_AFTER_WRAPPER,"No VAST element found after wrapper.");case 8:return w.abrupt("return",void 0);case 9:if(0===uz(t,"Ad").length){w.next=42;break}o=0,a=uz(t,"Ad");case 11:if(!(o<a.length)){w.next=26;break}return h=a[o],w.prev=13,w.next=16,Ur.awrap(this.Wmt(h,n,e));case 16:0===(c=w.sent).RS?r.push(c):s.push(c),w.next=23;break;case 20:w.prev=20,w.t0=w.catch(13),u.push(w.t0);case 23:o++,w.next=11;break;case 26:if(!(0===r.length&&0===s.length&&u.length>0)){w.next=30;break}throw u[0];case 30:if(1!==r.length||0!==s.length){w.next=34;break}return w.abrupt("return",r[0]);case 34:if(0!==r.length||0===s.length){w.next=38;break}return w.abrupt("return",new XV(s));case 38:if(!(r.length>0||s.length>0)){w.next=40;break}return w.abrupt("return",new XV(s.concat(r)));case 40:w.next=51;break;case 42:if(0===uz(t,"Error").length){w.next=47;break}for(f=0,l=uz(t,"Error");f<l.length;f++)v=l[f],_W(Sz.Q_t.mu),(d=v.textContent)&&e.push(d),gW(Sz.Q_t,e);throw new bV(mV.GENERAL,pV.VAST_MALFORMED_RESPONSE,"The Ad Server responded with a VAST Error");case 47:if(!i){w.next=50;break}throw gW(Sz.J_t,e),new bV(mV.PARSING,pV.VAST_NO_ADS_AFTER_WRAPPER,"No VAST element found after wrapper.");case 50:return w.abrupt("return",void 0);case 51:case"end":return w.stop()}},null,this,[[13,20]],Ge)},n.jmt=function(t,n,e){var r,s,u,o,a;return Ur.async(function(h){for(;;)switch(h.prev=h.next){case 0:r=[],s=uz(t,"AdBreak"),u=0;case 3:if(!(u<s.length)){h.next=18;break}return o=s[u],h.prev=5,h.next=8,Ur.awrap(this.Gmt(o,n,e));case 8:(a=h.sent)&&r.push(a),h.next=15;break;case 12:h.prev=12,h.t0=h.catch(5),i.Ar(h.t0);case 15:u++,h.next=3;break;case 18:return h.abrupt("return",r);case 19:case"end":return h.stop()}},null,this,[[5,12]],Ge)},n.Wmt=function(n,i,e){var r,s,u,o;return Ur.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(r=ez(n,"id")||"",(s=Hz(ez(n,"sequence")))||(s=0),u=uz(n,"InLine"),0===(o=uz(n,"Wrapper")).length){a.next=11;break}return a.next=8,Ur.awrap(this.qmt(o[0],r,s,i,e));case 8:return a.abrupt("return",a.sent);case 11:if(0===u.length){a.next=13;break}return a.abrupt("return",t.$mt(u[0],r,s,e));case 13:throw new bV(mV.PARSING,pV.VAST_SCHEMA_VALIDATION_ERROR,"An Ad tag without a Wrapper or inline element cannot be parsed");case 14:case"end":return a.stop()}},null,this,null,Ge)},t.$mt=function(n,i,e,r){var s,u=uz(n,"Error")[0];u&&u.textContent&&(s=u.textContent,r.push(s));var o,a=uz(n,"AdSystem")[0],h="";a&&(h=a.textContent||h);var c=uz(n,"AdTitle")[0];c&&(o=c.textContent||void 0);for(var f=[],l=0,v=uz(n,"Impression");l<v.length;l++){var d=v[l];d.textContent&&f.push(d.textContent)}var w=t.Ymt(uz(n,"Creatives")[0],h,r);return new WV(i,e,h,o,f,w,new Ez(s))},n.qmt=function(n,i,e,r,s){var u,o,a,h,c,f,l,v,d,w,g,_,y,m,p,k;return Ur.async(function(b){for(;;)switch(b.prev=b.next){case 0:for(u=uz(n,"Error")[0],o="",u&&u.textContent&&(o=u.textContent,s.push(o)),a=uz(n,"AdSystem")[0],h="",a&&(h=a.textContent||h),c=[],f=0,l=uz(n,"Impression");f<l.length;f++)(v=l[f]).textContent&&c.push(v.textContent);return d=uz(n,"VASTAdTagURI")[0],w="",d&&d.textContent&&(w=d.textContent),b.next=13,Ur.awrap(this.Xmt(w,r,!0,s));case 13:return g=b.sent,_=uz(n,"Creatives")[0],y=[],_&&(y=t.Qmt(_,h,s)),(m=Vz(ez(n,"followAdditionalWrappers")))||(m=!0),(p=Vz(ez(n,"allowMultipleAds")))||(p=!0),(k=Vz(ez(n,"fallbackOnNoAd")))||(k=!1),b.abrupt("return",new tz(i,e,c,g,m,y,p,k,new Ez(o)));case 24:case"end":return b.stop()}},null,this,null,Ge)},t.Qmt=function(n,i,e){for(var r=[],s=0,u=uz(n,"Creative");s<u.length;s++){var o=u[s],a=ez(o,"id");a||(a="");var h=Hz(ez(o,"sequence"));h||(h=0);var c=ez(o,"adId");c||(c="");var f=uz(o,"Linear")[0],l=void 0;f&&(l=t.Jmt(f,"wrapper",a,i,e));var v=uz(o,"NonLinearAds")[0],d=void 0;if(v)try{d=t.Zmt(v,a,i)}catch(t){}var w=uz(o,"CompanionAds")[0],g=void 0;w&&(g=t.Kmt(w)),r.push(new nz(a,c,h,"",l,d,g,[]))}return r},t.Ymt=function(n,i,e){for(var r=[],s=0,u=uz(n,"Creative");s<u.length;s++){var o=u[s],a=ez(o,"id");a||(a="");var h=Hz(ez(o,"sequence"));h||(h=0);var c=ez(o,"adId");c||(c="");var f=ez(o,"apiFramework");f||(f="");var l=uz(o,"Linear")[0],v=void 0;if(l)try{v=t.Jmt(l,"inline",a,i,e)}catch(t){}var d=uz(o,"NonLinearAds")[0],w=void 0;if(d)try{w=t.Zmt(d,a,i)}catch(t){}var g=uz(o,"CompanionAds")[0],_=void 0;g&&(_=t.Kmt(g));var y=uz(o,"UniversalAdId"),m=t.parseUniversalAdIds(y);r.push(new nz(a,c,h,f,v,w,_,m))}return r},t.Jmt=function(n,i,e,r,s){var u=uz(n,"Duration")[0],o=0;if(u)o=BV(u.textContent)||0;else if(!u&&"inline"===i)throw new bV(mV.PARSING,pV.VAST_SCHEMA_VALIDATION_ERROR,"Missing duration element in inLine linear");var a=ez(n,"skipoffset"),h=-1;if(a){var c=BV(a);if(void 0===c&&a.indexOf("%")>-1){var f=g.abs(Number(a.replace(/(?![0-9])./g,"")))/100;m(f)||(c=o*f)}void 0!==c&&(h=c)}var l=uz(n,"MediaFiles")[0],v=[];if(l&&(v=function(t,n){for(var i=[],e=0,r=uz(t,"MediaFile");e<r.length;e++){var s=r[e],u=ez(s,"delivery"),o=ez(s,"type");if(o){if(n(o)){var a=Hz(ez(s,"width")),h=Hz(ez(s,"height"));a||(_W(),a=0),h||(_W(),h=0);var c={delivery:u,type:o,width:a,height:h,contentURL:""+s.textContent};i.push(c)}}else _W()}return i}(l,wW)),"inline"===i&&(!l||0===v.length))throw gW(Sz.K_t,s),new bV(mV.PARSING,pV.VAST_LINEAR_ASSET_MISMATCH,"Missing MediaFiles in linear element");var d=uz(n,"TrackingEvents")[0],w=[];d&&(w=t.tpt(d,lz,yW.xmt));var _=uz(n,"VideoClicks")[0],y=t.npt(_);return new iz(o,v,w,y,h,e,r)},t.npt=function(n){if(!n)return new ZV("","",[],[]);var i,e=uz(n,"ClickThrough")[0],r="";e&&(i=e.textContent||void 0,r=ez(e,"id")||"");var s=t.ipt(uz(n,"ClickTracking")),u=t.ipt(uz(n,"CustomClick"));return new ZV(i,r,s,u)},t.ipt=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i],r=e.textContent;if(r){var s=ez(e,"id")||"";n.push(new JV(s,r))}}return n},t.tpt=function(t,n,i){for(var e=[],r=0,s=uz(t,"Tracking");r<s.length;r++){var u=s[r],o=ez(u,"event");if(n(o)){var a="";i===yW.xmt&&(a=ez(t,"offset")||"0");var h=u.textContent;h&&e.push(new pz(o,a,h))}else _W()}return e},t.Zmt=function(n,i,e){for(var r=[],s=0,u=uz(n,"NonLinear");s<u.length;s++){var o=u[s],a=uz(o,"NonLinearClickThrough")[0],h=void 0;a&&(h=a.textContent||void 0);var c=t.ipt(uz(o,"NonLinearClickTracking")),f=uz(o,"StaticResource")[0],l=void 0;if(f&&f.parentNode){var v=ez(f,"creativeType"),d=f.textContent||"",w=uz(f.parentNode,"NonLinearClickThrough")[0],g="";w&&(g=w.textContent||""),l=new bz(d,v,g,"")}var _=uz(o,"IFrameResource")[0],y=void 0;if(_){var m=_.textContent;y=new Az(m)}var p=uz(o,"HTMLResource")[0],k=void 0;if(p){var b=p.textContent;k=new Tz(b)}if(l||y||k){var A=new ZV(h,"",c,[]);r.push(new qV(l,y,k,A,i,e))}else _W()}if(0===r.length)throw new bV(mV.PARSING,pV.VAST_SCHEMA_VALIDATION_ERROR,"nonLinearAds element found with no nonLinear elements");var T=uz(n,"TrackingEvents")[0],S=[];return T&&(S=t.tpt(T,dz,yW.Bmt)),new GV(r,S)},t.parseUniversalAdIds=function(t){for(var n=[],i=0;i<t.length;i++){var e,r,s,u=t[i],o=null!=(e=ez(u,"idRegistry"))?e:"",a=null!=(r=null!=(s=ez(u,"idValue"))?s:u.textContent)?r:"";n.push(new mW(o,a))}return n},t.Kmt=function(n){var i=ez(n,"requiredType");(function(t){switch(t){case MV.ogt:case MV.agt:case MV.PD:return!0;default:return!1}})(i)||(i=MV.PD);for(var e=[],r=0,s=uz(n,"Companion");r<s.length;r++){var u=s[r],o=Hz(ez(u,"width")),a=Hz(ez(u,"height")),h=ez(u,"id"),c=Hz(ez(u,"assetWidth")),f=Hz(ez(u,"assetHeight")),l=Hz(ez(u,"expandedWidth")),v=Hz(ez(u,"rxpandedHeight")),d=ez(u,"apiFramework"),w=ez(u,"adSlotId"),g=Hz(ez(u,"pxratio")),_=uz(u,"AltText")[0],y=_?_.textContent:"";o||(_W(),o=0),a||(_W(),a=0),h||(h=""),c||(c=0),f||(f=0),l||(l=0),v||(v=0),d||(d=""),w||(w=""),g||(g=1),y||(y="");var m=t.ept(u),p=t.rpt(u),k=t.parseHtmlResource(u),b=uz(u,"TrackingEvents")[0],A=[];b&&(A=t.tpt(b,gz,yW.Lmt));var T=uz(u,"CompanionClickThrough")[0],S=void 0;T&&(S=T.textContent||void 0);var E=t.ipt(uz(u,"CompanionClickTracking"));(m||p||k)&&e.push(new QV(o,a,h,c,f,l,v,d,w,g,m,p,k,new ZV(S,"",E,[]),A,y))}return new YV(i,e)},t.ept=function(t){var n,i=uz(t,"StaticResource")[0];if(i&&i.parentNode){var e=ez(i,"creativeType");e||(e="");var r,s=i.textContent,u=uz(i.parentNode,"AltText")[0],o=uz(i.parentNode,"CompanionClickThrough")[0],a="";u&&(a=u.textContent||""),o&&(r=o.textContent||void 0),s&&(n=new bz(s,e,r,a))}return n},t.rpt=function(t){var n,i=uz(t,"IFrameResource")[0];if(i){var e=i.textContent;n=new Az(e)}return n},t.parseHtmlResource=function(t){var n,i=uz(t,"HTMLResource")[0];if(i){var e=i.textContent;n=new Tz(e)}return n},n.Gmt=function(n,i,e){var r,s,u,o,a,h,c,f,l,v,d,w,g,_,y,m,p;return Ur.async(function(k){for(;;)switch(k.prev=k.next){case 0:if(r=ez(n,"timeOffset")||"0",s=ez(n,"breakType"),u=ez(n,"breakId"),o=Vz(ez(n,"repeatAfter")),a=void 0!==AW.spt(r),void 0===u&&(u=""),void 0===o&&(o=!1),a){k.next=9;break}throw new bV(mV.PARSING,pV.VAST_SCHEMA_VALIDATION_ERROR,"Invalid TimeOffset type");case 9:if(h=uz(n,"AdSource")[0],c=uz(n,"TrackingEvents")[0],f=[],c&&(f=t.tpt(c,cz,yW.Mmt)),(l=ez(h,"id"))||(l=""),void 0===(v=Vz(ez(h,"allowMultipleAds")))&&(v=!0),(d=Vz(ez(h,"followRedirects")))||(d=!0),w=uz(h,"AdTagURI")[0],"",_=uz(h,"VASTAdData")[0],!w||!w.textContent){k.next=35;break}return k.prev=23,g=w.textContent,(y=JSON.parse(JSON.stringify(i))).sources.src=g,k.abrupt("return",new SW(r,y,e));case 30:return k.prev=30,k.t0=k.catch(23),k.abrupt("return",void 0);case 33:k.next=52;break;case 35:if(!_){k.next=51;break}if(!_.firstElementChild||!sz(_.firstElementChild,"VAST")){k.next=48;break}return k.next=39,Ur.awrap(this.Hmt(_.firstElementChild,e,!1));case 39:if(!(m=k.sent)){k.next=45;break}return p=new EW(l,v,d,m),k.abrupt("return",new TW(r,p,s,u,f,o,!1,i));case 45:return k.abrupt("return",void 0);case 46:k.next=49;break;case 48:throw new bV(mV.PARSING,pV.VAST_SCHEMA_VALIDATION_ERROR,"vmap:VASTAdData does not have a VAST-structure as a child element");case 49:k.next=52;break;case 51:throw new bV(mV.PARSING,pV.VAST_SCHEMA_VALIDATION_ERROR,"Invalid AdTagURI source or invalid VASTAdData in Adbreak Element");case 52:case"end":return k.stop()}},null,this,[[23,30]],Ge)},t}();!function(t){t.xmt="linear",t.upt="nonlinear",t.apt="display"}(pW||(pW={}));var bW,AW=function(){function t(){}return t.hpt=function(t){switch(t){case pW.xmt:case pW.upt:case pW.apt:return!0;default:return!1}},t.cpt=function(t){},t.fpt=function(t){if(void 0!==t)return"start"===t?0:"end"===t?-1:void 0},t.lpt=function(t){var n=t.split(":"),i=0;return i+=3600*Number(n[0]),i+=60*Number(n[1]),i+=Number(n[2])},t.vpt=function(t){if(t<=0)return"00:00:00.000";var n=g.floor(t),i=t-n;return this.dpt(n/3600,2)+":"+this.dpt(n/60%60,2)+":"+this.dpt(n%60,2)+"."+this.dpt(1e3*i,3)},t.dpt=function(t,n){return("00"+g.floor(t)).slice(-n)},t.wpt=function(t,n){var i=this.spt(t);if(i===bW.XY)switch(t){case"start":return 0;case"end":return-1}else{if(i===bW.gpt)return LV(t)*n;if(i===bW._pt)return BV(t);if(i===bW.ypt)return this.fpt(t);if(i===bW.mpt){var e=Number(t);if(!m(e)&&e>=-1)return e}}},t.spt=function(t){return"start"===t||"end"===t?bW.XY:void 0!==BV(t.toString())?bW._pt:void 0!==LV(t.toString())?bW.gpt:void 0!==this.cpt(t.toString())?bW.ypt:m(t)?void 0:bW.mpt},t}();!function(t){t[t.XY=0]="XY",t[t._pt=1]="_pt",t[t.gpt=2]="gpt",t[t.ypt=3]="ypt",t[t.mpt=4]="mpt"}(bW||(bW={}));var TW=function(){function t(t,n,i,e,r,s,u,o){this.ppt=void 0,this.kgt=void 0,this.kpt=void 0,this.c_t=-1,this.bpt=void 0,this.Apt=void 0,this.Tpt=void 0,this.Spt=void 0,this.Ept=void 0,this.Ipt=void 0,this.ppt=n,this.kpt=t,this.bpt=i,this.Apt=e,this.Tpt=s,this.kgt=r,this.Spt=u,this.Ept=o,this.Ipt=null}return t.prototype.Zh=function(){return Ge.resolve(this)},T(t,[{key:"Rpt",get:function(){return this.ppt}},{key:"Z1",get:function(){return this.kpt}},{key:"l_t",get:function(){return this.c_t},set:function(t){this.c_t=t}},{key:"Wwt",get:function(){return this.kgt}},{key:"Npt",get:function(){return this.Apt}},{key:"Dpt",get:function(){return this.Tpt}},{key:"Cpt",get:function(){return this.Ept}},{key:"Ppt",get:function(){return this.zmt.Vk}},{key:"Opt",get:function(){return!0}},{key:"zmt",get:function(){return this.Ipt},set:function(t){this.Ipt=t}}]),t}(),SW=function(){function t(t,n,i){this.Zwt=void 0,this.xpt=void 0,this.DE=void 0,this.DE=i,this.Zwt=new TW(t,null,null,"",[],!1,!1,n)}return t.prototype.Zh=function(t){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.xpt){n.next=7;break}return this.xpt=(new kW).Vmt(this.Cpt,this.Z1,this.zmt,this.DE),n.next=5,Ur.awrap(this.xpt);case 5:this.Zwt=n.sent,t();case 7:return n.abrupt("return",this.xpt);case 8:case"end":return n.stop()}},null,this,null,Ge)},T(t,[{key:"Rpt",get:function(){return this.Zwt.Rpt}},{key:"Z1",get:function(){return this.Zwt.Z1}},{key:"l_t",get:function(){return this.Zwt.l_t},set:function(t){this.Zwt.l_t=t}},{key:"Wwt",get:function(){return this.Zwt.Wwt}},{key:"Npt",get:function(){return this.Zwt.Npt}},{key:"Dpt",get:function(){return this.Zwt.Dpt}},{key:"Cpt",get:function(){return this.Zwt.Cpt}},{key:"Ppt",get:function(){return this.Zwt.Ppt}},{key:"Opt",get:function(){return Boolean(this.xpt)}},{key:"zmt",get:function(){return this.Zwt.zmt},set:function(t){this.Zwt.zmt=t}}]),t}(),EW=function(){function t(t,n,i,e){this.Fh=void 0,this.Bpt=void 0,this.Lpt=void 0,this.Mpt=void 0,this.Fh=t,this.Bpt=n,this.Mpt=e,this.Lpt=i}return T(t,[{key:"r_",get:function(){return this.Fh}},{key:"Jgt",get:function(){return this.Bpt}},{key:"Fpt",get:function(){return this.Lpt}},{key:"wwt",get:function(){return this.Mpt}}]),t}();function IW(t){return"vmap"===t||"adrule"===t}function RW(t){if(t)return q(t)?{src:C_(t),type:void 0}:W(t)&&t.src?{src:C_((t=t).src),type:NW(t.type)}:void 0}function NW(t){if(q(t)){var n=t.toLowerCase();switch(n){case"vast":case"vmap":case"adrule":return n;default:return void at("The ad source type provided in the configuration could not be recognized: '"+t+"'.")}}else t||at("For better performance it is highly recommended to add the type to the configuration of your ad sources.")}function DW(t){if(void 0!==t&&""!==t&&("string"==typeof t||"number"==typeof t)){switch(t){case"start":case"00:00:00":case"00:00:00.000":case"0%":case"0":return 0;case"end":case"100%":return-1}if("string"==typeof t){if(n=t,xV.test(n))return AW.lpt(t);if(CW(t))return t}var n;return t>=0?+t:void 0}}function CW(t){return new RegExp(/^\d{1,2}%$/).test(t)}var PW,OW='<vmap:AdBreak timeOffset="$TIMEOFFSET$" breakType="linear,nonlinear" breakId="midroll">\n            <vmap:AdSource allowMultipleAds="true" followRedirects="true">\n                <vmap:AdTagURI templateType="vast3"><![CDATA[$TAG$]]></vmap:AdTagURI>\n            </vmap:AdSource>\n        </vmap:AdBreak>',xW=function(){function t(n,i,e,r,s,u){this.Upt=void 0,this.jpt=void 0,this.Hpt=NaN,this.Xpt=!1,this.Vpt=!1,this.zpt=void 0,this.Wpt=!1,this.Gpt=[],this.BF=!1,this.LC=!1,this.qpt=[],this.$pt=void 0,this.Ypt=void 0,this.Qpt=e,this.BD=r,this.Jpt=s,this.$pt=i,this.Upt=t.Zpt(i),this.Kpt(),this.qpt.push(n),this.Ypt=u}var n=t.prototype;return n.tkt=function(t){var n=this.nkt===t.timeOffset;return!this.jpt&&n},n.Kpt=function(){if(m(this.Hpt)){var t=this.nkt;if(void 0===t)return void(this.Hpt=0);"string"==typeof t&&CW(t)&&(m(this.BD.uy)||this.BD.uy===1/0||(t=LV(t)*this.BD.uy)),m(t)||(this.Hpt=t)}},n.ikt=function(t){this.Gpt.push(t)},n.ekt=function(){if(!this.jpt){var t,n,i=this.Qpt===gV.pdt&&void 0===this.$pt&&1===this.rkt.length;IW(this.rkt[0].type)||i?t=this.rkt[0].src:n=this.skt(),this.jpt={ukt:this.BD.Em.offsetWidth,okt:this.BD.Em.offsetHeight,akt:this.BD.Em.offsetWidth,hkt:this.BD.Em.offsetHeight,ckt:this.BF,fkt:this.LC,lkt:t,vkt:n,dkt:this.Ypt}}return this.jpt},n.skt=function(){var t=this;return'<vmap:VMAP xmlns:vmap="http://www.iab.net/videosuite/vmap" version="1.0">\n            '+this.rkt.map(function(n){return t.wkt(n)}).join("\n")+"\n            </vmap:VMAP>"},n.wkt=function(t){return OW.replace("$TIMEOFFSET$",this.gkt()).replace("$TAG$",t.src)},n.gkt=function(){if(0===this.nkt)return"start";if(this.nkt===1/0)return"end";var t=this.nkt;if("string"==typeof t&&CW(t)){var n=LV(t)*this.BD.uy;return AW.vpt(n)}return AW.vpt(this.nkt||0)},n._kt=function(t){this.qpt.push(t)},t.Zpt=function(t){if(void 0!==t)return-1===t?1/0:t},n.ykt=function(){this.Wpt=!0},T(t,[{key:"rkt",get:function(){return this.qpt}},{key:"mkt",get:function(){return this.Qpt}},{key:"pkt",get:function(){return this.Jpt}},{key:"kkt",get:function(){return this.Wpt}},{key:"bkt",get:function(){return CW(this.Upt)&&!this.jpt}},{key:"nkt",get:function(){return this.Upt}},{key:"Vk",get:function(){return this.Hpt}},{key:"Akt",get:function(){return this.Xpt},set:function(t){this.Xpt=t}},{key:"Tkt",get:function(){return this.Vpt},set:function(t){this.Vpt=t,this.zpt=!1}},{key:"Skt",get:function(){return this.Gpt}},{key:"zy",get:function(){return this.BF},set:function(t){this.BF=t}},{key:"vy",get:function(){return this.LC},set:function(t){this.LC=t}}]),t}(),BW=function(){function t(t){this.Ekt=void 0,this.Ikt=void 0,this.Rkt=!1,this.Ekt=t,this.Ikt=void 0}var n=t.prototype;return n.xdt=function(t){this.Ikt=t},n.Nkt=function(t){return!this.Dkt||"nonlinear"===this.Pkt.Ckt||this.Dkt.Vk>t.Vk&&this.Dkt.Vk!==t.Vk},n.Okt=function(t){if(t.length)return t.sort(function(t,n){return t.Vk-n.Vk})[0]},n.xkt=function(){if(this.iwt.length)return this.Okt(this.Bkt(this.RD.sy))},n.Lkt=function(){var t=this;if(!(void 0!==this.Ikt&&this.Ikt>=0))return this.iwt.filter(function(n){return!n.Akt&&0===n.Vk&&n!==t.Dkt})[0]},n.Bkt=function(t){var n=this;if(!this.Rkt&&(this.Rkt=!this.iwt.some(function(t){return m(t.Vk)}),!this.Rkt))return[];var i=this.iwt.filter(function(n){return!n.Akt&&!m(n.Vk)&&t<=n.Vk});return void 0===this.Ikt?i:i.filter(function(t){return void 0===t.nkt||t.Vk>n.Ikt})},T(t,[{key:"Dkt",get:function(){return this.Ekt.Dkt}},{key:"Pkt",get:function(){return this.Ekt.Pkt}},{key:"iwt",get:function(){return this.Ekt.iwt}},{key:"RD",get:function(){return this.Ekt.RD}}]),t}();!function(t){t[t.Mkt=0]="Mkt",t[t.Fkt=1]="Fkt",t[t.Ukt=2]="Ukt"}(PW||(PW={}));var LW,MW,FW,UW,jW=function(){function t(t,n,i,e,r){var s=this;this.jkt=void 0,this.Hkt=void 0,this.Xkt=void 0,this.Uy=void 0,this.BD=void 0,this.zdt=void 0,this.Vkt=void 0,this.zkt=void 0,this.Wkt=void 0,this.MF=void 0,this.Gkt=PW.Mkt,this.q6=void 0,this.qkt=void 0,this.$kt=!1,this.Avt=function(){for(var t=s.Hkt.filter(function(t){return t.bkt}),n=0;n<t.length;n++){var i=t[n];i.Kpt();var e=i.nkt;s.qkt.Ykt(e,i.Vk)}s.Uy&&s.Qkt&&s.Jkt()},this.Hkt=[],this.jkt=t,this.Uy=!1,this.Xkt=!1,this.BD=n,this.zdt=i,this.Dkt=void 0,this.zkt=0,this.Wkt=new BW(this),this.MF=e,this.qkt=r,this.BD.tu("durationchange",this.Avt)}var n=t.prototype;return n.hm=function(){this.Uy=!0,this.Xkt&&this.Jkt()},n.Zkt=function(t,n){this.Kkt(t,n);var i=Gs(this.iwt,function(n){return n.tkt(t)});if(i)i._kt(t.sources);else{var e=void 0===t.replaceContent||t.replaceContent,r=new xW(t.sources,t.timeOffset,n,this.BD,e,t.omidAccessModeRules);this.Hkt.push(r),this.tbt===PW.Ukt&&this.qkt.nbt(r.Vk,r,r.nkt),this.ibt(n,r)}},n.ebt=function(){if(Ys(this.iwt,this.Dkt),this.Dkt){for(var t=0,n=this.Dkt.Skt;t<n.length;t++)n[t],this.qkt.rbt();this.Dkt=void 0}},n.sbt=function(){for(var t=0,n=this.Hkt;t<n.length;t++)for(var i=0,e=n[t].Skt;i<e.length;i++){var r=e[i];this.qkt.ubt(r,!0)}Zs(this.Hkt)},n.obt=function(t){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.ebt(),this.abt=!0,this.Dkt=t,this.zkt=t.Vk,this.q6=this.hbt(t),n.next=7,Ur.awrap(this.q6);case 7:this.q6=void 0;case 8:case"end":return n.stop()}},null,this,null,Ge)},n.hbt=function(t){var n,i;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.cbt(t),n=t.ekt(),i=this.jkt.fbt(n),t.Akt=!0,e.prev=4,e.next=7,Ur.awrap(i);case 7:if(t.mkt!==gV.mdt){e.next=10;break}return e.next=10,Ur.awrap(this.jkt.lbt());case 10:e.next=18;break;case 12:return e.prev=12,e.t0=e.catch(4),this.Dkt=void 0,e.next=18,Ur.awrap(this.Jkt());case 18:case"end":return e.stop()}},null,this,[[4,12]],Ge)},n.cbt=function(t){this.Uy?t.zy=!0:t.zy=this.zdt.zy,t.vy=this.zdt.vy},n.vbt=function(){var t;return null!=(t=this.Wkt.Lkt())?t:this.Wkt.xkt()},n.Jkt=function(){var t;return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.Dkt||this.Dkt.kkt){n.next=2;break}return n.abrupt("return",this.q6);case 2:if(!(t=this.vbt())){n.next=6;break}return n.next=6,Ur.awrap(this.obt(t));case 6:case"end":return n.stop()}},null,this,null,Ge)},n.wc=function(){this.ebt(),Zs(this.Hkt),this.zkt=0,this.Dkt=void 0,this.q6=void 0,this.abt=!1},n.Tkt=function(){this.abt=!1,this.Dkt&&(this.Dkt.Tkt=!0)},n.ibt=function(t,n){t===gV.mdt&&this.Uy&&this.Wkt.Nkt(n)&&!this.dbt&&"linear"!==this.jkt.Ckt&&(!this.Dkt||this.Dkt&&this.Dkt.Akt)&&this.obt(n)},n.ykt=function(){this.Dkt&&this.Dkt.ykt()},n.wbt=function(){var t;return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.Qkt){n.next=3;break}return n.abrupt("return");case 3:if(!(t=this.vbt())){n.next=7;break}return n.next=7,Ur.awrap(this.obt(t));case 7:case"end":return n.stop()}},null,this,null,Ge)},n.Kkt=function(t,n){var i=t.sources.type,e=n===gV.pdt&&void 0===t.timeOffset,r=IW(i)||e?PW.Fkt:PW.Ukt;r!==this.Gkt&&(this.Gkt=r,this.sbt(),this.jkt.gbt&&!this.dbt&&"linear"!==this.jkt.Ckt&&(this.jkt.gbt.Us(),this.Dkt=void 0,this.q6=void 0),this.zkt=0,this.Xkt=!0)},n.xdt=function(t){this.Wkt.xdt(t)},n.Kc=function(){this.BD.au("durationchange",this.Avt)},T(t,[{key:"Pkt",get:function(){return this.jkt}},{key:"iwt",get:function(){return this.Hkt}},{key:"RD",get:function(){return this.BD}},{key:"dbt",get:function(){return Boolean(this.q6)}},{key:"tbt",get:function(){return this.Gkt}},{key:"Dkt",get:function(){return this.Vkt},set:function(t){this.Vkt=t}},{key:"abt",get:function(){return this.$kt},set:function(t){this.$kt=t}},{key:"Qkt",get:function(){var t=this;return!this.dbt&&!this.abt&&(!(this.Dkt&&!this.Dkt.kkt)&&(!!this.Hkt.filter(function(n){return t.Dkt!==n}).length&&Boolean(this.vbt())))}}]),t}();function HW(t){var n,i,e,r,s=t.getAdPodInfo();try{r={_bt:s.getAdPosition(),ybt:s.getMaxDuration(),mbt:s.getPodIndex(),Z1:s.getTimeOffset(),pbt:s.getTotalAds(),kbt:s.getIsBumper()}}catch(t){r=void 0}for(var u=t.getUniversalAdIds(),o=[],a=0;a<u.length;a++){var h=u[a];o.push({bbt:h.getAdIdRegistry(),Abt:h.getAdIdValue()})}return{s_t:t.getAdId(),jwt:t.getAdSystem(),Tbt:t.getAdvertiserName(),Igt:null!=(n=t.getApiFramework())?n:void 0,Pwt:[],Gv:null!=(i=t.getContentType())?i:void 0,sgt:t.getCreativeId(),Sbt:t.getCreativeAdId(),Ebt:t.getDealId(),PT:t.getDescription(),uy:t.getDuration(),xp:t.getWidth(),bT:t.getHeight(),Ibt:null!=(e=t.getMediaUrl())?e:void 0,Rbt:t.getMinSuggestedDuration(),Nbt:t.getSkipTimeOffset(),Dbt:t.getSurveyUrl(),$N:t.getTitle(),Cbt:t.getTraffickingParameters(),Pbt:t.getTraffickingParametersString(),Obt:t.getUiElements(),Bwt:o,xbt:t.getVastMediaBitrate(),Bbt:t.getVastMediaHeight(),Lbt:t.getVastMediaWidth(),Mbt:t.getWrapperAdIds(),Fbt:t.getWrapperAdSystems(),Ubt:t.getWrapperCreativeIds(),jbt:t.isLinear(),Hbt:r}}function XW(t,n){if(t===LW.Xbt){var i=n;return{Vbt:i.adBreakDuration,_bt:i.adPosition,sy:i.currentTime,uy:i.duration,pbt:i.totalAds}}return n}function VW(t){switch(t){case google.ima.AdError.Type.AD_LOAD:return UW.zbt;case google.ima.AdError.Type.AD_PLAY:return UW.Wbt}}function zW(t){return W(t)&&"function"==typeof t.getVastErrorCode}function WW(t){var n=t.getInnerError(),i=n&&zW(n)?WW(n):void 0;return{mu:t.getMessage(),Udt:t.getErrorCode(),Gbt:t.getVastErrorCode(),gs:VW(t.getType()),qbt:i}}!function(t){t.$bt="contentResumeRequested",t.Ybt="contentPauseRequested",t.Qbt="click",t.Cf="durationChange",t.Jbt="expandedChanged",t.Zbt="start",t.Kbt="impression",t.Ly="pause",t.tAt="resume",t.Xbt="adProgress",t.nAt="adBuffering",t.iAt="firstQuartile",t.N_t="midpoint",t.eAt="thirdQuartile",t.D_t="complete",t.rAt="userClose",t.sAt="linearChanged",t.uAt="loaded",t.oAt="adCanPlay",t.aAt="adMetadata",t.hAt="adBreakReady",t.cAt="interaction",t.fAt="allAdsCompleted",t.lAt="skip",t.vAt="skippableStateChanged",t.dAt="log",t.wAt="viewableImpression",t.gAt="volumeChange",t._At="mute"}(LW||(LW={})),function(t){t.yAt="adError"}(MW||(MW={})),function(t){t[t.mAt=-1]="mAt",t[t.pAt=-1]="pAt",t[t.kAt=-1]="kAt",t[t.bAt=-1]="bAt",t[t.AAt=-1]="AAt",t[t.TAt=-1]="TAt",t[t.SAt=-1]="SAt",t[t.EAt=101]="EAt",t[t.IAt=102]="IAt",t[t.RAt=200]="RAt",t[t.NAt=201]="NAt",t[t.DAt=202]="DAt",t[t.CAt=300]="CAt",t[t.PAt=301]="PAt",t[t.OAt=302]="OAt",t[t.xAt=303]="xAt",t[t.BAt=400]="BAt",t[t.LAt=402]="LAt",t[t.MAt=403]="MAt",t[t.FAt=403]="FAt",t[t.UAt=500]="UAt",t[t.jAt=501]="jAt",t[t.HAt=503]="HAt",t[t.XAt=602]="XAt",t[t.VAt=900]="VAt",t[t.zAt=900]="zAt",t[t.WAt=901]="WAt",t[t.GAt=1005]="GAt",t[t.qAt=1007]="qAt",t[t.$At=1009]="$At",t[t.YAt=1010]="YAt",t[t.QAt=1011]="QAt",t[t.JAt=1021]="JAt",t[t.ZAt=1101]="ZAt",t[t.KAt=1205]="KAt"}(FW||(FW={})),function(t){t.zbt="adLoadError",t.Wbt="adPlayError"}(UW||(UW={}));var GW,qW=5,$W=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).tTt=!1,s.nTt=!1,s.iTt=void 0,s.eTt=void 0,s.rTt=void 0,s.sTt=0,s.uTt=function(t){if(t.jdt&&t.jdt.Hbt){var n=t.jdt.Hbt;s.aTt.oTt(n.Z1,n.pbt,n.ybt)}},s.hTt=function(t){var n,i,e;if(!(s.sTt>=qW)){s.sTt++;var r=t.cTt;if(W(u=r)&&void 0!==u.Vbt&&void 0!==u.pbt){var u,o=null==(n=s.rTt)?void 0:null==(i=n.fTt())?void 0:null==(e=i.Hbt)?void 0:e.Z1;void 0!==o&&s.aTt.oTt(o,r.pbt,r.Vbt)}}},s.lTt=function(t){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.cTt.vTt){n.next=4;break}return n.next=4,Ur.awrap(s.dTt(t.cTt.vTt));case 4:case"end":return n.stop()}},null,null,null,Ge)},s.wTt=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(s.tTt){t.next=4;break}return t.next=4,Ur.awrap(s.gTt());case 4:s.nTt=!0;case 5:case"end":return t.stop()}},null,null,null,Ge)},s._Tt=function(t){if(t.jdt){0;var n=t.jdt;s.jkt.yTt(n),s.jkt.lm(),s.jkt.mTt(),s.aTt.pTt(n);var i=n.uy;if(s.kTt(i),n.jbt){var e=s.jkt.sy,r=s.jkt.m_;s.jkt.m_=uy.q_,s.bTt(new Ly(e,r)),s.bTt(new jy(e,r)),s.bTt(new Hy(e,r)),s.jkt.wy||s.bTt(new Cb(s.jkt.sy)),s.setCountdownTimer(),s.ATt(!0)}else s.jkt.vwt(),s.BD.lm(),s.jkt.wy||s.BD.Qy()}},s.TTt=function(t){var n;if(t.jdt){0;var i=t.jdt;if(s.Rr(),s.aTt.STt(s.jkt.uy,i.jbt),s.jkt.m_!==uy.z_){var e=uy.z_;s.jkt.m_=e;var r=s.jkt.sy;s.bTt(new Ey(r,e)),s.bTt(new Xy(r,e))}s.kTt(NaN),null==(n=s.rTt)||n.bM(s.jkt.ETt()),s.jkt.ykt()}},s.ITt=function(t){t.jdt&&(s.TTt(t),s.aTt.ITt(t.jdt,s.jkt.sy,s.jkt.uy))},s.RTt=function(t){t.jdt&&(s.aTt.STt(-1,t.jdt.jbt),s.jkt.ykt(),!t.jdt.jbt&&s.jkt.Qkt()&&s.jkt.wbt())},s.NTt=function(t){t.jdt&&(t.jdt.jbt?s.jkt.Jy():s.BD.Jy())},s.DTt=function(){var t;(s.jkt.CTt=!0,s.jkt.PTt)&&(null==(t=s.rTt)||t.Jy(),s.jkt.PTt=!1)},s.OTt=function(t){var n;if(t.jdt){0,s.jkt.xTt&&(s.eTt=s.BD.sy,s.BD.Am(),s.BD.jm=!0),s.tTt=!0,s.jkt.BTt=!0;var i=t.jdt;s.aTt.LTt(i);var e=i.uy;s.jkt.yTt(i),s.kTt(e),s.jkt.wy=!1,s.jkt.lm(),s.jkt.lwt(),s.jkt.xTt||s.BD.vm(),s.BD.Jy(),s.jkt.MTt(i),0===(null==(n=i.Hbt)?void 0:n.Z1)||s.jkt.Ks(new Db(s.jkt.sy))}},s.FTt=function(t){var n,i,e,r;return Ur.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(n=t.jdt,s.jkt.BTt=!1,"linear"===s.jkt.Ckt&&s.aTt.UTt(),n&&n.uy>=0&&s.kTt(n.uy),s.BD.uy===1/0&&s.jkt.jTt(),s.jkt.CTt=!1,!s.nTt){u.next=10;break}return u.next=10,Ur.awrap(s.gTt());case 10:return s.jkt.wy=!0,u.prev=11,u.next=14,Ur.awrap(s.HTt());case 14:u.next=20;break;case 16:return u.prev=16,u.t0=u.catch(11),cu(u.t0)||s.Ks(new JU(u.t0)),u.abrupt("return");case 20:if(s.jkt.vwt(),s.jkt.vm(),s.BD.oy||s.BD.Qy(),n&&s.jkt.yTt(n),s.jkt.XTt&&(s.jkt.xTt&&(e=s.BD.dm(),r=null==(i=s.BD.pm)?void 0:i.src,e&&r&&(e.src=r)),s.jkt.VTt=!0),s.tTt=!1,s.BD.jm=!1,!s.jkt.Qkt()){u.next=30;break}return u.next=30,Ur.awrap(s.jkt.wbt());case 30:case"end":return u.stop()}},null,null,[[11,16]],Ge)},s.jkt=n,s.BD=i,s.zdt=e,s.aTt=r,s}E(n,t);var i=n.prototype;return i.bTt=function(t){this.jkt.Ks(t)},i.zTt=function(t){var n=this;this.rTt=t,this.rTt.tu(MW.yAt,this.lTt),this.rTt.tu(LW.Ybt,this.OTt),this.rTt.tu(LW.$bt,this.FTt),this.rTt.tu(LW.fAt,this.wTt),this.rTt.tu(LW.Zbt,this._Tt),this.rTt.tu(LW.D_t,this.TTt),this.rTt.tu(LW.lAt,this.ITt),this.rTt.tu(LW.rAt,this.RTt),this.rTt.tu(LW.Qbt,this.NTt),this.rTt.tu(LW.oAt,this.DTt),this.rTt.tu(LW.Ly,function(){n.jkt.wy||(n.jkt.wy=!0,n.jkt.Ks(new Iy(n.jkt.sy))),n.ATt(!0)}),this.rTt.tu(LW.tAt,function(){n.jkt.wy&&(n.jkt.wy=!1,n.jkt.Ks(new Ry(n.jkt.sy)))}),this.rTt.tu(LW._At,function(){var i=t.kM();i>=0&&n.WTt(i)}),this.rTt.tu(LW.gAt,function(){var i=t.kM();i>=0&&n.WTt(i)}),this.rTt.tu(LW.aAt,function(t){n.aTt.GTt(t.type)}),this.rTt.tu(LW.Cf,function(t){t.jdt&&n.kTt(t.jdt.uy)}),this.rTt.tu(LW.dAt,function(t){var i,e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=t.cTt.adError,e=zW(i)?WW(i):void 0){r.next=5;break}return r.abrupt("return");case 5:if(!n.qTt(e)){r.next=10;break}return r.next=8,Ur.awrap(n.$Tt(t));case 8:r.next=16;break;case 10:if(!n.YTt(e)){r.next=15;break}return r.next=13,Ur.awrap(n.dTt(e));case 13:r.next=16;break;case 15:n.QTt(e)&&n.JTt(e);case 16:case"end":return r.stop()}},null,null,null,Ge)}),this.rTt.tu(LW.uAt,function(t){if(t.jdt&&(n.jkt.Tkt(),n.aTt.ZTt(t.jdt),n.sTt=0,t.jdt.jbt)){var i,e=n.jkt.m_;n.jkt.m_=uy.z_;var r=n.jkt.sy,s=n.jkt.m_;s!==e&&n.bTt(new Ey(r,s)),null==(i=n.rTt)||i.bM(n.jkt.ETt()),n.bTt(new Cy(r,s)),n.bTt(new Xy(r,s))}}),this.rTt.tu([LW.nAt,LW.Kbt,LW.iAt,LW.N_t,LW.eAt],function(t){t.jdt&&n.aTt.KTt(t.jdt,t.type,n.jkt.sy)}),this.rTt.tu(LW.iAt,this.uTt),this.rTt.tu(LW.Xbt,this.hTt)},i.switchToPlayerIfNoNextAd=function(){var t,n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.rTt){i.next=12;break}if((t=this.rTt.fTt())&&this.tSt(t)){i.next=10;break}if(!this.jkt.Qkt()){i.next=8;break}return i.next=6,Ur.awrap(this.jkt.wbt());case 6:i.next=10;break;case 8:this.jkt.nSt(),this.zdt.wy&&!this.zdt.oy&&this.zdt.Qy();case 10:i.next=20;break;case 12:if(!this.jkt.Qkt()){i.next=17;break}return i.next=15,Ur.awrap(this.jkt.wbt());case 15:i.next=20;break;case 17:n=this.zdt.wy,this.jkt.nSt(),n||this.BD.Qy();case 20:case"end":return i.stop()}},null,this,null,Ge)},i.tSt=function(t){var n=t.Hbt,i=null==n?void 0:n.pbt;return(null==n?void 0:n._bt)!==i},i.Rr=function(){this.jkt.iSt&&(f(this.jkt.iSt),this.jkt.iSt=null)},i.QTt=function(t){return t.gs===UW.zbt},i.YTt=function(t){return t.gs===UW.Wbt},i.qTt=function(t){return t.Udt===FW.$At},i.dTt=function(t){var n,i;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.jkt.eSt.abt=!1,this.JTt(t),i=[FW.BAt,FW.WAt,FW.JAt,FW.KAt],this.jkt.rSt||Js(i,t.Udt)||Js(i,null==(n=t.qbt)?void 0:n.Udt)){e.next=6;break}return e.next=6,Ur.awrap(this.switchToPlayerIfNoNextAd());case 6:case"end":return e.stop()}},null,this,null,Ge)},i.JTt=function(t){this.jkt.sSt(t)},i.gTt=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.aTt.rbt(),this.jkt.ykt(),"nonlinear"===this.jkt.Ckt&&(this.aTt.STt(-1,!1),this.jkt.yTt(void 0)),"nonlinear"!==this.jkt.Ckt&&"none"!==this.jkt.Ckt){t.next=7;break}if(!this.jkt.Qkt()){t.next=7;break}return t.next=7,Ur.awrap(this.jkt.wbt());case 7:return t.next=9,Ur.awrap(this.jkt.uSt());case 9:this.zdt.t_===this.jkt?this.jkt.vwt():this.oSt()&&this.BD.Ks(new By(this.BD.sy));case 10:case"end":return t.stop()}},null,this,null,Ge)},i.oSt=function(){return this.jkt.XTt&&!this.jkt.VTt&&this.zdt.oy},i.setCountdownTimer=function(){var t=this;this.Rr(),this.jkt.iSt=c(function(){return t.ATt()},250)},i.$Tt=function(t){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t.jdt){n.next=2;break}return n.abrupt("return");case 2:if(this.jkt.eSt.abt=!1,this.jkt.ykt(),!this.jkt.Qkt()){n.next=10;break}return n.next=8,Ur.awrap(this.jkt.wbt());case 8:n.next=11;break;case 10:this.jkt.wy=!0;case 11:case"end":return n.stop()}},null,this,null,Ge)},i.kTt=function(t){this.jkt.uy!==t&&t>=0&&(this.jkt.uy=t,this.bTt(new Py(this.jkt.uy)))},i.WTt=function(t){this.jkt.ETt()!==t&&(0===t?this.jkt.aSt(t,!0,!1):this.jkt.aSt(t,!1,!1))},i.HTt=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.jkt.xTt||!this.BD.Au){t.next=6;break}return this.iTt=new au,t.next=4,Ur.awrap(this.BD.tm(this.BD.Ky(),this.iTt.$s));case 4:this.eTt&&(this.BD.sy=this.eTt),this.eTt=void 0;case 6:case"end":return t.stop()}},null,this,null,Ge)},i.ATt=function(t){if(this.rTt){var n=this.rTt.hSt();n>this.jkt.uy&&this.kTt(g.round(n))}var i=this.jkt.sy;(t||!this.jkt.wy&&i!==this.jkt.cSt)&&(this.jkt.Ks(new xy(i,void 0)),this.jkt.cSt=i)},i.wc=function(){this.iTt&&(this.iTt.Ws(),this.iTt=void 0),this.tTt=!1,this.nTt=!1,this.sTt=0},i.Kc=function(){this.wc(),this.ou()},n}(Su);!function(t){t.fSt="theo",t.lSt="google-ima",t.vSt="google-dai",t.dSt="freewheel",t.MEDIATAILOR="mediatailor"}(GW||(GW={}));var YW=function(){function t(t,n,i){this.dg=void 0,this.wSt=[],this.gSt=!1,this._St=t,this.ySt=n,this.kpt=i}var n=t.prototype;return n.mSt=function(){this.gSt=!0},n.pSt=function(t){this.wSt.push(t)},n.kSt=function(){var t;return this.dg||(this.dg=(t=this,{get ads(){return t.owt.map(function(t){return t.kSt()})},get maxDuration(){return t.ybt},get maxRemainingDuration(){return t.bSt},get timeOffset(){return t.Z1},get integration(){return t.ASt}})),this.dg},T(t,[{key:"owt",get:function(){return this.wSt}},{key:"ybt",get:function(){return this._St},set:function(t){this._St=t}},{key:"bSt",get:function(){return this.ySt},set:function(t){this.ySt=t}},{key:"Z1",get:function(){return this.kpt},set:function(t){this.kpt=t}},{key:"Lm",get:function(){return this.gSt}}]),t}();var QW=function(t){function n(n,i){var e;return(e=t.call(this,-1,-1,n)||this).TSt=i,e}return E(n,t),T(n,[{key:"ASt",get:function(){return GW.lSt}},{key:"SSt",get:function(){return this.TSt}}]),n}(YW),JW=function(){function t(t,n){this.Wdt=void 0,this.BD=void 0,this.Wdt=t,this.BD=n}return t.prototype.ESt=function(n){if(!n||!n.Opt)return[];var i=t.ISt(n),e=[];if(i)for(;i.kwt();){var r=i._wt,s=[];r.Pwt&&(s=r.Pwt.lgt),r.Dwt&&(e.push(new oG(r.Dwt,s,n,new ZW(this.Wdt,this.BD),r.Bwt).kSt()),Zs(s)),r.xwt&&e.push(new uG(r.xwt.zwt[0],s,n,new ZW(this.Wdt,this.BD),r.Bwt).kSt())}return e},t.ISt=function(t){var n,i;return null==(n=t.Rpt)?void 0:null==(i=n.wwt)?void 0:i.bwt()},t}(),ZW=function(){function t(t,n){this.rTt=void 0,this.BD=void 0,this.rTt=t,this.BD=n}return T(t,[{key:"gbt",get:function(){return this.rTt}},{key:"RD",get:function(){return this.BD}}]),t}(),KW=function(){function t(t,n){this.Zwt=void 0,this.RSt=void 0,this.Zwt=t,this.RSt=n}var n=t.prototype;return n.kSt=function(){for(var t=this,n=[],i=this,e=0,r=this.Zwt.zmt.NSt;e<r.length;e++){var s=r[e],u=this.DSt(s);if(u)for(var o=function(){var i=u._wt;if(i){var e=[];i.Pwt&&(e=i.Pwt.lgt),i.Dwt&&n.push(new oG(i.Dwt,e,t.Zwt,t.RSt,i.Bwt)),i.xwt&&i.xwt.zwt.forEach(function(r){n.push(new uG(r,e,t.Zwt,t.RSt,i.Bwt))})}};u.kwt();)o()}return{maxDuration:i.KL(),timeOffset:i.Z1,get maxRemainingDuration(){return i.bSt},ads:n.map(function(t){return t.kSt()}),integration:GW.fSt}},n.CSt=function(t){for(var n=0;t.kwt();)t._wt.Dwt&&!t._wt.Dwt.v_t&&(n+=t._wt.Dwt.uy||0);return n},n.KL=function(){for(var t=0,n=0,i=this.Zwt.zmt.NSt;n<i.length;n++){var e=i[n],r=this.DSt(e);if(r)for(;r.kwt();)r._wt.Dwt&&(t+=r._wt.Dwt.uy||0)}return t},n.DSt=function(t){return JW.ISt(t)},T(t,[{key:"Z1",get:function(){var t=this.Zwt.zmt.Vk;return t>=0?t:this.RSt.RD.uy}},{key:"bSt",get:function(){var t=this,n=0;return this.Zwt.zmt.NSt.forEach(function(i){var e=t.DSt(i);e&&(n+=t.CSt(e))}),this.RSt&&this.RSt.gbt&&(n+=this.RSt.gbt.uy-this.RSt.gbt.sy),n}}]),t}(),tG=function(){},nG={height:0,width:0,clickThrough:"",contentHTML:"",resourceURI:"",altText:""},iG=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).PSt=void 0,u.cgt=void 0,u.Zwt=void 0,u.RSt=void 0,u.r_t=void 0,u.PSt=n,u.cgt=i,u.Zwt=e,u.RSt=r,u.r_t=s,u}E(n,t);var i=n.prototype;return i.OSt=function(t){return jr({},nG,{resourceURI:t.q_t||""})},i.xSt=function(t){return jr({},nG,{contentHTML:t.q_t.trim(),type:"HTMLResource"})},i.BSt=function(t){var n,i;return jr({},nG,{clickThrough:(null==(n=t.Lgt)?void 0:n.trim())||"",resourceURI:(null==(i=t.q_t)?void 0:i.trim())||"",altText:t.Cgt||"",type:"StaticResource"})},i.LSt=function(t,n,i){if(t&&n){var e="<img "+(i?"title='"+i+"' ":"")+"src='"+encodeURI(t)+"'>";return"<a href='"+encodeURI(n)+"' target='_blank' rel='noopener'>"+e+"</a>"}},i.Pwt=function(t){var n=this;return t?t.map(function(t){var i,e={adSlotId:t.Rgt||"",height:t.bT||0,width:t.xp||0};if(t.tgt){var r,s=n.BSt(t.tgt),u=s.clickThrough||(null==(r=t.Dgt)?void 0:r.Lgt);i=jr({},s,{contentHTML:n.LSt(s.resourceURI,u,s.altText)||""})}else if(t.igt)i=n.xSt(t.igt);else{if(!t.ngt)return;i=n.OSt(t.ngt)}return b_(i,e)}).filter(function(t){return void 0!==t}):[]},i.MSt=function(){return this.PSt.jwt},i.FSt=function(){if(this.PSt.f_t)return this.PSt.f_t[0].contentURL;var t=this.PSt;return t&&t.tgt?t.tgt.q_t:""},i.USt=function(){if(this.PSt.f_t)return this.PSt.f_t[0].type;var t=this.PSt,n=t&&t.tgt;return n&&n.Y_t?n.Y_t:""},n}(tG);function eG(t){if(t)return t.kSt()}var rG,sG,uG=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,s)||this).dg=void 0,u}E(n,t);var i=n.prototype;return i.gg=function(){var t=this.Zwt,n=this.RSt,i={companions:this.Pwt(this.cgt),type:"nonlinear",id:this.PSt.sgt,skipOffset:this.l_t,integration:GW.fSt,adSystem:this.PSt.jwt,get adBreak(){return t?new KW(t,n).kSt():void 0},creativeId:this.PSt.sgt,universalAdIds:this.r_t.map(function(t){return{adIdRegistry:t.Pmt,adIdValue:t.Omt}})};return this.PSt.ngt?b_(this.OSt(this.PSt.ngt),i):this.PSt.igt?b_(this.xSt(this.PSt.igt),i):this.PSt.tgt?b_(this.BSt(this.PSt.tgt),i):i},i.kSt=function(){return this.dg||(this.dg=this.gg()),this.dg},T(n,[{key:"l_t",get:function(){var t,n=this.PSt.rgt;return n&&n.Cpt&&void 0!==n.Cpt.skipOffset?AW.wpt(n.Cpt.skipOffset,this.RSt.gbt.uy):(null==(t=this.PSt.rgt)?void 0:t.l_t)||-1}}]),n}(iG),oG=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,s)||this).dg=void 0,u}return E(n,t),n.prototype.kSt=function(){var t,n=this.Zwt,i=this.RSt;this.dg||(this.dg={companions:this.Pwt(this.cgt),duration:this.PSt.uy,id:this.PSt.sgt,mediaFiles:this.PSt.f_t,skipOffset:this.l_t,type:"linear",integration:GW.fSt,adSystem:this.PSt.jwt,width:void 0,height:void 0,get adBreak(){return n?new KW(n,i).kSt():void 0},clickThrough:null==(t=this.PSt.Hgt)?void 0:t.Lgt,creativeId:this.PSt.sgt,universalAdIds:this.r_t.map(function(t){return{adIdRegistry:t.Pmt,adIdValue:t.Omt}})});return this.dg},T(n,[{key:"l_t",get:function(){var t=this.PSt.rgt;return t&&t.Cpt&&void 0!==t.Cpt.skipOffset?AW.wpt(t.Cpt.skipOffset,this.RSt.gbt.uy):this.PSt.l_t||-1}}]),n}(iG),aG=function(t){function n(n){return t.call(this,"jSt",n)||this}return E(n,t),n.prototype.gg=function(){return new hG(eG(this.jdt))},n}(TV),hG=function(t){function n(n){return t.call(this,"addadbreak",n)||this}return E(n,t),n}(SV),cG=function(t){function n(n){return t.call(this,"HSt",n)||this}return E(n,t),n.prototype.gg=function(){return new fG(eG(this.jdt))},n}(TV),fG=function(t){function n(n){return t.call(this,"removeadbreak",n)||this}return E(n,t),n}(SV);!function(t){t.xmt="linear",t.Bmt="nonlinear",t.md="unknown"}(rG||(rG={})),function(t){t.NONE="none",t.READY="ready"}(sG||(sG={}));var lG=function(t){function n(n,i){var e;return(e=t.call(this)||this).dg=void 0,e.Fh=void 0,e.c_t=void 0,e.Ba=void 0,e.La=void 0,e.ya=void 0,e.cgt=[],e.XSt=sG.NONE,e.Zwt=n,e.VSt=i,e}E(n,t);var i=n.prototype;return i.zSt=function(t,n,i,e,r,s){this.Fh=t,this.Ba=n,this.La=i,this.ya=e,this.cgt=r,this.c_t=s,this.XSt=sG.READY},i.kSt=function(){return this.dg||(this.dg=this.gg()),this.dg},i.MSt=function(){return""},i.USt=function(){return""},i.FSt=function(){return""},T(n,[{key:"WSt",get:function(){return this.XSt}},{key:"rgt",get:function(){return this.Zwt}},{key:"lgt",get:function(){return this.cgt}},{key:"uy",get:function(){return this.ya}},{key:"bT",get:function(){return this.La}},{key:"r_",get:function(){return this.Fh}},{key:"l_t",get:function(){return this.c_t}},{key:"xp",get:function(){return this.Ba}},{key:"Ckt",get:function(){return this.VSt}},{key:"Lgt",get:function(){}}]),n}(tG);function vG(t){return{adSystem:void 0,creativeId:void 0,universalAdIds:[],get readyState(){return t.WSt},get adBreak(){return t.rgt.kSt()},get duration(){return t.uy},get companions(){return t.lgt.map(function(t){return t.kSt()})},get clickThrough(){return t.Lgt},get width(){return t.xp},get type(){return t.Ckt},get height(){return t.bT},get id(){return t.r_},get skipOffset(){return t.l_t},get integration(){return t.ASt}}}var dG=function(t){function n(n){var i;return(i=t.call(this,n,rG.md)||this).GSt=void 0,i.qSt=void 0,i}E(n,t);var i=n.prototype;return i.gg=function(){var t,n=vG(this);return t=this,b_(n,{get adSystem(){return t.jwt},get apiFramework(){return t.$St},get bitrate(){return t.YSt},get contentType(){return t.Gv},get creativeId(){return t.sgt},get mediaUrl(){return t.Ibt},get title(){return t.$N},get traffickingParameters(){return t.Cbt},get traffickingParametersString(){return t.Pbt},get wrapperAdIds(){return t.Mbt},get wrapperAdSystems(){return t.Fbt},get wrapperCreativeIds(){return t.Ubt},get universalAdIds(){return t.Bwt}})},i.QSt=function(t){this.GSt=t,this.zSt(t.s_t,t.Lbt,t.Bbt,t.uy,[],t.Nbt),this.VSt=t.jbt?rG.xmt:rG.Bmt},T(n,[{key:"ASt",get:function(){return GW.lSt}},{key:"jwt",get:function(){return this.GSt?wG(this.GSt.jwt):void 0}},{key:"$St",get:function(){return this.GSt?wG(this.GSt.Igt):void 0}},{key:"YSt",get:function(){return this.GSt?this.GSt.xbt:0}},{key:"Gv",get:function(){return this.GSt?wG(this.GSt.Gv):void 0}},{key:"sgt",get:function(){return this.GSt?wG(this.GSt.sgt):void 0}},{key:"Sbt",get:function(){return this.GSt?wG(this.GSt.Sbt):void 0}},{key:"Ibt",get:function(){var t,n=null==(t=this.GSt)?void 0:t.Ibt;return H(n)?n:this.qSt},set:function(t){this.qSt=t}},{key:"$N",get:function(){var t;return null==(t=this.GSt)?void 0:t.$N}},{key:"Cbt",get:function(){return this.GSt?wG(this.GSt.Cbt):void 0}},{key:"Pbt",get:function(){return this.GSt?wG(this.GSt.Pbt):void 0}},{key:"Mbt",get:function(){var t,n;return null!=(t=null==(n=this.GSt)?void 0:n.Mbt)?t:[]}},{key:"Fbt",get:function(){var t,n;return null!=(t=null==(n=this.GSt)?void 0:n.Fbt)?t:[]}},{key:"Ubt",get:function(){var t,n;return null!=(t=null==(n=this.GSt)?void 0:n.Ubt)?t:[]}},{key:"Bwt",get:function(){var t,n;return null!=(t=null==(n=this.GSt)?void 0:n.Bwt.map(function(t){return{adIdRegistry:t.bbt,adIdValue:t.Abt}}))?t:[]}}]),n}(lG);function wG(t){return null===t?void 0:t}var gG=function(){function t(t,n){this.aTt=t,this.JSt=n}var n=t.prototype;return n.ZSt=function(t,n,i){0},n.IA=function(){this.aTt.IA()},n.Kc=function(){return Ge.resolve()},T(t,[{key:"Cdt",get:function(){return this.aTt.Cdt}},{key:"Ndt",get:function(){return this.JSt}},{key:"uwt",get:function(){return this.aTt.uwt}},{key:"nwt",get:function(){var t=this.aTt.nwt;return t?t.kSt():null}},{key:"twt",get:function(){var t=this.aTt.KSt;return t?[t.kSt()]:[]}},{key:"iwt",get:function(){return[]}},{key:"ewt",get:function(){return this.aTt.ewt.map(function(t){return t.kSt()})}}]),t}(),_G=function(){function t(t,n){this.tEt=[],this.PSt=void 0,this.nEt=void 0,this.iEt=!1,this.eEt=void 0,this.awt=t,this.eEt=new gG(this,n)}return t.prototype.IA=function(){},T(t,[{key:"rEt",get:function(){return this.eEt}},{key:"Cdt",get:function(){return this.awt}},{key:"uwt",get:function(){return this.iEt}},{key:"iwt",get:function(){return[]}},{key:"KSt",get:function(){return this.PSt}},{key:"nwt",get:function(){return this.nEt}}]),t}(),yG=function(t){function n(n){return t.call(this,"sEt",n)||this}return E(n,t),n.prototype.gg=function(){return new mG(eG(this.jdt))},n}(TV),mG=function(t){function n(n){return t.call(this,"updatead",n)||this}return E(n,t),n}(SV),pG=function(t){function n(n){return t.call(this,"uEt",n)||this}return E(n,t),n.prototype.gg=function(){return new kG(eG(this.jdt))},n}(TV),kG=function(t){function n(n){return t.call(this,"addad",n)||this}return E(n,t),n}(SV),bG=function(t){function n(n,i){var e;return(e=t.call(this,"oEt",n)||this).currentTime=void 0,e.currentTime=i,e}return E(n,t),n.prototype.gg=function(){return new AG(eG(this.jdt),this.currentTime)},n}(TV),AG=function(t){function n(n,i){var e;return(e=t.call(this,"adbegin",n)||this).currentTime=i,e}return E(n,t),n}(SV),TG=function(t){function n(n){return t.call(this,"aEt",n)||this}return E(n,t),n.prototype.gg=function(){return new SG(eG(this.jdt))},n}(TV),SG=function(t){function n(n){return t.call(this,"adloaded",n)||this}return E(n,t),n}(SV),EG=function(t){function n(n){return t.call(this,"hEt",n)||this}return E(n,t),n.prototype.gg=function(){return new IG(eG(this.jdt))},n}(TV),IG=function(t){function n(n){return t.call(this,"adimpression",n)||this}return E(n,t),n}(SV),RG=function(t){function n(n,i){var e;return(e=t.call(this,"cEt",n)||this).currentTime=void 0,e.currentTime=i,e}return E(n,t),n.prototype.gg=function(){return new NG(eG(this.jdt),this.currentTime)},n}(TV),NG=function(t){function n(n,i){var e;return(e=t.call(this,"adfirstquartile",n)||this).currentTime=i,e}return E(n,t),n}(SV),DG=function(t){function n(n,i){var e;return(e=t.call(this,"fEt",n)||this).currentTime=void 0,e.currentTime=i,e}return E(n,t),n.prototype.gg=function(){return new CG(eG(this.jdt),this.currentTime)},n}(TV),CG=function(t){function n(n,i){var e;return(e=t.call(this,"admidpoint",n)||this).currentTime=i,e}return E(n,t),n}(SV),PG=function(t){function n(n,i){var e;return(e=t.call(this,"lEt",n)||this).currentTime=void 0,e.currentTime=i,e}return E(n,t),n.prototype.gg=function(){return new OG(eG(this.jdt),this.currentTime)},n}(TV),OG=function(t){function n(n,i){var e;return(e=t.call(this,"adthirdquartile",n)||this).ad=n,e.currentTime=i,e}return E(n,t),n}(SV),xG=function(t){function n(n,i){var e;return(e=t.call(this,"dEt",n)||this).vEt=void 0,e.vEt=i,e}return E(n,t),n.prototype.gg=function(){return new BG(eG(this.jdt),this.wEt)},T(n,[{key:"wEt",get:function(){return this.vEt}}]),n}(TV),BG=function(t){function n(n,i){var e;return(e=t.call(this,"adskip",n)||this).playedPercentage=i,e}return E(n,t),n}(SV),LG=function(t){function n(n,i){var e;return(e=t.call(this,"gEt",n)||this).currentTime=void 0,e.currentTime=i,e}return E(n,t),n.prototype.gg=function(){return new MG(eG(this.jdt),this.currentTime)},n}(TV),MG=function(t){function n(n,i){var e;return(e=t.call(this,"adend",n)||this).currentTime=i,e}return E(n,t),n}(SV),FG=function(t){function n(n){return t.call(this,"_Et",n)||this}return E(n,t),n.prototype.gg=function(){return new UG(eG(this.jdt))},n}(TV),UG=function(t){function n(n){return t.call(this,"adbreakbegin",n)||this}return E(n,t),n}(SV),jG=function(t){function n(n){return t.call(this,"yEt",n)||this}return E(n,t),n.prototype.gg=function(){return new HG(eG(this.jdt))},n}(TV),HG=function(t){function n(n){return t.call(this,"adbreakend",n)||this}return E(n,t),n}(SV),XG=function(t){function n(n){return t.call(this,"mEt",n)||this}return E(n,t),n.prototype.gg=function(){return new VG(eG(this.jdt))},n}(TV),VG=function(t){function n(n){return t.call(this,"updateadbreak",n)||this}return E(n,t),n}(SV),zG=function(t){function n(n){var i;return(i=t.call(this,"pEt")||this).jdt=n,i}return E(n,t),n.prototype.gg=function(){return new WG(this.jdt.kSt())},n}(o_),WG=function(t){function n(n){var i;return(i=t.call(this,"adbuffering")||this).ad=n,i}return E(n,t),n}(Iu),GG=function(t){function n(){return t.call(this,"kEt")||this}return E(n,t),n.prototype.gg=function(){return new qG},n}(o_),qG=function(t){function n(){return t.call(this,"admetadata")||this}return E(n,t),n}(Iu),$G=function(t){function n(n,i){var e;return(e=t.call(this,n,GW.lSt)||this).bEt=[],e.AEt=[],e.TEt=i,e}E(n,t);var i=n.prototype;return i.SEt=function(t,n){for(var i=0;i<t;i++){var e=new dG(n);n.pSt(e),this.Cdt.Ks(new pG(e))}},i.nbt=function(t,n,i){var e=t;e===1/0&&(e=-1);var r=new QW(e,i);this.tEt.push(r),n.ikt(r),this.Cdt.Ks(new aG(r))},i.Ykt=function(t,n){for(var i=0,e=this.tEt;i<e.length;i++){var r=e[i];m(r.Z1)&&r.SSt===t&&(r.Z1=n,this.Cdt.Ks(new XG(r)))}},i.ubt=function(t,n){void 0===n&&(n=!1),n&&Ys(this.tEt,t),this.Cdt.Ks(new cG(t))},i.rbt=function(){if(this.nwt){this.ubt(this.nwt,!0);var t=Boolean(this.PSt&&this.PSt.Ckt===rG.xmt);this.EEt(void 0,t)}},i.IEt=function(t,n){var i=n.Hbt;if(i){var e=i._bt-1,r=t.owt[e];return r.WSt===sG.READY?r:(r.QSt(n),this.Cdt.Ks(new yG(r)),r.rgt.ybt=i.ybt,r)}},i.REt=function(t){if(!Js(this.AEt,t)){if(t){if(this.PSt===t)return;this.PSt=t,this.Cdt.Ks(new bG(this.PSt,t.rgt.Z1));for(var n=0,i=this.bEt;n<i.length;n++){var e=i[n];0,this.GTt(e,t,this.TEt.sy)}}else{if(!this.PSt)return;var r=new LG(this.PSt,this.PSt.rgt.Z1);this.AEt.push(this.PSt),this.PSt=void 0,this.awt.Ks(r)}Zs(this.bEt)}},i.EEt=function(t,n){if(t){if(this.nEt)return;this.nEt=t,n&&this.Cdt.Ks(new FG(this.nEt))}else{if(!this.nEt)return;var i=new jG(this.nEt);this.nEt=void 0,Zs(this.AEt),n&&this.awt.Ks(i)}},i.NEt=function(t){return this.tEt.filter(function(n){return Ut(n.Z1,t,.01)})[0]},n.DEt=function(t,n){if(n.Hbt)return t.owt[n.Hbt._bt-1]},i.LTt=function(t){if(t.Hbt){var n=t.Hbt,i=this.NEt(n.Z1);i&&(Zs(this.bEt),this.EEt(i,t.jbt))}},i.UTt=function(){this.nwt&&this.Cdt.Ks(new jG(this.nwt)),Zs(this.bEt),this.rbt()},i.pTt=function(t){if(!this.nEt&&t.Hbt){var i=this.NEt(t.Hbt.Z1);this.EEt(i,t.jbt)}if(this.nEt){var e=n.DEt(this.nEt,t);if(!e)return;e.WSt===sG.NONE&&this.IEt(this.nEt,t);var r=t.Ibt;H(r)&&!H(e.Ibt)&&(e.Ibt=r,this.Cdt.Ks(new yG(e))),this.REt(e)}else 0},i.STt=function(t,n){if(this.REt(void 0),!n&&this.nwt){var i=this.nwt;this.EEt(void 0,!1),this.ubt(i)}},i.ZTt=function(t){var n=t.Hbt;if(n){var i=this.NEt(n.Z1);if(i){this.oTt(n.Z1,n.pbt,n.ybt);var e=this.IEt(i,t);e&&this.Cdt.Ks(new TG(e))}}},i.oTt=function(t,n,i){var e=this.NEt(t);if(e){var r=e.owt.length;if(n>r){var s=n-r;this.SEt(s,e),e.ybt=i,this.Cdt.Ks(new XG(e))}}},i.ITt=function(t,i,e){if(this.nEt){var r=n.DEt(this.nEt,t);if(r){var s=i/e;this.Cdt.Ks(new xG(r,s))}}},i.KTt=function(t,i,e){if(this.nEt){var r=this.PSt;if(!r){var s=n.DEt(this.nEt,t);if(!s||Js(this.AEt,s))return void this.bEt.push(i);r=s,this.IEt(this.nEt,t),this.REt(r)}this.GTt(i,r,e)}},i.GTt=function(t,n,i){t===LW.aAt?this.Cdt.Ks(new GG):t===LW.Kbt&&n?this.Cdt.Ks(new EG(n)):t===LW.nAt&&n?this.Cdt.Ks(new zG(n)):t===LW.iAt&&n&&i?this.Cdt.Ks(new RG(n,i)):t===LW.N_t&&n&&i?this.Cdt.Ks(new DG(n,i)):t===LW.eAt&&n&&i&&this.Cdt.Ks(new PG(n,i))},i.IA=function(){this.TEt.IA()},i.wc=function(){var t=Boolean(this.PSt&&this.PSt.Ckt===rG.xmt);this.REt(void 0),this.EEt(void 0,t);for(var n=0,i=this.tEt;n<i.length;n++){var e=i[n];this.ubt(e)}Zs(this.tEt),Zs(this.bEt),Zs(this.AEt)},i.Kc=function(){this.wc()},T(n,[{key:"uwt",get:function(){return this.TEt.uwt}},{key:"KSt",get:function(){return this.PSt}},{key:"nwt",get:function(){return this.nEt}},{key:"ewt",get:function(){return this.tEt.filter(function(t){return!t.Lm})}}]),n}(_G);function YG(t){var n=r.google.ima.settings;t.ads&&t.ads.vpaidMode&&r.google.ima.settings.setVpaidMode(function(t){var n=r.google.ima.ImaSdkSettings.VpaidMode;switch(t){case ry.ENABLED:return n.ENABLED;case ry.INSECURE:return n.INSECURE;case ry.DISABLED:default:return n.DISABLED}}(t.ads.vpaidMode)),n.setPlayerVersion("4.12.9"),n.setPlayerType("THEOplayer"),n.setAutoPlayAdBreaks(!0),n.setDisableCustomPlaybackForIOS10Plus(!QG(t));var i,e,s="string"==typeof(e=(i=t).ui&&i.ui.language)?e:void 0;s&&n.setLocale(s)}function QG(t){return F.hn&&t.allowNativeFullscreen}var JG=function(t){function i(n,i,e,r,s,u,o,a){var h;return(h=t.call(this,n,i,e)||this).CEt=void 0,h.Uy=!1,h.PEt=void 0,h.MC=void 0,h.LC=void 0,h.Oa=void 0,h.Hz=void 0,h.rTt=void 0,h.OEt=void 0,h.xEt=void 0,h.iSt=void 0,h.ya=void 0,h.BEt=void 0,h.LEt=void 0,h.Ydt=!1,h.MEt=void 0,h.FEt=void 0,h.Ekt=void 0,h.UEt=void 0,h.jEt=-1,h.VSt="none",h.iF=void 0,h.HEt=void 0,h.XEt=!1,h.VEt=!1,h.qkt=void 0,h.zEt=!1,h.WEt=new au,h.Ikt=void 0,h.GEt=void 0,h.qEt=!1,h.$Et=!1,h.YEt=function(t){h.Cdt.Ks(t)},h.QEt=function(t){h.MEt=new vm(hm.ADVERTISEMENT_ERROR,"Error while recovering from failed IMA ad.",t.error.message),h.FEt=gm(h.MEt)},h.cSt=NaN,h.JEt=function(){h.Uy||h.hm()},h.iF=r,h.MC=!0,h.ya=NaN,h.Hz=uy.z_,h.BEt=!1,h.LEt=!1,h.LC=h.RD.vy,h.Oa=h.RD.by,h.qkt=new $G(h.Cdt,Kt(h)),h.UEt=new $W(Kt(h),h.RD,h.fwt,h.qkt),h.UEt.tu(H_.d_,h.QEt),h.RD.tu("play",h.JEt),h.Ekt=new jW(Kt(h),h.RD,h.fwt,s,h.qkt),h.PEt=a,h.OEt=o,h.xEt=u,h.vm(),h.OEt.tu("ZEt",h.YEt),h}E(i,t);var e=i.prototype;return e.ZSt=function(t,n,i){n===gV.pdt&&void 0!==i&&(this.Ydt=i),this.Ekt.Zkt(t,n)},e.gm=function(){return[]},e.xdt=function(t){this.Ikt=t,this.Ekt.xdt(t)},e.lbt=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.zEt||!this.gbt){t.next=4;break}return t.next=3,Ur.awrap(this.gbt.WD());case 3:this.zEt=!0;case 4:case"end":return t.stop()}},null,this,null,Ge)},e.yTt=function(t){this.Ckt=t?t.jbt?"linear":"nonlinear":"none"},e.ETt=function(){return this.LC?0:this.RD.by},e.aSt=function(t,n,i){this.Oa=t,this.LC=n,this.RD.by=t,this.RD.vy=n,this.gbt&&i&&this.gbt.bM(this.ETt()),this.Ks(new Uy(this.sy,this.by))},e.hm=function(){this.RD.au("play",this.JEt),this.Uy||(this.Uy=!0,this.Ekt.hm(),this.mTt())},e.KEt=function(){return this.CEt||(this.CEt=this.xEt.LL()),this.CEt},e.Qy=function(){var t,n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.HEt){i.next=2;break}return i.abrupt("return");case 2:return this.WEt.Ws(),this.WEt=new au,t=this.wy,this.wy=!1,this.Ks(new Ry(this.sy)),this.tIt()||(this.xTt||this.RD.vm(),this.Ks(new Db(this.sy))),this.CTt||(this.PTt=!1),n=Boolean(this.gbt),this.HEt=this.Ekt.Jkt(),i.prev=11,i.next=14,Ur.awrap(this.HEt);case 14:return i.prev=14,this.HEt=void 0,i.finish(14);case 17:i.prev=17,fu(this.WEt.$s),i.next=24;break;case 21:return i.prev=21,i.t0=i.catch(17),i.abrupt("return");case 24:if(this.Uy||this.JEt(),!this.MEt||!this.Ydt){i.next=27;break}return i.abrupt("return");case 27:if(!this.gbt){i.next=45;break}if(!t){i.next=43;break}if(!n){i.next=41;break}return i.prev=30,i.next=33,Ur.awrap(du(this.gbt.nIt(),this.WEt.$s));case 33:this.Ks(new Cb(this.sy)),i.next=39;break;case 36:return i.prev=36,i.t1=i.catch(30),i.abrupt("return");case 39:i.next=43;break;case 41:return i.next=43,Ur.awrap(this.lbt());case 43:i.next=46;break;case 45:this.Ydt||(this.vwt(),this.fwt.Qy());case 46:case"end":return i.stop()}},null,this,[[11,,14,17],[17,21],[30,36]],Ge)},e.Jy=function(){var t;this.wy||(this.wy=!0,this.Ks(new Iy(this.sy))),this.WEt.Ws(),this.CTt?null==(t=this.gbt)||t.Jy():this.PTt=!0},e.IA=function(){var t;null==(t=this.gbt)||t.IA()},e.uSt=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.gbt){t.next=10;break}return t.next=3,Ur.awrap(this.OEt.iIt());case 3:return t.next=5,Ur.awrap(this.gbt.Zy());case 5:return t.next=7,Ur.awrap(this.gbt.Us());case 7:this.gbt=void 0,this.Ckt="none",this.zEt=!1;case 10:case"end":return t.stop()}},null,this,null,Ge)},e.Zy=function(){var t;return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.CEt=void 0,n.next=3,Ur.awrap(this.xEt.Us());case 3:return this.cSt=0,this.Ekt.wc(),this.WEt.Ws(),this.wy=!0,this.BEt=!1,this.LEt=!1,this.CTt=!1,this.qkt.wc(),n.next=13,Ur.awrap(this.uSt());case 13:this.nSt(),null==(t=this.PEt)||t.wc(),this.PTt=!1;case 16:case"end":return n.stop()}},null,this,null,Ge)},e.lm=function(){this.eIt()},e.eIt=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ur.awrap(this.KEt());case 2:return t.next=4,Ur.awrap(this.xEt.lm());case 4:case"end":return t.stop()}},null,this,null,Ge)},e.vm=function(){this.xEt.vm()},e.rIt=function(){return Boolean(this.gbt)&&Js(this.gbt.sIt(),-1)&&!this.BEt},e.Tkt=function(){this.Ekt.Tkt()},e.Qkt=function(){return this.Ekt.Qkt},e.ykt=function(){this.Ekt.ykt()},e.wbt=function(){return this.Ekt.wbt()},e._m=function(t){if(this.rIt()){if("pause"===t.type&&this.RD.oy)return!0;if("ended"===t.type)return this.BEt=!0,this.OEt.iIt(),!0}return!1},e.tIt=function(){return Boolean(this.gbt&&this.gbt.fTt())},e.fbt=function(t){var n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Ur.awrap(this.uSt());case 3:return n=this.uIt(),i.next=6,Ur.awrap(this.KEt());case 6:return i.next=8,Ur.awrap(this.OEt.fbt(t,this.PEt,n));case 8:return this.gbt=i.sent,i.next=11,Ur.awrap(this.oIt(this.gbt));case 11:i.next=16;break;case 13:i.prev=13,i.t0=i.catch(0),this.UEt.dTt(i.t0);case 16:case"end":return i.stop()}},null,this,[[0,13]],Ge)},e.oIt=function(t){var n,i,e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Ur.awrap(t.bM(this.ETt()));case 2:if(this.Ekt.tbt===PW.Fkt)if((n=t.sIt()).length)for(i=0;i<n.length;i++)e=n[i],this.qkt.nbt(e,this.Ekt.Dkt);else this.qkt.nbt(this.Ekt.Dkt.Vk,this.Ekt.Dkt);this.UEt.wc(),this.UEt.zTt(t);case 5:case"end":return r.stop()}},null,this,null,Ge)},e.dm=function(){if(this.rTt&&this.xTt&&this.tIt())return this.RD.dm()},e.wm=function(){return this.xTt&&this.fwt.t_===this?this.RD.wm():IS},e.uIt=function(){var t,n,i=this.Ekt.tbt===PW.Fkt,e=!(!this.VEt||!i)&&this.aIt;return this.iF.ads.showCountdown||(t=[]),void 0!==this.iF.ads.allowedMimeTypes&&(n=this.iF.ads.allowedMimeTypes),{hIt:n,Obt:t,cIt:e,YSt:this.iF.ads.googleIma.bitrate,fIt:void 0,lIt:this.Ikt}},e.mTt=function(){if(!this.VEt&&!this.vy&&(this.VEt=!0,this.rTt)){var t=this.uIt();this.rTt.vIt(t)}},e.sSt=function(t){this.MEt=new vm(hm.ADVERTISEMENT_ERROR,t.mu),this.FEt=new lf(n.ErrorCode.AD_ERROR,"There was a problem playing ads.",this.MEt),this.Cdt.Ks(EV.Xdt(t)),this.Ydt&&this.Ks(new Vy(this.FEt))},e.nSt=function(){this.fwt.t_===this&&(this.RD.lm(),this.vwt(),this.vm())},e.jTt=function(){var t;this.RD.sy!==1/0&&this.RD.Fm.length&&((null==(t=this.Ekt.Dkt)?void 0:t.pkt)&&-1!==this.jEt&&(this.RD.sy+=this.jEt,this.jEt=-1))},e.MTt=function(t){var n,i;this.jEt=null!=(n=null==(i=t.Hbt)?void 0:i.ybt)?n:-1},e.lwt=function(){this.xTt&&(this.GEt=Gy(this.RD)),t.prototype.lwt.call(this)},e.vwt=function(){this.restorePlayerState(),t.prototype.vwt.call(this),this.RD.lm(),this.xTt&&!this.RD.oy&&this.RD.Qy()},e.restorePlayerState=function(){this.GEt&&(this.RD.gy=this.GEt.gy,this.RD.by=this.GEt.by,this.RD.vy=this.GEt.vy),this.GEt=void 0},e.doHandleWindowFocus=function(){this.xTt||t.prototype.doHandleWindowFocus.call(this)},e.Kc=function(){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.UEt.au(H_.d_,this.QEt),n.next=3,Ur.awrap(t.prototype.Kc.call(this));case 3:return this.fwt.ym(this),n.next=6,Ur.awrap(this.uSt());case 6:return this.OEt.au("ZEt",this.YEt),n.next=9,Ur.awrap(this.OEt.Us());case 9:return n.next=11,Ur.awrap(this.xEt.Us());case 11:this.Ekt.Kc(),this.UEt.Kc();case 13:case"end":return n.stop()}},null,this,null,Ge)},T(i,[{key:"Ddt",get:function(){return this.qkt.rEt}},{key:"dIt",get:function(){return this.qkt}},{key:"eSt",get:function(){return this.Ekt}},{key:"xTt",get:function(){return QG(this.iF)}},{key:"Ndt",get:function(){return i.Ndt}},{key:"aIt",get:function(){return this.iF.ads.preload===sy.MIDROLL_AND_POSTROLL}},{key:"iwt",get:function(){return[]}},{key:"twt",get:function(){return[]}},{key:"nwt",get:function(){return null}},{key:"Ckt",get:function(){return this.VSt},set:function(t){this.VSt=t}},{key:"gbt",get:function(){return this.rTt},set:function(t){this.rTt=t,this.zEt=!1}},{key:"sy",get:function(){if(!this.gbt)return 0;var t=this.gbt.hSt();return m(this.uy)||t<0?0:this.uy-t},set:function(t){}},{key:"uy",get:function(){return this.ya||NaN},set:function(t){this.ya=t}},{key:"vy",get:function(){return this.LC},set:function(t){this.LC!==t&&this.aSt(this.by,t,!0)}},{key:"Bm",get:function(){return!0}},{key:"wy",get:function(){return this.MC},set:function(t){this.MC=t}},{key:"CTt",get:function(){return this.qEt},set:function(t){this.qEt=t}},{key:"rSt",get:function(){return this.Ydt}},{key:"XTt",get:function(){return this.BEt}},{key:"PTt",get:function(){return this.$Et},set:function(t){this.$Et=t}},{key:"VTt",get:function(){return this.LEt},set:function(t){this.LEt=t}},{key:"yy",get:function(){return 0}},{key:"py",get:function(){return 0}},{key:"Fm",get:function(){return new TS([0,this.uy]).oD()}},{key:"by",get:function(){return this.Oa},set:function(t){this.Oa!==t&&this.aSt(t,this.vy,!0)}},{key:"Em",get:function(){return this.RD.Em}},{key:"oy",get:function(){return!1}},{key:"Au",get:function(){if(this.MEt&&this.Ydt)return this.MEt}},{key:"ly",get:function(){if(this.FEt&&this.Ydt)return this.FEt}},{key:"m_",get:function(){return this.Hz},set:function(t){this.Hz=t}},{key:"BTt",get:function(){return this.XEt},set:function(t){this.XEt=t}}],[{key:"Ndt",get:function(){return GW.lSt}}]),i}(PV),ZG=function(){function t(){this.wIt=void 0,this.gIt=void 0}var n=t.prototype;return n.registerWebImaAdPlayerConstructor=function(t){this.wIt=t},n.registerNativeImaAdPlayerConstructor=function(t){this.gIt=t},n.createAdPlayer=function(t,n,i,e,r){var s,u;return null!=(s=null==(u=e.ads.googleIma)?void 0:u.useNativeIma)&&s&&this.gIt?this.gIt(t,n,i,e,r):function(){if(Boolean(we.google&&we.google.ima)){var t=1===w.keys(we.google.ima).length&&we.google.ima.dai;return!t}return!1}()&&this.wIt?this.wIt(t,n,i,e,r):void 0},t}();ZG.qn=new ZG;var KG=function(){function t(){}var n=t.prototype;return n.AP=function(t){return t&&t.integration===qS.GOOGLE_IMA},n.Idt=function(t,n,i,e,r){return ZG.qn.createAdPlayer(t,n,i,e,r)},n.Pe=function(t,n,i,e){i.ZSt(t,n,e)},n.vO=function(t){var n=RW(t.sources);if(n){var i={integration:qS.GOOGLE_IMA,sources:n,omidAccessModeRules:t.omidAccessModeRules?AE(t.omidAccessModeRules):void 0},e=DW(t.timeOffset);return void 0!==e&&(i.timeOffset=e),i}},T(t,[{key:"Edt",get:function(){return JG.Ndt}}]),t}();sE.qn.TP(new KG);var tq,nq=function(t){function n(n){return t.call(this,"aEt",n)||this}return E(n,t),n.prototype.gg=function(){return new iq(eG(this.jdt))},n}(TV),iq=function(t){function n(n){return t.call(this,"adloaded",n)||this}return E(n,t),n}(SV),eq=-1,rq=10,sq=function(){function t(t,n){this.tEt=void 0,this.Upt=void 0,this._It=void 0,this.Ji=void 0,this.Iwt=void 0,this.BD=void 0,this.yIt=void 0,this.mIt=void 0,this.tEt=[],this._It=!1,this.Upt=t,this.Ji=0,this.Iwt=0,this.BD=n,this.yIt=NaN,this.mIt=!1}var n=t.prototype;return n.kwt=function(t){var n;return this.NSt.length>this.Ji&&(t?(n=this.NSt[this.Ji],this.Ji++):n=this.NSt[this.Ji]),n},n.pIt=function(t){t.zmt=this,this.NSt.push(t)},n.kIt=function(t){var n,i,e,r,s,u;return Ur.async(function(o){for(;;)switch(o.prev=o.next){case 0:n=!1,i=0,e=this.tEt;case 2:if(!(i<e.length)){o.next=19;break}return r=e[i],o.prev=4,o.next=7,Ur.awrap(r.Zh(function(){}));case 7:n=!0,o.next=16;break;case 10:o.prev=10,o.t0=o.catch(4),s=r.Cpt.sources,u="string"==typeof s?s:s.src,t.Ks(EV.Vdt(o.t0,u));case 16:i++,o.next=2;break;case 19:return this.mIt=!0,o.abrupt("return",n);case 21:case"end":return o.stop()}},null,this,[[4,10]],Ge)},n.bIt=function(){this._It=!0},n.AIt=function(){return this._It},n.TIt=function(){for(var t=0,n=this.tEt;t<n.length;t++)for(var i=n[t],e=JW.ISt(i);null!=e&&e.kwt();)if(e._wt.Dwt)return!0;return!1},T(t,[{key:"NSt",get:function(){return this.tEt}},{key:"wyt",get:function(){return this.Ji}},{key:"SIt",get:function(){return this.Upt}},{key:"EIt",get:function(){return this.mIt}},{key:"Vk",get:function(){if(m(this.yIt)){var t=AW.wpt(this.Upt,this.BD.uy);void 0===t||m(t)||(this.yIt=t)}return this.yIt}},{key:"IIt",get:function(){return this._It}},{key:"RIt",get:function(){return this.Iwt},set:function(t){this.Iwt=t}}]),t}(),uq=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).NIt=void 0,s.BD=void 0,s.yp=void 0,s.DIt=void 0,s.GV=void 0,s.Wdt=void 0,s.CIt=void 0,s.PIt=void 0,s.Ikt=void 0,s.OIt=!1,s.xIt=function(t){return mu(s.BIt(t))},s.BIt=function(t){var n,i,e,r,u,o,a;return Ur.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(s.LIt(),n=t.currentTime,i=t.currentTime!==eq?s.MIt(s.GV,t.currentTime):s.FIt(t.currentTime,0,0)[0],u=s.BD.uy-rq,!(r=s.UIt(eq)&&g.ceil(n)===g.ceil(u)?s.FIt(eq,rq,0).filter(function(t){return!t.EIt}):s.FIt(n,rq,0).filter(function(t){return!t.EIt})).length){h.next=12;break}return h.next=8,Ur.awrap(Ge.all(r.map(function(t){return t.kIt(s.DIt)})));case 8:o=h.sent,(a=o.some(function(t){return!0===t}))&&s.Ks(new nq),(!a||!s.CIt.jIt||r[0].Vk<s.CIt.jIt.Vk)&&(e=r[0]);case 12:if(i&&(i!==s.CIt.jIt&&(e=i),s.HIt([i])),!e){h.next=18;break}return s.CIt.XIt(),s.CIt.jIt=e,h.next=18,Ur.awrap(s.CIt.VIt());case 18:m(s.BD.uy)||(s.GV=t.currentTime);case 19:case"end":return h.stop()}},null,null,null,Ge)},s.BD=n,s.Wdt=i,s.Ikt=void 0,s.OIt=!1,n.uy!==1/0?s.yp=0:s.yp=n.sy,s.GV=s.yp,s.NIt=[],s.DIt=e,s.CIt=r,s.PIt=!1,s}E(n,t);var i=n.prototype;return i.zIt=function(){this.CIt.VIt()},i.WD=function(){this.WIt(),this.DIt.tu("gEt",this.CIt.XIt)},i.qD=function(){this.GIt(),this.DIt.au("gEt",this.CIt.XIt),this.GV=this.yp,this.CIt.wc();for(var t=0,n=this.NIt;t<n.length;t++){var i=n[t];i.IIt||i.bIt()}Zs(this.NIt)},i.WIt=function(){this.PIt||(this.BD.tu("timeupdate",this.xIt),this.PIt=!0)},i.GIt=function(){this.PIt&&(this.BD.au("timeupdate",this.xIt),this.PIt=!1)},i.qIt=function(){return this.BIt(new xy(eq,void 0))},i.UIt=function(t){return this.FIt(t,0,0).length>0},i.MIt=function(t,n){var i=this.NIt.filter(function(t){return!t.IIt});if(0!==i.length){for(var e,r=0,s=0;s<i.length;s++){var u=i[s],o=u.Vk;o>=t&&o<=n&&o>=r&&!m(o)&&(r=(e=u).Vk)}return e}},i.$It=function(t){return this.BIt(new xy(t,void 0))},i.LIt=function(){if(!this.OIt&&void 0!==this.Ikt){this.OIt=!this.NIt.some(function(t){return m(t.Vk)});for(var t=0,n=this.NIt;t<n.length;t++){var i=n[t];i.Vk!==eq&&i.Vk<=this.Ikt&&!i.AIt()&&i.bIt()}}},i.HIt=function(t){for(var n=0;n<t.length;n++){t[n].bIt()}this.Wdt.YIt(t),0===this.QIt&&this.GIt()},i.FIt=function(t,n,i){for(var e=[],r=0,s=this.NIt;r<s.length;r++){var u=s[r];if(!u.IIt){var o=u.Vk;(this.JIt(o,t)||this.ZIt(o,t,n,i))&&e.push(u)}}return e},i.JIt=function(t,n){switch(n){case 0:return 0===t;case eq:return t===eq;default:return!1}},i.ZIt=function(t,n,i,e){if(t<0)return!1;var r=t-n;return-1!==r&&r<=i&&r>=-e},i.KIt=function(t){if(t&&t.length>0){for(var i=0;i<t.length;i++){var e=t[i],r=n.Zpt(e.Z1),s=this.Wet(e);-1===s&&(this.OIt=void 0===this.Ikt,this.NIt.push(new sq(r,this.BD)),s=this.NIt.length-1),this.NIt[s].pIt(e)}this.WIt()}},n.Zpt=function(t){switch(t){case"start":case"00:00:00":case"00:00:00.000":case"0%":case"0":return"0";case"end":case"100%":return"-1";default:return t}},i.Wet=function(t){for(var i=n.Zpt(t.Z1),e=0,r=this.NIt.length;e<r;e++){var s=this.NIt[e];if(i===n.Zpt(s.SIt))return e}return-1},i.tRt=function(t){var n=this.NIt.indexOf(t);Qs(this.NIt,n)},i.xdt=function(t){this.Ikt=t,this.OIt=void 0===t},T(n,[{key:"QIt",get:function(){for(var t=0,n=0,i=this.NIt;n<i.length;n++){i[n].IIt||(t+=1)}return t}},{key:"iwt",get:function(){return this.NIt}}]),n}(J_),oq=function(t){function n(n,i){var e;return(e=t.call(this)||this).nRt=void 0,e.iRt=void 0,e.eRt=void 0,e.gN=void 0,e.rRt=void 0,e.sRt=void 0,e.awt=void 0,e.uRt=function(t){t.stopPropagation(),e.oRt()},e.oRt=function(){for(var t=0,n=e.iRt;t<n.length;t++)for(var i=0,r=n[t].Fgt;i<r.length;i++){var s=r[i];OV(s.uri)}},e.nRt=s.createElement("div"),e.nRt.style.display="none",e.iRt=[],e.eRt=[],e.rRt=n,e.sRt=i,e.gN=null,e.awt=new J_,e}E(n,t);var i=n.prototype;return i.aRt=function(){this.hRt(),this.cRt(),this.gN=null},i.fRt=function(t){this.eRt=this.eRt.concat(t)},i.lRt=function(t){this.iRt=this.iRt.concat(t)},i.cRt=function(){this.eRt=[]},i.hRt=function(){this.iRt=[]},i.vRt=function(t){for(var n=0,i=this.eRt;n<i.length;n++){var e=i[n];e.W_t===t&&OV(e.eventURL)}},i.lm=function(){this.dRt.style.display=""},i.vm=function(){this.dRt.style.display="none"},i.Kc=function(){this.ou(),this.awt.ou(),nr(this.nRt)},T(n,[{key:"dRt",get:function(){return this.nRt}},{key:"Cdt",get:function(){return this.awt}}]),n}(J_);function aq(t,n){var i=n;if(!function(t){return"ui"in t}(t))return i;var e,r=t.ui.language;if(q(r)){var s=t.ui.languages;if(!s)return i;e=s[r]}else e=r;return e&&e[n]&&(i=e[n]),i}!function(t){t.wRt="theo-size-xs",t.gRt="theo-size-s",t._Rt="theo-size-m",t.yRt="theo-size-l",t.mRt="theo-size-xl"}(tq||(tq={}));var hq=[1200,992,768,576],cq={1200:tq.mRt,992:tq.yRt,768:tq._Rt,576:tq.gRt},fq=function(){function t(t,n){var i=this;this.pRt=void 0,this.kRt=function(t){i.bRt({width:t.xp,height:t.bT})},this.DD=t,this.rq=n,this.pRt=lq(n.tB),sr(this.DD,this.pRt),n.tu("qx",this.kRt)}var n=t.prototype;return n.bRt=function(t){var n=lq(t.width);n!==this.pRt&&(sr(this.DD,n),ur(this.DD,this.pRt),this.pRt=n)},n.Kc=function(){this.rq.au("qx",this.kRt)},t}();function lq(t){for(var n=0;n<hq.length;n++){var i=hq[n];if(t>i)return cq[i]}return tq.wRt}var vq,dq=function(t){function n(n,i){var e;return(e=t.call(this)||this).DD=void 0,e.ARt=void 0,e.TRt=void 0,e.SRt=void 0,e.eP=void 0,e.ERt=function(){e.Ks(new Iu("IA"))},e.DD=s.createElement("div"),e.Em.className="theoplayer-ad-overlay-component theoplayer-ad-skip theoplayer-ad-skip-countdown",e.Em.style.position="absolute",e.TRt=s.createElement("span"),e.Em.appendChild(e.TRt),i&&(e.ARt=s.createElement("div"),e.ARt.className="theoplayer-ad-skip-poster",e.ARt.style.backgroundImage='url("'+Cs(i)+'")',e.Em.appendChild(e.ARt)),e.eP="countdown",e.SRt=new fq(e.Em,n),e}E(n,t);var i=n.prototype;return i.IRt=function(){this.eP="skip",this.Xv="Skip Ad",this.RRt(),this.Em.classList.remove("theoplayer-ad-skip-countdown"),this.Em.classList.add("theoplayer-ad-skip-button")},i.RRt=function(){this.Em.addEventListener("mouseup",this.ERt),this.Em.addEventListener("touchend",this.ERt)},i.NRt=function(){this.Em.removeEventListener("mouseup",this.ERt),this.Em.removeEventListener("touchend",this.ERt)},i.Kc=function(){this.NRt(),this.SRt.Kc(),nr(this.DD),nr(this.TRt),this.ARt&&nr(this.ARt)},T(n,[{key:"Em",get:function(){return this.DD}},{key:"g_",get:function(){return this.eP}},{key:"Xv",get:function(){return this.TRt.textContent||""},set:function(t){BO(this.TRt,t)}}]),n}(J_);function wq(t,n){var i=t.xp&&n.xp,e=t.bT&&n.bT;return i||e?i&&e?t.xp*t.bT-n.xp*n.bT:i?t.xp-n.xp:e?t.bT-n.bT:(t.xp||1)*(t.bT||1)-(n.xp||1)*(n.bT||1):0}function gq(t,n){return wq(t,n)||function(t,n){return t.QR-n.QR}(t,n)}var _q=((vq={})[ey.L_]=1,vq[ey.M_]=2,vq[ey.H_]=2,vq);function yq(t,n){var i=n?n.map(function(t){return t.toLowerCase()}):n;return Fs(t.filter(function(t){var n=t.type.toLowerCase();return!!V(i)&&-1!==i.indexOf(n)&&dW(n)}),function(t,n){return _q[t.type]-_q[n.type]}).map(mq)}function mq(t){return EE({src:t.contentURL,type:t.type,isAdvertisement:!0})}function pq(t,n){return wq(kq(t),kq(n))}function kq(t){return{bT:t.height,xp:t.width}}function bq(t,n,i,e){var r=function(t,n,i,e){var r,s=1/0,u=t.filter(function(t){return!dW(t.type)}).filter(function(t){return void 0===e||-1!==e.indexOf(t.type)});if(u.length){for(var o=0;o<u.length;o++){var a=u[o],h=(g.abs(a.width/n-1)+g.abs(a.height/i-1))/2;h<s&&(s=h,r=a)}return mq(r||u.sort(pq)[0])}}(t,n.width,n.height,i),s=yq(t,i);return r&&s.push(r),HE({sources:s},e)}var Aq,Tq=function(t){function n(n,e){var r;return(r=t.call(this)||this).Hw=void 0,r.DD=void 0,r.DRt=void 0,r.CRt=function(t){t.stopPropagation(),r.Ks(new Iu("clickstart"))},r.PRt=function(t){t.stopPropagation(),r.Ks(new Iu("click"))},r.Hw=n,r.DRt=e,r.DD=s.createElement("a"),r.DD.href=e,r.DD.style.position="absolute",r.DD.style.zIndex="11",r.DD.target="ORt",i.jr.Wt?(BO(r.DD,"learn more"),r.DD.className="theoplayer-ad-overlay-component theoplayer-ad-touch-clickthrough",r.DD.setAttribute("rel","noopener"),r.DD.addEventListener("touchstart",r.CRt),r.DD.addEventListener("touchend",r.PRt)):(r.Hw.style.cursor="pointer",fr(r.DD),r.Hw.addEventListener("mousedown",r.CRt),r.Hw.addEventListener("click",r.PRt)),r.Hw.appendChild(r.DD),r}return E(n,t),n.prototype.Us=function(){this.ou(),this.DD.removeEventListener("touchstart",this.CRt),this.DD.removeEventListener("touchend",this.PRt),this.Hw.removeEventListener("mousedown",this.CRt),this.Hw.removeEventListener("click",this.PRt),this.Hw.removeChild(this.DD),this.Hw.style.cursor=""},T(n,[{key:"xRt",get:function(){return this.DRt},set:function(t){this.DRt!==t&&(this.DRt=t,this.DD.href=t)}}]),n}(Su),Sq=function(t){function n(n,i,e,r,s,u,o,a){var h;return(h=t.call(this,n,i)||this).n_t=void 0,h.BRt=[],h.LRt=void 0,h.MRt=!1,h.FRt=0,h.GV=-1,h.URt=void 0,h.jRt=void 0,h.HRt=void 0,h.XRt=void 0,h.qc=new au,h.r_t=[],h.VRt=!0,h.zRt=function(t){void 0===t&&(t=!0),h.WRt.au(Bf.Of,h.GRt),h.MRt=!1,t&&h.vRt($V.D_t),h.vm(),h.sRt()},h.qRt=function(){h.qc=void 0,h.MRt||(h.$Rt(),h.MRt=!0),h.VRt&&(h.VRt=!1,h.Wdt.zIt()),h.dRt.style.display="block",h.WRt.au(Sy.ey,h.qRt),h.MRt=!0},h.GRt=function(){var t=h.sy,n=h.uy,i=t/n;0===h.FRt&&i>=.25?(h.vRt($V.I_t),h.FRt=1):1===h.FRt&&i>=.5?(h.vRt($V.N_t),h.FRt=2):2===h.FRt&&i>=.75&&(h.vRt($V.R_t),h.FRt=3),h.YRt(t,n),h.QRt(),h.GV=t,h.n_t&&-1!==h.n_t.l_t&&h.n_t.l_t<h.n_t.uy&&(h.sy<h.n_t.l_t?h.JRt():(h.HRt||h.ZRt(),h.HRt&&"skip"!==h.HRt.g_&&h.HRt.IRt()))},h.KRt=function(){var t;h.qc=void 0,h.WRt.au(H_.d_,h.KRt),h.VRt=!0,h.gN.iyt(Sz.Z_t),h.MRt=!1,h.WRt.vm();var n=(null==(t=h.WRt.pm)?void 0:t.src)||"";h.rRt(n)},h.tNt=function(){h.Zs(new xy(h.sy,void 0))},h.nNt=function(){h.Zs(new Py(h.uy))},h.iNt=function(){h.Zs(new Uy(h.sy,h.by))},h.eNt=function(){h.Wdt.Jy()},h.rNt=function(){if(h.n_t){h.vRt($V.p_t);var t=new oG(h.n_t,h.BRt,h.n_t.rgt,h.sNt,h.uNt);h.Cdt.Ks(new xG(t,h.sy/h.uy)),h.zRt(!1)}},h.WL=e,h.oNt=r,h.Mc=s,h.Wdt=u,h.rq=o,h.WRt=a,h.dRt.className="theoplayer-ad-linear",h.dRt.style.zIndex="10",fr(h.dRt),h.WRt.vm(),h.URt=!1,h}E(n,t);var i=n.prototype;return i.Qy=function(){this.WRt.wy&&(this.WRt.Qy(),this.Ks(new Ry(this.sy)),this.MRt&&this.vRt($V.y_t),this.MRt=!0)},i.Jy=function(){this.WRt.wy||(this.WRt.Jy(),this.Ks(new Iy(this.sy)),this.vRt($V.Hf))},i.Zy=function(){var t;return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return null==(t=this.qc)||t.Ws(),this.qc=void 0,this.vm(),this.MRt=!1,this.VRt=!0,this.aNt(),this.hNt(),n.next=9,Ur.awrap(this.cNt());case 9:case"end":return n.stop()}},null,this,null,Ge)},i.fNt=function(t){this.BRt.push(t)},i.JRt=function(){if(this.n_t){this.HRt||this.ZRt();var t=g.round(this.n_t.l_t-this.sy);this.HRt.Xv="You can skip in "+t+" seconds"}},i.ZRt=function(){var t,n=null==(t=this.WL.Ky())?void 0:t.poster;this.HRt=new dq(this.rq,n),this.dRt.appendChild(this.HRt.Em),this.HRt.tu("IA",this.rNt)},i.lNt=function(){this.n_t&&this.n_t.Hgt.Lgt&&(this.XRt=new Tq(this.dRt,this.n_t.Hgt.Lgt),this.XRt.tu("clickstart",this.eNt),this.XRt.tu("click",this.oRt))},i.YRt=function(t,n){for(var i=0,e=this.eRt;i<e.length;i++){var r=e[i];if(r.W_t===$V.Vf){var s=_z(r.Lu,n);void 0!==s&&this.GV<s&&s<=t&&OV(r.eventURL)}}},i.vNt=function(){var t;return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.n_t&&this.LRt){n.next=2;break}return n.abrupt("return");case 2:if(!(t=bq(this.n_t.f_t,this.LRt,this.Mc.ads.allowedMimeTypes,this.Mc)).sources.length){n.next=12;break}return this.qc=new au,this.VRt=!0,n.next=8,Ur.awrap(this.WRt.tm(t,this.qc.$s));case 8:this.WRt.lm(),this.n_t.Kwt(),n.next=17;break;case 12:return n.next=14,Ur.awrap(this.WRt.wc());case 14:return this.rRt(""),this.n_t.Kwt(),n.abrupt("return");case 17:this.lNt();case 18:case"end":return n.stop()}},null,this,null,Ge)},i.dNt=function(t,n,i,e){return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.n_t=t,this.r_t=e,this.WRt.tu(Bf.ol,this.tNt),this.WRt.tu(Bf.Cf,this.nNt),this.WRt.tu(Bf.al,this.iNt),this.n_t.Wwt&&0!==this.n_t.Wwt.length&&this.fRt(this.n_t.Wwt),this.n_t.Hgt&&this.lRt(this.n_t.Hgt),this.gN=n,this.LRt=i,0===t.f_t.length){r.next=17;break}return this.WRt.tu(H_.d_,this.KRt),r.next=13,Ur.awrap(this.vNt());case 13:this.WRt.tu(Bf.Of,this.zRt),this.WRt.tu(Bf.ol,this.GRt),this.WRt.tu(Sy.ey,this.Zs),this.WRt.tu(Sy.ey,this.qRt);case 17:case"end":return r.stop()}},null,this,null,Ge)},i.wNt=function(){this.gNt&&this._Nt&&this.rNt()},i.$Rt=function(){this.vRt($V.E_t);var t=this.Dwt;if(t){var n=new oG(t,this.BRt,t.rgt,this.sNt,this.uNt);this.Cdt.Ks(new bG(n,this.sy))}},i.cNt=function(){var t,n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return this.WRt.au(H_.d_,this.KRt),this.WRt.au(Bf.Of,this.zRt),this.WRt.au(Bf.ol,this.GRt),this.WRt.au(Sy.ey,this.Zs),this.WRt.au(Sy.ey,this.qRt),this.WRt.au(Bf.ol,this.tNt),this.WRt.au(Bf.Cf,this.nNt),this.WRt.au(Bf.al,this.iNt),this.n_t&&(t=this.n_t,n=new oG(t,this.BRt,t.rgt,this.sNt,this.uNt),this.Cdt.Ks(new LG(n,this.sy))),this.yNt(),this.aRt(),this.aNt(),this.hNt(),this.n_t=void 0,this.r_t=[],this.LRt=void 0,i.next=18,Ur.awrap(this.WRt.wc());case 18:this.WRt.vm(),this.dRt.style.cursor="",this.FRt=0,this.GV=-1,Zs(this.BRt),this.URt&&(this.oNt.cNt(),this.URt=!1);case 24:case"end":return i.stop()}},null,this,null,Ge)},i.yNt=function(){this.XRt&&(this.XRt.Us(),this.XRt=void 0)},i.hNt=function(){this.jRt&&(nr(this.jRt),this.jRt=void 0)},i.aNt=function(){this.HRt&&(this.HRt.Kc(),this.HRt=void 0)},i.mNt=function(){this.URt=!0},i.QRt=function(){this.jRt||(this.jRt=s.createElement("div"),this.jRt.className="theoplayer-ad-overlay-component theo-ad-remaining-container",this.dRt.appendChild(this.jRt));var t=this.Wdt.nwt;if(t&&t.ads){var n=t.ads.filter(function(t){return"linear"===t.type}).length,i=aq(this.Mc,"The content will play in")+" "+g.round(t.maxRemainingDuration)+" "+aq(this.Mc,"seconds");if(n>1){var e=this.Wdt.pNt;if(e)i+=" Ad "+(e.zmt.RIt+1)+"/"+n}BO(this.jRt,i)}},T(n,[{key:"sNt",get:function(){return this.Wdt.kNt()}},{key:"gNt",get:function(){return this.MRt}},{key:"sy",get:function(){return this.WRt.sy}},{key:"uy",get:function(){var t=this.WRt.uy;return m(t)&&this.n_t&&(t=this.n_t.uy||0),t}},{key:"oy",get:function(){return this.WRt.oy}},{key:"vy",get:function(){return this.WRt.vy},set:function(t){this.WRt.vy=t,t?this.vRt($V.g_t):this.vRt($V.__t)}},{key:"wy",get:function(){return this.WRt.wy}},{key:"by",get:function(){return this.WRt.by},set:function(t){this.WRt.by=t}},{key:"Dwt",get:function(){return this.n_t}},{key:"bNt",get:function(){return this.BRt}},{key:"uNt",get:function(){return this.r_t}},{key:"_Nt",get:function(){return this.Dwt&&-1!==this.Dwt.l_t&&this.WRt.sy>=this.Dwt.l_t}}]),n}(oq),Eq=function(t){function n(){var i;return(i=t.call(this)||this).DD=void 0,i.ERt=function(t){i.Ks(new Iu("IA")),i.ANt(t)},i.ANt=function(t){t.stopPropagation()},i.DD=n.TNt(),i.RRt(),i}E(n,t);var i=n.prototype;return i.RRt=function(){this.Em.addEventListener("mouseup",this.ERt),this.Em.addEventListener("touchend",this.ERt),this.Em.addEventListener("mousedown",this.ANt)},i.NRt=function(){this.Em.removeEventListener("mouseup",this.ERt),this.Em.removeEventListener("touchend",this.ERt),this.Em.removeEventListener("mousedown",this.ANt)},n.TNt=function(){var t=s.createElement("div");return t.className="theoplayer-ad-nonlinear-close",t.style.position="absolute",t.style.right="0",t.style.top="0",t.style.cursor="pointer",t.style.fontSize="1.7em",t.style.lineHeight="0.75em",t},i.Kc=function(){this.NRt(),this.DD=null},T(n,[{key:"Em",get:function(){return this.DD}}]),n}(J_),Iq=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i)||this).SNt=void 0,s.BRt=[],s.LRt=void 0,s.Wdt=void 0,s.ENt=void 0,s.INt=void 0,s.zdt=void 0,s.r_t=[],s.RNt=function(){s.NNt(),s.vRt($V.B_t),s.sRt()},s.DNt=function(t){s.NNt(),s.gN.iyt(Sz.tyt),s.rRt()},s.CNt=function(){s.vm(),ir(s.dRt),s.sRt(),s.SNt=void 0,s.r_t=[]},s.PNt=function(){s.ONt||(s.INt=void 0,s.ENt=new Eq,s.dRt.children[0].appendChild(s.ENt.Em),s.ENt.tu("IA",s.xNt))},s.xNt=function(){s.vRt($V.p_t),s.wNt()},s.dRt.className="theoplayer-ad-nonlinear",s.dRt.style.position="absolute",s.dRt.style.width="100%",s.dRt.style.bottom="3em",s.dRt.style.zIndex="10",s.dRt.style.textAlign="center",s.Wdt=e,s.zdt=r,s}E(n,t);var i=n.prototype;return i.aRt=function(){t.prototype.aRt.call(this),this.dRt&&ir(this.dRt)},i.dNt=function(t,n,i,e){return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.SNt&&this.cNt(),this.SNt=t,this.r_t=e,0!==this.SNt.Wwt.length&&this.fRt(this.SNt.Wwt),this.gN=n,this.LRt=i,0===this.SNt.zwt.length){r.next=13;break}return this.lRt(this.SNt.zwt[0].egt),this.dRt.addEventListener("error",this.DNt),this.dRt.addEventListener("load",this.RNt),r.next=12,Ur.awrap(this.vNt());case 12:this.BNt();case 13:case"end":return r.stop()}},null,this,null,Ge)},i.wNt=function(){if(void 0===this.INt&&this.SNt&&-1!==this.SNt.zwt[0].rgt.l_t){this.vRt($V.p_t);var t=this.SNt.zwt[0],n=new uG(t,this.BRt,t.rgt,this.sNt,this.uNt);this.Cdt.Ks(new xG(n,0)),this.CNt()}},i.$Rt=function(){var t=this.SNt.zwt[0],n=new uG(t,this.BRt,t.rgt,this.sNt,this.uNt);this.Cdt.Ks(new bG(n,this.zdt.sy))},i.Zy=function(){this.cNt(),this.LRt=void 0,this.SNt=void 0,this.r_t=[]},i.cNt=function(){if(this.NNt(),this.SNt){var t=this.SNt.zwt[0],n=new uG(t,this.BRt,t.rgt,this.sNt,this.uNt);this.Cdt.Ks(new LG(n,this.zdt.sy))}this.aRt(),Zs(this.BRt),this.LNt(),void 0!==this.INt&&(h(this.INt),this.INt=void 0)},i.fNt=function(t){this.BRt.push(t)},i.NNt=function(){this.dRt.removeEventListener("load",this.RNt),this.dRt.removeEventListener("error",this.DNt)},i.vNt=function(){var t,n,i,e,r,u,o,a,h;return Ur.async(function(c){for(;;)switch(c.prev=c.next){case 0:(t=s.createElement("div")).className="theoplayer-ad-nonlinear-content",t.style.position="relative",t.style.display="inline-block",n=this.SNt.zwt[0],i=s.createElement("a"),n.egt.Lgt&&(i.href=n.egt.Lgt,i.target="ORt",i.setAttribute("rel","noopener")),n.ngt?(e=n.ngt,(r=s.createElement("iframe")).src=e.q_t,i.appendChild(r)):n.tgt?(u=n.tgt,(o=s.createElement("img")).src=u.q_t,i.appendChild(o)):n.igt&&(a=n.igt,(h=s.createElement("iframe")).src=a.q_t,i.appendChild(h)),n.Kwt(),i.addEventListener("mousedown",this.uRt),i.addEventListener("touchend",this.uRt),this.dRt.firstChild&&(ir(this.dRt),this.cNt()),t.appendChild(i),this.dRt.appendChild(t),this.lm();case 15:case"end":return c.stop()}},null,this,null,Ge)},i.BNt=function(){if(this.SNt){var t=this.SNt.zwt[0].rgt.l_t;-1!==t&&void 0!==t&&(this.INt=we.setTimeout(this.PNt,1e3*t))}},i.LNt=function(){this.ONt&&(this.ONt.au("IA",this.xNt),this.ONt.Kc()),this.ENt=void 0},T(n,[{key:"Cwt",get:function(){return this.SNt}},{key:"bNt",get:function(){return this.BRt}},{key:"ONt",get:function(){return this.ENt}},{key:"uNt",get:function(){return this.r_t}},{key:"sNt",get:function(){return this.Wdt.kNt()}}]),n}(oq),Rq=function(t){function n(n){return t.call(this,"MNt",n)||this}return E(n,t),n.prototype.gg=function(){return new Nq(eG(this.jdt))},n}(TV),Nq=function(t){function n(n){return t.call(this,"adbreakchange",n)||this}return E(n,t),n}(SV),Dq=function(){function t(){}return t.FNt=function(t,n,i){var e,r,s,u;return Ur.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=[],r=t.shift();case 2:if(!r){o.next=18;break}return o.prev=3,o.next=6,Ur.awrap((new kW).Fmt(r,n));case 6:s=o.sent,e=e.concat(s),o.next=15;break;case 10:o.prev=10,o.t0=o.catch(3),u=EV.Vdt(o.t0,r.sources.src),i.Ks(u);case 15:r=t.shift(),o.next=2;break;case 18:return o.abrupt("return",e);case 19:case"end":return o.stop()}},null,null,[[3,10]],Ge)},t}(),Cq=function(t){function n(n){return t.call(this,"UNt",n)||this}return E(n,t),n.prototype.gg=function(){return new Pq(eG(this.jdt))},n}(TV),Pq=function(t){function n(n){return t.call(this,"adadded",n)||this}return E(n,t),n}(SV),Oq=function(t){function n(){return t.call(this,"jNt")||this}return E(n,t),n.prototype.gg=function(){return new xq},n}(o_),xq=function(t){function n(){return t.call(this,"statechange")||this}return E(n,t),n}(Iu);!function(t){t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted"}(Aq||(Aq={}));var Bq=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).HNt=new Q_,n.Zs=function(t){n.Ks(t)},n}E(n,t);var i=n.prototype;return i.gg=function(){return n=function(t){var n=t.XNt.map(function(t){return t.wg});return n.item=function(n){n|=0;var i=t.Vg(n);return i&&i.wg||void 0},n}(t=this),i=new jR(t,n),n.addEventListener=function(t,n){i.tu(t,n)},n.removeEventListener=function(t,n){i.au(t,n)},n;var t,n,i},i.tu=function(t,n){this.HNt.tu(t,n)},i.uu=function(t){this.HNt.uu(t)},i.ou=function(){this.HNt.ou()},i.Ks=function(t){this.HNt.Ks(t)},i.au=function(t,n){this.HNt.au(t,n)},i.vu=function(t){this.HNt.vu(t)},i.du=function(t){this.HNt.du(t)},i.wu=function(t,n){return this.HNt.wu(t,n)},n}(function(){function t(){this.Nu=[],this.dg=void 0}var n=t.prototype;return n.Vg=function(t){return this.Nu[t]},n.Xm=function(t){this.Nu.push(t),this.dg&&this.dg.push(t.wg),this.VNt(t)},n.zNt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Xm(i)}},n.WNt=function(t,n){n>=0&&n<=this.Nu.length&&(this.Nu.splice(n,0,t),this.dg&&this.dg.splice(n,0,t.wg),this.VNt(t))},n.Vm=function(t){return Js(this.Nu,t)},n.Kh=function(t){this.GNt(this.Nu.indexOf(t))},n.GNt=function(t){if(t>=0&&t<this.Nu.length){var n=this.Nu[t];Qs(this.Nu,t),this.dg&&Qs(this.dg,t),this.qNt(n)}},n.xu=function(){var t=this.Nu.slice();Zs(this.Nu),this.dg&&Zs(this.dg);for(var n=0;n<t.length;n++){var i=t[n];this.qNt(i)}},T(t,[{key:"XNt",get:function(){return this.Nu}},{key:"$g",get:function(){return this.Nu.length}},{key:"wg",get:function(){return this.dg||(this.dg=this.gg()),this.dg}}]),t}());var Lq,Mq=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return E(n,t),n}(Iu),Fq=function(t){function n(n){var i;return(i=t.call(this,"YNt")||this).$Nt=n,i}return E(n,t),n.prototype.gg=function(){return new Mq(this.$Nt.wg)},n}(o_),Uq=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return E(n,t),n}(Iu),jq=function(t){function n(n){var i;return(i=t.call(this,"QNt")||this).task=n,i}return E(n,t),n.prototype.gg=function(){return new Uq(this.task.wg)},n}(o_),Hq=function(t){function n(){return t.call(this)||this}E(n,t);var i=n.prototype;return i.VNt=function(t){this.Ks(new Fq(t))},i.qNt=function(t){this.Ks(new jq(t))},n}(Bq);!function(t){t.UNINITIALISED="uninitialised",t.INITIALISED="initialised"}(Lq||(Lq={}));var Xq=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).JNt=Lq.UNINITIALISED,r.Wc=new Hq,r.mct=void 0,r.ZNt=void 0,r.KNt=void 0,r.KNt=i,r.ZNt=e,r.mct=n,r.hm(),r}E(n,t);var i=n.prototype;return i.hm=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ur.awrap(this.tDt());case 2:this.nDt(Lq.INITIALISED);case 3:case"end":return t.stop()}},null,this,null,Ge)},i.tDt=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ur.awrap(this.iDt());case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0);case 8:case"end":return t.stop()}},null,this,[[0,5]],Ge)},i.iDt=function(){var t,n,i,e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Ur.awrap(this.mct.$at());case 2:t=r.sent,n=0;case 4:if(!(n<t.length)){r.next=14;break}return i=t[n],e=this.KNt.eDt(i.id,i.sourceDescription,i.parameters,this.ZNt),this.rDt(e),r.next=10,Ur.awrap(e.sDt);case 10:this.Wc.Xm(e);case 11:n++,r.next=4;break;case 14:case"end":return r.stop()}},null,this,null,Ge)},i.nDt=function(t){this.JNt=t,this.Ks(new Oq)},i.eDt=function(t,n,i){void 0===i&&(i="persistent");var e=this.KNt.uDt(t,n,i);return this.oDt(e,i),this.Wc.Xm(e),this.rDt(e),e},i.oDt=function(t,n){return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Ur.awrap(this.aDt(t,n));case 3:i.next=8;break;case 5:throw i.prev=5,i.t0=i.catch(0),l("Unable to persist task - "+i.t0);case 8:case"end":return i.stop()}},null,this,[[0,5]],Ge)},i.aDt=function(t,n){return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Ur.awrap(this.mct.Wat({key:t.r_,id:t.r_,sourceDescription:t.ED,parameters:t.pc},n));case 2:case"end":return i.stop()}},null,this,null,Ge)},i.rDt=function(t){var n=this;t.tu("jNt",function(){t.od===Aq.EVICTED&&n.Wc.Kh(t)})},T(n,[{key:"od",get:function(){return this.JNt}},{key:"hDt",get:function(){return this.Wc}}]),n}(Su);function Vq(t){var n,i={get id(){return t.r_},get status(){return t.od},get source(){return t.ED},get parameters(){return t.pc},get duration(){return t.uy},get cached(){return t.cDt.oD()},get secondsCached(){return t.fDt},get percentageCached(){return t.lDt},get bytes(){return t.vDt},get bytesCached(){return t.dDt},get license(){return t.Bx.wg},start:function(){t.WD()},pause:function(){t.Jy()},remove:function(){t.Kh()},addEventListener:function(t,i){n.tu(t,i)},removeEventListener:function(t,i){n.au(t,i)}};return n=new UR(t,["wDt","jNt"],i),i}var zq=function(){function t(t,n,i){if(this.gDt=void 0,this._Dt=t,this.Hm=n,this.yDt=i,0===this.Hm.size)this.gDt=TS.RC();else{var e=new TS([-1/0,1/0]);this.Hm.forEach(function(t){e=e.rC(t.timeRanges)}),this.gDt=e}}return t.prototype.Sp=function(t){return!!T_(this.Hm,t.Hm)&&(!!Xt(this._Dt,t._Dt)&&(!!Xt(this.TC,t.TC)&&(!!Xt(this.mDt,t.mDt)&&this.pDt.yC(t.pDt))))},T(t,[{key:"TC",get:function(){return this.yDt}},{key:"kDt",get:function(){return this._Dt}},{key:"mDt",get:function(){return this.pDt.TC}},{key:"bDt",get:function(){var t=0,n=0;return this.Hm.forEach(function(i){t+=i.timeRanges.TC,n+=i.totalQualityDurationToCache}),0===n?0:g.min(1,t/n)}},{key:"pDt",get:function(){return this.gDt}}]),t}();zq.QUALITY_TIME_RANGES_NULL_OBJECT=Xr(),zq.CACHE_PROGRESSION_NULL_OBJECT=new zq(0,zq.QUALITY_TIME_RANGES_NULL_OBJECT,NaN),zq.ADt=zq.CACHE_PROGRESSION_NULL_OBJECT;var Wq=function(t){function n(){return t.call(this,"progress")||this}return E(n,t),n}(Iu),Gq=function(t){function n(){return t.call(this,"wDt")||this}return E(n,t),n.prototype.gg=function(){return new Wq},n}(o_);function qq(t,n){if(q(t)){if(bs(t,"%"))return y(t)/100*n;throw new l("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}var $q,Yq=function(t){function n(n,i){return t.call(this,n,i)||this}return E(n,t),T(n,[{key:"name",get:function(){return"TDt"}}]),n}(nn);function Qq(t,n,i){var e,r,s,u,o;return Ur.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.Emt;r<s.length;r++)u=s[r],e.push(Jq(u,n,i));return a.next=4,Ur.awrap(Ge.all(e));case 4:return o=a.sent,a.abrupt("return",{uy:t.Amt.syt(),SDt:[t.EDt],Emt:o});case 6:case"end":return a.stop()}},null,null,null,Ge)}function Jq(t,n,i){var e,r,s,u,o;return Ur.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.IDt;r<s.length;r++)u=s[r],e.push(Zq(u,n,i));return a.next=4,Ur.awrap(Ge.all(e));case 4:return o=a.sent,a.abrupt("return",{RDt:o});case 6:case"end":return a.stop()}},null,null,null,Ge)}function Zq(t,n,i){var e,r,s,u,o;return Ur.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.vmt;r<s.length;r++)Kq(u=s[r])||e.push(e$(u,n,i));return a.next=4,Ur.awrap(Ge.all(e));case 4:return o=a.sent,a.abrupt("return",{uT:o,gs:t.gs});case 6:case"end":return a.stop()}},null,null,null,Ge)}function Kq(t){return t.a1.every(i$)}!function(t){t[t.L_=0]="L_",t[t.M_=1]="M_"}($q||($q={}));var t$,n$=1;function i$(t){return t.Lyt!==n$&&Boolean(t.Lyt)}function e$(t,n,i){var e,r,s,u,o,a,h,c,f;return Ur.async(function(l){for(;;)switch(l.prev=l.next){case 0:for(e=[],r=0,s=t.a1;r<s.length;r++)i$(u=s[r])||e.push(s$(u,i));return l.next=4,Ur.awrap(Ge.all(e));case 4:return o=l.sent,a=t.iX[0],h=t.o1,c=h?r$(a,h):void 0,f=GB(t,n),l.abrupt("return",{h_:o,a_:t.yrt,gs:t.gs,WN:c,NDt:f});case 10:case"end":return l.stop()}},null,null,null,Ge)}function r$(t,n){for(var i=[],e=function(t){return t?bs(t,"avc")?jc.VIDEO_H264:bs(t,"hev")||bs(t,"hvc")||bs(t,"hvt")||bs(t,"lhv")||bs(t,"lhe")||bs(t,"lht")?jc.VIDEO_H265:bs(t,"mp4")?jc.VIDEO_MP4:bs(t,"mpeg2")?jc.VIDEO_MPEG2:bs(t,"mpeg")?jc.VIDEO_MPEG:jc.VIDEO_UNKNOWN:jc.VIDEO_UNKNOWN}(t),r=0;r<n.length;r++){var s=n[r],u=s.Z0.split(":").pop(),o=s.K0;i.push({mimeType:e,uuid:u,data:o})}return{type:$q.L_,schemeType:ts,schemeDatas:i}}function s$(t,n){var i,e,r,s;return Ur.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Ur.awrap(u$(t,n));case 2:r=u.sent,s={r_:a$(t),oE:r,QR:t.QR,dr:t.dr,bT:t.bT,gs:t.gs,xp:t.xp},u.t0=t.gs,u.next=u.t0===ym.Kn?7:u.t0===ym.xd?8:u.t0===ym.Od?10:12;break;case 7:return u.abrupt("break",13);case 8:return s.wZ=null!=(i=null==(e=t.wZ)?void 0:e.Lp())?i:NaN,u.abrupt("break",13);case 10:return s.audioSamplingRate=t.yZ,u.abrupt("break",13);case 12:0;case 13:return u.abrupt("return",s);case 14:case"end":return u.stop()}},null,null,null,Ge)}function u$(t,n){var i,e,r,s,u,o,a,h;return Ur.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=[],e=t.Iyt,t.ict&&i.push({op:0,uy:0,DDt:t.ict}),r=e.CDt(),s=r;case 5:if(!s){c.next=17;break}if(!t.PDt(s)){c.next=13;break}return c.next=9,Ur.awrap(t.ODt(s,n,(new au).$s));case 9:for(u=c.sent,o=0;o<u.$g;o++)i.push(o$(u.xDt(o),t));c.next=14;break;case 13:i.push(o$(s,t));case 14:s=e.BDt(s),c.next=5;break;case 17:return a=e.LDt(),h=a.ap-r.op,c.abrupt("return",{uy:h,j0:i});case 20:case"end":return c.stop()}},null,null,null,Ge)}function o$(t,n){return{op:t.op,uy:t.uy,DDt:n.MDt(t)}}function a$(t){return t.FDt.WD+"-"+(""+t.r_)}function h$(t,n){return function(t,n){var i=Vr();return t.forEach(function(t,e){var r=Xr();t.forEach(function(t,i){for(var s=[],u=0;u<t.length;u++){var o=c$(t[u],e,n);s.push(o)}r.set(i,s)}),i.set(e,r)}),i}(function(t){var n=function(t){for(var n=Xr(),i=0;i<t.length;i++){var e=t[i],r=n.get(e.GZ);r||(r={gs:e.gs,wT:[]},n.set(e.GZ,r)),r.wT.push(e)}return n}(t),i=Vr();return n.forEach(function(t){for(var n=0,e=t.wT;n<e.length;n++){var r=e[n],s=i.get(t.gs);s||(s=Xr(),i.set(t.gs,s));var u=s.get(r.gi);u||(u=[],s.set(r.gi,u)),u.push(r)}}),i}(t),n)}function c$(t,n,i){for(var e=t.GZ,r={vK:t,jK:[]},s=0;s<i.length;s++){var u=i[s];ZL(n,e,u)&&r.jK.push(u)}return r}function f$(t,n){var i;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ur.awrap(n.gct([t],{}));case 2:return i=e.sent,e.abrupt("return",NL(i.wd,{},i.vct));case 4:case"end":return e.stop()}},null,null,null,Ge)}function l$(t,n){return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!BB(t)){i.next=4;break}return i.abrupt("return",v$(t,n));case 4:return i.abrupt("return",(r=void 0,{uy:(r=b$(e=t)).uy,SDt:[e.YZ],Emt:[{RDt:[{gs:ym.md,uT:[{gs:ym.md,a_:AF,h_:[{r_:e.YZ,oE:r,QR:0,dr:"",bT:0,gs:ym.md,xp:0}]}]}]}]}));case 5:case"end":return i.stop()}var e,r},null,null,null,Ge)}function v$(t,n){var i,e,r;return Ur.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=h$(t.wT,t.e2),s.next=3,Ur.awrap(g$(i,n));case 3:return e=s.sent,s.next=6,Ur.awrap(w$(t.e2,n));case 6:return r=s.sent,e.push(r),s.abrupt("return",{uy:d$(e),SDt:[t.YZ],Emt:[{RDt:e}]});case 9:case"end":return s.stop()}},null,null,null,Ge)}function d$(t){for(var n=-1/0,i=0;i<t.length;i++)for(var e=0,r=t[i].uT;e<r.length;e++){var s=r[e];n=g.max.apply(g,[n].concat(s.h_.map(function(t){return t.oE.uy})))}return n}function w$(t,n){var i,e,r,s,u,o,a,h;return Ur.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=[],e=0;case 2:if(!(e<t.length)){c.next=15;break}return a=t[e],c.next=6,Ur.awrap(k$(a.YZ,n));case 6:(h=c.sent).QR=a.QR,h.dr=a.iX?[(f=a.iX).nX,f.tX,f.eX].filter(H).join(","):"",h.bT=null!=(r=null==(s=a.EK)?void 0:s.bT)?r:0,h.xp=null!=(u=null==(o=a.EK)?void 0:o.xp)?u:0,i.push(h);case 12:e++,c.next=2;break;case 15:return c.abrupt("return",{gs:ym.md,uT:[{a_:AF,gs:ym.md,h_:i}]});case 16:case"end":return c.stop()}var f},null,null,null,Ge)}function g$(t,n){var i,e,r,s,u,o,a;return Ur.async(function(h){for(;;)switch(h.prev=h.next){case 0:i=[],e=t.entries(),r=e.next();case 3:if(r.done){h.next=12;break}return s=r.value,u=s[0],o=s[1],h.next=7,Ur.awrap(_$(o,u,n));case 7:a=h.sent,i.push(a);case 9:r=e.next(),h.next=3;break;case 12:return h.abrupt("return",i);case 13:case"end":return h.stop()}},null,null,null,Ge)}function _$(t,n,i){var e,r,s,u,o,a;return Ur.async(function(h){for(;;)switch(h.prev=h.next){case 0:e=[],r=t.entries(),s=r.next();case 3:if(s.done){h.next=12;break}return u=s.value,o=u[1],h.next=7,Ur.awrap(y$(o,i));case 7:a=h.sent,e.push(a);case 9:s=r.next(),h.next=3;break;case 12:return h.abrupt("return",{gs:m$(n),uT:e});case 13:case"end":return h.stop()}},null,null,null,Ge)}function y$(t,n){var i,e,r,s,u;return Ur.async(function(o){for(;;)switch(o.prev=o.next){case 0:i=[],e=t[0].vK,r=0;case 3:if(!(r<t.length)){o.next=12;break}return s=t[r],o.next=7,Ur.awrap(p$(s,n));case 7:u=o.sent,i.push(u);case 9:r++,o.next=3;break;case 12:return o.abrupt("return",{a_:e.a_||AF,gs:m$(e.gs),h_:i});case 13:case"end":return o.stop()}},null,null,null,Ge)}function m$(t){switch(t){case NB.Od:return ym.Od;case NB.xd:return ym.xd;case NB.lA:case NB.f1:return ym.Kn;default:return ym.md}}function p$(t,n){var i,e,r;return k$((e=(i=t).vK.YZ,r=i.jK.map(function(t){return t.YZ}),e||(r.length?r[0]:void 0)),n)}function k$(t,n){var i,e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i={uy:0,j0:[]},!t){r.next=6;break}return r.next=4,Ur.awrap(f$(t,n));case 4:LB(e=r.sent)&&(i=b$(e));case 6:return r.abrupt("return",{r_:t||"default",UDt:t,oE:i,QR:0,dr:"",bT:0,gs:ym.md,xp:0});case 7:case"end":return r.stop()}},null,null,null,Ge)}function b$(t){for(var n,i=[],e=0,r=0,s=t.j0;r<s.length;r++){var u=s[r],o=e;!u.a2||void 0!==n&&UB(u.a2.YZ,n)||(i.push(A$(u.a2,o)),n=u.a2.YZ),i.push(T$(u,o)),e+=u.uy}return{uy:e,j0:i}}function A$(t,n){return{op:n,uy:0,DDt:S$(t.YZ)}}function T$(t,n){return{op:n,uy:t.uy,DDt:S$(t.YZ)}}function S$(t){return{_d:t.Ti,$ht:t.H0?[t.H0.WD,t.H0.WD+t.H0.$g]:void 0,jd:!1}}!function(t){t.jDt="HDt",t.XDt="VDt"}(t$||(t$={}));var E$=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).zDt=function(t){n.Ks(t)},n}return E(n,t),T(n,[{key:"WDt",get:function(){var t=this.GDt();return null==t?void 0:t.WD}},{key:"qDt",get:function(){var t=this.GDt();return null==t?void 0:t.qD}}]),n}(Su);function I$(t){return J(t.$Dt)}var R$=function(t){function n(n,i){var e;if((e=t.call(this)||this).YDt=void 0,e.dg=void 0,e.Q4=void 0,e.QDt=void 0,e.JDt=void 0,e.YDt=n,e.Q4=i,e.Q4.tu(t$.jDt,e.zDt),e.gs===ym.xd){var r,s,u=null!=(r=null==(s=e.wZ)?void 0:s.Lp())?r:NaN;e.QDt=new YX(e.r_,e.QR,e.dr,"","",u,e.xp,e.bT)}else e.gs===ym.Od?e.QDt=new QX(e.r_,e.QR,e.dr,"","",e.yZ):e.QDt=void 0;return e}E(n,t);var i=n.prototype;return i.MDt=function(t){var n=I$(t)?this.Q4.ZDt(t):this.Q4.MDt(t);return{_d:n._d,$ht:n.$ht,jd:this.KDt.jd}},i.tCt=function(){return this.Q4.tCt()},i.GDt=function(){return this.Q4.GDt()},i.nCt=function(){return this.Q4.nCt()},i.PDt=function(t){return this.Q4.PDt(t)},i.ODt=function(t,n,i){return this.Q4.ODt(t,this.KDt.jd,n,i)},i.iCt=function(t){return I$(t)?this.Iyt.eCt(t):this.Iyt.iCt(t)},i.rCt=function(t){return I$(t)?this.Iyt.sCt(t):this.Iyt.rCt(t)},i.Kc=function(){this.Q4.au(t$.jDt,this.zDt)},T(n,[{key:"uCt",get:function(){return this.YDt}},{key:"yZ",get:function(){var t;return null!=(t=this.Q4.Xi.yZ)?t:this.uCt.yZ}},{key:"QR",get:function(){return this.Q4.Xi.QR||0}},{key:"iX",get:function(){var t=this.Q4.Xi;return t.iX?[t.iX]:this.uCt.iX}},{key:"oCt",get:function(){var t=this.Q4.Xi;return t.iX?[t.iX]:[]}},{key:"dr",get:function(){return this.Q4.Xi.iX||this.uCt.dr}},{key:"xyt",get:function(){return this.Q4.Xi.xyt||this.uCt.xyt}},{key:"o1",get:function(){return this.Q4.Xi.o1||this.uCt.o1}},{key:"Gv",get:function(){return this.yx+'; codecs="'+this.dr+'"'}},{key:"Byt",get:function(){var t=this.Q4.Xi;return t.Byt.length?t.Byt:this.uCt.Byt}},{key:"wg",get:function(){return this.dg||(this.dg=(t=this,{get id(){return t.r_},get type(){return t.gs},get bandwidth(){return t.QR},get width(){return t.xp},get height(){return t.bT},get frameRate(){var n,i;return null!=(n=null==(i=t.wZ)?void 0:i.Lp())?n:NaN},get audioSamplingRate(){return t.yZ}}));var t}},{key:"wZ",get:function(){var t;return null!=(t=this.Q4.Xi.wZ)?t:this.uCt.wZ}},{key:"bT",get:function(){return this.Q4.Xi.bT||this.uCt.bT}},{key:"r_",get:function(){return this.Q4.Xi.r_||""}},{key:"aCt",get:function(){return this.JDt},set:function(t){this.JDt=t}},{key:"ict",get:function(){var t=this.Q4.hCt();if(t)return{_d:t._d,$ht:t.$ht,jd:this.KDt.jd}}},{key:"Lyt",get:function(){return this.Q4.Xi.Lyt||this.uCt.Lyt||1}},{key:"Myt",get:function(){return this.Q4.Xi.Myt||this.uCt.Myt}},{key:"KDt",get:function(){return this.FDt.KDt}},{key:"yx",get:function(){return this.Q4.Xi.yx||this.uCt.yx}},{key:"FDt",get:function(){return this.uCt.FDt}},{key:"Fyt",get:function(){return this.Q4.Xi.Fyt||this.uCt.Fyt}},{key:"eK",get:function(){return this.QDt}},{key:"Uyt",get:function(){return this.Q4.Xi.Uyt||this.uCt.Uyt}},{key:"jyt",get:function(){return this.Q4.Xi.jyt||this.uCt.jyt}},{key:"cCt",get:function(){return this.Q4.cCt}},{key:"Hyt",get:function(){return this.Q4.Xi.Hyt||this.uCt.Hyt}},{key:"Iyt",get:function(){return this.Q4.Iyt}},{key:"Xyt",get:function(){return this.Q4.Xi.Xyt||this.uCt.Xyt}},{key:"gs",get:function(){var t=this.yx.split("/")[0];return"application"===t||"text"===t||ib(this.yx,this.iX)?ym.Kn:"video"===t?ym.xd:"audio"===t?ym.Od:"image"===t?ym.Bd:ym.md}},{key:"xp",get:function(){return this.Q4.Xi.xp||this.uCt.xp}}]),n}(E$),N$=function(t){function n(n,i){var e;return(e=t.call(this)||this).fCt=[],e.Q4=void 0,e.lCt=void 0,e.vCt=[],e.lCt=n,e.Q4=i,e.Q4.tu(t$.jDt,e.zDt),e}E(n,t);var i=n.prototype;return i.tc=function(t,n){var i,e=this;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==this.vCt.length){r.next=6;break}return this.vCt=[],i=this.Q4.a1.map(function(i){return e.dCt(i,t,n)}),r.next=5,Ur.awrap(Ge.all(i));case 5:this.vCt=r.sent.filter(H);case 6:this.wCt();case 7:case"end":return r.stop()}},null,this,null,Ge)},i.dCt=function(t,n,i){var e,r;return Ur.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e=new R$(this,t),s.next=3,Ur.awrap(n(e));case 3:if(r=s.sent,fu(i),r){s.next=7;break}return s.abrupt("return",void 0);case 7:return s.abrupt("return",e);case 8:case"end":return s.stop()}},null,this,null,Ge)},i.wCt=function(){if(!this.vCt.length)throw new l("Detected an AdaptationSet without any supported Representations.")},i.GDt=function(){return this.Q4.GDt()},i.nCt=function(){return this.Q4.nCt()},i.Kc=function(){this.Q4.au(t$.jDt,this.zDt);for(var t=0,n=this.vCt;t<n.length;t++){n[t].Kc()}Zs(this.vCt)},T(n,[{key:"Qyt",get:function(){return this.Q4.Xi.Qyt}},{key:"yZ",get:function(){var t;return null!=(t=this.Q4.Xi.yZ)?t:-1}},{key:"iX",get:function(){if(this.Q4.Xi.iX)return[this.Q4.Xi.iX];for(var t=[],n=0,i=this.a1;n<i.length;n++){var e=i[n];e.oCt.length&&-1===t.indexOf(e.dr)&&t.push(e.dr)}return t}},{key:"dr",get:function(){return this.iX.join()}},{key:"xyt",get:function(){return this.Q4.Xi.xyt}},{key:"o1",get:function(){return this.Q4.Xi.o1}},{key:"Gv",get:function(){return this.yx+'; codecs="'+this.dr+'"'}},{key:"Byt",get:function(){return this.fCt}},{key:"wZ",get:function(){return this.Q4.Xi.wZ}},{key:"Jyt",get:function(){return this.Q4.Xi.Jyt}},{key:"bT",get:function(){return this.Q4.Xi.bT||0}},{key:"r_",get:function(){return this.Q4.Xi.r_}},{key:"o_",get:function(){return this.Q4.Xi.o_||""}},{key:"Lyt",get:function(){return this.Q4.Xi.Lyt}},{key:"Myt",get:function(){return this.Q4.Xi.Myt}},{key:"KDt",get:function(){return this.FDt.KDt}},{key:"yx",get:function(){return this.Q4.Xi.yx||this.vCt[0].yx}},{key:"FDt",get:function(){return this.lCt}},{key:"Fyt",get:function(){return this.Q4.Xi.Fyt}},{key:"a1",get:function(){return this.vCt}},{key:"omt",get:function(){return this.Q4.Xi.omt||[]}},{key:"Uyt",get:function(){return this.Q4.Xi.Uyt}},{key:"jyt",get:function(){return this.Q4.Xi.jyt}},{key:"Hyt",get:function(){return this.Q4.Xi.Hyt}},{key:"lD",get:function(){return this.Q4.Xi.lD}},{key:"Xyt",get:function(){return this.Q4.Xi.Xyt}},{key:"gs",get:function(){var t=(this.Q4.Xi.Gv||this.yx).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||ib(this.yx,this.iX)?ym.Kn:"video"===t?ym.xd:"audio"===t?ym.Od:"image"===t?ym.Bd:ym.md}},{key:"xp",get:function(){return this.Q4.Xi.xp||0}},{key:"yrt",get:function(){return this.Q4.Xi.a_||""}},{key:"gCt",get:function(){return this.WDt}},{key:"_Ct",get:function(){var t=this.gCt,n=this.qDt;if(void 0!==t&&void 0!==n){var i=g.min(n,this.KDt.yCt);return g.max(t,i)}}}]),n}(E$);function D$(t,n){for(var e=[],r=0;r<n.length;r++)for(var s=n[r],u=0;u<t.length;u++){var o=t[u];e.push(i.Mr(o,s))}return e}var C$=function(){function t(t,n){this.lCt=void 0,this.mCt=void 0,this._a=void 0,this.pCt=void 0,this.kCt=void 0,this.lCt=t,this.mCt=n,this._a=n.Lk,this.pCt=n.lyt,this.kCt=n.Ayt}var n=t.prototype;return n.bCt=function(t){var n=t-this.lCt.WD;if(!(n<0||n>=this.lCt.uy)){var i=this.ACt();return void 0!==i&&Ut(i,n,1e-5)?this.CDt():this.TCt(n)}},n.SCt=function(t){var n=t-this.lCt.WD;if(!(n<0))return this.ECt(g.min(n,this.lCt.uy))},n.CDt=function(){return this.ICt(0)},n.LDt=function(){var t=this.lCt.uy;if(isFinite(t))return this.ECt(t)},n.tCt=function(t){if(this.lCt.RCt.gs===yz.UE){var n=this.NCt(t);if(!n)return;return{DCt:t,CCt:this.PCt(t),OCt:n}}var i=this.CDt();if(i)return{DCt:t,CCt:i,OCt:this.LDt()}},n.nCt=function(t,n){if(n){var i=this.xCt(n.CCt),e=this.BDt(n.OCt);if(e){var r=this.BCt(e);(!i||r.getTime()<i.getTime())&&(i=r)}return i}var s=this.CDt();if(s){var u=this.BCt(s);if(t.getTime()<u.getTime())return u}var o=this.lCt.RCt.ymt;return t.getTime()<o.getTime()?o:void 0},n.NCt=function(t){var n=(t.getTime()-this.lCt.RCt.ymt.getTime())/1e3-this.lCt.WD+this.pCt,i=this.ECt(Ft(n,0,this.lCt.uy));if(i&&(i=this.LCt(i,t))){for(var e=this.BDt(i);e&&this.MCt(e,t);)i=e,e=this.BDt(i);return i}},n.PCt=function(t){var n,i=this.mCt.Syt;if(i){var e=(t.getTime()-this.lCt.RCt.ymt.getTime())/1e3-this.lCt.WD-i.syt();(n=this.ECt(Ft(e,0,this.lCt.uy)))||(n=this.CDt())}else n=this.CDt();if(n&&(n=this.LCt(n,t))){for(var r=this.FCt(n);r&&this.MCt(r,t);)n=r,r=this.FCt(n);return n}},n.LCt=function(t,n){for(var i=t;i&&this.BCt(i).getTime()>n.getTime();)i=this.FCt(i);if(i){var e=this.xCt(i);if(e&&e.getTime()<=n.getTime()){var r=this.FCt(i);for(r&&this.MCt(r,n)&&(i=r);i;){if(this.BCt(i).getTime()>n.getTime())return;if(this.MCt(i,n))break;i=this.BDt(i)}if(!i)return}return i}},n.MCt=function(t,n){if(this.BCt(t).getTime()>n.getTime())return!1;var i=this.xCt(t);return!(i&&n.getTime()>=i.getTime())},n.UCt=function(t,n){if(this.jCt(t).getTime()>n.getTime())return!1;var i=this.xCt(t);return!(i&&n.getTime()>=i.getTime())},n.HCt=function(t,n,i){var e=Qt(n,this._a)+this.lCt.WD;return{wyt:t,XCt:n,op:e,uy:i,ap:e+i}},n.jCt=function(t){return this.lCt.RCt.gs===yz.UE?new Date(this.lCt.RCt.ymt.getTime()+1e3*(t.op+t.uy)):this.lCt.RCt.ymt},n.BCt=function(t){var n=this.jCt(t);return this.lCt.RCt.gs===yz.UE?new Date(n.getTime()-1e3*this.pCt):n},n.xCt=function(t){var n=1/0;if(this.lCt.RCt.gs===yz.UE){var i=this.mCt.Syt;i&&(n=this.jCt(t).getTime()+1e3*t.uy+i.uyt())}var e=this.lCt.RCt._mt;return e&&(n=g.min(n,e.getTime())),n===1/0?void 0:new Date(n)},n.VCt=function(t,n){return t.wyt+n},n.PDt=function(t){return!1},n.ODt=function(t,n,i,e,r){var s=this.zCt(t);if(!s)return Ge.reject(new l("Invalid segment"));var u=this.WCt(s.wyt);return u?Ge.resolve(u):this.GCt(s.wyt,n,i,e,r)},n.WCt=function(t){},n.GCt=function(t,n,i,e,r){return Ge.reject(new l("Not supported"))},n.FCt=function(t){var n=this.zCt(t);if(n)return this.ICt(n.wyt-1)},n.BDt=function(t){var n=this.zCt(t);if(n)return this.ICt(n.wyt+1)},n.zCt=function(t){var n=this.ICt(t.wyt);if(n&&n.op===t.op)return n;var i=this.bCt(t.op);return i&&i.op===t.op?i:void 0},n.qCt=function(t){var n=this.$Ct(t);if(n&&this.PDt(n.wyt)){var i=this.WCt(n.wyt);if(i)return i.qCt(t)}},n.$Ct=function(t){return this.ICt(t.YCt)},n.iCt=function(t){var n=this.zCt(t);return!!n&&0===n.wyt},n.eCt=function(t){var n=this.qCt(t);return!!n&&0===n.$Dt},n.rCt=function(t){var n=this.zCt(t);if(!n)return!1;var i=this.LDt();return!!i&&n.wyt===i.wyt},n.sCt=function(t){var n=this.qCt(t);if(!n)return!1;var i=this.LDt();if(!i||n.YCt!==i.wyt)return!1;var e=this.WCt(n.YCt);return n.$Dt+1===e.$g},T(t,[{key:"mb",get:function(){return this.lCt.WD-Qt(this.kCt,this._a)}},{key:"Ayt",get:function(){return Qt(this.kCt,this._a)}}]),t}(),P$=function(t){function n(n,i){var e;(e=t.call(this,i,n)||this).QCt=void 0,e.JCt=void 0;var r=n.ZCt,s=n.uy;if(void 0===r||void 0===s)throw new l("MultipleSegmentBase does not have a segment duration specified.");return e.JCt=r,e.QCt=s,e}E(n,t);var i=n.prototype;return i.ICt=function(t){if(!(t<0)){var n=this.JCt.multiply(t),i=Qt(n,this._a),e=this.lCt.uy;if(!(i>=e)){var r=this.KCt();if(void 0!==r){if(t>r)return;if(t===r)return this.HCt(t,n,e-i)}return isFinite(e)&&i+this.QCt>e?this.HCt(t,n,e-i):this.HCt(t,n,this.QCt)}}},i.ACt=function(){return 0},i.TCt=function(t){var n=g.floor(t/this.QCt),i=this.KCt();return void 0!==i&&n>=i?this.ICt(i):this.ICt(n)},i.ECt=function(t){if(t>=this.lCt.uy){var n=g.ceil(this.lCt.uy/this.QCt)-1,i=this.KCt();return void 0!==i&&n>=i?this.ICt(i):this.ICt(n)}return this.TCt(t)},i.KCt=function(){var t,n=this.mCt.Nyt;if(void 0!==n)return n-(null!=(t=this.mCt.Ryt)?t:1);if(isFinite(this.lCt.uy)){var i=this.mCt.tPt;if(void 0!==i&&i>0)return i-1}},i.nPt=function(){if(isFinite(this.lCt.uy))return this.LDt()},i.iPt=function(t,n){return this.JCt.multiply(t.wyt+(n-1))},i.tc=function(){},n}(C$);function O$(t,n){var i=t.length;if(0===i)return-1;for(var e=0,r=i-1,s=t[e].op,u=t[r].ap;e<=r&&s.lessThanOrEqual(n)&&n.lessThan(u);){var o=e+g.floor(n.subtract(s).toNumber()/u.subtract(s).toNumber()*(r-e)),a=t[o],h=a.op,c=o+1<i?t[o+1].op:a.ap;if(c.lessThanOrEqual(n))e=o+1,s=c;else{if(!n.lessThan(h))return o;r=o-1,u=h}}return-1}var x$=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).D3=[],e.ePt=void 0,e.lrt=lt.ZERO,e.tc(),e}E(n,t);var i=n.prototype;return i.ICt=function(t){if(!(t<0))return t<this.D3.length?this.D3[t].R8:this.rPt(t-this.D3.length)},i.ACt=function(){if(this.D3.length>0)return Qt(this.D3[0].op,this._a)},i.TCt=function(t){if(this.ePt&&Qt(this.ePt.op,this._a)<=t){var n=Qt(this.ePt.op,this._a),i=Qt(this.ePt.uy,this._a),e=g.floor((t-n)/i);return this.rPt(e)}if(this.D3.length>0&&Ut(t,Qt(this.D3[0].op,this._a),1e-5))return this.D3[0].R8;var r=O$(this.D3,lt.fromNumber(t*this._a));return r<0?void 0:this.D3[r].R8},i.ECt=function(t){if(!this.ePt&&this.D3.length>0){var n=this.D3[this.D3.length-1];if(i=t,e=Qt(n.ap,this._a),zs(i,e,1e-5)>=0)return n.R8}var i,e,r=this.ACt();return r&&t<r?this.D3[0].R8:this.TCt(t)},i.nPt=function(){return isFinite(this.lCt.uy)?this.LDt():this.ICt(this.D3.length-1)},i.iPt=function(t){return this.sPt(t)},i.rPt=function(t){if(this.ePt){var n=this.ePt.op,i=this.ePt.uy,e=n.add(i.multiply(t)),r=Qt(e,this._a),s=this.lCt.uy;if(!(r>=s)){var u=this.D3.length+t,o=g.min(Qt(i,this._a),r+s);return this.HCt(u,e,o)}}},i.sPt=function(t){return t.XCt.add(this.kCt)},i.tc=function(){var t=this.mCt.Xi.Iyt;if(!t)throw new l("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.W3(t)},i.W3=function(t){var n=this.kCt;this.uPt(t,n);var i=this.oPt(t);this.aPt(t,n,i.hPt,i.YCt)},i.uPt=function(t,n){var i=this.D3;if(0===t.length)Zs(i);else{for(var e=t[0],r=e.op?lt.fromString(e.op,!1).subtract(n):lt.ZERO,s=0;s<i.length&&i[s].op.lessThan(r);)s++;s>0&&i.splice(0,s)}},i.oPt=function(t){for(var n=this.D3,i=this.lrt,e=0,r=0;e<t.length&&r<n.length;){var s=t[e].dyt||0;if(s<0)break;var u=r+s;if(u>=n.length)break;if(n[u].op.greaterThanOrEqual(i))break;if(n[r].R8.wyt===r)r=u+1;else for(;r<=u;)n[r].R8.wyt=r,r++;0,e++}return{hPt:e,YCt:r}},i.aPt=function(t,n,i,e){for(var r,s=this.D3,u=i,o=e;u<t.length;){var a=t[u],h=lt.fromString(a.uy,!1),c=a.dyt||0,f=void 0;if(a.op){if(f=lt.fromString(a.op,!1).subtract(n),o>0){var l=s[o-1];l.ap.greaterThan(f)&&(l.uy=f.subtract(l.op),l.ap=l.op.add(l.uy))}}else f=o>0?s[o-1].ap:lt.ZERO;if(c<0){if(u+1===t.length){r={op:f,uy:h};break}for(var v=lt.fromString(t[u+1].op,!1).subtract(n);f.lessThan(v);){var d=f.add(h);this.cPt(s,o,f,h,d),f=d,o++}}else for(var w=o+c;o<=w;){var g=f.add(h);this.cPt(s,o,f,h,g),f=g,o++}u++}o<s.length&&s.splice(o),s.length>0&&(this.lrt=s[s.length-1].op),this.ePt=r},i.cPt=function(t,n,i,e,r){if(n<t.length){var s=t[n];0,s.uy.equals(e)?s.R8.wyt=n:t[n]={op:i,uy:e,ap:r,R8:this.HCt(n,i,Qt(e,this._a))}}else t.push({op:i,uy:e,ap:r,R8:this.HCt(n,i,Qt(e,this._a))})},n}(C$),B$=function(){function t(t,n,i){this.FDt=void 0,this.fPt=void 0,this.Gi=void 0,this.lPt=void 0,this.vPt=void 0,this.FDt=t,this.fPt=n,this.Gi=i}var n=t.prototype;return n.dPt=function(){if(this.vPt=this.wPt(),this.vPt)return this.vPt;if(this.fPt)return this.fPt.Iyt;throw new l("Missing media segment information.")},n.hCt=function(t){var n=this.byt;if(n)return{_d:(void 0!==n.vyt?i.Mr(n.vyt,t.Vyt[0]):t.Vyt[0]).href,$ht:n.$ht};var e=this.gyt;return e?{_d:t.Vyt[0].href,$ht:[0,e[0]-1]}:void 0},n.tc=function(t){this.Gi=t,this.vPt&&this.vPt.tc()},T(t,[{key:"Xi",get:function(){return this.Gi}},{key:"lyt",get:function(){return this.Gi&&void 0!==this.Gi.lyt?this.Gi.lyt:this.fPt?this.fPt.lyt:0}},{key:"Ayt",get:function(){return this.Gi&&void 0!==this.Gi.Ayt?this.Gi.Ayt:this.fPt?this.fPt.Ayt:lt.ZERO}},{key:"Syt",get:function(){return this.Gi&&void 0!==this.Gi.Syt?this.Gi.Syt:this.fPt?this.fPt.Syt:this.FDt.RCt.Syt}},{key:"Lk",get:function(){return this.Gi&&void 0!==this.Gi.Lk?this.Gi.Lk:this.fPt&&this.fPt.Lk?this.fPt.Lk:1}},{key:"gyt",get:function(){return this.Gi&&void 0!==this.Gi.gyt?this.Gi.gyt:this.fPt?this.fPt.gyt:void 0}},{key:"byt",get:function(){return this.Gi&&void 0!==this.Gi.byt?this.Gi.byt:this.fPt?this.fPt.byt:void 0}},{key:"Iyt",get:function(){return this.lPt||(this.lPt=this.dPt()),this.lPt}}]),t}(),L$=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.wPt=function(){return this.Gi.Iyt?new x$(this,this.FDt):void 0!==this.Gi.uy?new P$(this,this.FDt):void 0},T(n,[{key:"uy",get:function(){return void 0!==this.Gi.uy?this.Gi.uy/this.Lk:this.fPt&&this.fPt instanceof n?this.fPt.uy:void 0}},{key:"ZCt",get:function(){return void 0!==this.Gi.uy?lt.fromNumber(this.Gi.uy):this.fPt&&this.fPt instanceof n?this.fPt.ZCt:void 0}},{key:"Ryt",get:function(){return void 0!==this.Gi.Ryt?this.Gi.Ryt:this.fPt&&this.fPt instanceof n?this.fPt.Ryt:void 0}},{key:"Nyt",get:function(){return void 0!==this.Gi.Nyt?this.Gi.Nyt:this.fPt&&this.fPt instanceof n?this.fPt.Nyt:void 0}}]),n}(B$),M$=function(){function t(t){this.gPt=void 0,this.gPt=t}return t.prototype.Yu=function(t){return this.gPt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,function(n,i,e,r){if("$$"===n)return"$";var s=t[i];if(void 0===s)return n;if(void 0===e)return s.toString();var u=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(s,r);return void 0===u?n:u=Is(u,Number(e),"0")})},t}();var F$=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this)._Pt=void 0,r.yPt=void 0,r._Pt=e.Pyt?new M$(e.Pyt):void 0,r.yPt=e.Oyt?new M$(e.Oyt):void 0,r}E(n,t);var e=n.prototype;return e.hCt=function(n){var e=this.Pyt;if(!e)return t.prototype.hCt.call(this,n);var r=e.Yu({Bandwidth:n.Xi.QR,RepresentationID:n.Xi.r_});return{_d:i.Fr(r,n.Vyt[0])}},e.MDt=function(t,n){var e,r=null!=(e=n.cCt.Ryt)?e:1,s=this.Oyt.Yu({Bandwidth:n.Xi.QR,Number:n.Iyt.VCt(t,r),RepresentationID:n.Xi.r_,Time:n.Iyt.iPt(t,r)});return{_d:i.Fr(s,n.Vyt[0])}},e.ZDt=function(t,n){},T(n,[{key:"Pyt",get:function(){return this._Pt?this._Pt:this.fPt&&this.fPt instanceof n?this.fPt.Pyt:void 0}},{key:"Oyt",get:function(){return this.yPt?this.yPt:this.fPt&&this.fPt instanceof n?this.fPt.Oyt:void 0}},{key:"tPt",get:function(){}}]),n}(L$),U$=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var e=n.prototype;return e.MDt=function(t,n){var e=this.Gi.yyt[t.wyt],r=n.Vyt[0];return{_d:(e.wT?i.Mr(e.wT,r):r).href,$ht:e._yt}},e.ZDt=function(t,n){},T(n,[{key:"tPt",get:function(){return void 0!==this.Gi.yyt?this.Gi.yyt.length:this.fPt&&this.fPt instanceof L$?this.fPt.tPt:void 0}}]),n}(L$),j$=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).YCt=void 0,u.j6=void 0,u.Lk=void 0,u.mPt=void 0,u.Ayt=void 0,u.pPt=void 0,u.YCt=n,u.j6=i,u.Lk=e.Lk,u.mPt=r,u.Ayt=s,u.pPt=u.kPt(e),u}E(n,t);var i=n.prototype;return i.xDt=function(t){if(t>=0&&t<this.$g)return this.bPt(this.pPt[t])},i.APt=function(t){var n=this.TPt(t);if(this.pPt.length>0){var i=this.pPt[0];if(n<=Qt(i.op,this.Lk))return this.bPt(i)}var e=O$(this.pPt,lt.fromNumber(n*this.Lk));if(!(e<0))return this.bPt(this.pPt[e])},i.SPt=function(t){var n=this.TPt(t);if(this.pPt.length>0){var i=this.pPt[this.pPt.length-1];if(n>=Qt(i.ap,this.Lk))return this.bPt(i)}return this.APt(t)},i.bPt=function(t){var n=Qt(t.op,this.Lk)-this.Ayt,i=n+this.mPt,e=Qt(t.uy,this.Lk);return{YCt:this.YCt,$Dt:t.wyt,op:i,XCt:lt.fromNumber(n*this.Lk),uy:e,ap:i+e,H0:[this.j6+t.j6,this.j6+t.H6]}},i.kPt=function(t){for(var n=[],i=t.rE,e=t.sE.toNumber(),r=0,s=0,u=t.oE;s<u.length;s++){var o=u[s],a=o.KS,h=lt.fromNumber(o.uy),c=i.add(h);0===o.ZS&&n.push({wyt:r++,op:i,uy:h,ap:c,j6:e,H6:e+a-1}),e+=a,i=c}return n},i.TPt=function(t){return t-this.mPt+this.Ayt},T(n,[{key:"$g",get:function(){return this.pPt.length}}]),n}(function(){function t(){}return t.prototype.qCt=function(t){var n=this.xDt(t.$Dt);if(n&&n.op===t.op)return n;var i=this.APt(t.op);return i&&i.op===t.op?i:void 0},t}()),H$=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).EPt=void 0,e.IPt=void 0,e.RPt=void 0,e.EPt=n.gyt,e.IPt=e.HCt(0,lt.ZERO,e.lCt.uy),e}E(n,t);var i=n.prototype;return i.ICt=function(t){if(0===t)return this.IPt},i.ACt=function(){return 0},i.TCt=function(t){return this.IPt},i.ECt=function(t){return this.TCt(t)},i.nPt=function(){return this.IPt},i.iPt=function(t,n){return lt.ZERO},i.tCt=function(t){var n=this.NPt(t);return n&&{DCt:t,CCt:n,OCt:n}},i.NPt=function(t){var n=this.IPt;return this.MCt(n,t)?n:void 0},i.NCt=function(t){return this.NPt(t)},i.PCt=function(t){return this.NPt(t)},i.tc=function(){},i.PDt=function(t){return 0===t&&void 0!==this.EPt},i.WCt=function(t){return this.RPt},i.GCt=function(t,n,i,e,r){var s,u,o;return Ur.async(function(a){for(;;)switch(a.prev=a.next){case 0:return s=n.Vyt[0].href,u=this.EPt,a.next=4,Ur.awrap(e.DPt(s,u,i,r));case 4:return o=a.sent,this.RPt=this.CPt(t,o),a.abrupt("return",this.RPt);case 7:case"end":return a.stop()}},null,this,null,Ge)},i.CPt=function(t,n){var i=this.EPt,e=wk.BA(new DataView(n),new Ko);if(e.gs!==Sp.oA)throw new l("Invalid segment index");var r=pk.nT(e.Xi),s=i[1]+1;return new j$(t,s,r,this.lCt.WD,Qt(this.kCt,this._a))},n}(C$),X$=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.MDt=function(t,n){return{_d:n.Vyt[0].href}},i.ZDt=function(t,n){return{_d:n.Vyt[0].href,$ht:t.H0}},i.wPt=function(){return new H$(this,this.FDt)},T(n,[{key:"Ryt",get:function(){}}]),n}(B$),V$=function(t){function n(){return t.call(this,t$.jDt)||this}return E(n,t),n}(Iu);var z$=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Hw=void 0,r.Gi=void 0,r.PPt=void 0,r.mCt=void 0,r.OPt=1/0,r.xPt=void 0,r.Hw=i,r.BPt(n,e),r}E(n,t);var i=n.prototype;return i.LPt=function(){return this.mCt||this.Hw&&this.Hw.LPt()},i.MPt=function(t){var n=this.FDt,i=this.Hw&&this.Hw.LPt();this.Gi.Yyt?this.mCt=new F$(n,i,this.Gi.Yyt):this.Gi.$yt?this.mCt=new U$(n,i,this.Gi.$yt[0]):this.Gi.qyt?this.mCt=new X$(n,i,this.Gi.qyt):t&&!i&&(this.mCt=new X$(n,i,void 0))},i.BPt=function(t,n){this.Gi=t,this.PPt=t.Vyt&&t.Vyt.length>0?D$(t.Vyt.map(function(t){return t._d}),n):n.slice(),this.mCt&&(t.Yyt?this.mCt.tc(t.Yyt):t.$yt?this.mCt.tc(t.$yt[0]):t.qyt&&this.mCt.tc(t.qyt))},i.GDt=function(){var t;return null==(t=this.xPt)?void 0:t.FPt},i.nCt=function(){var t;return null==(t=this.xPt)?void 0:t.UPt},i.jPt=function(t){var n=this.OPt,i=this.FDt.uy,e=this.xPt,r=this.HPt(t);e&&Ut(i,n,1e-5)&&$$(e,r)||(this.OPt=i,this.xPt=r,this.Ks(new V$))},i.Us=function(){this.ou()},T(n,[{key:"Xi",get:function(){return this.Gi}},{key:"Vyt",get:function(){return this.PPt}}]),n}(Su);function W$(t){for(var n,i=0;i<t.length;i++){var e=t[i].GDt();if(e){n=e.WD;break}}if(void 0!==n){for(var r,s=t.length-1;s>=0;s--){var u=t[s].GDt();if(u){r=u.qD;break}}if(void 0!==r)return{WD:n,qD:r}}}function G$(t){if(0!==t.length){for(var n=0,i=1/0,e=0;e<t.length;e++){var r=t[e].GDt();if(!r)return;if((n=g.max(n,r.WD))>=(i=g.min(i,r.qD)))return}return{WD:n,qD:i}}}function q$(t){for(var n,i=0;i<t.length;i++){var e=t[i].nCt();e&&(!n||e.getTime()<n.getTime())&&(n=e)}return n}function $$(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.UPt,n.UPt)&&function(t,n){return t&&n?Ut(t.WD,n.WD,1e-5)&&Ut(t.qD,n.qD,1e-5):t===n}(t.FPt,n.FPt)}var Y$=function(t){function n(n,i,e){var r;(r=t.call(this)||this).lCt=void 0,r.Fh=void 0,r.XPt=void 0,r.lCt=n,r.Fh=i,r.XPt=e.slice();for(var s=0;s<e.length;s++){e[s].tu(t$.jDt,r.zDt)}return r}E(n,t);var i=n.prototype;return i.GDt=function(){return G$(this.XPt)},i.nCt=function(){for(var t,n=0,i=this.XPt;n<i.length;n++){var e=i[n].nCt();e&&(!t||e.getTime()<t.getTime())&&(t=e)}return t},i.Kc=function(){this.ou();for(var t=0,n=this.XPt;t<n.length;t++){n[t].au(t$.jDt,this.zDt)}},T(n,[{key:"vmt",get:function(){return this.XPt}},{key:"iX",get:function(){return this.vmt.reduce(function(t,n){for(var i=0,e=n.iX;i<e.length;i++){var r=e[i];Js(t,r)||t.push(r)}return t},[])}},{key:"dr",get:function(){return this.iX.length>0?this.iX[0]:""}},{key:"gs",get:function(){return this.XPt[0].gs}},{key:"r_",get:function(){return this.Fh}},{key:"KDt",get:function(){return this.lCt.KDt}},{key:"yx",get:function(){return this.XPt[0].yx}},{key:"FDt",get:function(){return this.lCt}},{key:"a1",get:function(){return tu(this.vmt,function(t){return t.a1})}}]),n}(E$),Q$=function(t){function n(){return t.call(this,t$.XDt)||this}return E(n,t),n}(Iu);function J$(t){for(var n=[],i=function(i){var e=t[i],r=void 0,s=e.Jyt;void 0===s||(r=Gs(n,function(t){return t.r_===s})),r||(r={r_:s,vmt:[]},n.push(r)),r.vmt.push(e)},e=0;e<t.length;e++)i(e);return n}var Z$,K$=function(t){function n(n,i){var e;return(e=t.call(this)||this).Q4=void 0,e.XPt=[],e.VPt=[],e.zPt=void 0,e.WPt=!1,e.zPt=n,e.Q4=i,e.Q4.tu(t$.jDt,e.zDt),e}E(n,t);var i=n.prototype;return i.GPt=function(t,n){if(0!==this.VPt.length){for(var i=t,e=0,r=this.VPt;e<r.length;e++){var s=r[e],u=s.gs;if(u===ym.Od||u===ym.xd){var o=s.qDt;if(void 0===o)return;i=n(i,o)}}return i}},i.qPt=function(){this.WPt||(this.WPt=!0,this.Ks(new Q$),this.Kc())},i.tc=function(t,n){return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==this.XPt.length){i.next=7;break}return i.next=3,Ur.awrap(this.$Pt(this.Q4.vmt,t,n));case 3:this.YPt(this.XPt),fu(n),i.next=9;break;case 7:return i.next=9,Ur.awrap(this.QPt(t,n));case 9:case"end":return i.stop()}},null,this,null,Ge)},i.$Pt=function(t,n,i){var e,r,s;return Ur.async(function(u){for(;;)switch(u.prev=u.next){case 0:e=0;case 1:if(!(e<t.length)){u.next=17;break}return r=t[e],s=new N$(this,r),u.prev=4,u.next=7,Ur.awrap(s.tc(n,i));case 7:this.XPt.push(s),u.next=14;break;case 10:u.prev=10,u.t0=u.catch(4),lu(u.t0);case 14:e++,u.next=1;break;case 17:case"end":return u.stop()}},null,this,[[4,10]],Ge)},i.YPt=function(t){for(var n=J$(t),i=0;i<n.length;i++){var e=n[i],r=new Y$(this,e.r_,e.vmt);this.VPt.push(r)}},i.QPt=function(t,n){var i,e,r;return Ur.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.XPt;case 1:if(!(i<e.length)){s.next=8;break}return r=e[i],s.next=5,Ur.awrap(r.tc(t,n));case 5:i++,s.next=1;break;case 8:case"end":return s.stop()}},null,this,null,Ge)},i.GDt=function(){return this.Q4.GDt()},i.nCt=function(){return this.Q4.nCt()},i.Kc=function(){this.ou(),this.Q4.au(t$.jDt,this.zDt);for(var t=0,n=this.VPt;t<n.length;t++){n[t].Kc()}for(var i=0,e=this.XPt;i<e.length;i++){e[i].Kc()}Zs(this.XPt),Zs(this.VPt)},T(n,[{key:"vmt",get:function(){return this.XPt}},{key:"IDt",get:function(){return this.VPt}},{key:"dmt",get:function(){return this.Q4.Xi.dmt}},{key:"uy",get:function(){return this.Q4.uy}},{key:"qD",get:function(){return this.WD+this.uy}},{key:"wmt",get:function(){return this.Q4.Xi.wmt||[]}},{key:"r_",get:function(){return this.Q4.r_}},{key:"VDt",get:function(){return this.WPt}},{key:"KDt",get:function(){return this.zPt}},{key:"JPt",get:function(){return this.zPt.ZPt(this)}},{key:"FDt",get:function(){return this}},{key:"KPt",get:function(){return this.zPt.tOt(this)}},{key:"nOt",get:function(){return this.GPt(1/0,g.min)}},{key:"iOt",get:function(){return this.GPt(0,g.max)}},{key:"WD",get:function(){return this.Q4.WD}},{key:"jd",get:function(){return this.KDt.jd}}]),n}(E$),tY=function(t){function n(){return t.call(this,Bf.Mf)||this}return E(n,t),n}(Iu);!function(t){t.eOt="rOt"}(Z$||(Z$={}));var nY=function(t){function n(){return t.call(this,Z$.eOt)||this}return E(n,t),n}(Iu),iY=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.Vyt)||this).YDt=void 0,e.sOt=void 0,e.YDt=i,e.MPt(!0),e}E(n,t);var i=n.prototype;return i.PDt=function(t){return!!Hc(this.yx)&&this.Iyt.PDt(t.wyt)},i.ODt=function(t,n,i,e){return this.Iyt.ODt(t,this,n,i,e)},i.hCt=function(){return this.cCt.hCt(this)},i.MDt=function(t){return this.cCt.MDt(t,this)},i.ZDt=function(t){return this.cCt.ZDt(t,this)},i.tCt=function(){return this.sOt},i.HPt=function(t){var n=this.Iyt,i=n.tCt(t),e=i&&function(t,n){var i,e=t.CCt,r=t.OCt,s=t.DCt,u=e.op,o=n.jCt(r);if(o.getTime()<=s.getTime())i=r.ap;else{var a=(o.getTime()-s.getTime())/1e3,h=g.max(r.uy-a,0);i=r.op+h}return{WD:u,qD:i}}(i,n),r=this.Iyt.nCt(t,i);return this.sOt=i,{DCt:t,FPt:e,UPt:r}},i.tc=function(t){this.BPt(t,this.YDt.Vyt)},T(n,[{key:"uCt",get:function(){return this.YDt}},{key:"FDt",get:function(){return this.YDt.FDt}},{key:"RCt",get:function(){return this.YDt.RCt}},{key:"yx",get:function(){return this.Gi.yx||this.YDt.yx}},{key:"cCt",get:function(){return this.LPt()}},{key:"Iyt",get:function(){return this.cCt.Iyt}}]),n}(z$),eY=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.Vyt)||this).lCt=void 0,e.vCt=void 0,e.lCt=i,e.MPt(!1),e.vCt=n.a1.map(function(t){return new iY(t,Kt(e))}),e}E(n,t);var i=n.prototype;return i.tc=function(t){this.BPt(t,this.lCt.Vyt);var n=t.a1||[];if(this.vCt.length!==n.length)throw new l("Expected "+this.vCt.length+' representations in adaptation set "'+t.r_+'", found '+n.length);for(var i=0;i<n.length;i++)this.vCt[i].tc(n[i])},i.jPt=function(n){for(var i=0,e=this.vCt;i<e.length;i++){e[i].jPt(n)}t.prototype.jPt.call(this,n)},i.HPt=function(t){return{DCt:t,FPt:G$(this.vCt),UPt:q$(this.vCt)}},i.Us=function(){for(var n=0,i=this.vCt;n<i.length;n++){i[n].Us()}t.prototype.Us.call(this)},T(n,[{key:"a1",get:function(){return this.vCt}},{key:"FDt",get:function(){return this.lCt}},{key:"RCt",get:function(){return this.lCt.RCt}},{key:"Jyt",get:function(){return this.Gi.Jyt}},{key:"yx",get:function(){var t;return this.Gi.yx||(null==(t=this.vCt[0])?void 0:t.Xi.yx)||""}}]),n}(z$),rY=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i,void 0,n.Vyt)||this).uOt=void 0,s.vE=void 0,s.ya=void 0,s.XPt=void 0,s.VPt=[],s.uOt=n,s.vE=e,s.ya=r,s.MPt(!1),s.XPt=(i.vmt||[]).map(function(t){return new eY(t,Kt(s))}),s.VPt=J$(s.XPt),s}E(n,t);var i=n.prototype;return i.tc=function(t,n){this.BPt(t,this.uOt.Vyt),this.ya=n;var i=t.vmt||[];if(this.XPt.length!==i.length)throw new l("Expected "+this.XPt.length+' adaptation sets in period "'+t.r_+'", found '+i.length);for(var e=0;e<i.length;e++)this.XPt[e].tc(i[e])},i.jPt=function(n){for(var i=0,e=this.XPt;i<e.length;i++){e[i].jPt(n)}t.prototype.jPt.call(this,n)},i.HPt=function(t){return{DCt:t,FPt:G$(this.XPt),UPt:q$(this.XPt)}},i.Us=function(){for(var n=0,i=this.XPt;n<i.length;n++){i[n].Us()}t.prototype.Us.call(this)},T(n,[{key:"vmt",get:function(){return this.XPt}},{key:"IDt",get:function(){return this.VPt}},{key:"FDt",get:function(){return this}},{key:"RCt",get:function(){return this.uOt}},{key:"r_",get:function(){return this.Gi.r_}},{key:"WD",get:function(){return this.vE}},{key:"uy",get:function(){return this.ya}}]),n}(z$),sY=new Date("2000-01-01"),uY=function(t){function n(n,i,e,r){var s;if((s=t.call(this)||this).Gi=void 0,s.oOt=void 0,s.aOt=void 0,s.ZW=void 0,s.hOt=void 0,s.xPt=void 0,s.PPt=void 0,s.cOt=void 0,s.fOt=void 0,s.lOt=void 0,s.vOt=[],s.oOt=i,s.tc(n,e,r),n.gs===yz.UE){var u=s.nPt();u&&u._mt&&u._mt.getTime()<sY.getTime()&&(s.lOt=new Date(s.Imt.getTime()-1e3*(u.R8.op+u.R8.uy)),s.jPt(r))}return s}E(n,t);var e=n.prototype;return e.GDt=function(){var t;return null==(t=this.xPt)?void 0:t.FPt},e.nCt=function(){var t;return null==(t=this.xPt)?void 0:t.UPt},e.tc=function(t,n,e,r){var s;this.Gi=t,this.aOt=n,this.hOt=null!=r?r:e,this.ZW=e;var u,o=[(u=n,i.Mr(".",u))];this.PPt=t.Vyt&&t.Vyt.length>0?D$(t.Vyt.map(function(t){return t._d}),o):o,this.cOt=t.mmt&&t.mmt.length>0?D$(t.mmt,this.PPt):[];var a=this.cOt.map(function(t){return t.href}),h=n.href;Js(a,h)||(this.cOt.push(n),a.push(h));var c=this.oOt.href;Js(a,c)||(this.cOt.push(this.oOt),a.push(c)),this.fOt=null==(s=t.Amt)?void 0:s.syt();var f=t.gs===yz.UE,l=function(t,n,i){for(var e=[],r=0;r<t.length;r++){var s=t[r],u=void 0;if(s.WD)u=s.WD.syt();else if(r>0&&t[r-1].uy){var o=e[r-1],a=t[r-1].uy.syt();u=o+a}else{if(0!==r||n)break;u=0}e.push(u)}for(var h=[],c=0;c<e.length-1;c++)h.push({Xi:t[c],WD:e[c],uy:e[c+1]-e[c]});if(e.length>0){var f=e.length-1,l=t[f],v=e[f],d=1/0;n||(d=l.uy?l.uy.syt():i-v),h.push({Xi:l,WD:v,uy:d})}return h}(t.Emt,f,this.fOt);this.dOt(l),this.jPt(e)},e.dOt=function(t){var n=this.vOt;if(0!==t.length){for(var i=t[0].Xi.r_,e=0;e<n.length&&n[e].r_!==i;)e++;for(var r=n.splice(0,e),s=0;s<r.length;s++){r[s].Us()}for(var u=0;u<t.length;u++){var o=t[u];if(u<n.length){var a=n[u];0,a.tc(o.Xi,o.uy)}else n.push(new rY(this,o.Xi,o.WD,o.uy))}}else Zs(n)},e.jPt=function(t){for(var n=0,i=this.vOt;n<i.length;n++){i[n].jPt(t)}var e=this.xPt,r=this.HPt(t);e&&$$(e,r)||(this.xPt=r,this.Ks(new V$))},e.HPt=function(t){return{DCt:t,FPt:W$(this.vOt),UPt:q$(this.vOt)}},e.nPt=function(){if(0!==this.vOt.length){var t=this.vOt[this.vOt.length-1];if(!isFinite(t.uy)&&0!==t.vmt.length){var n=t.vmt[0];if(0!==n.a1.length){var i=n.a1[0].Iyt,e=i.nPt();if(e)return{R8:e,_mt:i.xCt(e)}}}}},e.Us=function(){this.ou();for(var t=0,n=this.vOt;t<n.length;t++){n[t].Us()}},T(n,[{key:"Xi",get:function(){return this.Gi}},{key:"gs",get:function(){return this.Gi.gs||yz.FE}},{key:"ymt",get:function(){return this.lOt||this.Gi.ymt||this.Imt}},{key:"_mt",get:function(){return this.Gi._mt}},{key:"Amt",get:function(){return this.fOt}},{key:"Vyt",get:function(){return this.PPt}},{key:"mmt",get:function(){return this.cOt}},{key:"Emt",get:function(){return this.vOt}},{key:"Imt",get:function(){return this.Gi.Imt||this.ZW}},{key:"Syt",get:function(){return this.Gi.Syt}},{key:"wOt",get:function(){return this.hOt}},{key:"gOt",get:function(){return this.ZW}}]),n}(Su);var oY=function(){function t(t,n,i){this._Ot=0,this.DE=t,this.yOt=n,this.mOt=i}var n=t.prototype;return n.LL=function(t){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ur.awrap(this.pOt(t,this.DE,this.yOt,this.mOt).catch(vu));case 2:case"end":return n.stop()}},null,this,null,Ge)},n.kOt=function(){return new Date(Wt()+this._Ot)},n.pOt=function(t,n,i,e){var r,s,u;return Ur.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(!e){o.next=4;break}return o.next=3,Ur.awrap(this.bOt(n,e,i));case 3:r=o.sent;case 4:if(void 0!==r){o.next=17;break}fu(i),s=0;case 7:if(!(s<t.length)){o.next=17;break}return u=t[s],o.next=11,Ur.awrap(this.AOt(n,u,i));case 11:if(void 0===(r=o.sent)){o.next=14;break}return o.abrupt("break",17);case 14:s++,o.next=7;break;case 17:this._Ot=void 0===r?0:r-Wt();case 18:case"end":return o.stop()}},null,this,null,Ge)},n.AOt=function(t,n,i){var e,r,s,u;return Ur.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=n.Z0,o.t0=e,o.next="urn:mpeg:dash:utc:http-xsdate:2012"===o.t0?4:"urn:mpeg:dash:utc:http-xsdate:2014"===o.t0?4:"urn:mpeg:dash:utc:http-iso:2012"===o.t0?4:"urn:mpeg:dash:utc:http-iso:2014"===o.t0?4:"urn:mpeg:dash:utc:direct:2012"===o.t0?10:"urn:mpeg:dash:utc:direct:2014"===o.t0?10:16;break;case 4:if(!(r=n.Ti)){o.next=9;break}return o.next=8,Ur.awrap(this.bOt(t,r,i));case 8:return o.abrupt("return",o.sent);case 9:return o.abrupt("break",17);case 10:if(!(s=n.Ti)){o.next=15;break}if(u=new Date(s).getTime(),m(u)){o.next=15;break}return o.abrupt("return",u);case 15:return o.abrupt("break",17);case 16:return o.abrupt("return");case 17:case"end":return o.stop()}},null,this,null,Ge)},n.bOt=function(t,n,i){var e,r,s;return Ur.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Ur.awrap(t.dd({_d:n,Ld:lw.GET,fd:Lf.Kn,$s:i}));case 3:return e=u.sent,u.next=6,Ur.awrap(e.Xv());case 6:if(r=u.sent,s=new Date(r).getTime(),m(s)){u.next=10;break}return u.abrupt("return",s);case 10:u.next=16;break;case 12:u.prev=12,u.t0=u.catch(0),lu(u.t0);case 16:case"end":return u.stop()}},null,null,[[0,12]],Ge)},t}(),aY=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).TOt=void 0,s.Q4=void 0,s.SOt=void 0,s.ust=!0,s.vOt=[],s.EOt=void 0,s.IOt=void 0,s.ROt=void 0,s.DE=void 0,s.NOt=void 0,s.EOt=n,s.SOt=n.b_,s.IOt=i,s.DE=e,s.TOt=r,s.NOt=new oY(s.DE,s.TOt,s.EOt.DOt),s}E(n,t);var e=n.prototype;return e.COt=function(t){var n=this.Bm;this.ust=t,n!==this.Bm&&this.Ks(new nY)},e.tc=function(t,n,e){var r,s,u,o,a,h,c,f,l,v,d,w,g;return Ur.async(function(_){for(;;)switch(_.prev=_.next){case 0:if(s=[],u=[],o=t.pmt?i.Mr(t.pmt,this.SOt):this.SOt,void 0!==this.Q4){_.next=10;break}return _.next=6,Ur.awrap(this.NOt.LL(t.Nmt));case 6:this.Q4=new uY(t,this.SOt,o,this.kOt()),this.Q4.tu(t$.jDt,this.Zs),_.next=11;break;case 10:this.Q4.tc(t,o,this.kOt(),n);case 11:if(0===(a=this.Q4.Emt).length)h=this.vOt.slice(),Zs(this.vOt);else{for(c=a[0].r_,f=0;f<this.vOt.length&&this.vOt[f].r_!==c;)f++;for(h=this.vOt.splice(0,f),l=0;l<a.length;l++)v=a[l],d=void 0,l<this.vOt.length?d=this.vOt[l]:(d=new K$(this,v),s.push(d)),u.push(d.tc(this.IOt,e))}return _.next=15,Ur.awrap(Ge.all(u));case 15:for((r=this.vOt).push.apply(r,s),w=0,g=h;w<g.length;w++)g[w].qPt();this.Ks(new tY);case 18:case"end":return _.stop()}},null,this,null,Ge)},e.kOt=function(){return this.NOt.kOt()},e.tOt=function(t){var n=this.vOt.indexOf(t);if(n>0)return this.vOt[n-1]},e.ZPt=function(t){var n=this.vOt.indexOf(t);if(n>=0&&n+1<this.vOt.length)return this.vOt[n+1]},e.GDt=function(){return this.Q4?this.Q4.GDt():void 0},e.nCt=function(){return this.Q4&&this.Q4.nCt()},e.jPt=function(t){this.Q4&&this.Q4.jPt(t)},e.Kc=function(){this.ou(),this.ROt=void 0,this.COt(!1);for(var t=0,n=this.vOt;t<n.length;t++){n[t].Kc()}Zs(this.vOt),this.Q4&&this.Q4.Us()},T(n,[{key:"_mt",get:function(){return this.Q4&&this.Q4._mt}},{key:"ymt",get:function(){return this.Q4&&this.Q4.ymt}},{key:"r_",get:function(){return this.Q4&&this.Q4.Xi.r_}},{key:"wOt",get:function(){var t;return null==(t=this.Q4)?void 0:t.wOt}},{key:"POt",get:function(){var t;return null==(t=this.Q4)?void 0:t.gOt}},{key:"mmt",get:function(){return this.Q4?this.Q4.mmt.map(function(t){return t.href}):[this.EDt]}},{key:"EDt",get:function(){return this.SOt.href}},{key:"kmt",get:function(){return this.Q4&&this.Q4.Xi.kmt}},{key:"bmt",get:function(){return this.Q4&&this.Q4.Xi.bmt}},{key:"Amt",get:function(){return this.Q4&&this.Q4.Xi.Amt}},{key:"Tmt",get:function(){return this.Q4&&this.Q4.Xi.Tmt}},{key:"Smt",get:function(){var t,n,i=(null==(t=this.Q4)?void 0:null==(n=t.Xi.Smt)?void 0:n.uyt())||0;return g.max(i,cY)}},{key:"Bm",get:function(){return this.ust}},{key:"Emt",get:function(){return this.vOt}},{key:"OOt",get:function(){return this.gs===yz.UE?this.yCt:this.xOt}},{key:"BOt",get:function(){var t=this.OOt;if(void 0!==t)for(var n=0,i=this.Emt;n<i.length;n++){var e=i[n];if(e.WD<=t&&e.qD>t)return e}}},{key:"Fyt",get:function(){return this.Q4&&this.Q4.Xi.Fyt}},{key:"Imt",get:function(){return this.Q4&&this.Q4.Imt}},{key:"nOt",get:function(){for(var t=this.vOt.length-1;t>=0;t-=1){var n=this.vOt[t].nOt;if(n)return n}}},{key:"yCt",get:function(){var t=this.nOt;if(void 0!==t){var n=t-this.LOt;return g.max(n,this.xOt)}}},{key:"xOt",get:function(){for(var t=0,n=this.vOt;t<n.length;t++){var i=n[t].WDt;if(void 0!==i)return i}}},{key:"jd",get:function(){return Boolean(this.EOt.jd)}},{key:"LOt",get:function(){var t=this.Q4&&this.Q4.Xi.Rmt;return t?t.syt():this.gs===yz.UE?this.MOt:0}},{key:"MOt",get:function(){return this.EOt.MOt?this.EOt.MOt:1.5*this.Tmt.syt()}},{key:"Syt",get:function(){return this.Q4&&this.Q4.Syt}},{key:"gs",get:function(){return this.Q4?this.Q4.gs:void 0}}]),n}(Su),hY=function(){function t(t,n,i,e){this.zPt=void 0,this.zPt=new aY(t,n,i,e)}return T(t,[{key:"KDt",get:function(){return this.zPt}}]),t}(),cY=1e3,fY=g.pow(2,31)-1,lY=function(){function t(t,n,i,e){var r=this;this.yct=void 0,this.Q4=void 0,this.FOt=void 0,this.UOt=void 0,this.jOt=void 0,this.HOt=new au,this.XOt=function(t){var n,i;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=r.Q4.KDt.kOt(),e.next=4,Ur.awrap(r.VOt(r.Q4.KDt.mmt,t));case 4:return i=e.sent,e.next=7,Ur.awrap(r.Q4.KDt.tc(i,n,t));case 7:e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(0),Jk(e.t0)&&r.Q4.KDt.COt(!1),e.t0;case 13:case"end":return e.stop()}},null,null,[[0,9]],Ge)},this.yct=e,this.Q4=new hY(t,n,i,this.HOt.$s)}var n=t.prototype;return n.Uw=function(t){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.Q4.KDt.Ks(new $N),n.prev=1,n.next=4,Ur.awrap(tM(this.XOt,t));case 4:this.Q4.KDt.COt(!0),n.next=13;break;case 7:throw n.prev=7,n.t0=n.catch(1),lu(n.t0),this.UOt=void 0,this.Q4.KDt.COt(!1),new l("The provided MPEG-DASH document could not be loaded - "+n.t0.message);case 13:this.FOt=this.zOt(this.HOt.$s);case 14:case"end":return n.stop()}},null,this,[[1,7]],Ge)},n.zOt=function(t){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0;case 1:if(this.Q4.KDt.gs!==yz.UE){n.next=6;break}return n.next=4,Ur.awrap(du(this.WOt,t));case 4:n.next=1;break;case 6:n.next=10;break;case 8:n.prev=8,n.t0=n.catch(0);case 10:case"end":return n.stop()}},null,this,[[0,8]],Ge)},n.GOt=function(t){var n,i;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(fu(t),!((n=this.qOt())>0)){e.next=6;break}return i=g.min(n,fY),e.next=6,Ur.awrap(ku(i,t));case 6:return e.prev=6,e.next=9,Ur.awrap(tM(this.XOt,t,1/0,cY,3e4));case 9:this.Q4.KDt.COt(!0);case 10:return e.prev=10,this.jOt=void 0,e.finish(10);case 13:case"end":return e.stop()}},null,this,[[6,,10,13]],Ge)},n.qOt=function(){var t=this.Q4.KDt.kOt().getTime()-this.Q4.KDt.wOt.getTime();return this.Q4.KDt.Smt-t},n.$Ot=function(t){var n=this.Q4.KDt.nCt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.Q4.KDt.jPt(t);var e=this.Q4.KDt.nCt();return e?e.getTime()-t.getTime():NaN},n.YOt=function(t){var n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return this.jOt||(this.jOt=this.GOt(t)),(n=new au).Gs(t),i.prev=3,i.next=6,Ur.awrap(Ge.race([this.jOt,this.QOt(n.$s)].filter(H)));case 6:i.next=11;break;case 8:i.prev=8,i.t0=i.catch(3),vu(i.t0);case 11:return i.prev=11,n.Ws(),i.finish(11);case 14:case"end":return i.stop()}},null,this,[[3,8,11,14]],Ge)},n.QOt=function(t){var n=this.Q4.KDt.kOt(),i=this.$Ot(n);if(!m(i))return this.JOt(i,t)},n.JOt=function(t,n){var i;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ur.awrap(ku(t,n));case 2:i=this.Q4.KDt.kOt(),this.Q4.KDt.jPt(i);case 4:case"end":return e.stop()}},null,this,null,Ge)},n.VOt=function(t,n){var i,e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Ur.awrap(this.yct.gct(t,{},n,!1));case 2:return i=r.sent,e=new vW,r.abrupt("return",e.rft(i.vct,i.wd));case 5:case"end":return r.stop()}},null,this,null,Ge)},n.Kc=function(){return this.HOt.Ws(),this.FOt=void 0,this.UOt=void 0,this.jOt=void 0,this.Q4.KDt.Kc(),Ge.resolve()},T(t,[{key:"UK",get:function(){return this.Q4}},{key:"Opt",get:function(){return this.UOt||(this.UOt=this.Uw(this.HOt.$s),mu(this.UOt)),this.UOt}},{key:"WOt",get:function(){return this.Q4.KDt.POt&&this.Q4.KDt.gs===yz.UE?this.YOt(this.HOt.$s):this.Opt}}]),t}(),vY=function(){function t(t,n,i){this.yct=t,this.ZOt=n,this.KOt=i}var n=t.prototype;return n.txt=function(t){var n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.src){i.next=2;break}throw new l("Invalid typed source");case 2:if(!ly(n=t.type)){i.next=9;break}return i.next=6,Ur.awrap(this.nxt(t));case 6:return i.abrupt("return",i.sent);case 9:if(!fy(n)){i.next=15;break}return i.next=12,Ur.awrap(this.ixt(t));case 12:return i.abrupt("return",i.sent);case 15:throw new l("Unexpected source type");case 16:case"end":return i.stop()}},null,this,null,Ge)},n.nxt=function(t){var n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Ur.awrap(f$(t.src,this.yct));case 3:return n=i.sent,i.next=6,Ur.awrap(l$(n,this.yct));case 6:return i.abrupt("return",i.sent);case 9:throw i.prev=9,i.t0=i.catch(0),new l("Unable to fetch HLS manifest");case 12:case"end":return i.stop()}},null,this,[[0,9]],Ge)},n.ixt=function(t){var n;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new lY({b_:i.Mr(t.src),MOt:t.liveOffset,DOt:t.timeServer,jd:t.useCredentials},this.KOt,mw.$d,this.yct),e.next=4,Ur.awrap(n.Opt);case 4:return e.next=6,Ur.awrap(Qq(n.UK.KDt,t.contentProtection,this.ZOt));case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),new l("Unable to fetch DASH manifest");case 12:case"end":return e.stop()}},null,this,[[0,9]],Ge)},t}(),dY=function(){function t(t){this.ext=void 0,this.rxt=[],this.sxt=0,this.ext=t}var n=t.prototype;return n.uxt=function(){var t=new na;return this.rxt.push(t),this.oxt(),t.Wu},n.axt=function(t,n){return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Ur.awrap(t);case 3:return i.prev=3,this.sxt-=1,this.oxt(),0===this.rxt.length&&0===this.sxt&&n.Yu(!0),i.finish(3);case 8:case"end":return i.stop()}},null,this,[[0,,3,8]],Ge)},n.oxt=function(){this.rxt.length>0&&this.sxt<this.ext&&(this.rxt.shift().Yu(),this.sxt+=1)},t}();function wY(t,n){for(var i=0,e=0,r=t.oE.j0.map(function(t){return t.uy});e<r.length;e++){if((i+=r[e])>=n)return i}return i}var gY=function(t){function n(n,i,e,r,s,u,o,a){var h;(h=t.call(this)||this).pct=void 0,h.hxt=void 0,h.cxt=new na,h.fxt=void 0,h.Dct=void 0,h.lxt=zq.ADt,h.yDt=void 0,h.vxt=void 0,h.Uy=void 0,h.dxt=void 0,h.uht=void 0,h.yct=void 0,h.wxt=void 0,h.ZOt=void 0,h.KOt=void 0,h.ZNt=void 0,h.pct=n,h.uht=i,h.yct=e,h.dxt=r,h.wxt=s,h.ZOt=u,h.KOt=a,h.ZNt=o,h.vxt=-1;var c=h.pct.ED.sources[0];return h.fxt=c,h.Uy=h.hm(),h.hxt=new dY(h.pct.pc.parallelTasksThreshold),h}E(n,t);var e=n.prototype;return e.hm=function(){var t,n,i,e,r,s,u,o,a,h,c,f,l,v,d,w,_,y,m,p,k,b,A,T,S,E,I,R=this;return Ur.async(function(N){for(;;)switch(N.prev=N.next){case 0:return t=new vY(this.yct,this.ZOt,this.KOt),N.next=3,Ur.awrap(t.txt(this.fxt));case 3:return this.Dct=N.sent,n=this.pct.pc.amount,i=this.Dct.uy,e=qq(n,i),this.yDt=e,s=Uj(this.Dct.SDt[0]),N.next=11,Ur.awrap(this.uht.Kat.Qat(s,"manifestURL"));case 11:for(u=N.sent.filter(function(t){return Js(t.references,R.pct.r_)}),o=[],a=this.pct.pc.bandwidth,h=0,c=this.Dct.Emt;h<c.length;h++)for(f=c[h],l=0,v=f.RDt;l<v.length;l++)for(d=v[l],w=0,_=yY(d.uT);w<_.length;w++)for(y=_[w],m=0,p=mY(y.h_,a);m<p.length;m++)k=p[m],o.push(k);if(this.vxt=g.ceil(o.map(function(t){return t.QR*wY(t,e)/8}).reduce(function(t,n){return t+n},0)),b=Xr(),u&&0!==u.length){for(A=u.reduce(function(t,n){return t+n.byteSize},0),T=function(t){var n=u[t],i=n.qualityId,e=new TS(n.startsAndEnds);if(b.has(i))b.get(i).timeRanges=b.get(i).timeRanges.cC(e).hC(5e-4);else{var r,s=Gs(o,function(t){return t.r_===i}),a=g.min(R.yDt,null!=(r=null==s?void 0:s.oE.uy)?r:1/0);b.set(i,{timeRanges:e,totalQualityDurationToCache:a})}},S=0;S<u.length;S++)T(S);r=new zq(A,b,this.yDt)}else{for(E=0;E<o.length;E++)I=o[E],b.set(I.r_,{timeRanges:TS.RC(),totalQualityDurationToCache:g.min(I.oE.uy,this.yDt)});r=new zq(0,b,this.yDt)}this.gxt=r;case 19:case"end":return N.stop()}},null,this,null,Ge)},e._xt=function(t){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ur.awrap(this.Uy);case 2:return n.next=4,Ur.awrap(pu([this.yxt(this.Dct,t),this.cxt.Wu]));case 4:case"end":return n.stop()}},null,this,null,Ge)},e.yxt=function(t,n){var i,e,r,s;return Ur.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t.SDt){u.next=2;break}throw new l("Unexpected - manifest is missing locations");case 2:return u.next=4,Ur.awrap(this.mxt());case 4:for(i=[],e=0,r=t.Emt;e<r.length;e++)s=r[e],i.push(this.pxt(s,t.SDt[0],n));return u.abrupt("return",pu(i));case 7:case"end":return u.stop()}},null,this,null,Ge)},e.mxt=function(){var t,n,i,e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Ur.awrap(this.dxt.$at());case 2:t=r.sent,n=0;case 4:if(!(n<t.length)){r.next=25;break}return i=t[n],r.next=8,Ur.awrap(this.uht.tht.Cu(i.key));case 8:if(!(e=r.sent)){r.next=14;break}return r.next=12,Ur.awrap(_Y(e,this.pct.r_,this.uht.tht,this.ZNt));case 12:r.next=22;break;case 14:return r.prev=14,r.next=17,Ur.awrap(this.uht.tht.Wat(i,this.ZNt));case 17:r.next=22;break;case 19:throw r.prev=19,r.t0=r.catch(14),new Yq("Unable to store manifest with url: "+i.locationURL,r.t0);case 22:n++,r.next=4;break;case 25:return r.next=27,Ur.awrap(this.dxt.Zat());case 27:case"end":return r.stop()}},null,this,[[14,19]],Ge)},e.pxt=function(t,n,i){for(var e=[],r=0,s=t.RDt;r<s.length;r++)for(var u=yY(s[r].uT),o=0;o<u.length;o++){var a=u[o];e.push(this.kxt(a,n,i))}return pu(e)},e.kxt=function(t,n,i){var e,r,s,u,o;return Ur.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(e=this.pct.pc.bandwidth,r=mY(t.h_,e),t.gs!==ym.xd||!t.NDt||!t.NDt.eI.widevine||"persistent"!==t.NDt.eI.widevine.licenseType){a.next=6;break}return a.next=5,Ur.awrap(this.bxt(t.NDt));case 5:fu(i);case 6:for(s=[],u=0;u<r.length;u++)o=r[u],s.push(this.Axt(o,n,i));return a.abrupt("return",pu(s));case 9:case"end":return a.stop()}},null,this,null,Ge)},e.Axt=function(t,n,i){var e,r,s,u,o,a;return Ur.async(function(h){for(;;)switch(h.prev=h.next){case 0:fu(i),e=t.oE.j0[0].op,r=e+this.yDt,s=[],u=0,o=t.oE.j0;case 5:if(!(u<o.length)){h.next=17;break}if(!((a=o[u]).op>=r)){h.next=9;break}return h.abrupt("break",17);case 9:return h.next=11,Ur.awrap(this.Txt(i));case 11:return h.next=13,Ur.awrap(this.hxt.uxt());case 13:s.push(this.hxt.axt(this.Sxt(a,t,n),this.cxt));case 14:u++,h.next=5;break;case 17:return h.abrupt("return",pu(s));case 18:case"end":return h.stop()}},null,this,null,Ge)},e.Txt=function(t){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(null==t||!t.xs){n.next=4;break}return n.next=3,Ur.awrap(this.cxt.Wu);case 3:throw new hu;case 4:case"end":return n.stop()}},null,this,null,Ge)},e.Ext=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ur.awrap(this.Uy);case 2:return t.abrupt("return",this.Dct);case 3:case"end":return t.stop()}},null,this,null,Ge)},e.bxt=function(t){return Ge.resolve()},e.Ixt=function(){return i.Tr("License renewal unsupported in this SDK."),Ge.resolve()},e.Sxt=function(t,n,i){var e,r,s,u,o,a,h,c=this;return Ur.async(function(f){for(;;)switch(f.prev=f.next){case 0:return e=this.uht.Kat,r=jj(t.DDt._d,t.DDt.$ht),f.next=4,Ur.awrap(e.Cu(r));case 4:if(!(s=f.sent)){f.next=11;break}return f.next=8,Ur.awrap(_Y(s,this.pct.r_,e,this.ZNt));case 8:this.Rxt(s,!1),f.next=24;break;case 11:return f.prev=11,f.next=14,Ur.awrap(this.Nxt(t.DDt));case 14:return u=f.sent,o=this.Dxt(t,n,i,u),a=o.segmentMetadataEntry,h=o.segmentEntry,f.next=18,Ur.awrap(this.uht.eht(function(t){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ur.awrap(t.Kat.Wat(a,c.ZNt));case 2:return n.next=4,Ur.awrap(t.j0.Wat(h,c.ZNt));case 4:case"end":return n.stop()}},null,null,null,Ge)}));case 18:this.Rxt(a,!0),f.next=24;break;case 21:throw f.prev=21,f.t0=f.catch(11),new Yq("Unable to store segment with url: "+t.DDt._d,f.t0);case 24:case"end":return f.stop()}},null,this,[[11,21]],Ge)},e.Nxt=function(t){var n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Ur.awrap(this.wxt.Cxt(t,!1));case 2:return n=i.sent,i.next=5,Ur.awrap(this.Pxt(n));case 5:return i.abrupt("return",i.sent);case 6:case"end":return i.stop()}},null,this,null,Ge)},e.Pxt=function(t){var n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Ur.awrap(t.zv());case 2:return n=i.sent,i.abrupt("return",{buffer:n});case 4:case"end":return i.stop()}},null,null,null,Ge)},e.Dxt=function(t,n,i,e){var r=jj(t.DDt._d,t.DDt.$ht),s=t.op,u=t.uy,o=this.Oxt(e);return{segmentMetadataEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:Uj(i),qualityId:n.r_,byteSize:o,startsAndEnds:new TS([s,s+u]).YD,references:[this.pct.r_]},segmentEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:Uj(i),data:e}}},e.Oxt=function(t){return t.buffer.byteLength},e.Rxt=function(t,n){var i=t.qualityId,e=this.lxt,r=e.Hm;r.get(i).timeRanges=r.get(i).timeRanges.cC(new TS(t.startsAndEnds)).hC(5e-4),this.gxt=new zq(n?e.kDt+t.byteSize:e.kDt,r,this.yDt)},T(n,[{key:"sDt",get:function(){return this.Uy}},{key:"xxt",get:function(){return this.vxt}},{key:"gxt",get:function(){return this.lxt},set:function(t){this.lxt.Sp(t)||(this.lxt=t,t.Sp(zq.ADt)||this.Ks(new Gq))}}]),n}(Su);function _Y(t,n,i,e){return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(Js(t.references,n)){r.next=4;break}return t.references.push(n),r.next=4,Ur.awrap(i.Wat(t,e));case 4:case"end":return r.stop()}},null,null,null,Ge)}function yY(t){return t.length?[t[0]]:[]}function mY(t,n){if(!t.length)return[];var i=[].concat(t).sort(gq),e=i.filter(function(t){return t.QR<=n});return e.length>0?[e.pop()]:[i.shift()]}var pY=function(){function t(t,n,i){this.pct=t,this.uht=n,this.Dct=i}var n=t.prototype;return n.Bxt=function(){var t=this;return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ur.awrap(this.uht.eht(function(n){return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Ur.awrap(t.Lxt(n));case 2:return i.next=4,Ur.awrap(t.Mxt(n));case 4:return i.next=6,Ur.awrap(t.Fxt(n));case 6:return i.next=8,Ur.awrap(t.Uxt(n));case 8:case"end":return i.stop()}},null,null,null,Ge)}));case 2:case"end":return n.stop()}},null,this,null,Ge)},n.Lxt=function(t){var n,i;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.nht,i=this.pct.r_,e.next=4,Ur.awrap(n.Kh(i));case 4:case"end":return e.stop()}},null,this,null,Ge)},n.Mxt=function(t){var n,i,e,r,s,u,o,a=this;return Ur.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(n=t.Kat,i=t.j0,gy(e=this.pct.ED.sources[0])){h.next=5;break}return h.abrupt("return");case 5:return r=Uj(e.src),h.next=8,Ur.awrap(n.Qat(r,"manifestURL"));case 8:s=h.sent.filter(function(t){return Js(t.references,a.pct.r_)}),u=0;case 10:if(!(u<s.length)){h.next=25;break}if(Ys((o=s[u]).references,this.pct.r_),0!==o.references.length){h.next=20;break}return h.next=16,Ur.awrap(n.Kh(o.key));case 16:return h.next=18,Ur.awrap(i.Kh(o.key));case 18:h.next=22;break;case 20:return h.next=22,Ur.awrap(n.Wat(o));case 22:u++,h.next=10;break;case 25:case"end":return h.stop()}},null,this,null,Ge)},n.Fxt=function(t){var n,i,e,r,s,u=this;return Ur.async(function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.tht,i=this.jxt(),o.next=4,Ur.awrap(n.Vat(i));case 4:e=o.sent.filter(function(t){return Js(t.references,u.pct.r_)}),r=0;case 6:if(!(r<e.length)){o.next=19;break}if(Ys((s=e[r]).references,this.pct.r_),0!==s.references.length){o.next=14;break}return o.next=12,Ur.awrap(n.Kh(s.key));case 12:o.next=16;break;case 14:return o.next=16,Ur.awrap(n.Wat(s));case 16:r++,o.next=6;break;case 19:case"end":return o.stop()}},null,this,null,Ge)},n.jxt=function(){if(!this.Dct)return[];var t=this.pct.ED.sources[0];if(!gy(t))return[];var n=Uj(t.src),i=function(t){if(!t)return[];for(var n=[],i=0,e=t.Emt;i<e.length;i++)for(var r=0,s=e[i].RDt;r<s.length;r++)for(var u=0,o=s[r].uT;u<o.length;u++)for(var a=0,h=o[u].h_;a<h.length;a++){var c=h[a];c.UDt&&n.push(c.UDt)}return n.reduce(function(t,n){return t.indexOf(n)<0&&t.push(n),t},[])}(this.Dct).map(function(t){return{src:t}}).map(function(t){return Uj(t.src)});return[n].concat(i)},n.Uxt=function(t){var n,i,e,r,s=this;return Ur.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.iht,u.next=3,Ur.awrap(n.$at());case 3:i=u.sent.filter(function(t){return Js(t.references,s.pct.r_)}),e=0;case 5:if(!(e<i.length)){u.next=19;break}if(Ys((r=i[e]).references,this.pct.r_),0!==r.references.length){u.next=14;break}return u.next=11,Ur.awrap(n.Kh(r.key));case 11:this.Hxt(r),u.next=16;break;case 14:return u.next=16,Ur.awrap(n.Wat(r));case 16:e++,u.next=5;break;case 19:case"end":return u.stop()}},null,this,null,Ge)},n.Hxt=function(t){},t}(),kY=new(function(){function t(){}return t.prototype.jJ=function(t,n,i){return new pY(t,n,i)},t}());var bY=function(){function t(t,n){this.dg=void 0,this.Hw=t,this.Xxt=n}var n=t.prototype;return n.Vxt=function(t){this.zxt(t)},n.zxt=function(t){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ur.awrap(this.Xxt.Ixt(t));case 3:n.next=9;break;case 5:n.prev=5,n.t0=n.catch(0),this.Hw.nDt(Aq.ERROR);case 9:case"end":return n.stop()}},null,this,[[0,5]],Ge)},T(t,[{key:"wg",get:function(){var t;return this.dg||(this.dg=(t=this,{renew:function(n){t.Vxt(n)}})),this.dg}}]),t}(),AY=function(t){function n(n,i,e,r,s,u){var o;(o=t.call(this)||this).Fh=void 0,o.JNt=void 0,o.dg=void 0,o.xrt=void 0,o.Wxt=void 0,o.uht=void 0,o.Xxt=void 0,o.Gxt=new au,o.qxt=void 0,o.evictOnLoading=function(){o.au("jNt",o.evictOnLoading),o.$xt()},o.Fh=n,o.xrt=i,o.Wxt=e,o.uht=r,o.Xxt=s.jJ(Kt(o),o.uht,u),o.qxt=new bY(Kt(o),o.Xxt),o.JNt=1===o.Xxt.gxt.bDt?Aq.DONE:Aq.IDLE,o.Xxt.tu("wDt",function(t){o.Zs(t),1===o.lDt&&o.nDt(Aq.DONE)});var h=new Date,c=o.Wxt.expirationDate.getTime()-h.getTime();return c<2147483647&&a(function(){return o.$xt()},c),o}E(n,t);var i=n.prototype;return i.nDt=function(t){this.JNt!==t&&(this.JNt=t,this.Ks(new Oq))},i.WD=function(){this.JNt===Aq.EVICTED||this.JNt===Aq.DONE||this.Yxt()},i.Yxt=function(){var t;return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.nDt(Aq.LOADING),t=new au,this.Gxt=t,n.next=6,Ur.awrap(this.Xxt._xt(t.$s));case 6:this.nDt(Aq.DONE),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),cu(n.t0)?this.nDt(Aq.IDLE):this.nDt(Aq.ERROR);case 12:return n.prev=12,this.Gxt.Us(),n.finish(12);case 15:case"end":return n.stop()}},null,this,[[0,9,12,15]],Ge)},i.Jy=function(){this.Gxt.Ws()},i.Kh=function(){this.od===Aq.LOADING?(this.tu("jNt",this.evictOnLoading),this.Jy()):this.$xt()},i.$xt=function(){var t;return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ur.awrap(this.Xxt.Ext());case 3:return t=n.sent,n.next=6,Ur.awrap(kY.jJ(this,this.uht,t).Bxt());case 6:this.Xxt.gxt=zq.ADt,this.nDt(Aq.EVICTED),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),this.nDt(Aq.ERROR);case 14:case"end":return n.stop()}},null,this,[[0,10]],Ge)},T(n,[{key:"sDt",get:function(){return this.Xxt.sDt}},{key:"wg",get:function(){return this.dg||(this.dg=Vq(this)),this.dg}},{key:"r_",get:function(){return this.Fh}},{key:"Bx",get:function(){return this.qxt}},{key:"od",get:function(){return this.JNt}},{key:"ED",get:function(){return this.xrt}},{key:"pc",get:function(){return this.Wxt}},{key:"uy",get:function(){return this.Xxt.gxt.TC}},{key:"cDt",get:function(){return this.Xxt.gxt.pDt}},{key:"fDt",get:function(){return this.Xxt.gxt.mDt}},{key:"lDt",get:function(){return this.Xxt.gxt.bDt}},{key:"vDt",get:function(){return this.Xxt.xxt}},{key:"dDt",get:function(){return this.Xxt.gxt.kDt}}]),n}(Q_);var TY=function(){function t(t,n){this.uht=t,this.Qxt=n}var n=t.prototype;return n.uDt=function(t,n,i){var e=pI();return this.eDt(e,t,n,i)},n.eDt=function(t,n,i,e){return new AY(t,n,i,this.uht,this.Qxt,e)},t}(),SY=30,EY=5;function IY(t){if(!t)throw new l("Unexpected - The cache parameters are undefined");var n=function(t){if(q(t)&&!bs(t,"%"))return _(t);return t}(t.amount);!function(t){if(i=t,q(i)&&bs(i,"%")){var n=y(t);if(m(n)||n<0||n>100)throw new l("The amount as percentage must be between 0 and 100 percent.")}var i;if(!q(t)&&m(t))throw new l("The amount must be a number or a string")}(n);var i=function(t){if(!t)return(n=new Date).setMinutes(n.getMinutes()+SY),n;var n;return t}(t.expirationDate);!function(t){if(t&&(n=t,n&&!(Q(n)&&n>new Date)))throw new l("Invalid expiration date for the cache parameters");var n}(i);var e=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);return function(t){if(m(t)||t<0)throw new l("The bandwidth must be between zero and infinity.")}(e),{amount:n,expirationDate:i,bandwidth:e,parallelTasksThreshold:function(t){if(!t)return EY;if(m(t))throw new l("The amount must be a number");return t}(t.numberOfParallelTasks)}}var RY=5,NY=function(){function t(t,n,i,e){var r=this;this.Jxt=void 0,this.Xxt=void 0,this.Zxt=void 0,this.iF=void 0,this.Kxt=[],this.tBt=0,this.qc=void 0,this.nBt=void 0,this.Qxt=void 0,this.VC=void 0,this.VIt=function(){var t;return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t=r.vbt())){n.next=4;break}return n.next=4,Ur.awrap(r.tut(t));case 4:case"end":return n.stop()}},null,null,null,Ge)},this.XIt=function(){var t=r.Kxt.shift();null==t||t.Kh()},this.iBt=function(t,n){var i;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:i=!1;case 1:if(i){e.next=7;break}return e.next=4,Ur.awrap(t.wu("wDt"));case 4:i=1===t.gxt.bDt,e.next=1;break;case 7:n.uy<RY&&r.VIt();case 8:case"end":return e.stop()}},null,null,null,Ge)},this.iF=t,this.nBt=n,this.qc=new au,this.Qxt=i,this.VC=e}var n=t.prototype;return n.vbt=function(){var t;if(this.Zxt){var n=this.Zxt.NSt[this.tBt];if(!n&&this.Zxt.NSt.length>this.tBt)return this.tBt++,this.Jxt=void 0,this.vbt();this.Jxt||(this.Jxt=JW.ISt(n));var i=null==(t=this.Jxt)?void 0:t.kwt();return null==i?void 0:i.Dwt}},n.wc=function(){for(this.jIt=void 0,this.Jxt=void 0,this.tBt=0,this.qc.Ws(),this.qc=new au;this.Kxt.length;)this.XIt()},n.getCachingTaskService=function(t){return new Xq(iH.qn.nht,t,"temporary")},n.tut=function(t){var n,i,e,r,s,u,o;return Ur.async(function(a){for(;;)switch(a.prev=a.next){case 0:if((n=yq(t.f_t,this.iF.ads.allowedMimeTypes)).length){a.next=3;break}return a.abrupt("return");case 3:return a.next=5,Ur.awrap(wS.qn.TD(n,HE({sources:n})));case 5:if((i=a.sent).RD.dD()){a.next=8;break}return a.abrupt("return");case 8:this.Xxt||(this.Xxt=new this.Qxt(this.nBt)),e=iH.qn,r=new TY(e,this.Xxt),s=this.getCachingTaskService(r),u=s.eDt(HE({sources:i.ED}),IY({amount:10,bandwidth:ty.x_()||this.VC.UL/8}),"temporary"),this.Kxt.push(u),o=this.Xxt.jJ(u,e,"temporary"),this.qc.Ws(),this.qc=new au,o._xt(this.qc.$s).then(Z),this.iBt(o,t);case 19:case"end":return a.stop()}},null,this,null,Ge)},T(t,[{key:"jIt",get:function(){return this.Zxt},set:function(t){this.Zxt=t,this.tBt=0}}]),t}(),DY=function(){function t(t){this.DE=void 0,this.kU=new mf,this.DE=t}var n=t.prototype;return n.dd=function(t){var n=this,i=new na;return this.kU.Jc(function(e){return n.eBt(i,t,e)},t.$s).catch(Z),i.Wu},n.Xd=function(t){return this.DE.Xd(t)},n.eBt=function(t,n,i){var e,r,s;return Ur.async(function(u){for(;;)switch(u.prev=u.next){case 0:return fu(i),e=new _w({_d:n._d,$s:i},n),r=this.DE.dd(e),t.Yu(r),u.next=6,Ur.awrap(r);case 6:return s=u.sent,u.next=9,Ur.awrap(s.Kv());case 9:case"end":return u.stop()}},null,this,null,Ge)},n.Kc=function(){this.kU.Kc()},t}(),CY=function(){function t(t,n){this.DE=void 0,this.rBt=void 0,this.h6=void 0,this.DE=t,this.rBt=new DY(t),this.h6=n}var n=t.prototype;return n.Cxt=function(t,n,i){return this.j3(t,n,!0,!1,void 0,i)},n.T8=function(t,n,i,e){return this.j3(t,n,!1,!1,i,e)},n.sBt=function(t,n,i,e){return this.j3(t,n,!1,!0,i,e)},n.j3=function(n,i,e,r,s,u){var o;return Ur.async(function(a){for(;;)switch(a.prev=a.next){case 0:return fu(u),a.next=3,Ur.awrap(this.C8(n,e,r,s,u));case 3:if(o=a.sent,!i){a.next=8;break}return a.abrupt("return",t.uBt(o));case 8:return a.abrupt("return",this.oBt(o));case 9:case"end":return a.stop()}},null,this,null,Ge)},n.oBt=function(t){return t},t.uBt=function(t){return t},n.C8=function(t,n,i,e,r){var s=new _w({_d:t._d,fd:Lf.ll,hd:t.$ht?{Range:"bytes="+t.$ht[0]+"-"+t.$ht[1]}:void 0,jd:t.jd,Ld:lw.GET,gs:vw.kd,Fd:i?dw.Sd:dw.md,Ud:this.h6,Md:e,$s:r});return n?this.rBt.dd(s):this.DE.dd(s)},t}(),PY=function(){function t(t){this.DE=void 0,this.DE=t}return t.prototype.DPt=function(t,n,i,e){var r;return Ur.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Ur.awrap(this.DE.dd({_d:t,fd:Lf.ll,hd:{Range:"bytes="+n[0]+"-"+n[1]},jd:i,Ld:lw.GET,gs:vw.md,$s:e}));case 2:return r=s.sent,s.next=5,Ur.awrap(r.zv());case 5:return s.abrupt("return",s.sent);case 6:case"end":return s.stop()}},null,this,null,Ge)},t}(),OY=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).R8=void 0,r.R8=n,r}return E(n,t),n}(nn),xY=function(){function t(t){this.n5=void 0,this.n5=t}return t.prototype.DPt=function(t,n,i,e){var r,s;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Ur.awrap(this.n5.v6(t,n));case 2:if(!(r=i.sent)){i.next=5;break}return i.abrupt("return",r.buffer);case 5:return i.next=7,Ur.awrap(this.n5.v6(t));case 7:if(!(s=i.sent)){i.next=10;break}return i.abrupt("return",Qo(new p(s.buffer),n[0],n[1]));case 10:throw new OY({_d:t,$ht:n,jd:!1});case 11:case"end":return i.stop()}},null,this,null,Ge)},t}(),BY={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new TS([0,0]).YD,references:[]},LY={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},MY=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n)||this).aBt=void 0,u.hBt=void 0,u.uht=void 0,u.ZNt=void 0,u.aBt=new PY(i),u.uht=e,u.hBt=r,u.ZNt=s,u}E(n,t);var i=n.prototype;return i.DPt=function(n,i,e,r){var s;return Ur.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Ur.awrap(t.prototype.DPt.call(this,n,i,e,r));case 3:return u.abrupt("return",u.sent);case 6:u.prev=6,u.t0=u.catch(0),lu(u.t0);case 9:return u.next=11,Ur.awrap(this.aBt.DPt(n,i,e,r));case 11:return s=u.sent,u.next=14,Ur.awrap(this.cBt(n,i,s));case 14:return u.abrupt("return",s);case 15:case"end":return u.stop()}},null,this,[[0,6]],Ge)},i.cBt=function(t,i,e){var r,s,u,o,a,h,c,f=this;return Ur.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(void 0!==this.hBt){l.next=2;break}return l.abrupt("return");case 2:return r=this.uht.Kat,s=jj(t,i),l.next=6,Ur.awrap(r.Cu(s));case 6:if(!(u=l.sent)){l.next=12;break}return l.next=10,Ur.awrap(_Y(u,this.hBt,r,this.ZNt));case 10:l.next=22;break;case 12:return l.prev=12,o={buffer:e},a=n.Dxt(s,o,this.hBt),h=a.segmentMetadataEntry,c=a.segmentEntry,l.next=17,Ur.awrap(this.uht.eht(function(t){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ur.awrap(t.Kat.Wat(h,f.ZNt));case 2:return n.next=4,Ur.awrap(t.j0.Wat(c,f.ZNt));case 4:case"end":return n.stop()}},null,null,null,Ge)}));case 17:l.next=22;break;case 19:throw l.prev=19,l.t0=l.catch(12),new Yq("Unable to store segment with url: "+t,l.t0);case 22:case"end":return l.stop()}},null,this,[[12,19]],Ge)},n.Dxt=function(t,n,i){return{segmentMetadataEntry:jr({},BY,{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:jr({},LY,{key:t,segmentURLsegmentByteRange:t,data:n})}},n}(xY);var FY,UY=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.fBt=function(t,n,e,r,s,u,o){return new gY(t,n,e,r,s,u,o,(h=F.En||F.Tn,c=void 0!==a&&void 0!==a.preferredAudioCodecs&&a.preferredAudioCodecs.some(function(t){return"ec-3"===t}),f=h&&!c,function(t){var n,e,r,s;return Ur.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=t.Gv,MediaSource.isTypeSupported(e)||eb(t.yx,t.iX)){u.next=3;break}return u.abrupt("return",!1);case 3:if(!f||-1===(null==(n=t.dr)?void 0:n.indexOf("ec-3"))){u.next=5;break}return u.abrupt("return",!1);case 5:if(!t.o1){u.next=13;break}return r=t.o1,s=tu(r,function(t){return ps(t.Z0)}).filter(H),u.next=10,Ur.awrap(su(s,function(t){return i.Br(t,e)}));case 10:if(u.sent){u.next=13;break}return u.abrupt("return",!1);case 13:return u.abrupt("return",!0);case 14:case"end":return u.stop()}},null,null,null,Ge)}));var a,h,c,f},n}(function(){function t(t){this.DE=t}return t.prototype.jJ=function(t,n,i){void 0===i&&(i="persistent");var e=Boolean(t.ED.sources[0].useCredentials),r=new CY(this.DE,ww.md),s=new SH(this.DE,e),u=new Xj(n.tht,n.Kat,n.j0,n.iht),o=function(t,n,i,e,r){return new MY(n,t,i,e,r)}(this.DE,u,n,t.r_,i),a=new Qj,h=new DH(NH(s,u),a,t);return this.fBt(t,n,h,a,r,o,i)},t}()),jY=UY;!function(t){t[t.NOT_INITIALISED=0]="NOT_INITIALISED",t[t.lBt=1]="lBt",t[t.vBt=2]="vBt",t[t.ey=3]="ey",t[t.Ly=4]="Ly",t[t.dBt=5]="dBt"}(FY||(FY={}));var HY=function(t){function i(n,i,e,r,s,u,o){var a;(a=t.call(this,n,e,r)||this).wBt=void 0,a.gBt=void 0,a.oNt=void 0,a._Bt=void 0,a.yBt=void 0,a.mBt=void 0,a.nEt=void 0,a.pBt=void 0,a.kBt=void 0,a.Hz=void 0,a.bBt=void 0,a.Qpt=void 0,a.ABt=void 0,a.TBt=void 0,a.Ydt=!1,a.MEt=void 0,a.FEt=void 0,a.SBt=void 0,a.Bq=!1,a.EBt=!0,a.WRt=void 0,a.IBt=void 0,a.DE=void 0,a.RBt=function(t){"play"!==t.type||a.EBt?a.Ks(t):a.EBt=!0},a.NBt=function(){a.Bq||(a.Bq=!0)},a.YIt=function(t){var n;(n=a.yBt).push.apply(n,t);for(var i=0;i<t.length;i++)t[i],a.Bq&&a.fwt.t_!==Kt(a)&&a.DBt()},a.CBt=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:return a.mBt=FY.lBt,t.next=4,Ur.awrap(a.gBt.cNt());case 4:return a.nEt&&a.nEt.zmt.RIt++,t.abrupt("return",a.dNt(a.pBt.kwt()));case 6:case"end":return t.stop()}},null,null,null,Ge)},a.PBt=function(t){var n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=new bV(mV.PLAYBACK,pV.GENERAL_LINEAR_ERROR,"There was a problem playing a linear ad."),a.Cdt.Ks(EV.Vdt(n,t)),i.next=4,Ur.awrap(a.gBt.cNt());case 4:return a.nEt&&a.nEt.zmt.RIt++,i.abrupt("return",a.dNt(a.pBt.Au()));case 6:case"end":return i.stop()}},null,null,null,Ge)},a.OBt=function(){return a.oNt.cNt(),a.dNt(a.pBt.kwt())},a.xBt=function(t){var n=new bV(mV.PLAYBACK,pV.GENERAL_NON_LINEAR_ERROR,"There was a problem playing a non linear ad.");return a.Cdt.Ks(EV.Vdt(n,t)),a.oNt.cNt(),a.dNt(a.pBt.Au())},a.DE=o,a.bBt=!1,a.WRt=i,a.oNt=new Iq(a.xBt,a.OBt,Kt(a),e),a.gBt=new Sq(a.PBt,a.CBt,n,a.oNt,s,Kt(a),r,i),a.BBt(a.oNt.dRt),a.BBt(a.gBt.dRt);var h=new pR(o,!1),c=new NY(s,h,UY,u);return a._Bt=new uq(a.RD,Kt(a),a.Cdt,c),a.gBt.uu(a.RBt),a.oNt.uu(a.Zs),a.Cdt.nP(a.gBt.Cdt),a.Cdt.nP(a.oNt.Cdt),a.Cdt.nP(a._Bt),a.kBt=[],a.yBt=[],a.nEt=void 0,a.pBt=void 0,a.ABt=new JW(Kt(a),a.RD),a.mBt=FY.NOT_INITIALISED,a.Hz=0,a.Ks(new Ey(a.sy,0)),a.Ks(new Xy(a.sy,0)),a.JF.tu("qx",a.Zs),a.SBt=!1,a.IBt=[],a.RD.tu("play",a.NBt),a}E(i,t);var e=i.prototype;return e.ZSt=function(t,n,i){this.Qpt=n,"boolean"==typeof i&&(this.Ydt=i),this.Hz=uy.z_,this.Ks(new Xy(this.sy,uy.z_)),n===gV.mdt&&this.Bq?mu(this.fbt([t])):this.IBt.push(t)},e.Qy=function(){var t;return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.wBt){n.next=2;break}return n.abrupt("return");case 2:if(this.Ks(new Ry(this.sy)),this.NBt(),!this.IBt.length){n.next=9;break}return this.wBt=this.fbt(this.IBt),n.next=8,Ur.awrap(this.wBt);case 8:this.wBt=void 0;case 9:if(!this.MEt||!this.Ydt){n.next=11;break}return n.abrupt("return");case 11:return n.next=13,Ur.awrap(this._Bt.$It(this.RD.sy));case 13:(t=this.mBt)!==FY.Ly&&t!==FY.lBt&&t!==FY.dBt||(!this.nEt&&this.yBt.length?this.DBt():this.nEt?(this.EBt=!1,this.gBt.Qy()):(this.vwt(),this.RD.Qy()),this.mBt=FY.ey);case 15:case"end":return n.stop()}},null,this,null,Ge)},e.Jy=function(){this.mBt===FY.ey&&(this.gBt.Jy(),this.mBt=FY.Ly)},e.zIt=function(){this._Bt.zIt()},e.WD=function(){this.mBt=FY.lBt,this._Bt.WD(),this.Hz=uy.G_,this.Ks(new Xy(this.sy,uy.G_))},e.Zy=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this._Bt&&(this._Bt.qD(),this.LBt(!1),this.oNt.Zy(),this.mBt=FY.dBt,this.bBt=!1,this.nEt&&(this._Bt.tRt(this.nEt.zmt),this.nEt=void 0)),this.Bq=!1,this.EBt=!0,Zs(this.yBt),this.fwt.t_===this&&(this.vwt(),this.RD.lm()),Zs(this.IBt),t.next=8,Ur.awrap(this.gBt.Zy());case 8:return t.next=10,Ur.awrap(this.WRt.wc());case 10:case"end":return t.stop()}},null,this,null,Ge)},e.IA=function(){this.gBt.wNt(),this.oNt.wNt()},e.hm=function(){this.WRt.hm(),this.NBt()},e._m=function(t){return!("ended"!==t.type||!this._Bt||!this._Bt.UIt(-1))&&(this._Bt.qIt().then(Z),!0)},e.MBt=function(){return this.gBt.gNt},e.lm=function(){},e.vm=function(){},e.fbt=function(t){var i;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ur.awrap(Dq.FNt(t,this.DE,this.Cdt));case 2:if(!(i=e.sent).length){e.next=7;break}this._Bt.KIt(i),e.next=11;break;case 7:return"Ads could not be loaded.",this.Cdt.Ks(EV.Vdt(new bV(mV.ADBLOCK,pV.FILE_NOT_FOUND),"Ads could not be loaded.")),this.Ydt?(this.FEt=new lf(n.ErrorCode.AD_BLOCKER_DETECTED,"Ads could not be loaded."),this.MEt=wm(this.FEt),this.Ks(new Vy(this.FEt))):this.Bq&&!this.nEt&&0===this.yBt.length&&this.FBt(),e.abrupt("return");case 11:this.Hz=uy.W_,this.Ks(new Xy(this.sy,this.Hz)),this.Cdt.Ks(new Cq),this.fwt.t_===this||this.fwt.wy||this._Bt.$It(this.RD.sy),this.mBt!==FY.NOT_INITIALISED&&this.mBt!==FY.dBt||this.WD();case 16:case"end":return e.stop()}},null,this,null,Ge)},e.DBt=function(){var t;return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.mBt!==FY.vBt){n.next=2;break}return n.abrupt("return");case 2:if(this.SBt){n.next=21;break}if(this.SBt=!0,this.mBt=FY.vBt,t=this.nEt,this.UBt(),!this.nEt){n.next=17;break}return n.next=11,Ur.awrap(this.nEt.zmt.kIt(this.Cdt));case 11:return this.jBt()||(this.SBt=!1),this.Cdt.Ks(new Rq(this.HBt(this.nEt))),n.next=15,Ur.awrap(this.XBt());case 15:n.next=21;break;case 17:null!=t&&t.zmt.TIt()&&this.Cdt.Ks(new jG(this.HBt(t))),this.SBt=!1,this.mBt=FY.lBt,this.FBt();case 21:case"end":return n.stop()}},null,this,null,Ge)},e.FBt=function(){this.vwt(),this.RD.lm(),this.RD.oy?this.RD.Ks(new By(this.RD.sy)):this.fwt.Qy()},e.UBt=function(){var t;if(this.nEt&&this.jBt())t=this.nEt.zmt;else{if(0===this.yBt.length)return;t=this.yBt.shift()}if(t){var n=t.kwt(!0);n?this.nEt=n:(this.nEt&&(this._Bt.tRt(this.nEt.zmt),this.nEt=void 0),this.nEt=void 0)}},e.XBt=function(){var t,n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(t=this.VBt())){i.next=13;break}if(this.nEt){i.next=4;break}return i.abrupt("return");case 4:return this.pBt=t,this.zBt(this.nEt.Wwt),this.WBt($V.d_t),n=this.pBt.kwt(),this.nEt.zmt.TIt()&&(this.oNt.cNt(),1===this.nEt.zmt.wyt&&this.Cdt.Ks(new FG(this.HBt(this.nEt)))),i.next=11,Ur.awrap(this.dNt(n));case 11:i.next=17;break;case 13:this.mBt=FY.lBt,this.SBt=!1,this.nEt=void 0,this.DBt();case 17:case"end":return i.stop()}},null,this,null,Ge)},e.dNt=function(t){var n,i,e,r,s,u,o,a,h;return Ur.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(!t){c.next=30;break}if(n=Boolean(t.Dwt),i=Boolean(t.xwt),e=Boolean(t.Pwt),t.Pwt)for(r=0,s=t.Pwt.lgt;r<s.length;r++)u=s[r],n?this.gBt.fNt(u):i&&this.oNt.fNt(u);if(o=this.nEt,!t.Dwt){c.next=14;break}return t.Dwt.rgt=o,void 0!==o.Cpt.skipOffset&&(a=AW.wpt(o.Cpt.skipOffset,t.Dwt.uy))<t.Dwt.uy&&(t.Dwt.l_t=a),this.oNt.cNt(),this.lwt(),c.next=13,Ur.awrap(this.gBt.dNt(t.Dwt,t.Au,{width:this.RD.Em.offsetWidth,height:this.RD.Em.offsetHeight},t.Bwt));case 13:n=!0;case 14:if(!t.xwt){c.next=21;break}return t.xwt.zwt[0].rgt=o,void 0!==o.Cpt.skipOffset&&(t.xwt.zwt[0].rgt.l_t=AW.wpt(o.Cpt.skipOffset,this.RD.uy)),n&&this.gBt.mNt(),c.next=20,Ur.awrap(this.oNt.dNt(t.xwt,t.Au,{width:this.RD.Em.offsetWidth,height:this.RD.Em.offsetHeight},t.Bwt));case 20:i=!0;case 21:if(n&&(this.mBt=FY.ey,this.gBt.lm(),h=!(this.nwt&&0===this.nwt.timeOffset),this.EBt=h,this.WRt.Jy(),this.gBt.Qy(),this.RD.Jy(),this.RD.vm(),this.lwt(),this.Hz=uy.q_,this.Ks(new Xy(this.sy,uy.q_)),this.gBt.$Rt()),i&&(this.mBt=FY.ey,this.oNt.lm(),this.oNt.$Rt()),(n||i||e)&&this.GBt(t.Owt),n||i){c.next=27;break}return c.next=27,Ur.awrap(this.qBt());case 27:!n&&i&&(this.jBt()||this.yBt.length>0?this.DBt():(this.FBt(),this.nEt=o)),c.next=36;break;case 30:if(null!==t){c.next=35;break}return c.next=33,Ur.awrap(this.qBt());case 33:c.next=36;break;case 35:this.LBt(!0);case 36:case"end":return c.stop()}},null,this,null,Ge)},e.qBt=function(){var t=this.pBt;return this.dNt(t&&t.kwt())},e.LBt=function(t){this.WBt($V.w_t),this.$Bt(),this.mBt=FY.lBt;var n=this.nEt&&this.nEt.zmt.kwt(!1);if(this.SBt=!1,n)t&&(this.mBt=FY.lBt,this.DBt());else{if(this.fwt.t_!==this)return;this.RD.lm(),!this.RD.oy&&t&&this.RD.Qy(),this.vwt()}},e.vwt=function(){this.YBt(),t.prototype.vwt.call(this)},e.YBt=function(){this.RD.oy&&(this.mBt=FY.dBt),this.nEt&&(this.nEt.zmt.TIt()&&this.Cdt.Ks(new jG(this.HBt(this.nEt))),this._Bt.tRt(this.nEt.zmt),this.nEt=void 0)},e.zBt=function(t){this.kBt=this.kBt.concat(t)},e.$Bt=function(){this.kBt=[]},e.BBt=function(t){this.RD.Em.appendChild(t)},e.WBt=function(t){for(var n=0,i=this.kBt;n<i.length;n++){var e=i[n];e.W_t===t&&OV(e.eventURL)}},e.GBt=function(t){this.gBt.vRt($V.B_t);for(var n=0;n<t.length;n++){var i=t[n];OV(i)}},e.jBt=function(){if(!this.nEt)return!1;var t=this.VBt();if(t)for(;t.kwt();)if(t._wt.Dwt)return!0;return!1},e.VBt=function(){if(this.nEt)return JW.ISt(this.nEt)},e.HBt=function(t){var n=new ZW(this,this.RD);return new KW(t,n)},e.kNt=function(){return this.TBt||(this.TBt=new ZW(this,this.RD)),this.TBt},e.dm=function(){return this.WRt.dm()},e.gm=function(){return this.WRt.gm()},e.xdt=function(t){this._Bt.xdt(t)},e.Kc=function(){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ur.awrap(t.prototype.Kc.call(this));case 2:return this.RD.au("play",this.NBt),this.fwt.ym(this),this.Cdt.iP(this.gBt.Cdt),this.Cdt.iP(this.oNt.Cdt),this.Cdt.iP(this._Bt),this.gBt.Kc(),this.oNt.Kc(),n.next=11,Ur.awrap(this.WRt.Kc());case 11:case"end":return n.stop()}},null,this,null,Ge)},T(i,[{key:"pNt",get:function(){return this.nEt}},{key:"Ndt",get:function(){return i.Ndt}},{key:"sy",get:function(){return this.gBt.gNt?this.gBt.sy:this.RD.sy},set:function(t){}},{key:"uy",get:function(){return this.gBt.uy}},{key:"Em",get:function(){return this.RD.Em}},{key:"oy",get:function(){return this.gBt.oy}},{key:"Au",get:function(){return this.MEt}},{key:"ly",get:function(){return this.FEt}},{key:"vy",get:function(){return this.gBt.vy},set:function(t){this.vy!==t&&(this.gBt.vy=t,this.Ks(new Uy(this.sy,this.by)))}},{key:"Bm",get:function(){return!0}},{key:"wy",get:function(){return this.gBt.wy}},{key:"m_",get:function(){return this.Hz}},{key:"Fm",get:function(){return TS.RC().oD()}},{key:"yy",get:function(){return 0}},{key:"py",get:function(){return 0}},{key:"by",get:function(){return this.gBt.by},set:function(t){this.by!==t&&(this.gBt.by=t,this.Ks(new Uy(this.sy,this.by)))}},{key:"nwt",get:function(){return this.nEt?this.HBt(this.nEt).kSt():null}},{key:"twt",get:function(){if(!this.nEt)return[];var t=[];if(this.gBt.Dwt){var n=this.gBt.Dwt;t.push(new oG(n,this.gBt.bNt,this.nEt,this.kNt(),this.gBt.uNt).kSt())}if(this.oNt.Cwt){var i=this.oNt.Cwt.zwt[0];i&&t.push(new uG(i,this.oNt.bNt,this.nEt,this.kNt(),this.oNt.uNt).kSt())}return t}},{key:"iwt",get:function(){for(var t=this._Bt?this.yBt.concat(this._Bt.iwt.filter(function(t){return!t.AIt()})).map(function(t){return t.NSt}):[],n=[],i=0;i<t.length;i++)for(var e=t[i],r=0;r<e.length;r++){var s=e[r];n=n.concat(this.ABt.ESt(s))}return n}},{key:"ewt",get:function(){var t=this;return this._Bt.iwt.map(function(n){for(var i=[],e=0,r=0,s=n.NSt;r<s.length;r++){var u=s[r];i=i.concat(t.ABt.ESt(u))}return i.forEach(function(t){t.duration&&(e+=t.duration)}),{timeOffset:n.Vk,maxDuration:e,maxRemainingDuration:e,ads:i}})}}],[{key:"Ndt",get:function(){return GW.fSt}}]),i}(PV),XY=function(){function t(){}var n=t.prototype;return n.AP=function(t){return t&&("string"!=typeof t.integration||t.integration===qS.DEFAULT||t.integration===qS.THEO)},n.Idt=function(t,n,i,e,r,s,u,o,a,h){var c=new NS(a,e,o,u,h,s);return new HY(t,c,n,i,e,u,o)},n.Pe=function(t,n,i,e){i.ZSt(t,n,e)},n.vO=function(t){var n=RW(t.sources);if(n){var i={integration:qS.THEO,sources:n};"vast"===i.sources.type&&void 0===t.timeOffset?t.timeOffset=0:"vmap"===i.sources.type&&void 0!==t.timeOffset&&at("property timeOffset will be ignored for vmap ad sources");var e=DW(t.timeOffset);void 0!==e&&(i.timeOffset=e);var r=DW(t.skipOffset);return void 0!==r&&(i.skipOffset=r),i}},T(t,[{key:"Edt",get:function(){return HY.Ndt}}]),t}();sE.qn.TP(new XY);var VY=function(){function t(t,n){this.xEt=void 0,this.nRt=void 0,this.$J=void 0,this.QBt=void 0,this.$J=t;var i,e=s.createElement("div");e.className="theoplayer-ima-wrapper",fr(e),e.style.zIndex="10",F.dn&&(i="mousedown",e.addEventListener(i,or)),n.appendChild(e);var r=s.createElement("div");r.className="theoplayer-ima",r.style.height="100%",this.QBt=r,e.appendChild(r),this.nRt=e}var n=t.prototype;return n.LL=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.xEt=new google.ima.AdDisplayContainer(this.QBt,this.$J),this.xEt.initialize();case 2:case"end":return t.stop()}},null,this,null,Ge)},n.JBt=function(t){"linear"===t?this.nRt.style.marginTop="0px":"nonlinear"===t&&(this.nRt.style.marginTop="-45px")},n.lm=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.nRt.style.opacity="1",this.nRt.style.pointerEvents="";case 2:case"end":return t.stop()}},null,this,null,Ge)},n.vm=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.nRt.style.opacity="0",this.nRt.style.pointerEvents="none";case 2:case"end":return t.stop()}},null,this,null,Ge)},n.Us=function(){var t;return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:null==(t=this.xEt)||t.destroy(),this.xEt=void 0;case 2:case"end":return n.stop()}},null,this,null,Ge)},T(t,[{key:"dRt",get:function(){return this.nRt}},{key:"ZBt",get:function(){return this.QBt.offsetHeight}},{key:"KBt",get:function(){return this.QBt.offsetWidth}},{key:"tLt",get:function(){return this.xEt}}]),t}();function zY(){return[google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.DURATION_CHANGE,google.ima.AdEvent.Type.EXPANDED_CHANGED,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.IMPRESSION,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.RESUMED,google.ima.AdEvent.Type.AD_PROGRESS,google.ima.AdEvent.Type.AD_BUFFERING,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.THIRD_QUARTILE,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.USER_CLOSE,google.ima.AdEvent.Type.LINEAR_CHANGED,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.AD_CAN_PLAY,google.ima.AdEvent.Type.AD_METADATA,google.ima.AdEvent.Type.AD_BREAK_READY,google.ima.AdEvent.Type.INTERACTION,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.SKIPPED,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,google.ima.AdEvent.Type.LOG,google.ima.AdEvent.Type.VIEWABLE_IMPRESSION,google.ima.AdEvent.Type.VOLUME_CHANGED,google.ima.AdEvent.Type.VOLUME_MUTED]}var WY=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).rTt=void 0,r.xEt=void 0,r.rq=void 0,r.nLt=function(t){t.getAd().isLinear()?r.xEt.JBt("linear"):r.xEt.JBt("nonlinear")},r.iLt=function(){r.rTt.resize(r.xEt.KBt,r.xEt.ZBt,google.ima.ViewMode.NORMAL)},r.forwardAdEventListener=function(t){var n,i,e=t.getAd(),s=(n=t.type,((i={})[google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED]=LW.$bt,i[google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED]=LW.Ybt,i[google.ima.AdEvent.Type.CLICK]=LW.Qbt,i[google.ima.AdEvent.Type.DURATION_CHANGE]=LW.Cf,i[google.ima.AdEvent.Type.EXPANDED_CHANGED]=LW.Jbt,i[google.ima.AdEvent.Type.STARTED]=LW.Zbt,i[google.ima.AdEvent.Type.IMPRESSION]=LW.Kbt,i[google.ima.AdEvent.Type.PAUSED]=LW.Ly,i[google.ima.AdEvent.Type.RESUMED]=LW.tAt,i[google.ima.AdEvent.Type.AD_PROGRESS]=LW.Xbt,i[google.ima.AdEvent.Type.AD_BUFFERING]=LW.nAt,i[google.ima.AdEvent.Type.FIRST_QUARTILE]=LW.iAt,i[google.ima.AdEvent.Type.MIDPOINT]=LW.N_t,i[google.ima.AdEvent.Type.THIRD_QUARTILE]=LW.eAt,i[google.ima.AdEvent.Type.COMPLETE]=LW.D_t,i[google.ima.AdEvent.Type.USER_CLOSE]=LW.rAt,i[google.ima.AdEvent.Type.LINEAR_CHANGED]=LW.sAt,i[google.ima.AdEvent.Type.LOADED]=LW.uAt,i[google.ima.AdEvent.Type.AD_CAN_PLAY]=LW.oAt,i[google.ima.AdEvent.Type.AD_METADATA]=LW.aAt,i[google.ima.AdEvent.Type.AD_BREAK_READY]=LW.hAt,i[google.ima.AdEvent.Type.INTERACTION]=LW.cAt,i[google.ima.AdEvent.Type.ALL_ADS_COMPLETED]=LW.fAt,i[google.ima.AdEvent.Type.SKIPPED]=LW.lAt,i[google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED]=LW.vAt,i[google.ima.AdEvent.Type.LOG]=LW.dAt,i[google.ima.AdEvent.Type.VIEWABLE_IMPRESSION]=LW.wAt,i[google.ima.AdEvent.Type.VOLUME_CHANGED]=LW.gAt,i[google.ima.AdEvent.Type.VOLUME_MUTED]=LW._At,i)[n]),u={type:s,date:new Date,jdt:e?HW(e):void 0,cTt:XW(s,t.getAdData())};r.Ks(u)},r.forwardAdErrorEventListener=function(t){r.Ks({date:new Date,jdt:void 0,type:MW.yAt,cTt:{vTt:WW(t.getError())}})},r.rTt=n,r.xEt=i,r.rq=e,r.rq.tu("qx",r.iLt),r.rTt.init(r.xEt.KBt,r.xEt.ZBt,google.ima.ViewMode.NORMAL),r.rTt.addEventListener(google.ima.AdEvent.Type.LOADED,r.nLt),r.rTt.addEventListener(zY(),r.forwardAdEventListener),r.rTt.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,r.forwardAdErrorEventListener),r}E(n,t);var i=n.prototype;return i.bM=function(t){var n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:null==(n=this.rTt)||n.setVolume(t);case 1:case"end":return i.stop()}},null,this,null,Ge)},i.kM=function(){return this.rTt.getVolume()},i.hSt=function(){return this.rTt.getRemainingTime()},i.Us=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.rq.au("qx",this.iLt),this.rTt.removeEventListener(google.ima.AdEvent.Type.LOADED,this.nLt),this.rTt.removeEventListener(zY(),this.forwardAdEventListener),this.rTt.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.forwardAdErrorEventListener),this.rTt.destroy();case 5:case"end":return t.stop()}},null,this,null,Ge)},i.WD=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.rTt.start();case 1:case"end":return t.stop()}},null,this,null,Ge)},i.nIt=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.rTt.resume();case 1:case"end":return t.stop()}},null,this,null,Ge)},i.Jy=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.rTt.pause();case 1:case"end":return t.stop()}},null,this,null,Ge)},i.IA=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.rTt.skip();case 1:case"end":return t.stop()}},null,this,null,Ge)},i.Zy=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.rTt.stop();case 1:case"end":return t.stop()}},null,this,null,Ge)},i.fTt=function(){var t=this.rTt.getCurrentAd();if(t)return HW(t)},i.sIt=function(){return this.rTt.getCuePoints()},i.vIt=function(t){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:this.rTt.updateAdsRenderingSettings($Y(t));case 1:case"end":return n.stop()}},null,this,null,Ge)},n}(Su),GY=function(t){function n(n,i){var e;return(e=t.call(this,"ZEt")||this).eLt=void 0,e.nRt=void 0,e.eLt=n,e.nRt=i,e}return E(n,t),T(n,[{key:"rLt",get:function(){return this.eLt}},{key:"dRt",get:function(){return this.nRt}}]),n}(Iu),qY=function(t){function n(n,i){var e;return(e=t.call(this)||this).OEt=void 0,e.rq=void 0,e.sLt=void 0,e.uLt=void 0,e.oLt=void 0,e.aLt=void 0,e.onAdsManagerLoadedListener=function(t){if(e.oLt&&e.aLt&&e.uLt){var n,i=$Y(e.aLt),r=e.oLt,s=t.getAdsManager({get currentTime(){return r.sy},get duration(){return r.uy}},i),u=new WY(s,e.sLt,e.rq);e.Ks(new GY(s,e.sLt.dRt)),null==(n=e.uLt)||n.Yu(u),e.uLt=void 0}},e.onAdsManagerErrorListener=function(t){var n,i={mu:t.getError().getMessage(),Gbt:t.getError().getVastErrorCode(),Udt:t.getError().getErrorCode(),gs:VW(t.getError().getType()),qbt:void 0};null==(n=e.uLt)||n.Qu(i),e.uLt=void 0},e.rq=i,e.sLt=n,e}E(n,t);var i=n.prototype;return i.iIt=function(){var t;return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:null==(t=this.OEt)||t.contentComplete();case 1:case"end":return n.stop()}},null,this,null,Ge)},i.fbt=function(t,n,i){var e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!this.uLt){r.next=2;break}throw new l("Only one ImaAdsRequest can be made at a time.");case 2:if(this.sLt.tLt){r.next=4;break}throw new l("AdDisplayContainer is not initialized.");case 4:return this.OEt=new google.ima.AdsLoader(this.sLt.tLt),this.OEt.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoadedListener),this.OEt.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdsManagerErrorListener),this.uLt=new na,this.oLt=n,this.aLt=i,e=new google.ima.AdsRequest,t.lkt?e.adTagUrl=t.lkt:t.vkt&&(e.adsResponse=t.vkt),e.linearAdSlotWidth=t.ukt,e.linearAdSlotHeight=t.okt,e.nonLinearAdSlotWidth=t.akt,e.nonLinearAdSlotHeight=t.hkt,e.setAdWillAutoPlay(t.ckt),e.setAdWillPlayMuted(t.fkt),t.dkt&&(e.omidAccessModeRules=t.dkt),this.OEt.requestAds(e),r.abrupt("return",this.uLt.Wu);case 21:case"end":return r.stop()}},null,this,null,Ge)},i.Us=function(){var t,n,i,e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:null==(t=this.OEt)||t.removeEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoadedListener),null==(n=this.OEt)||n.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdsManagerErrorListener),null==(i=this.OEt)||i.destroy(),this.OEt=void 0,null==(e=this.uLt)||e.Qu("AdsLoader destroyed"),this.uLt=void 0;case 6:case"end":return r.stop()}},null,this,null,Ge)},n}(Su);function $Y(t){var n=new google.ima.AdsRenderingSettings;return n.enablePreloading=t.cIt,t.Obt&&(n.uiElements=t.Obt),n.mimeTypes=t.hIt,void 0!==t.lIt&&(n.playAdsAfterTime=t.lIt),void 0!==t.fIt&&(n.loadVideoTimeout=t.fIt),void 0!==t.YSt&&(n.bitrate=t.YSt),void 0!==t.lIt&&(n.playAdsAfterTime=t.lIt),n.restoreCustomPlaybackStateOnAdBreakComplete=!0,n}var YY=function(t){function n(n){var i;return(i=t.call(this)||this).hLt=void 0,i.BD=void 0,i.BD=n,i.hLt=i.BD.sy,i.BD.tu("timeupdate",function(){i.BD._y||(i.hLt=i.BD.sy),i.Ks(new xy(i.sy,void 0))}),i}return E(n,t),n.prototype.wc=function(){this.hLt=0},T(n,[{key:"sy",get:function(){return this.BD._y?this.hLt:this.BD.sy}},{key:"uy",get:function(){return this.BD.uy}},{key:"vy",get:function(){return this.BD.vy}},{key:"by",get:function(){return this.BD.by}}]),n}(Su);ZG.qn.registerWebImaAdPlayerConstructor(function(t,n,i,e,r){YG(e);var s=QG(e)?t.dm():void 0,u=new VY(s,t.Em),o=new qY(u,i),a=new YY(t);return new JG(t,n,i,e,r,u,o,a)});var QY=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},JY=function(){function t(){this.internalDict={}}var n=t.prototype;return n.register=function(t){this.internalDict[t.uid]=t},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),ZY={exports:{}};!function(t,n){function i(t,n){var i=[],e=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,i.indexOf(n)).join(".")+"]"}),function(r,s){if(i.length>0){var u=i.indexOf(this);~u?i.splice(u+1):i.push(this),~u?e.splice(u,1/0,r):e.push(r),~i.indexOf(s)&&(s=n.call(this,r,s))}else i.push(s);return null==t?s:t.call(this,r,s)}}(t.exports=function(t,n,e,r){return JSON.stringify(t,i(n,r),e)}).getSerialize=i}(ZY,ZY.exports);var KY=ZY.exports;function tQ(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function nQ(t){return JSON.stringify(t,ZY.exports.getSerialize(tQ))}var iQ={},eQ={};!function(t){w.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=r&&t<=55295||t===i||t===e||t===n||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=s,t.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(eQ);var rQ={};!function(t){w.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.RESTRICTED_CHAR_RE=new RegExp("^["+t.RESTRICTED_CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},t.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=s,t.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(rQ);var sQ={};!function(t){function n(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}w.defineProperty(t,"__esModule",{value:!0}),t.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NC_NAME_CHAR="-"+t.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.NC_NAME_START_CHAR_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]$","u"),t.NC_NAME_CHAR_RE=new RegExp("^["+t.NC_NAME_CHAR+"]$","u"),t.NC_NAME_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]["+t.NC_NAME_CHAR+"]*$","u"),t.isNCNameStartChar=n,t.isNCNameChar=function(t){return n(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(sQ),w.defineProperty(iQ,"__esModule",{value:!0});var uQ=eQ.isS,oQ=eQ.isChar,aQ=eQ.isNameStartChar,hQ=eQ.isNameChar,cQ=eQ.S_LIST,fQ=eQ.NAME_RE,lQ=rQ.isChar,vQ=sQ.isNCNameStartChar,dQ=sQ.isNCNameChar,wQ=sQ.NC_NAME_RE;const gQ="http://www.w3.org/XML/1998/namespace",_Q="http://www.w3.org/2000/xmlns/",yQ={__proto__:null,xml:gQ,xmlns:_Q},mQ={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},pQ=-1,kQ=-2,bQ=0,AQ=1,TQ=2,SQ=3,EQ=4,IQ=5,RQ=6,NQ=7,DQ=8,CQ=9,PQ=10,OQ=11,xQ=12,BQ=13,LQ=14,MQ=15,FQ=16,UQ=17,jQ=18,HQ=19,XQ=20,VQ=21,zQ=22,WQ=23,GQ=24,qQ=25,$Q=26,YQ=27,QQ=28,JQ=29,ZQ=30,KQ=31,tJ=32,nJ=33,iJ=34,eJ=35,rJ=36,sJ=37,uJ=38,oJ=39,aJ=40,hJ=41,cJ=42,fJ=43,lJ=44,vJ=9,dJ=10,wJ=13,gJ=32,_J=33,yJ=38,mJ=45,pJ=47,kJ=59,bJ=60,AJ=61,TJ=62,SJ=63,EJ=91,IJ=93,RJ=133,NJ=8232,DJ=t=>34===t||39===t,CJ=[34,39],PJ=[...CJ,EJ,TJ],OJ=[...CJ,bJ,IJ],xJ=[AJ,SJ,...cQ],BJ=[...cQ,TJ,yJ,bJ];function LJ(t,n,i){switch(n){case"xml":i!==gQ&&t.fail(`xml prefix must be bound to ${gQ}.`);break;case"xmlns":i!==_Q&&t.fail(`xmlns prefix must be bound to ${_Q}.`)}switch(i){case _Q:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${_Q}.`);break;case gQ:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const MJ=t=>wQ.test(t),FJ=t=>fQ.test(t),UJ=0,jJ=1,HJ=2;iQ.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const XJ={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};var VJ=iQ.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=vQ,this.nameCheck=dQ,this.isName=MJ,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=w.assign({__proto__:null},yQ);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of w.keys(n))LJ(t,i,n[i])}(this,t),w.assign(this.ns,t))}else this.nameStartCheck=aQ,this.nameCheck=hQ,this.isName=FJ,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.Ao}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=UJ,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?BQ:bQ,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new l("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.Ao=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=w.create(mQ),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[XJ[t]]=n}off(t){this[XJ[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new l(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const e=t.charCodeAt(i-1);!n&&(e===wJ||e>=55296&&e<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:r}=this;for(this.chunk=t,this.i=0;this.i<i;)r[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return pQ;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=gJ||i===vJ)return i;switch(i){case dJ:return this.line++,this.column=0,this.positionAtNewLine=this.position,dJ;case wJ:return t.charCodeAt(n+1)===dJ&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,kQ;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return pQ;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==NJ||i===vJ)return i;switch(i){case dJ:return this.line++,this.column=0,this.positionAtNewLine=this.position,dJ;case wJ:{const i=t.charCodeAt(n+1);i!==dJ&&i!==RJ||(this.i=n+2)}case RJ:case NJ:return this.line++,this.column=0,this.positionAtNewLine=this.position,kQ;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCodeNorm(){const t=this.getCode();return t===kQ?dJ:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const e=this.getCode(),r=e===kQ,s=r?dJ:e;if(s===pQ||t.includes(s))return this.text+=i.slice(n,this.prevI),s;r&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let e=this.getCode();switch(e){case kQ:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,e=dJ;break;case pQ:return this.text+=i.slice(n),!1}if(e===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===pQ)return this.name+=t.slice(n),pQ;if(!hQ(i))return this.name+=t.slice(n,this.prevI),i===kQ?dJ:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===pQ||!uQ(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=oQ,this.getCode=this.getCode10):(this.isChar=lQ,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=AQ}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case bJ:if(this.state=MQ,0!==this.text.length)throw new l("no-empty text at start");break;case pQ:break;default:this.unget(),this.state=BQ,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(PJ);switch(n){case TJ:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=BQ,this.doctype=!0;break;case pQ:break;default:this.text+=String.fromCodePoint(n),n===EJ?this.state=EQ:DJ(n)&&(this.state=SQ,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=TQ)}sDTD(){const t=this.captureTo(OJ);t!==pQ&&(this.text+=String.fromCodePoint(t),t===IJ?this.state=TQ:t===bJ?this.state=RQ:DJ(t)&&(this.state=IQ,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=EQ,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case _J:this.state=NQ,this.openWakaBang="";break;case SJ:this.state=OQ;break;default:this.state=EQ}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?DQ:EQ,this.openWakaBang="")}sDTDComment(){this.captureToChar(mJ)&&(this.text+="-",this.state=CQ)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===mJ?PQ:DQ}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===TJ?this.state=EQ:(this.fail("malformed comment."),this.state=DQ)}sDTDPI(){this.captureToChar(SJ)&&(this.text+="?",this.state=xQ)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===TJ&&(this.state=EQ)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case kQ:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case kJ:{const{entityReturnState:i}=this,e=this.entity+n.slice(t,this.prevI);let r;this.state=i,""===e?(this.fail("empty entity name."),r="&;"):(r=this.parseEntity(e),this.entity=""),i===BQ&&void 0===this.textHandler||(this.text+=r);break t}case pQ:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(aQ(t))this.state=iJ,this.unget(),this.xmlDeclPossible=!1;else switch(t){case pJ:this.state=fJ,this.xmlDeclPossible=!1;break;case _J:this.state=FQ,this.openWakaBang="",this.xmlDeclPossible=!1;break;case SJ:this.state=WQ;break;default:this.fail("disallowed character in tag name"),this.state=BQ,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=XQ,this.openWakaBang="";break;case"--":this.state=UQ,this.openWakaBang="";break;case"DOCTYPE":this.state=TQ,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(mJ)&&(this.state=jQ)}sCommentEnding(){var t;const n=this.getCodeNorm();n===mJ?(this.state=HQ,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=UQ)}sCommentEnded(){const t=this.getCodeNorm();t!==TJ?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=UQ):this.state=BQ}sCData(){this.captureToChar(IJ)&&(this.state=VQ)}sCDataEnding(){const t=this.getCodeNorm();t===IJ?this.state=zQ:(this.text+=`]${String.fromCodePoint(t)}`,this.state=XQ)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case TJ:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=BQ;break;case IJ:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=XQ}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=GQ):t===SJ||uQ(t)?(this.fail("processing instruction without a target."),this.state=t===SJ?$Q:qQ):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=GQ)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const i=this.getCodeNorm();if(i===pQ)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(i)){this.piTarget+=t.slice(n,this.prevI);const e=i===SJ;e||uQ(i)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?nJ:YQ):this.state=e?$Q:qQ:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(i));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===SJ?this.state=$Q:uQ(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(SJ)&&(this.state=$Q)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===TJ){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=BQ}else n===SJ?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=qQ);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==SJ?t!==pQ&&(this.state=QQ,this.name=String.fromCodePoint(t)):this.state=nJ}sXMLDeclName(){const t=this.captureTo(xJ);if(t===SJ)return this.state=nJ,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(uQ(t)||t===AJ){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===AJ?ZQ:JQ}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===SJ)return this.state=nJ,void this.fail("XML declaration is incomplete.");uQ(t)||(t!==AJ&&this.fail("value required."),this.state=ZQ)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===SJ)return this.state=nJ,void this.fail("XML declaration is incomplete.");uQ(t)||(DJ(t)?this.q=t:(this.fail("value must be quoted."),this.q=gJ),this.state=KQ)}sXMLDeclValue(){const t=this.captureTo([this.q,SJ]);if(t===SJ)return this.state=nJ,this.text="",void this.fail("XML declaration is incomplete.");if(t===pQ)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=tJ}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==SJ?(uQ(t)||(this.fail("whitespace required."),this.unget()),this.state=YQ):this.state=nJ}sXMLDeclEnding(){var t;this.getCodeNorm()===TJ?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=BQ):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===pQ)return;const i=this.tag={name:this.name,attributes:w.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=i.ns=w.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,i),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case TJ:this.openTag();break;case pJ:this.state=eJ;break;default:uQ(n)||this.fail("disallowed character in tag name."),this.state=rJ}}sOpenTagSlash(){this.getCode()===TJ?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=rJ)}sAttrib(){const t=this.skipSpaces();t!==pQ&&(aQ(t)?(this.unget(),this.state=sJ):t===TJ?this.openTag():t===pJ?this.state=eJ:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===AJ?this.state=oJ:uQ(t)?this.state=uJ:t===TJ?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==pQ&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case pQ:return;case AJ:this.state=oJ;break;default:this.fail("attribute without value."),this.text="",this.name="",t===TJ?this.openTag():aQ(t)?(this.unget(),this.state=sJ):(this.fail("disallowed character in attribute name."),this.state=rJ)}}sAttribValue(){const t=this.getCodeNorm();DJ(t)?(this.q=t,this.state=aJ):uQ(t)||(this.fail("unquoted attribute value."),this.state=cJ,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=hJ);case yJ:return this.text+=n.slice(i,this.prevI),this.state=LQ,void(this.entityReturnState=aJ);case dJ:case kQ:case vJ:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case bJ:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case pQ:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();uQ(t)?this.state=rJ:t===TJ?this.openTag():t===pJ?this.state=eJ:aQ(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=sJ):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(BJ);switch(t){case yJ:this.state=LQ,this.entityReturnState=cJ;break;case bJ:this.fail("disallowed character.");break;case pQ:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===TJ?this.openTag():this.state=rJ}}sCloseTag(){const t=this.captureNameChars();t===TJ?this.closeTag():uQ(t)?this.state=lJ:t!==pQ&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case TJ:this.closeTag();break;case pQ:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:e}=this;t:for(;;)switch(this.getCode()){case bJ:if(this.state=MQ,void 0!==e){const{text:n}=this,r=i.slice(t,this.prevI);0!==n.length?(e(n+r),this.text=""):0!==r.length&&e(r)}n=UJ;break t;case yJ:this.state=LQ,this.entityReturnState=BQ,void 0!==e&&(this.text+=i.slice(t,this.prevI)),n=UJ;break t;case IJ:switch(n){case UJ:n=jJ;break;case jJ:n=HJ;break;case HJ:break;default:throw new l("impossible state")}break;case TJ:n===HJ&&this.fail('the string "]]>" is disallowed in char data.'),n=UJ;break;case kQ:void 0!==e&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=UJ;break;case pQ:void 0!==e&&(this.text+=i.slice(t));break t;default:n=UJ}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:i}=this;let e=!1;t:for(;;){const r=this.getCode();switch(r){case bJ:if(this.state=MQ,void 0!==i){const{text:e}=this,r=n.slice(t,this.prevI);0!==e.length?(i(e+r),this.text=""):0!==r.length&&i(r)}break t;case yJ:this.state=LQ,this.entityReturnState=BQ,void 0!==i&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case kQ:void 0!==i&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case pQ:void 0!==i&&(this.text+=n.slice(t));break t;default:uQ(r)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:e,local:r}=this.qname(t),s={name:t,prefix:e,local:r,value:n};if(this.attribList.push(s),null===(i=this.attributeHandler)||void 0===i||i.call(this,s),"xmlns"===e){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[r]=t,LJ(this,r,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,LJ(this,"",t)}}pushAttribPlain(t,n){var i;const e={name:t,value:n};this.attribList.push(e),null===(i=this.attributeHandler)||void 0===i||i.call(this,e)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==bQ&&this.state!==BQ&&this.fail("unexpected end.");const{text:e}=this;return 0!==e.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,e),this.text=""),this.Ao=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let e=this.topNS[t];if(void 0!==e)return e;const{tags:r}=this;for(let n=r.length-1;n>=0;n--)if(void 0!==(e=r[n].ns[t]))return e;return void 0!==(e=this.ns[t])?e:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),e=t.slice(0,n);return(""===e||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:e,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:e}=this.qname(i.name);i.prefix=n,i.local=e;const r=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===r&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:e}=i,r=new Set;for(const t of n){const{name:n,prefix:i,local:s}=t;let u,o;""===i?(u="xmlns"===n?_Q:"",o=n):(void 0===(u=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),u=i),o=`{${u}}${s}`),r.has(o)&&this.fail(`duplicate attribute: ${o}.`),r.add(o),t.uri=u,e[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:e}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=e;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=BQ,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:e}=this,r=this.tag;r.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),null===(n=this.closeTagHandler)||void 0===n||n.call(this,r),null===(this.tag=null!==(i=e[e.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=BQ,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=BQ,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let e=t.length;for(;e-- >0;){const e=this.tag=t.pop();if(this.topNS=e.ns,null==i||i(e),e.name===n)break;this.fail("unexpected close tag.")}0===e?this.closedRoot=!0:e<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=_(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=_(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}},zJ=function(){function t(){}return t.prototype.oi=function(t){var n=new VJ({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new JJ,e=[i];function r(t){e[e.length-1].Ci(t)}return n.on("text",function(t){e.length>1&&r(new YJ(t))}),n.on("cdata",function(t){r(new QJ(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,s=t.prefix,u=new qJ({wi:n,_i:""===i?void 0:i,cLt:""===s?void 0:s}),o=t.attributes,a=0,h=w.keys(o);a<h.length;a++){var c=o[h[a]],f=c.prefix,l=c.local,v=c.uri,d=c.value,g=new WJ({wi:l,Ti:d,_i:""===v?void 0:v,cLt:""===f?void 0:f});u.fLt(g)}r(u),e.push(u)}),n.on("closetag",function(){e.pop()}),n.on("error",function(t){throw new en(t)}),n.write(t).close(),i},t}(),WJ=function(){function t(t){this.lLt=void 0,this.vLt=void 0,this.dLt=void 0,this.ke=void 0,this.lLt=t.wi,this.ke=t.Ti,this.vLt=t._i,this.dLt=t.cLt}var n=t.prototype;return n.ci=function(t){return this===t||!!KJ(this,t)&&(this.lLt===t.lLt&&this.vLt===t.vLt&&this.dLt===t.dLt&&this.ke===t.ke)},n.di=function(){return new t({wi:this.wi,Ti:this.Ti,_i:this._i,cLt:this.Ai})},T(t,[{key:"Jn",get:function(){return $t.ni}},{key:"wi",get:function(){return this.lLt}},{key:"gi",get:function(){return void 0===this.dLt?this.lLt:this.dLt+":"+this.lLt}},{key:"_i",get:function(){return this.vLt}},{key:"Ai",get:function(){return this.dLt}},{key:"Ti",get:function(){return this.ke}}]),t}(),GJ=function(){function t(){this.Ei=[]}var n=t.prototype;return n.Ii=function(t){return this.Ei.filter(function(n){return ZJ(n)&&n.Ni===t})},n.Di=function(t,n){return this.Ei.filter(function(i){return ZJ(i)&&i.wi===n&&i._i===t})},n.Ci=function(t){this.Ei.push(t)},T(t,[{key:"Ri",get:function(){return this.Ei}},{key:"Oi",get:function(){return this.Ei.filter(ZJ)}}]),t}(),qJ=function(t){function n(n){var i;return(i=t.call(this)||this).lLt=void 0,i.vLt=void 0,i.dLt=void 0,i.wLt=[],i.lLt=n.wi,i.vLt=n._i,i.dLt=n.cLt,i}E(n,t);var i=n.prototype;return i.gLt=function(t){for(var n=0,i=this.Ri;n<i.length;n++){var e=i[n];ZJ(e)?e.gLt(t):t.push(e.Xi)}},i.Bi=function(t,n){for(var i=0,e=this.wLt;i<e.length;i++){var r=e[i];if(r.wi===n&&r._i===t)return r.Ti}},i.xi=function(t){for(var n=0,i=this.wLt;n<i.length;n++){var e=i[n];if(e.gi===t)return e.Ti}},i.fLt=function(t){this.wLt.push(t)},i.Li=function(t){for(var n=0;n<this.wLt.length;n++)if(this.wLt[n].gi===t)return void this.wLt.splice(n,1)},i.Mi=function(t,n){for(var i=0;i<this.wLt.length;i++)if(this.wLt[i].wi===n&&this.wLt[i]._i===t)return void this.wLt.splice(i,1)},i.Fi=function(t,n){this.Li(t),this.fLt(new WJ({wi:t,Ti:n}))},i.Ui=function(t,n,i){this.Li(n);var e=n.split(":");this.fLt(new WJ({wi:e[e.length-1],Ti:i,_i:t,cLt:e.length>1?e[0]:void 0}))},i.di=function(t){var i=new n({wi:this.wi,_i:this._i,cLt:this.Ai});return this.ji.forEach(function(t){return i.fLt(t.di())}),t&&this.Ri.forEach(function(n){return i.Ci(n.di(t))}),i},i.ci=function(t){return this===t||!!KJ(this,t)&&(this.lLt===t.lLt&&this.dLt===t.dLt&&this.vLt===t.vLt&&(tZ(this.ji,t.ji)&&tZ(this.Ri,t.Ri)))},T(n,[{key:"Jn",get:function(){return $t.Zn}},{key:"ji",get:function(){return this.wLt}},{key:"wi",get:function(){return this.lLt}},{key:"_i",get:function(){return this.vLt}},{key:"Ai",get:function(){return this.dLt}},{key:"Ni",get:function(){return void 0===this.dLt?this.lLt:this.dLt+":"+this.lLt}},{key:"Hi",get:function(){var t=[];return this.gLt(t),t.join("")}}]),n}(GJ),$J=function(){function t(t){this.Gi=void 0,this.Gi=t}return T(t,[{key:"Xi",get:function(){return this.Gi}}]),t}(),YJ=function(t){function n(n){return t.call(this,n)||this}E(n,t);var i=n.prototype;return i.di=function(){return new n(this.Xi)},i.ci=function(t){return this===t||!!KJ(this,t)&&this.Xi===t.Xi},T(n,[{key:"Jn",get:function(){return $t.Kn}}]),n}($J),QJ=function(t){function n(n){return t.call(this,n)||this}E(n,t);var i=n.prototype;return i.di=function(){return new n(this.Xi)},i.ci=function(t){return this===t||!!KJ(this,t)&&this.Xi===t.Xi},T(n,[{key:"Jn",get:function(){return $t.ei}}]),n}($J),JJ=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.di=function(t){var i=new n;return t&&this.Ri.forEach(function(n){return i.Ci(n.di(t))}),i},i.ci=function(t){return this===t||!!KJ(this,t)&&tZ(this.Ri,t.Ri)},T(n,[{key:"Jn",get:function(){return $t.ri}},{key:"Vi",get:function(){return this.Oi[0]}}]),n}(GJ);function ZJ(t){return Jt(t)}function KJ(t,n){return t.Jn===n.Jn}function tZ(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].ci(n[i]))return!1;return!0}var nZ,iZ=["adBreak"],eZ=["adBreak"];function rZ(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:jr({},t,{adBreak:jr({},t.adBreak,{ads:t.adBreak.ads.map(function(t){return t.adBreak,iA(t,iZ)})})})}function sZ(t){return void 0===t.ads?t:jr({},t,{ads:t.ads.map(function(t){return t.adBreak,iA(t,eZ)})})}function uZ(t){return"string"==typeof t.date?new Date(t.date):t.date}function oZ(t){var n;return t.cue.track?(n=hZ(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=hZ(t.cue,""),n}function aZ(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i&&w.keys(i).length){if(n.includes(i))return"[Circular ~]";n.push(i);var e=w.entries(i);return w.fromEntries(e.map(function(i){var e=i[0],r=i[1],s=t(r);return"object"==typeof r&&null!==r&&"[Circular ~]"!==s&&n.pop(r),[e,s]}))}return i}(t)}function hZ(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var e=0;e<i.length;e++){var r=i.item(e);return"image"===r.nodeName||"smpte:image"===r.nodeName?r:t(r)}}(t.content).innerHTML;for(var e=t.content,r={};e.firstChild&&e.firstChild.outerHTML;){(new zJ).oi(e.firstChild.outerHTML).Vi.ji.forEach(function(t){r[t.wi]=t.Ti}),e=e.firstChild}i.ttmlAttributes=r;break;case"daterange":var s={};for(var u in t.customAttributes){var o=t.customAttributes[u];if("object"==typeof(h=o)&&null!==h){var a=cZ(o);s[u]={type:nZ._Lt,value:a}}else lZ(o)?s[u]={type:nZ.mpt,value:o}:s[u]={type:nZ.XY,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=cZ(t.scte35Cmd),i.scte35Out=cZ(t.scte35Out),i.scte35In=cZ(t.scte35In),i.customAttributes=s}var h}(),i}function cZ(t){if(void 0!==t)return zu(t)}function fZ(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var e=0;e<t.cues.length;e++){var r=t.cues[e];i.push(hZ(r,t.type))}n.cues=i;var s=[];if(t.activeCues)for(var u=0;u<t.activeCues.length;u++){var o=t.activeCues[u];s.push(hZ(o,t.type))}n.activeCues=s}else"enabled"in t&&(n.enabled=t.enabled);return n}function lZ(t){return"number"==typeof t}!function(t){t.XY="daterange-ca-type_string",t.mpt="daterange-ca-type_number",t._Lt="daterange-ca-type_arraybuffer"}(nZ||(nZ={}));var vZ={cue:function(t){var n={};switch(n.date=uZ(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=oZ(t)}return n},textTrack:function(t){var n={};switch(n.date=uZ(t),n.type=t.type,t.type){case"addcue":var i=t.cue;_Z().register(i);var e=gZ()[yZ()].eventListeners;t.cue.addEventListener("enter",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){e.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=oZ(t);break;case"cuechange":for(var r=[],s=0;s<t.track.activeCues.length;s++){var u=t.track.activeCues[s];r.push(hZ(u,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n,i={track:fZ(t.track),date:uZ(t),type:t.type},e=null==(n=t.track)?void 0:n.cues,r=_Z();if(e)switch(t.type){case"addtrack":e.forEach(r.register);break;case"removetrack":e.forEach(function(t){return r.remove(t.uid)})}return i},default:function(t){var n={};switch(n.date=uZ(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case Bf.al:n.currentTime=t.currentTime,n.volume=t.volume;break;case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=jr({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=fZ(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=sZ(t.ad);break;case"adloaded":case"adimpression":n.ad=rZ(t.ad);break;case"adskip":n.ad=rZ(t.ad),n.playedPercentage=t.playedPercentage;break;case"aderror":t.Mdt&&(n.Mdt=t.Mdt),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=rZ(t.ad)}return aZ(n)},minimizeCueHelper:function(t){var n={};return n.date=uZ(t),n.type=t.type,n.cue=oZ(t),n.track={uid:t.cue.track.uid},n},adReplacer:rZ,adBreakReplacer:sZ,removeCircularReferences:aZ},dZ=function(){this.stringify=nQ,this.minimize=vZ};function wZ(){return we.self}function gZ(){return wZ().THEOplayerBridge}function _Z(){return wZ().THEOCueMirrorMap}function yZ(){return wZ().THEOplayerGlobalID}function mZ(){var t=wZ();if(t.THEOplayerBridge){var n=new QY;t.THEOplayerBridge=b_(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new QY;t.THEOplayerUtils||(t.THEOplayerUtils=new dZ),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new JY)}mZ();var pZ,kZ=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).type=n,e.detail=i,e}return E(n,t),n}(Iu),bZ=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Ks(new kZ(t,n))},i.addEventListener=function(t,n){this.tu(t,n)},i.removeEventListener=function(t,n){this.au(t,n)},n}(J_),AZ=function(t){function n(n,i){var e;return(e=t.call(this)||this).yLt=void 0,e.mLt=void 0,e.pLt=function(t){e.yLt.EJ("THEOplayerABRSetTargetBuffer",t.AL),e.Ks(t)},e.kLt=function(t){e.yLt.EJ("THEOplayerABRSetStrategy",t.SL),e.Ks(t)},e.yLt=n,e.mLt=i,e.mLt.tu("TL",e.pLt),e.mLt.tu("EL",e.kLt),e}return E(n,t),n.prototype.ML=function(t){return this.mLt.ML(t)},T(n,[{key:"UL",get:function(){var t;switch(this.SL.type){case mR.PERFORMANCE:return 1;case mR.QUALITY:return 0;case mR.BANDWIDTH:return null!=(t=this.SL.metadata)&&t.bitrate&&!m(this.SL.metadata.bitrate)?this.SL.metadata.bitrate:0;default:return 0}}},{key:"wg",get:function(){return this.mLt.wg}},{key:"SL",get:function(){return this.mLt.SL},set:function(t){this.mLt.SL=t}},{key:"AL",get:function(){return this.mLt.AL},set:function(t){this.mLt.AL=t}},{key:"FL",get:function(){return this.mLt.FL}},{key:"IL",get:function(){return this.mLt.IL},set:function(t){this.mLt.IL=t}},{key:"NL",get:function(){return this.mLt.NL}},{key:"yL",get:function(){return this.mLt.yL}}]),n}(Su),TZ=function(){function t(t,n,i){this.Mc=void 0,this.Es=void 0,this.ef=void 0,this.ac=void 0,this.Mc=t,this.Es=i,this.ef=n}var n=t.prototype;return n.LE=function(t){throw new l("Not implemented yet.")},n.HU=function(t,n){var i,e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Ur.awrap(this.Es.Ns(t._s,n));case 2:return i=r.sent,r.next=5,Ur.awrap(i.yc());case 5:return e=r.sent,r.next=8,Ur.awrap(this.XU(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,Ge)},n.VU=function(t){return!1},n.zU=function(t){return Ge.resolve(void 0)},n.Us=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ur.awrap(this.XU(void 0));case 2:case"end":return t.stop()}},null,this,null,Ge)},n.XU=function(t){var n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=this.GU(t),i.next=3,Ur.awrap(n);case 3:case"end":return i.stop()}},null,this,null,Ge)},n.GU=function(t){var n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(n=this.ac)){i.next=5;break}return i.next=4,Ur.awrap(n.dc(this.ef));case 4:this.ac=void 0;case 5:if(!t){i.next=9;break}return i.next=8,Ur.awrap(t.vc(this.ef));case 8:this.ac=t;case 9:case"end":return i.stop()}},null,this,null,Ge)},n.OE=function(t,n,i){throw new l("Not implemented yet.")},T(t,[{key:"cc",get:function(){return this.Mc}},{key:"Mm",get:function(){throw new l("Not implemented yet.")},set:function(t){throw new l("Not implemented yet.")}},{key:"Fm",get:function(){return new TS([0,1/0])}},{key:"$y",get:function(){throw new l("Not implemented yet.")}},{key:"bLt",get:function(){throw new l("Not implemented yet")}},{key:"qy",get:function(){throw new l("Not implemented yet.")}},{key:"ALt",get:function(){throw new l("Not implemented yet")}},{key:"TLt",get:function(){throw new l("Not implemented yet")}}]),t}();!function(t){t.SLt="webkitneedkey",t.ELt="webkitkeymessage",t.ILt="webkitkeyerror",t.RLt="webkitkeyflowdone"}(pZ||(pZ={}));var SZ=function(t){function n(n,i){var e;return(e=t.call(this,pZ.SLt)||this).initData=n,e.sessionId=i,e}return E(n,t),n}(Iu),EZ=function(t){function n(n,i){var e;return(e=t.call(this,pZ.ELt)||this).message=n,e.destinationURL=i,e}return E(n,t),n}(Iu),IZ=function(t){function n(){return t.call(this,pZ.ILt)||this}return E(n,t),n}(Iu),RZ=function(t){function n(){return t.call(this,pZ.RLt)||this}return E(n,t),n}(Iu),NZ=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).Tc=new na,u.Fc=void 0,u.Ic=new Lu,u.jc=new na,u.NLt=function(t){u.Fc?(u.Fc.Qu(void 0),u.Fc=void 0):u.Pc("internal-error"),u.Ks(new Pu)},u.DLt=function(t){u.Ks(new Cu(Kt(u),"license-request",Jo(t.message).buffer,t.destinationURL||void 0))},u.CLt=function(t){u.Fc&&(u.Fc.Yu(void 0),u.Fc=void 0)},u.xc=n,u.qh=i,u.PLt=e,u.nf=r,u.Xc=s,u}E(n,t);var i=n.prototype;return i.Jh=function(t,n,i){var e;return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i&&i.fairplay&&i.fairplay.Vc){t.next=3;break}throw new v("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,Ur.awrap(this.OLt(Yo(n),e));case 5:this.Pc("usable"),this.jc.Yu(),this.jc=new na;case 8:case"end":return t.stop()}},null,this,null,Ge)},i.Zh=function(t){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},null,null,null,Ge)},i.tc=function(t){var n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=Yo(t)).byteLength){i.next=3;break}throw new v("Cannot call update with an empty response.");case 3:return this.Fc=new na,this.PLt.tc(this.nf,n),i.abrupt("return",this.Fc.Wu);case 6:case"end":return i.stop()}},null,this,null,Ge)},i.Qh=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ur.awrap(this.jc);case 2:return this.PLt.au(pZ.ELt,this.DLt),this.PLt.au(pZ.ILt,this.NLt),this.PLt.au(pZ.RLt,this.CLt),this.jc.Ws(),this.Tc.Yu(void 0),t.abrupt("return",this.Tc.Wu);case 8:case"end":return t.stop()}},null,this,null,Ge)},i.Kh=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},null,null,null,Ge)},i.OLt=function(t,n){var i;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:i=ff(t,n,this.Xc),this.PLt.tu(pZ.ELt,this.DLt),this.PLt.tu(pZ.ILt,this.NLt),this.PLt.tu(pZ.RLt,this.CLt),this.PLt.VG(this.nf,i);case 5:case"end":return e.stop()}},null,this,null,Ge)},i.Pc=function(t){this.Ic.xu(),this.Ic.Ou(Bu,t),this.Ks(new Du(this))},T(n,[{key:"uc",get:function(){return this.nf}},{key:"ec",get:function(){return NaN}},{key:"ic",get:function(){return this.Tc.Wu}},{key:"rc",get:function(){return this.Ic}}]),n}(Su),DZ=function(){function t(t,n,i){this.Clt=void 0,this.nf=void 0,this.Xc=void 0,this.PLt=void 0,this.qh=void 0,this.Mc=void 0,this.xc=void 0,this.PLt=t,this.qh=n,this.Mc=i;var e=Yc(i)||"video/mp4";this.xc=Wc(e)}var i=t.prototype;return i.fc=function(t){var i;return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Xc){t.next=2;break}throw new lf(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return i=new NZ(this.xc,this.qh,this.PLt,this.nf,this.Xc),this.Clt=i,t.abrupt("return",i);case 5:case"end":return t.stop()}},null,this,null,Ge)},i.lc=function(t){return this.Xc=Yo(t),Ge.resolve(!0)},i.vc=function(t){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(this);case 1:case"end":return n.stop()}},null,this,null,Ge)},i.dc=function(t){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(null);case 1:case"end":return n.stop()}},null,null,null,Ge)},i.createSession=function(){throw new l("Whoops.")},T(t,[{key:"hc",get:function(){return this.qh}},{key:"cc",get:function(){return this.Mc}},{key:"sessionId",set:function(t){this.nf=t}}]),t}(),CZ=function(){function t(t,n,i){this.xLt=t,this.qh=n,this.Mc=i}var n=t.prototype;return n.mc=function(){return this.Mc},n.yc=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new DZ(this.xLt,this.qh,this.Mc));case 1:case"end":return t.stop()}},null,this,null,Ge)},T(t,[{key:"hc",get:function(){return this.qh}}]),t}(),PZ=function(){function t(t){this.xLt=void 0,this.xLt=t}return t.prototype.Ns=function(t,n){var i,e,r;return Ur.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0;case 1:if(!(i<n.length)){s.next=9;break}if(e=n[i],!(r=qc(OZ,Nu,t,e))){s.next=6;break}return s.abrupt("return",new CZ(this.xLt,t,r));case 6:i++,s.next=1;break;case 9:throw new v("Unsupported key system configuration for "+t);case 10:case"end":return s.stop()}},null,this,null,Ge)},t}();function OZ(t,n){return t===ls}var xZ,BZ=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.KG=function(t,n){return!0},n}($P),LZ=function(t){function n(n,i,e){var r;return void 0===e&&(e=new PZ(i)),(r=t.call(this)||this).wN=void 0,r.Es=void 0,r.MU=void 0,r.uq=new mf,r.BLt=void 0,r.xLt=void 0,r.LLt=!1,r.nf=void 0,r.Hc=null,r.MLt={Nm:0,Dm:0,Cm:0,Pm:0,Om:0,xm:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},r.FLt=function(t){"boolean"==typeof t.detail.casting&&(r.LLt=t.detail.casting,r.Ks(new Mm(r.LLt)))},r.ULt=function(t){r.nf=t.sessionId,r.Hc&&(r.Hc.sessionId=r.nf);var n=t.initData;if(n){var i=iO(n);if(!i)return;r.Ks(new Ou(is,i))}else r.Ks(new Ou(is,new ArrayBuffer(0)))},r.BLt=n,r.xLt=i,r.xLt.tu(pZ.SLt,r.ULt),r.Es=e,r.MU=new BZ(Kt(r)),r.jLt(),r}E(n,t);var i=n.prototype;return i.ZU=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.gs===mb.FE)return i}},i.Us=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ur.awrap(this.wc());case 2:return this.ou(),this.HLt(),this.xLt.au(pZ.SLt,this.ULt),t.next=7,Ur.awrap(this.MU.Us());case 7:case"end":return t.stop()}},null,this,null,Ge)},i.vm=function(){throw new l("Not implemented yet")},i.OE=function(t,n,i,e,r,s,u,o){throw new l("Not implemented yet")},i.QN=function(){return!1},i.ZN=function(t,n,i,e,r){throw new l("Not implemented yet")},i.LE=function(t){throw new l("Not implemented yet")},i.nD=function(){throw new l("Not implemented yet")},i.Zh=function(t){var n=this;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.uq.Jc(function(i){var e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.gs!==mb.FE){r.next=8;break}return fu(i),e=new TZ(t,n,n.Es),n.wN=e,n.MU.Zh(e,t),r.abrupt("return",e);case 8:throw new l("Could not create non-static media source");case 9:case"end":return r.stop()}},null,null,null,Ge)}));case 1:case"end":return i.stop()}},null,this,null,Ge)},i.Jy=function(){throw new l("Not implemented yet")},i.Qy=function(){throw new l("Not implemented yet")},i.wc=function(){var t=this;return this.uq.Ws(),this.uq.Jc(function(){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.wN){n.next=4;break}return n.next=3,Ur.awrap(t.wN.Us());case 3:t.wN=void 0;case 4:return n.next=6,Ur.awrap(t.MU.wc());case 6:case"end":return n.stop()}},null,null,null,Ge)})},i.Uu=function(t,n){throw new l("Not implemented yet")},i.aD=function(t){throw new l("Not implemented yet")},i.lm=function(){throw new l("Not implemented yet")},i.hD=function(){return this.MLt},i.jLt=function(){this.BLt.addEventListener("airPlayIsCasting",this.FLt)},i.HLt=function(){this.BLt.removeEventListener("airPlayIsCasting",this.FLt)},i.webkitSetMediaKeys=function(t){this.Hc=t||null,this.Hc&&(this.Hc.sessionId=this.nf)},i.H$=function(){},i.U$=function(){throw new l("Not implemented yet")},i.j$=function(){throw new l("Not implemented yet")},T(n,[{key:"Sm",get:function(){throw new l("Not implemented yet")}},{key:"Tm",get:function(){throw new l("Not implemented yet")}},{key:"sy",get:function(){throw new l("Not implemented yet")}},{key:"JF",get:function(){throw new l("Not implemented yet")}},{key:"uy",get:function(){throw new l("Not implemented yet")}},{key:"oy",get:function(){throw new l("Not implemented yet")}},{key:"Au",get:function(){throw new l("Not implemented yet")}},{key:"bT",get:function(){throw new l("Not implemented yet")}},{key:"Im",get:function(){return this.LLt}},{key:"vy",get:function(){throw new l("Not implemented yet")}},{key:"wy",get:function(){throw new l("Not implemented yet")}},{key:"gy",get:function(){throw new l("Not implemented yet")}},{key:"Lm",get:function(){throw new l("Not implemented yet")}},{key:"m_",get:function(){throw new l("Not implemented yet")}},{key:"Fm",get:function(){throw new l("Not implemented yet")}},{key:"_y",get:function(){throw new l("Not implemented yet")}},{key:"z$",get:function(){throw new l("Not implemented yet")}},{key:"by",get:function(){throw new l("Not implemented yet")},set:function(t){throw new l("Not implemented yet")}},{key:"xp",get:function(){throw new l("Not implemented yet")}},{key:"tD",get:function(){throw new l("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.Hc}},{key:"W$",get:function(){return XN}},{key:"$y",get:function(){throw new l("Not implemented yet")}},{key:"KF",get:function(){throw new l("Not implemented yet")}},{key:"cD",get:function(){throw new l("Not implemented yet")}},{key:"X$",get:function(){return!0}},{key:"XN",get:function(){return this.MU.XN},set:function(t){this.MU.XN=t}},{key:"G$",get:function(){},set:function(t){}},{key:"iq",get:function(){return this.MU.iq}}]),n}(Q_),MZ=function(t){function n(n){var i;return(i=t.call(this,Bf.fl)||this).MLt=n,i}return E(n,t),n}(Iu);function FZ(t){switch(t.type){case xZ.XY:return t.value;case xZ.mpt:return N_(t.value);case xZ._Lt:return Xu(t.value);default:return}}function UZ(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.XY="daterange-ca-type_string",t.mpt="daterange-ca-type_number",t._Lt="daterange-ca-type_arraybuffer"}(xZ||(xZ={}));var jZ=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,r,i,e)||this).SR=void 0,u.XLt=void 0,u.SR=n,u.XLt=s,u}return E(n,t),T(n,[{key:"name",get:function(){return this.SR}},{key:"timestamp",get:function(){return this.XLt}}]),n}(lf),HZ=function(t){function n(n,i,e,r,s,u,o,a){var h;return(h=t.call(this,n,i,e,r,a)||this).url=void 0,h.status=void 0,h.errorComment=void 0,h.url=s,h.status=u,h.errorComment=o,h}return E(n,t),n}(jZ),XZ=function(){function t(t,n){this.Xy=void 0,this.wq=void 0,this.Xy=new Gk,this.wq=new IP(t,n)}var n=t.prototype;return n.OE=function(t,n,i,e,r,s,u){var o=new IC(t,n,i,e,r,s,u);return this.Xy.zg(o),this.wq.zg(o),o},n.LE=function(t){this.Xy.Wg(t),this.wq.Wg(t),t.Kc()},n.wc=function(){for(var t=0,n=this.Xy.qg.slice();t<n.length;t++){n[t].Kc()}this.Xy.wc(),this.wq.wc()},n.Kc=function(){this.wc(),this.Xy.Kc(),this.wq.Kc()},T(t,[{key:"$y",get:function(){return this.Xy}}]),t}(),VZ=function(t){function n(n,i,e,r,s){var u;(u=t.call(this)||this).BC=0,u.jz=!1,u.gN=void 0,u._N=void 0,u.VLt=void 0,u.MC=!0,u.FC=1,u.jy=void 0,u.Hy=void 0,u.fq=void 0,u.vq=void 0,u.Xy=void 0,u.NE=void 0,u.ya=void 0,u.J8=TS.RC(),u.Ez=TS.RC(),u.LC=!1,u.Aq=TS.RC(),u.UC=void 0,u.zlt=void 0,u.Vlt=void 0,u.Hz=uy.z_,u.jE=uy.z_,u.BLt=void 0,u.wq=void 0,u.pN=void 0,u.yLt=void 0,u.xrt=void 0,u.VC=void 0,u.dN=void 0,u.kN=void 0,u.xLt=void 0,u.MLt={Nm:0,Dm:0,Cm:0,Pm:0,Om:0,xm:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},u.wN=void 0,u.zLt=void 0,u.AN=new nS,u.TN=new oS,u.setCurrentTime=function(t){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(u.Fm.length){n.next=4;break}return u.BC=t,n.next=4,Ur.awrap(u.BLt.wu("seekablechange"));case 4:u.BC=u.updateCurrentTime(t),u.yLt.EJ("THEOplayerSetCurrentTime",u.BC),u.UC=!0,u.Ks(new My(u.BC));case 8:case"end":return n.stop()}},null,null,null,Ge)},u.WLt=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.J8=new TS(i),u.Ks(new qN(u.sy))}},u.GLt=function(t){u.Hz=t.detail.readyState,u.Ks(new jy(+t.detail.currentTime,u.m_)),u.qLt()},u.$Lt=function(t){u.Hz=t.detail.readyState,u.Ks(new Hy(+t.detail.currentTime,u.m_)),u.qLt()},u.YLt=function(t){if(t.detail){var n=+t.detail.duration;u.ya=n,u.Ks(new Py(u.uy))}},u.QLt=function(t){t.detail&&(u.jz=!0,u.Ks(new By(+t.detail.currentTime)))},u.SN=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);UZ(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(u._N=new HZ(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),u.gN=wm(u._N),u.Ks(new Vy(u._N))):UZ(i)&&(u._N=new jZ(i.name,i.message,void 0,i.code,i.timestamp),u.gN=wm(u._N),u.Ks(new Vy(u._N)))}},u.JLt=function(t){u.Ks(new $N)},u.ZLt=function(t){u.Hz=t.detail.readyState,u.Ks(new Ly(+t.detail.currentTime,u.m_)),u.qLt()},u.KLt=function(t){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(u.Fm.length){n.next=3;break}return n.next=3,Ur.awrap(u.BLt.wu("seekablechange"));case 3:u.Hz=t.detail.readyState,u.Ks(new Cy(+t.detail.currentTime,u.m_)),u.qLt();case 6:case"end":return n.stop()}},null,null,null,Ge)},u.tMt=function(t){t.detail&&u.MC&&(u.MC=!1,u.Ks(new Ry(+t.detail.currentTime)))},u.nMt=function(t){t.detail&&(u.MC||(u.MC=!0,u.Ks(new Iy(+t.detail.currentTime))))},u.iMt=function(t){if(t.detail){for(var n=t.detail.played,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.Aq=new TS(i)}},u.eMt=function(t){t.detail&&u.Ks(new Cb(+t.detail.currentTime))},u.rMt=function(t){t.detail&&(u.FC=t.detail.playbackRate,u.Ks(new Oy(+t.detail.currentTime,u.FC)))},u.sMt=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.Ez=new TS(i)}},u.uMt=function(t){t.detail&&(u.BC=+t.detail.currentTime,u.UC=!1,u.Ks(new xy(u.BC,u.VLt)),u.Ks(new Fy(u.BC)))},u.oMt=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<u.ya&&(u.jz=!1),u.UC=!0,u.Ks(new My(n))}},u.aMt=function(t){t.detail&&(t.detail.currentDate&&(u.VLt=new Date(1e3*t.detail.currentDate)),u.BC=+t.detail.currentTime,u.Ks(new xy(u.BC,u.VLt)))},u.hMt=function(t){u.zlt=t.detail.height,u.Vlt=t.detail.width},u.cMt=function(t){t.detail&&u.Ks(new Db(+t.detail.currentTime))},u.fMt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};u.Gy.zg(new Cm(n))},u.lMt=function(t){for(var n,i,e=t.detail.lang,r=t.detail.label,s=0;s<u.jy.$g;s++){var o=u.Gy.Vg(s);o.a_==e&&o.o_==r?i=u.jy.Vg(s):1==o.e_&&(n=u.jy.Vg(s))}i&&n&&(i.e_=!0,n.e_=!1)},u.vMt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};u.qy.zg(new Lm(n))},u.tJ=function(t){var n,i=t.detail.kind,e=t.detail.type;i===Wk.dA&&e===xm.ID3?(n=new OP("",t.detail.label)).g_=j_.l_:i===Wk.dA&&e===xm.DATE_RANGE?(n=new jL,u.zLt=n):n=new IC(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,e),u.fq.zg(n),u.wq.zg(n)},u.dMt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e=i[n],r=e.Id3FrameId,s=void 0;if("PRIV"===r)s={id:r,ownerIdentifier:e.Id3_PRIV_ownerIdentifier,data:e.Id3_PRIV_data};else if("TXXX"===r||"TXX"===r){s={id:r,text:e.Id3FrameText,description:e.Id3FrameDescription}}else{s={id:r,text:e.Id3FrameText}}var o=new CP(N_(e.startTime),s,e.uid),a=u.wMt();a&&a.BE(o)}},u.gMt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e,r=i[n],s=new np(N_(r.startTime),N_(r.endTime),r.content,!1),o=null!=(e=u._Mt(Wk.lA))?e:u._Mt(Wk.gE);o&&(o.gs=xm.WEBVTT,o.BE(s))}},u._$=function(t){t.type===Bf.If&&(u.gN=wm(t.errorObject)),u.Zs(t)},u.yMt=function(t){t.detail&&(u.MLt.Dm=t.detail.corruptedVideoFrames,u.MLt.Nm=t.detail.droppedVideoFrames,u.Ks(new MZ(u.Rm)))},u.mMt=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={r_:t.id};if(void 0!==t.startDate&&(n.cD=new Date(t.startDate)),void 0!==t.endDate&&(n.z0=new Date(t.endDate)),void 0!==t.customAttributes){var e={};for(var r in t.customAttributes){var s=FZ(t.customAttributes[r]);void 0!==s&&(e[r]=s)}n.G0=e}void 0!==t.scte35Cmd&&(n.$0=Xu(t.scte35Cmd)),void 0!==t.scte35In&&(n.J0=Xu(t.scte35In)),void 0!==t.scte35Out&&(n.Q0=Xu(t.scte35Out)),void 0!==t.startTime&&(n.op=t.startTime),n.V0=t.class,n.uy=N_(t.duration),n.W0=N_(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.op?t.op:(new Date).getTime(),e=new FL(t,i);u.zLt.BE(e),u.zLt.tc(n,i)})};var o=r.uid;u.yLt=u.getSdkBridge(o),u.BLt=new bZ,gZ()[o].sdkEventBus=u.BLt,u.jy=new mm,u.Hy=new mm;var a=u.pMt(e);return u.NE=new XZ(Kt(u),new RP),u.wq=new DP(Kt(u)),u.pN=new vb(u.NE,a),u.fq=new Gk,u.vq=new LP(u.NE,u.fq),u.Xy=new rS([u.fq,u.pN.uT,u.vq.uT]),u.xLt=u.getFairPlayControllerBridge(u.yLt),u.dN=new LZ(u.BLt,u.xLt),u.kN=new iS(a),u.dN.XN=u.kN,u.observeMediaElement(),u.zN(),u.VC=new AZ(u.yLt,s),u.VC.tu("TL",function(){u.yLt.EJ("THEOplayerSetPreferredForwardBufferDuration",u.VC.AL)}),u}E(n,t);var i=n.prototype;return i.wm=function(){return IS},i.lm=function(){this.yLt.EJ("THEOplayerShow",{})},i.vm=function(){this.yLt.EJ("THEOplayerHide",{})},i.kMt=function(){var t=this;this.yLt.EJ("THEOplayerSetInitialPreferredPeakBitRate",this.VC.UL);this.tu("playing",function n(){t.yLt.EJ("THEOplayerSetInitialPreferredPeakBitRate",0),t.au("playing",n)})},i.tm=function(t,n){var i,e,r;return Ur.async(function(s){for(;;)switch(s.prev=s.next){case 0:return this.xrt=t,i=jr({},n,{sources:{src:t.src,type:ey.M_,contentProtection:t.contentProtection,ssai:t.ssai,crossOrigin:t.crossOrigin,hlsDateRange:t.hlsDateRange,isAdvertisement:t.isAdvertisement}}),this.yLt.EJ("THEOplayerSourceChange",i),e={gs:mb.FE,b_:t.src,Gv:t.type,WN:this.GN(t),qN:t.crossOrigin,$N:n.metadata&&n.metadata.title},this.kN.KR(t.contentProtection),s.next=7,Ur.awrap(this.dN.Zh(e));case 7:this.wN=s.sent,n.textTracks&&(r=n.textTracks.filter(function(t){return t.format!==xm.WEBVTT})).length>0&&this.YN(r),yb(this.$y),this.kMt();case 11:case"end":return s.stop()}},null,this,null,Ge)},i.GN=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{hc:gs,sD:[{initDataTypes:[gs.ys],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.Qy=function(){this.MC=!1,this.Ks(new Ry(this.sy)),this.yLt.EJ("THEOplayerPlay",{})},i.Jy=function(){this.MC=!0,this.Ks(new Iy(this.sy)),this.yLt.EJ("THEOplayerPause",{})},i.dm=function(){},i.wc=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.BC=0,this.jz=!1,this.gN=void 0,this._N=void 0,this.MC=!0,this.FC=1,this.ya=void 0,this.Ez=TS.RC(),this.J8=TS.RC(),this.zlt=void 0,this.Vlt=void 0,this.Hz=uy.z_,this.jE=uy.z_,this.jy.wc(),this.Hy.wc(),this.fq.wc(),this.Xy.wc(),t.next=19,Ur.awrap(this.vq.wc());case 19:return t.next=21,Ur.awrap(this.pN.wc());case 21:return this.NE.wc(),this.wq.wc(),this.xrt=void 0,t.next=26,Ur.awrap(this.dN.wc());case 26:case"end":return t.stop()}},null,this,null,Ge)},i.im=function(){this.yLt.EJ("THEOplayerShowAirPlayPicker",{})},i.um=function(){this.yLt.EJ("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.Rm.Dm=t.Dm,this.Rm.Nm=t.Nm},i.Kc=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ur.awrap(this.wc());case 2:return this.ou(),this.unobserveMediaElement(),this.eD(),this.dN.XN=void 0,t.next=8,Ur.awrap(this.dN.Us());case 8:return this.jy.Kc(),this.Hy.Kc(),this.fq.Kc(),this.Xy.Kc(),t.next=14,Ur.awrap(this.vq.Kc());case 14:return t.next=16,Ur.awrap(this.pN.Kc());case 16:this.NE.Kc(),this.wq.Kc();case 18:case"end":return t.stop()}},null,this,null,Ge)},i.YN=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.pN.PE(i)}},i.qLt=function(){var t=this.jE,n=this.Hz;t!==n&&(this.jE=n,this.Ks(new Xy(this.sy,n)))},i.observeMediaElement=function(){this.dN.tu(Bf.Af,this.Zs),this.dN.tu([Bf.Rf,Bf.If],this._$),this.BLt.addEventListener("play",this.tMt),this.BLt.addEventListener("pause",this.nMt),this.BLt.addEventListener("seeking",this.oMt),this.BLt.addEventListener("seeked",this.uMt),this.BLt.addEventListener("ratechange",this.rMt),this.BLt.addEventListener("durationchange",this.YLt),this.BLt.addEventListener("timeupdate",this.aMt),this.BLt.addEventListener("waiting",this.cMt),this.BLt.addEventListener("playing",this.eMt),this.BLt.addEventListener("ended",this.QLt),this.BLt.addEventListener("loadedmetadata",this.KLt),this.BLt.addEventListener("loadeddata",this.ZLt),this.BLt.addEventListener("loadstart",this.JLt),this.BLt.addEventListener("canplay",this.GLt),this.BLt.addEventListener("canplaythrough",this.$Lt),this.BLt.addEventListener("error",this.SN),this.BLt.addEventListener("seekablechange",this.sMt),this.BLt.addEventListener("videosizechange",this.hMt),this.BLt.addEventListener("bufferedchange",this.WLt),this.BLt.addEventListener("playedchange",this.iMt),this.BLt.addEventListener("metricschange",this.yMt),this.BLt.addEventListener("addDateRangeCues",this.mMt)},i.unobserveMediaElement=function(){this.dN.au(Bf.Af,this.Zs),this.dN.au([Bf.Rf,Bf.If],this._$),this.BLt.removeEventListener("play",this.tMt),this.BLt.removeEventListener("pause",this.nMt),this.BLt.removeEventListener("seeking",this.oMt),this.BLt.removeEventListener("seeked",this.uMt),this.BLt.removeEventListener("ratechange",this.rMt),this.BLt.removeEventListener("durationchange",this.YLt),this.BLt.removeEventListener("timeupdate",this.aMt),this.BLt.removeEventListener("waiting",this.cMt),this.BLt.removeEventListener("playing",this.eMt),this.BLt.removeEventListener("ended",this.QLt),this.BLt.removeEventListener("loadedmetadata",this.KLt),this.BLt.removeEventListener("loadeddata",this.ZLt),this.BLt.removeEventListener("loadstart",this.JLt),this.BLt.removeEventListener("canplay",this.GLt),this.BLt.removeEventListener("canplaythrough",this.$Lt),this.BLt.removeEventListener("error",this.SN),this.BLt.removeEventListener("seekablechange",this.sMt),this.BLt.removeEventListener("videosizechange",this.hMt),this.BLt.removeEventListener("bufferedchange",this.WLt),this.BLt.removeEventListener("playedchange",this.iMt),this.BLt.removeEventListener("metricschange",this.yMt),this.BLt.removeEventListener("addDateRangeCues",this.mMt)},i.updateCurrentTime=function(t){var n=this.Fm.start(0),i=this.Fm.end(0);return g.min(g.max(t,n),i)},i.wMt=function(){for(var t=0,n=this.Xy.qg;t<n.length;t++){var i=n[t];if(i.u_===Wk.dA&&i.gs===xm.ID3)return i}},i._Mt=function(t){for(var n=0,i=this.Xy.qg;n<i.length;n++){var e=i[n],r=e.g_===j_.v_,s=e.u_===t;if(r&&s)return e}},i.zN=function(){this.BLt.addEventListener("addaudiotrack",this.fMt),this.BLt.addEventListener("enableaudiotrack",this.lMt),this.BLt.addEventListener("addvideotrack",this.vMt),this.BLt.addEventListener("addtexttrack",this.tJ),this.BLt.addEventListener("addtexttrackid3cues",this.dMt),this.BLt.addEventListener("addtexttrackcues",this.gMt)},i.eD=function(){this.BLt.removeEventListener("addaudiotrack",this.fMt),this.BLt.removeEventListener("enableaudiotrack",this.lMt),this.BLt.removeEventListener("addvideotrack",this.vMt),this.BLt.removeEventListener("addtexttrack",this.tJ),this.BLt.removeEventListener("addtexttrackid3cues",this.dMt),this.BLt.removeEventListener("addtexttrackcues",this.gMt)},i.Am=function(){},T(n,[{key:"Gy",get:function(){return this.jy}},{key:"Tm",get:function(){return this.J8.oD()}},{key:"Sm",get:function(){return this.VLt?this.VLt:null},set:function(t){this.yLt.EJ("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.VLt=t}},{key:"sy",get:function(){return this.BC},set:function(t){this.setCurrentTime(t)}},{key:"uy",get:function(){return this.ya}},{key:"oy",get:function(){return this.jz}},{key:"Au",get:function(){return this.gN}},{key:"ly",get:function(){return this._N}},{key:"Yy",get:function(){}},{key:"Im",get:function(){return this.dN.Im}},{key:"Rm",get:function(){return this.MLt}},{key:"vy",get:function(){return this.LC},set:function(t){this.LC!==t&&(this.yLt.EJ("THEOplayerSetMuted",t),this.LC=t,this.Ks(new Uy(this.sy,t?0:1)))}},{key:"wy",get:function(){return this.MC}},{key:"gy",get:function(){return this.FC},set:function(t){this.yLt.EJ("THEOplayerSetPlaybackRate",t),this.FC=t}},{key:"Lm",get:function(){return this.Aq.oD()}},{key:"Mm",get:function(){return gS.PD},set:function(t){}},{key:"m_",get:function(){return this.Hz}},{key:"Fm",get:function(){return this.Ez.oD()}},{key:"_y",get:function(){return this.UC}},{key:"cD",get:function(){}},{key:"$y",get:function(){return this.Xy}},{key:"yy",get:function(){return this.zlt}},{key:"py",get:function(){return this.Vlt}},{key:"by",get:function(){return 1},set:function(t){}},{key:"Um",get:function(){return this.TN}},{key:"qy",get:function(){return this.Hy}},{key:"fD",get:function(){return this.AN}},{key:"jm",get:function(){return!1},set:function(t){}},{key:"Bm",get:function(){return!0}}]),n}(Q_),zZ=function(){function t(){this.lD=QT.GR}var n=t.prototype;return n.vD=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&!i.vr.nativeVR&&(i.vr.panoramaMode===oE.PM360||i.vr.panoramaMode===oE.PM180))return!1;if(fy(n.type))return!1;var e=n.contentProtection;if(e&&!gA(e)){if(!mA(e))return!1;if(!t.qut(e))return!1}return!0},t.qut=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.dD=function(){return!1},t}(),WZ=function(){function t(){this.bMt=r.webkit}return t.prototype.EJ=function(t,n){this.bMt.messageHandlers[t]&&this.bMt.messageHandlers[t].postMessage(n)},t}(),GZ=function(t){function n(n){var i;return(i=t.call(this)||this).yLt=void 0,i.BLt=void 0,i.AMt=function(t){var n=Xu(t.detail.initData),e=t.detail.sessionId;i.Ks(new SZ(n,e))},i.TMt=function(t){var n=new p(Ju(t.detail.message)),e=t.detail.destinationURL;i.Ks(new EZ(n,e))},i.SMt=function(t){i.Ks(new IZ)},i.forwardKeyFlowDone=function(t){i.Ks(new RZ)},i.yLt=n,i.BLt=new bZ,gZ().fairplayController={sdkEventBus:i.BLt},i.EMt(),i}E(n,t);var i=n.prototype;return i.EMt=function(){this.BLt.addEventListener(pZ.SLt,this.AMt),this.BLt.addEventListener(pZ.ELt,this.TMt),this.BLt.addEventListener(pZ.ILt,this.SMt),this.BLt.addEventListener(pZ.RLt,this.forwardKeyFlowDone)},i.VG=function(t,n){var i={playerId:yZ(),data:Zu(n.buffer),sessionId:t};this.yLt.EJ("THEOplayerCreateKeySession",i)},i.tc=function(t,n){var i={playerId:yZ(),data:Zu(n.buffer),sessionId:t};this.yLt.EJ("THEOplayerUpdateKey",i)},n}(Q_),qZ=function(t){var n=this;this.BLt=void 0,this.IMt=void 0,this.RMt=function(){n.IMt.aJ()},this.NMt=function(){n.IMt.oJ()},this.BLt=new bZ,this.IMt=t,this.BLt.addEventListener("showTracks",this.RMt),this.BLt.addEventListener("hideTracks",this.NMt),gZ().texttracks={sdkEventBus:this.BLt}},$Z=function(t){function n(n,i,e,r,s,u){var o;(o=t.call(this,n,i,e,r,s)||this).vJ=void 0,o.dJ=void 0,o.DMt=void 0;var a=i.jN(ym.xd);return o.vJ=new fO,o.vJ.V$(n),o.dJ=new vx(o.vJ.Em,a.JF,o.$y,u,a.tD),o.DMt=new qZ(o.dJ),i.rD(a),we.document.querySelector(".vjs-tech")?we.document.querySelector(".player-div").classList.add("theo-ios-sdk"):we.document.querySelector(".player-div").style.background="transparent",o}E(n,t);var i=n.prototype;return i.lm=function(){t.prototype.lm.call(this),this.vJ.lm()},i.vm=function(){t.prototype.vm.call(this),this.vJ.vm()},i.nm=function(){return!0},i.getSdkBridge=function(){return new WZ},i.getFairPlayControllerBridge=function(){return YZ},i.pMt=function(t){return t},i.Kc=function(){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return we.document.querySelector(".vjs-tech")?we.document.querySelector(".player-div").classList.remove("theo-ios-sdk"):we.document.querySelector(".player-div").style.background="#000000",n.next=3,Ur.awrap(t.prototype.Kc.call(this));case 3:this.dJ.Kc(),this.vJ.Kc();case 5:case"end":return n.stop()}},null,this,null,Ge)},n}(VZ);dS(new(function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.FI=function(t,n,i,e,r,s){return new $Z(t,n,i,e,r,s)},i.vD=function(n,i){if(n.type){var e=gr();if(!(e&&e.canPlayType&&e.canPlayType(n.type)))return!1}return t.prototype.vD.call(this,n,i)},n}(zZ)));var YZ=new GZ(new WZ);var QZ,JZ,ZZ,KZ,tK,nK,iK=function(t){function n(n,i){var e;return(e=t.call(this)||this).dg=void 0,e.CMt=n,e.FF=i,e.CMt.tu("jNt",e.Zs),e}return E(n,t),n.prototype.PMt=function(t,n,i){var e,r;if(!t)throw new l("Unexpected - The source description is undefined");if(e=HE(t),r=IY(n),NE(e))throw new l("Invalid source description");return this.CMt.eDt(e,r).wg},T(n,[{key:"wg",get:function(){var t,n,i;return this.dg||(this.dg=(i={get status(){return t.od},get tasks(){return t.hDt},get network(){return t.ZF.wg},createTask:function(n,i){return t.PMt(n,i)},addEventListener:function(t,i){n.tu(t,i)},removeEventListener:function(t,i){n.au(t,i)}},n=new jR(t=this,i),i)),this.dg}},{key:"od",get:function(){return this.CMt.od}},{key:"hDt",get:function(){return this.CMt.hDt.wg}},{key:"ZF",get:function(){return this.FF}}]),n}(Q_);(QZ=new pR(i.ag,!1),JZ=iH.qn,ZZ=new jY(QZ),KZ=new TY(JZ,ZZ),tK=new bR(QZ),nK=new Xq(JZ.nht,KZ,"persistent"),new iK(nK,tK)).wg;var eK=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).Fh=void 0,s.JNt=void 0,s.dg=void 0,s.xrt=void 0,s.Wxt=void 0,s.ya=0,s.OMt=TS.RC(),s.xMt=0,s.BMt=0,s.CMt=void 0,s.Fh=n,s.JNt=Aq.IDLE,s.xrt=i,s.Wxt=e,s.CMt=r,s}E(n,t);var i=n.prototype;return i.WD=function(){this.CMt.startCachingTask(this)},i.Kh=function(){this.CMt.removeCachingTask(this)},T(n,[{key:"wg",get:function(){return this.dg||(this.dg=Vq(this)),this.dg}},{key:"r_",get:function(){return this.Fh}},{key:"od",get:function(){return this.JNt},set:function(t){this.JNt!==t&&(this.JNt=t,this.Ks(new Oq))}},{key:"ED",get:function(){return this.xrt}},{key:"pc",get:function(){return this.Wxt}},{key:"uy",get:function(){return this.ya},set:function(t){this.ya=t}},{key:"cDt",get:function(){return this.OMt},set:function(t){this.OMt=t}},{key:"fDt",get:function(){return this.xMt},set:function(t){this.xMt=t}},{key:"lDt",get:function(){return this.BMt},set:function(t){this.BMt=t,this.Ks(new Gq)}}]),n}(J_),rK=30;function sK(t){var n,i,e;if(!t)throw new l("Unexpected - The cache parameters are undefined");if(t.expirationDate?i=t.expirationDate:(i=new Date).setMinutes(i.getMinutes()+rK),i&&((e=i)&&!(Q(e)&&e>new Date)))throw new l("Invalid expiration date for the cache parameters");return{expirationDate:i,allowsCellularAccess:null==(n=t.allowsCellularAccess)||n}}var uK=function(t){function n(){var n;return(n=t.call(this)||this).JNt=Lq.UNINITIALISED,n.Wc=new Hq,n.yLt=void 0,n.BLt=void 0,n.LMt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);i&&(i.od=Aq.EVICTED,i.lDt=0,i.fDt=0,i.uy=0,i.cDt=TS.RC(),n.Wc.Kh(i))}},n.MMt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);if(i){var e=t.detail.status;e&&(i.od=e);var r=t.detail.percentage;r&&(i.lDt=r);var s=t.detail.duration;s&&(i.uy=s);var u=t.detail.seconds;u&&(i.fDt=u);var o=t.detail.cached;if(o){for(var a=[],h=0;h<o.length;h++){var c=o[h];a.push(c.start,c.end)}i.cDt=new TS(a)}}}},n.FMt=function(t){var i;if(t.detail){var e=HE(JSON.parse(t.detail.source));if(!n.UMt(e)){var r={},s=t.detail.expirationDate;s&&(r={expirationDate:new Date(s)}),r=jr({},r,{allowsCellularAccess:null==(i=t.detail.allowsCellularAccess)||i});var u=t.detail.uuid;n.eDt(e,sK(r),u)}}},n.jMt=function(t){var i;if(t.detail){var e={},r=t.detail.expirationDate;r&&(e={expirationDate:new Date(r)}),e=jr({},e,{allowsCellularAccess:null==(i=t.detail.allowsCellularAccess)||i});var s=JSON.parse(t.detail.source),u=t.detail.uuid,o=n.eDt(HE(s),sK(e),u);o.od=t.detail.status,o.lDt=t.detail.percentage,o.uy=t.detail.duration,o.fDt=t.detail.seconds;for(var a=t.detail.cached,h=[],c=0;c<a.length;c++){var f=a[c];h.push(f.start,f.end)}o.cDt=new TS(h)}},n.HMt=function(t){t.detail&&n.nDt(t.detail.status)},n.yLt=new WZ,n.BLt=new bZ,gZ().cache={sdkEventBus:n.BLt},n.EMt(),n}E(n,t);var i=n.prototype;return i.nDt=function(t){this.JNt!==t&&(this.JNt=t,this.Ks(new Oq))},i.eDt=function(t,n,i){void 0===i&&(i=void 0);var e=new eK(i||pI(),t,n,this);return this.Wc.Xm(e),i||this.yLt.EJ("THEOplayerCacheCreateCachingTask",{source:t,parameters:n,id:e.r_}),e},i.findTaskWithId=function(t){for(var n=0,i=this.Wc.XNt;n<i.length;n++){var e=i[n];if(e.r_===t)return e}},i.UMt=function(t){for(var n=aK(t.sources),i=0,e=this.Wc.XNt;i<e.length;i++){if(aK(e[i].ED.sources).src===n.src)return!0}return!1},i.EMt=function(){this.BLt.addEventListener("deleteTask",this.LMt),this.BLt.addEventListener("updateValues",this.MMt),this.BLt.addEventListener("newTask",this.FMt),this.BLt.addEventListener("restoreTask",this.jMt),this.BLt.addEventListener("setCacheStatus",this.HMt)},i.startCachingTask=function(t){this.yLt.EJ("THEOplayerCacheStartCachingTask",{id:t.r_})},i.removeCachingTask=function(t){this.yLt.EJ("THEOplayerCacheRemoveCachingTask",{id:t.r_})},T(n,[{key:"od",get:function(){return this.JNt}},{key:"hDt",get:function(){return this.Wc}}]),n}(Su),oK=function(t){function n(n){var i;return(i=t.call(this,n)||this).XMt=n,i.XMt.tu("jNt",i.Zs),i}return E(n,t),n.prototype.PMt=function(t,n){var i,e;if(!t)throw new l("Unexpected - The source description is undefined");if(i=HE(t),e=sK(n),NE(i))throw new l("Invalid source description");if(!aK(i.sources))throw new l("The provided sources can't be cached");return this.XMt.eDt(i,e).wg},n}(iK);function aK(t){for(var n=0;n<t.length;n++){var i=t[n];if(ly(i.type))return i}}var hK,cK,fK,lK=function(){var t=new uK;return new oK(t)}().wg;!function(t){t.agt="any",t.VMt="natural",t.zMt="landscape",t.WMt="portrait",t.GMt="portrait-primary",t.qMt="portrait-secondary",t.$Mt="landscape-primary",t.YMt="landscape-secondary"}(hK||(hK={})),function(t){t.GMt="portrait-primary",t.qMt="portrait-secondary",t.$Mt="landscape-primary",t.YMt="landscape-secondary"}(cK||(cK={}));var vK,dK,wK=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).yLt=new WZ,n.QMt=hK.VMt,n.JMt=cK.GMt,n.ZMt=cK.GMt,n.KMt=cK.GMt,n}E(n,t);var i=n.prototype;return i.lock=function(t){var n=this;return new r.Promise(function(i,e){n.QMt=t,n.yLt.EJ("THEOplayerOrientationLock",t),n.tFt(),i()})},i.unlock=function(){var t=this;return new r.Promise(function(n,i){t.QMt=hK.VMt,t.yLt.EJ("THEOplayerOrientationUnlock"),t.type=t.ZMt,t.tFt(),n()})},i.tFt=function(){var t=this.KMt,n=this.type;t!==n&&(this.KMt=n,this.Ks(new Iu("change")))},i.addEventListener=function(t,n){this.tu(t,n)},i.removeEventListener=function(t,n){this.au(t,n)},n.nFt=function(t){switch(t){case hK.GMt:return[cK.GMt];case hK.qMt:return[cK.qMt];case hK.WMt:return[cK.GMt,cK.qMt];case hK.$Mt:return[cK.$Mt];case hK.YMt:return[cK.YMt];case hK.zMt:return[cK.$Mt,cK.YMt];case hK.VMt:return[cK.GMt,cK.$Mt,cK.YMt];case hK.agt:return[cK.GMt,cK.qMt,cK.$Mt,cK.YMt]}},n.iFt=function(t,i){return n.nFt(i).indexOf(t)>=0},T(n,[{key:"type",get:function(){return this.JMt},set:function(t){this.ZMt=t,n.iFt(t,this.QMt)?(this.JMt=t,this.tFt()):(t===cK.$Mt&&this.QMt===hK.YMt&&(this.JMt=cK.YMt,this.tFt()),t===cK.YMt&&this.QMt===hK.$Mt&&(this.JMt=cK.$Mt,this.tFt()))}},{key:"angle",get:function(){switch(this.type){case cK.$Mt:return-90;case cK.YMt:return 90;case cK.GMt:return 0;case cK.qMt:return 180;default:return 0}}}]),n}(J_);wK.qn=new wK,null!=(fK=r.screen).orientation||(fK.orientation=wK.qn),o&&-1===o.userAgent.indexOf("OS 9")&&w.defineProperty(r,"orientation",{get:function(){return r.screen.orientation.angle}}),r.screen.orientation.addEventListener("change",function(){r.dispatchEvent(new CustomEvent("orientationchange"))}),function(t){t.eFt="unavailable",t.rFt="available",t.sFt="presenting"}(vK||(vK={})),gN(function(t){return function(t){function n(n,i){return t.call(this,n,i)||this}return E(n,t),n.prototype.tm=function(n){t.prototype.tm.call(this,n);var i=this.wg;this.wg.vr&&n&&n.vr&&i.vr.addEventListener("statechange",function(){i.vr.state===vK.sFt?screen.orientation&&screen.orientation.lock&&screen.orientation.lock(hK.YMt).catch(function(t){console.error("screen.orientation.lock() failed due to",t.message)}):screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock()})},n}(t)},fN.nU),function(t){t.hg="addtrack",t.fg="removetrack",t.Cg="change",t.Mg="update"}(dK||(dK={}));var gK=function(t,n,i){this.type=dK.Cg,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},_K=function(t,n){this.type=dK.hg,this.mediaType=t,this.mediaTrack=n},yK=function(t,n){this.type=dK.fg,this.mediaType=t,this.mediaTrack=n},mK=function(t,n){this.type=dK.Mg,this.mediaType=t,this.mediaTrack=n},pK=function(){function t(t,n,i){var e=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.uFt=function(t){var n=new gK(e.type,t.track,e.mediaTracks);e.messageDispatcher.oFt(n)},this.aFt=function(t){var n=new _K(e.type,t.track);e.messageDispatcher.oFt(n),t.track.addEventListener("update",e.hFt)},this.cFt=function(t){var n=new yK(e.type,t.track);e.messageDispatcher.oFt(n)},this.hFt=function(t){var n=new mK(e.type,t.track);e.messageDispatcher.oFt(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.EMt()}return t.prototype.EMt=function(){this.mediaTracks.addEventListener("change",this.uFt),this.mediaTracks.addEventListener("addtrack",this.aFt),this.mediaTracks.addEventListener("removetrack",this.cFt)},t}(),kK=function(){function t(){this.fFt=void 0,this.fFt=new WZ}return t.prototype.oFt=function(t){this.fFt.EJ(t.type,nQ(t))},t}();mN(function(t){if(t.wg.audioTracks){var n=new kK;new pK("audio",t.wg.audioTracks,n)}if(t.wg.videoTracks){var i=new kK;new pK("video",t.wg.videoTracks,i)}});var bK,AK="nativePromiseCallback",TK=function(t){function n(n){var i;return(i=t.call(this,AK)||this).detail=n,i}return E(n,t),n}(Iu);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(bK||(bK={}));var SK=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Ks(new TK(n))},i.addEventListener=function(t,n){this.tu(t,n)},i.removeEventListener=function(t,n){this.au(t,n)},n}(bZ),EK=function(){function t(){var t=this;this.fFt=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new l("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case bK.RESOLVE:i.Yu(n.detail.data);break;case bK.REJECT:i.Qu(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new SK;gZ().nativePromise={sdkEventBus:n},n.addEventListener(AK,this.handleNativePromiseEvent)}return t.prototype.lFt=function(n){var i;t.messageIdTracker+=1;var e=t.messageIdTracker.toString(),r=jr({},n,{promiseId:e}),s=new na;return this.promisesMap[e]=s,null==(i=this.fFt)||i.EJ(n.type,KY(r)),s.Wu},t}();EK.messageIdTracker=-1;var IK,RK=function(t){function n(){var n;return(n=t.call(this)||this).fFt=new WZ,n}return E(n,t),n}(EK),NK=function(){function n(t){this.playerID=t}return n.prototype.EJ=function(n,i){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var e={body:i,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(e)}},n}(),DK=function(t){function n(n){var i;return(i=t.call(this)||this).fFt=new NK(n),i}return E(n,t),n}(EK);!function(t){t.hg="TextTrackListAddTrack",t.fg="TextTrackListRemoveTrack",t.Cg="TextTrackListChange"}(IK||(IK={}));var CK,PK=function(t){this.type=IK.hg,this.textTrack=t},OK=function(t){this.type=IK.fg,this.textTrack=t},xK=function(t){this.type=IK.Cg,this.textTrack=t};!function(t){t.yg="TextTrackAddCue",t.Ag="TextTrackRemoveCue",t.Sg="TextTrackEnterCue",t.Ig="TextTrackExitCue",t.Ng="TextTrackCueChange"}(CK||(CK={}));var BK,LK=function(t,n){this.type=CK.yg,this.textTrackCue=t,this.textTrackUid=n},MK=function(t,n){this.type=CK.Ag,this.textTrackCue=t,this.textTrackUid=n},FK=function(t,n){this.type=CK.Sg,this.textTrackCue=t,this.textTrackUid=n},UK=function(t,n){this.type=CK.Ig,this.textTrackCue=t,this.textTrackUid=n},jK=function(t){this.type=CK.Ng,this.textTrackUid=t};!function(t){t.np="TextTrackCueEnter",t.ep="TextTrackCueExit",t.Mg="TextTrackCueUpdate"}(BK||(BK={}));var HK=function(t){this.type=BK.np,this.textTrackCue=t},XK=function(t){this.type=BK.ep,this.textTrackCue=t},VK=function(t){this.type=BK.Mg,this.textTrackCue=t},zK=function(){function t(t){var n=this;this.messageDispatcher=void 0,this.vFt=function(t){var i=WK(t.cue),e=new HK(i);n.messageDispatcher.lFt(e).then()},this.dFt=function(t){var i=WK(t.cue),e=new XK(i);n.messageDispatcher.lFt(e).then()},this.wFt=function(t){var i=WK(t.cue),e=new VK(i);n.messageDispatcher.lFt(e).then()},this.messageDispatcher=t}var n=t.prototype;return n.EMt=function(t){t.addEventListener("enter",this.vFt),t.addEventListener("exit",this.dFt),t.addEventListener("update",this.wFt)},n.vu=function(t){t.removeEventListener("enter",this.vFt),t.removeEventListener("exit",this.dFt),t.removeEventListener("update",this.wFt)},t}();function WK(t){var n=hZ(t,t.track.type);return delete n.track,n}var GK=function(){function t(t,n){var i=this;this.messageDispatcher=void 0,this.textTrackCueBridge=void 0,this.gFt=function(t){var n,e=WK(t.cue),r=new LK(e,t.cue.track.uid);i.messageDispatcher.lFt(r).then(),null==(n=i.textTrackCueBridge)||n.EMt(t.cue)},this._Ft=function(t){var n,e=WK(t.cue),r=new MK(e,t.cue.track.uid);i.messageDispatcher.lFt(r).then(),null==(n=i.textTrackCueBridge)||n.vu(t.cue)},this.vFt=function(t){var n=WK(t.cue),e=new FK(n,t.cue.track.uid);i.messageDispatcher.lFt(e).then()},this.dFt=function(t){var n=WK(t.cue),e=new UK(n,t.cue.track.uid);i.messageDispatcher.lFt(e).then()},this.yFt=function(t){var n=new jK(t.track.uid);i.messageDispatcher.lFt(n).then()},this.messageDispatcher=t;var e=this.initMessageDispatcher(n);e&&(this.textTrackCueBridge=new zK(e))}var n=t.prototype;return n.EMt=function(t){t.addEventListener("addcue",this.gFt),t.addEventListener("removecue",this._Ft),t.addEventListener("entercue",this.vFt),t.addEventListener("exitcue",this.dFt),t.addEventListener("cuechange",this.yFt)},n.vu=function(t){t.removeEventListener("addcue",this.gFt),t.removeEventListener("removecue",this._Ft),t.removeEventListener("entercue",this.vFt),t.removeEventListener("exitcue",this.dFt),t.removeEventListener("cuechange",this.yFt)},n.initMessageDispatcher=function(t){return F.Vn?new RK:F.zn&&void 0!==t?new DK(t):void 0},t}(),qK=function(){function t(t,n,i){var e=this;this.textTracks=void 0,this.messageDispatcher=void 0,this.textTrackBridge=void 0,this.sdkEventBus=void 0,this.aFt=function(t){var n,i=new PK(t.track);e.messageDispatcher.lFt(i).then(),null==(n=e.textTrackBridge)||n.EMt(t.track)},this.cFt=function(t){var n,i=new OK(t.track);e.messageDispatcher.lFt(i).then(),null==(n=e.textTrackBridge)||n.vu(t.track)},this.mFt=function(t){var n=new xK(t.track);e.messageDispatcher.lFt(n).then()},this.pFt=function(t){var n=t.detail.uid,i=t.detail.mode;e.textTracks.filter(function(t){return t.uid===n})[0].mode=i},this.textTracks=t,this.messageDispatcher=n;var r=this.kFt(i);r&&(this.textTrackBridge=new GK(r,i)),this.EMt(),this.sdkEventBus=new bZ,gZ().textTrackList={sdkEventBus:this.sdkEventBus},this.sdkEventBus.addEventListener("changetrackmode",this.pFt)}var n=t.prototype;return n.EMt=function(){this.textTracks.addEventListener("addtrack",this.aFt),this.textTracks.addEventListener("removetrack",this.cFt),this.textTracks.addEventListener("change",this.mFt)},n.kFt=function(t){return F.Vn?new RK:F.zn&&void 0!==t?new DK(t):void 0},t}();mN(function(t){if(t.wg.textTracks){var n=new RK;new qK(t.wg.textTracks,n)}});var $K,YK,QK=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case $K.bFt:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.Ks(new JK(i));break;default:0}},n}(bZ),JK=function(t){function n(n){var i;return(i=t.call(this,$K.bFt)||this).detail=n,i}return E(n,t),n}(Iu);!function(t){t.bFt="registerContentProtectionIntegration"}($K||($K={})),function(t){t.AFt="certifiateRequest",t.TFt="certifiateResponse",t.SFt="licenseRequest",t.EFt="licenseResponse",t.IFt="extractFairplayContentId",t.RFt="buildContentProtection",t.NFt="registerContentProtectionCallback"}(YK||(YK={}));var ZK,KK=function(t,n){this.type=YK.NFt,this.value=t,this.integrationId=n};!function(t){t.GALLERY="gallery",t.OVERLAY="overlay",t.SPOTLIGHT="spotlight"}(ZK||(ZK={}));var t0=function(t,n){this.type=YK.RFt,this.value=t,this.integrationId=n},n0=function(t,n){this.type=YK.AFt,this.value=t,this.integrationId=n},i0=function(t,n){this.type=YK.TFt,this.value=t,this.integrationId=n},e0=function(t,n){this.type=YK.IFt,this.value=t,this.integrationId=n},r0=function(t,n){this.type=YK.SFt,this.value=t,this.integrationId=n},s0=function(t,n){this.type=YK.EFt,this.value=t,this.integrationId=n},u0=function(){function t(t,n){this.DFt=void 0,this.UI=void 0,this.DFt=t,this.UI=n}var i=t.prototype;return i.onCertificateRequest=function(t){var i,e,r,s,u,o;return Ur.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.toCertificateRequestDTO(t),e=new n0(i,this.UI),a.prev=2,a.next=5,Ur.awrap(this.DFt.lFt(e));case 5:if(!(r=a.sent)){a.next=16;break}if(s=JSON.parse(r),!this.CFt(s)){a.next=13;break}return u=jr({},s),a.abrupt("return",u);case 13:if(!this.PFt(s)){a.next=16;break}return o=new p(s),a.abrupt("return",o);case 16:throw new lm(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw a.prev=19,a.t0=a.catch(2),new lm(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,a.t0);case 22:case"end":return a.stop()}},null,this,[[2,19]],Ge)},i.onCertificateResponse=function(t){var i,e,r,s,u;return Ur.async(function(o){for(;;)switch(o.prev=o.next){case 0:return i=this.toCertificateRequestDTO(t.request),e={request:i,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},r=new i0(e,this.UI),o.next=5,Ur.awrap(this.DFt.lFt(r));case 5:if(!(s=o.sent)){o.next=11;break}return u=JSON.parse(s),o.abrupt("return",new p(u));case 11:throw new lm(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return o.stop()}},null,this,null,Ge)},i.onLicenseRequest=function(t){var i,e,r,s,u,o,a;return Ur.async(function(h){for(;;)switch(h.prev=h.next){case 0:return i=this.toCertificateRequestDTO(t),e={url:i.url,method:i.method,headers:i.headers,body:i.body?Array.from(i.body):null,useCredentials:i.useCredentials,fairplaySkdUrl:t.fairplaySkdUrl},r=new r0(e,this.UI),h.prev=3,h.next=6,Ur.awrap(this.DFt.lFt(r));case 6:if(!(s=h.sent)){h.next=17;break}if(u=JSON.parse(s),!this.CFt(u)){h.next=14;break}return o={url:u.url,method:u.method,headers:u.headers,body:u.body?new p(u.body):null,useCredentials:u.useCredentials,fairplaySkdUrl:u.fairplaySkdUrl},h.abrupt("return",o);case 14:if(!this.PFt(u)){h.next=17;break}return a=new p(u),h.abrupt("return",a);case 17:throw new lm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw h.prev=20,h.t0=h.catch(3),new lm(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,h.t0);case 23:case"end":return h.stop()}},null,this,[[3,20]],Ge)},i.onLicenseResponse=function(t){var i,e,r,s,u,o;return Ur.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.toCertificateRequestDTO(t.request),e=jr({},i,{fairplaySkdUrl:t.request.fairplaySkdUrl}),r={request:e,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},s=new s0(r,this.UI),a.next=6,Ur.awrap(this.DFt.lFt(s));case 6:if(!(u=a.sent)){a.next=12;break}return o=JSON.parse(u),a.abrupt("return",new p(o));case 12:throw new lm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return a.stop()}},null,this,null,Ge)},i.extractFairplayContentId=function(t){var i,e;return Ur.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=new e0(t,this.UI),r.next=3,Ur.awrap(this.DFt.lFt(i));case 3:if(!(e=r.sent)){r.next=6;break}return r.abrupt("return",e);case 6:return r.abrupt("return",Ge.reject(new lm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return r.stop()}},null,this,null,Ge)},i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.CFt=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.PFt=function(t){return!!new p(t)},t}(),o0=function(){function t(t){this.DFt=void 0,this.DFt=t}return t.prototype.build=function(t){if(!t.integration)throw new l("integrationId is undefined");var n=new u0(this.DFt,t.integration),i=new t0({drmConfiguration:t},t.integration);return this.DFt.lFt(i),n},t}(),a0=function(t){function n(){var n;return(n=t.call(this)||this).DFt=new RK,n}return E(n,t),T(n,[{key:"messageDispatcher",get:function(){return this.DFt}}]),n}(function(){var t=this;this.BLt=void 0,this.OFt=function(n){var i=new o0(t.messageDispatcher),e=n.detail,r=e.integrationId,s=e.keySystem,u={state:aA.WI.HI(r,s,i)};t.messageDispatcher.lFt(new KK(u,r))},this.BLt=new QK,gZ().contentProtectionIntegration={sdkEventBus:this.BLt},this.BLt.addEventListener($K.bFt,this.OFt)});mN(function(t){new a0});var h0,c0=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case _0.STREAM_LOADED:this.Ks(new f0(n));break;case _0.ERROR:this.Ks(new l0(n));break;case _0.AD_EVENT_RECEIVED:this.Ks(new v0(n));break;case _0.AD_PROGRESS:this.Ks(new d0(n));break;case _0.SNAP_BACK_SEEK_TIME:this.Ks(new w0(n))}},n}(bZ),f0=function(t){function n(n){var i;return(i=t.call(this,_0.STREAM_LOADED)||this).detail=n,i}return E(n,t),n}(Iu),l0=function(t){function n(n){var i;return(i=t.call(this,_0.ERROR)||this).detail=n,i}return E(n,t),n}(Iu),v0=function(t){function n(n){var i;return(i=t.call(this,_0.AD_EVENT_RECEIVED)||this).detail=n,i}return E(n,t),n}(Iu),d0=function(t){function n(n){var i;return(i=t.call(this,_0.AD_PROGRESS)||this).detail=n,i}return E(n,t),n}(Iu),w0=function(t){function n(n){var i;return(i=t.call(this,_0.SNAP_BACK_SEEK_TIME)||this).detail=n,i}return E(n,t),n}(Iu),g0=function(t){function n(n,i,e){var r;return(r=t.call(this,n,new Date)||this).xFt=void 0,r.jdt=void 0,r.xFt=i,r.jdt=e,r}return E(n,t),n}(Iu);!function(t){t.LOADED="DAILoaded",t.AD_BREAK_STARTED="DAIAdBreakStarted",t.AD_BREAK_ENDED="DAIAdBreakEnded",t.AD_PERIOD_STARTED="DAIAdPeriodStarted",t.AD_PERIOD_ENDED="DAIAdPeriodEnded",t.AD_PROGRESS="DAIAdProgress",t.CUEPOINTS_CHANGED="DAICuePointsChanged",t.CLICK="DAIClick",t.ERROR="DAIError",t.STARTED="DAIStarted",t.FIRST_QUARTILE="DAIFirstQuartile",t.MIDPOINT="DAIMidpoint",t.STREAM_INITIALIZED="DAIStreamInitialized",t.THIRD_QUARTILE="DAIThirdQuartile",t.COMPLETE="DAIComplete"}(h0||(h0={}));var _0,y0=function(t){function n(n,i){return t.call(this,h0.LOADED,n,i)||this}return E(n,t),n}(g0),m0=function(t){function n(n,i){return t.call(this,h0.AD_BREAK_STARTED,n,i)||this}return E(n,t),n}(g0),p0=function(t){function n(n,i){return t.call(this,h0.AD_BREAK_ENDED,n,i)||this}return E(n,t),n}(g0),k0=function(t){function n(n,i){return t.call(this,h0.AD_PERIOD_STARTED,n,i)||this}return E(n,t),n}(g0),b0=function(t){function n(n,i){return t.call(this,h0.AD_PERIOD_ENDED,n,i)||this}return E(n,t),n}(g0),A0=function(t){function n(n,i){return t.call(this,h0.AD_PROGRESS,n,i)||this}return E(n,t),n}(g0),T0=function(t){function n(n,i){return t.call(this,h0.CUEPOINTS_CHANGED,n,i)||this}return E(n,t),n}(g0),S0=function(t){function n(n,i){return t.call(this,h0.CLICK,n,i)||this}return E(n,t),n}(g0),E0=function(t){function n(n,i){return t.call(this,h0.ERROR,n,i)||this}return E(n,t),n}(g0),I0=function(t){function n(n,i){return t.call(this,h0.STARTED,n,i)||this}return E(n,t),n}(g0),R0=function(t){function n(n,i){return t.call(this,h0.FIRST_QUARTILE,n,i)||this}return E(n,t),n}(g0),N0=function(t){function n(n,i){return t.call(this,h0.MIDPOINT,n,i)||this}return E(n,t),n}(g0),D0=function(t){function n(n,i){return t.call(this,h0.STREAM_INITIALIZED,n,i)||this}return E(n,t),n}(g0),C0=function(t){function n(n,i){return t.call(this,h0.THIRD_QUARTILE,n,i)||this}return E(n,t),n}(g0),P0=function(t){function n(n,i){return t.call(this,h0.COMPLETE,n,i)||this}return E(n,t),n}(g0),O0=function(){function t(t){var n=this;this.BLt=void 0,this.BFt=void 0,this.LFt=function(t){n.BFt.MFt(t.detail)},this.unload=function(){n.BLt.removeEventListener(_0.STREAM_LOADED,n.FFt),n.BLt.removeEventListener(_0.ERROR,n.Dc),n.BLt.removeEventListener(_0.AD_EVENT_RECEIVED,n.UFt),n.BLt.removeEventListener(_0.AD_PROGRESS,n.jFt),n.BLt.removeEventListener(_0.SNAP_BACK_SEEK_TIME,n.LFt)},this.jFt=function(t){var i={HFt:n.createAdProgress(t.detail.adProgressData),XFt:n.createCuePoints(t.detail.cuePoints),VFt:void 0,zFt:void 0,WFt:t.detail.streamId,GFt:[],_d:void 0},e=new A0(i,void 0);n.BFt.Ks(e)},this.FFt=function(t){var i={HFt:void 0,XFt:[],VFt:void 0,zFt:void 0,WFt:void 0,GFt:t.detail.subtitles.map(function(t){return{a_:t.language,qFt:t.ttml,$Ft:t.webvtt}}),_d:t.detail.url};n.BFt.Ks(new y0(i,void 0))},this.Dc=function(t){var i={HFt:void 0,XFt:[],VFt:t.detail.message,zFt:void 0,WFt:void 0,GFt:[],_d:void 0};n.BFt.Ks(new E0(i,void 0))},this.UFt=function(t){var i,e=t.detail.eventName,r=n.createStreamData(t.detail.daiStreamData),s=n.createAd(t.detail.ad);switch(e){case h0.AD_BREAK_STARTED:i=new m0(r,s);break;case h0.AD_BREAK_ENDED:i=new p0(r,s);break;case h0.AD_PERIOD_STARTED:i=new k0(r,s);break;case h0.AD_PERIOD_ENDED:i=new b0(r,s);break;case h0.CUEPOINTS_CHANGED:i=new T0(r,s);break;case h0.CLICK:i=new S0(r,s);break;case h0.STARTED:i=new I0(r,s);break;case h0.FIRST_QUARTILE:i=new R0(r,s);break;case h0.MIDPOINT:i=new N0(r,s);break;case h0.THIRD_QUARTILE:i=new C0(r,s);break;case h0.COMPLETE:i=new P0(r,s);break;case h0.STREAM_INITIALIZED:i=new D0(r,s)}i&&n.BFt.Ks(i)},this.streamManager=t,this.BFt=t,this.BLt=new c0,gZ().dai={sdkEventBus:this.BLt},this.BLt.addEventListener(_0.STREAM_LOADED,this.FFt),this.BLt.addEventListener(_0.ERROR,this.Dc),this.BLt.addEventListener(_0.AD_EVENT_RECEIVED,this.UFt),this.BLt.addEventListener(_0.AD_PROGRESS,this.jFt),this.BLt.addEventListener(_0.SNAP_BACK_SEEK_TIME,this.LFt)}var n=t.prototype;return n.createStreamData=function(t){return{HFt:this.createAdProgress(t.adProgressData),XFt:this.createCuePoints(t.cuePoints),VFt:void 0,zFt:void 0,WFt:t.streamId,GFt:[],_d:void 0}},n.createAdProgress=function(t){if(t)return{Vbt:t.adBreakDuration,YFt:t.adPeriodDuration,_bt:t.adPosition,sy:t.currentTime,uy:t.currentTime,pbt:t.totalAds}},n.createCuePoints=function(t){return t.map(function(t){return{ap:t.endTime,Lm:t.played,op:t.startTime}})},n.createAd=function(t){if(t){var n={_bt:t.adPodInfo.adPosition,ybt:t.adPodInfo.maxDuration,mbt:t.adPodInfo.podIndex,Z1:t.adPodInfo.timeOffset,pbt:t.adPodInfo.totalAds},i=t.companionAds.map(function(t){return{Rgt:void 0,Gv:void 0,hp:t.content,bT:t.height,xp:t.width}});return{s_t:t.adId,Hbt:n,jwt:t.adSystem,Tbt:t.advertiserName,Igt:void 0,Pwt:i,sgt:t.creativeId,Sbt:t.creativeAdId,Ebt:t.dealId,PT:t.description,uy:t.duration,$N:t.title,QFt:t.universalAdIdRegistry,JFt:t.universalAdIdValue,Bbt:t.vastMediaHeight,Lbt:t.vastMediaWidth,Mbt:t.wrapperAdIds,Fbt:t.wrapperAdSystems,Ubt:t.wrapperCreativeIds}}},t}();!function(t){t.STREAM_LOADED="streamLoaded",t.AD_EVENT_RECEIVED="adEventReceived",t.AD_PROGRESS="adProgress",t.ERROR="error",t.SNAP_BACK_SEEK_TIME="snapBackSeekTime"}(_0||(_0={}));var x0,B0=function(t){function n(){var n;return(n=t.call(this)||this).yLt=new WZ,n.iOSEventsHandler=void 0,n.lastSnapBackPromise=void 0,n.iOSEventsHandler=new O0(Kt(n)),n}E(n,t);var i=n.prototype;return i.ZFt=function(t){this.yLt.EJ(x0.PROCESS_TIMED_METADATA,JSON.stringify(t))},i.KFt=function(t){return this.lastSnapBackPromise&&this.lastSnapBackPromise.Ws(),this.lastSnapBackPromise=new na,this.yLt.EJ(x0.REQUEST_SNAPBACK_SEEK_TIME,JSON.stringify({time:t})),this.lastSnapBackPromise.Wu},i.l6=function(t,n){this.yLt.EJ(x0.REQUEST_STREAM,JSON.stringify(t))},i.wc=function(){this.yLt.EJ(x0.RESET)},i.Kc=function(){this.yLt.EJ(x0.UNLOAD),this.iOSEventsHandler.unload()},i.MFt=function(t){this.lastSnapBackPromise&&(this.lastSnapBackPromise.Yu(t.time),this.lastSnapBackPromise=void 0)},i.tUt=function(t){throw new l("Not supported using JS. Please use the swift `func contentTime(from streamTime: Double) -> Double`")},i.nUt=function(t){throw new l("Not supported using JS. Please use the swift `func streamTime(from contentTime: Double) -> Double`")},i.replaceAdTagParameters=function(t){},n}(Su);!function(t){t.REQUEST_STREAM="DAI_REQUEST_STREAM",t.REQUEST_SNAPBACK_SEEK_TIME="DAI_REQUEST_SNAPBACK_SEEK_TIME",t.PROCESS_TIMED_METADATA="DAI_PROCESS_TIMED_METADATA",t.RESET="DAI_RESET",t.UNLOAD="DAI_UNLOAD"}(x0||(x0={}));var L0=function(t){function n(n){var i;return(i=t.call(this)||this).Bq=!1,i.iz=function(t){t.type===Bf.Xf&&(i.Bq=!0),(i.Bq||t.type!==Bf.ol)&&i.Zs(t)},i.BD=n,i.BD.uu(i.iz),i}E(n,t);var i=n.prototype;return i.addEventListener=function(t,n){this.tu(t,n)},i.removeEventListener=function(t,n){this.au(t,n)},i.wc=function(){this.Bq=!1},i.Kc=function(){this.ou(),this.BD.du(this.iz),this.BD=void 0},T(n,[{key:"currentTime",get:function(){return this.BD.JL()},set:function(t){}},{key:"duration",get:function(){return this.BD.KL()}},{key:"buffered",get:function(){return this.BD.qL()}},{key:"seekable",get:function(){return this.BD.iUt()}},{key:"Em",get:function(){return this.BD.Em}}]),n}(J_),M0="theo-dai-clickthrough",F0="urn:google:dai:2018",U0=function(){function t(t,n,i,e,r){var s=this;this.BD=void 0,this.eUt=void 0,this.rUt=void 0,this.BFt=void 0,this.sUt=void 0,this.uUt=void 0,this.gN=void 0,this._N=void 0,this.kq=new au,this.oUt=!1,this.aUt=!0,this.hUt=function(t){var n=t._g;n.u_===Wk.dA&&(n.gs===xm.ID3||n.gs===xm.EVENT_STREAM&&n.w_===F0)&&(n.g_=j_.l_,s.uUt=n,n.tu(h_.yg,s.cUt))},this.cUt=function(t){t.sp.tu(Um.np,s.fUt)},this.fUt=function(t){var n,i;if(s.BFt)if((null==(n=s.uUt)?void 0:n.gs)===xm.ID3){var e=t.sp.hp;"TXXX"===e.id&&s.BFt.ZFt({TXXX:e.text})}else if((null==(i=s.uUt)?void 0:i.gs)===xm.EVENT_STREAM){var r=t.sp.hp;s.BFt.lUt(F0,r,t.Bk)}},this.BD=t,this.eUt=n,this.BFt=i,this.sUt=e,this.rUt=r,e&&i&&this.BD.owt&&this.BD.owt.swt.Pdt(e.rEt)}var i=t.prototype;return i.ZL=function(t){this.kq.Ws(),this.kq=new au,mu(this.vUt(t,this.kq.$s))},i.vUt=function(t,n){var i;return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(fu(n),this.sUt&&this.BFt){e.next=3;break}return e.abrupt("return",this.BD.dUt(t));case 3:if(!this.sUt.nwt){e.next=5;break}return e.abrupt("return");case 5:if(!(t>this.BD.JL())||!this.aUt){e.next=14;break}return e.next=9,Ur.awrap(du(this.BFt.KFt(t),n));case 9:if(!(i=e.sent)){e.next=14;break}return this.BD.dUt(i),e.next=14,Ur.awrap(this.BFt.wu(h0.AD_BREAK_ENDED,n));case 14:this.BD.dUt(t);case 15:case"end":return e.stop()}},null,this,null,Ge)},i.wM=function(){var t=this.sUt&&this.sUt.nwt;if(t){var n=TS.SC(this.BD.iUt()),i=t.Z1,e=i+t.ybt,r=new TS([i,e]);return n.rC(r).oD()}return this.BD.iUt()},i.SU=function(t,i){var e,r;return Ur.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(t){s.next=2;break}return s.abrupt("return",this.BD.wUt(t,i));case 2:return s.prev=2,this.BD.$y.tu(s_.hg,this.hUt),s.next=6,Ur.awrap(this.rUt.gUt(t,i));case 6:return e=s.sent,this.sUt&&this.BFt&&(this.oUt=!0),s.next=10,Ur.awrap(this.BD.wUt(e,i));case 10:s.next=22;break;case 12:if(s.prev=12,s.t0=s.catch(2),lu(s.t0),s.t0.code!==hm.LICENSE_INVALID){s.next=17;break}return s.abrupt("return");case 17:throw r=new lf(n.ErrorCode.SOURCE_NOT_SUPPORTED,"Something went wrong while setting up a Google DAI stream.",s.t0),this.gN=wm(r),this._N=r,this.BD.Ks(new Vy(r)),r;case 22:case"end":return s.stop()}},null,this,[[2,12]],Ge)},i.wc=function(){if(this.oUt){if(this.BD.$y.au(s_.hg,this.hUt),this.uUt){this.uUt.au(h_.yg,this.cUt);for(var t=0,n=this.uUt.p_.qg;t<n.length;t++){n[t].au(Um.np,this.fUt)}this.uUt=void 0}this.gN=void 0,this._N=void 0,this.kq.Ws(),this.eUt.wc(),this.sUt&&this.sUt.wc(),this.BFt&&this.BFt.wc(),this.oUt=!1}},i.Kc=function(){this.wc(),this.eUt.Kc(),this.BD._Ut(),this.BFt&&this.BFt.Kc()},T(t,[{key:"wg",get:function(){var t=this,n=this.rUt;return{contentTimeForStreamTime:function(n){return t.BFt?t.BFt.tUt(n):n},streamTimeForContentTime:function(n){return t.BFt?t.BFt.nUt(n):n},replaceAdTagParameters:function(n){t.BFt&&t.BFt.replaceAdTagParameters(n)},get snapback(){return t.aUt},set snapback(n){t.aUt=n},get sourceTransformer(){return n.yUt},set sourceTransformer(t){n.yUt=t}}}},{key:"Au",get:function(){return this.gN||this.BD.mUt()}},{key:"ly",get:function(){return this._N||this.BD.pUt()}}]),t}(),j0=function(t){function n(n,i,e,r){var s;return void 0===r&&(r=!0),(s=t.call(this,n,i,e)||this).kUt=r,s}return E(n,t),T(n,[{key:"bUt",get:function(){return this.kUt}},{key:"ASt",get:function(){return GW.vSt}}]),n}(YW),H0=function(){function t(t){this.dg=void 0,this.Ba=void 0,this.La=void 0,this.AUt=void 0,this.ygt=void 0,this.Pgt=void 0,this.TUt=void 0,this.Ba=t.xp,this.La=t.bT,this.AUt=t.hp,this.ygt=t.Rgt,this.SUt(t)}var n=t.prototype;return n.kSt=function(){var t;return this.dg||(this.dg=(t=this,{get adSlotId(){return t.Rgt},get altText(){return t.Cgt},get contentHTML(){return t.EUt},get clickThrough(){return t.Lgt},get height(){return t.bT},get resourceURI(){return t.q_t},get width(){return t.xp}})),this.dg},n.SUt=function(t){var n=function(t){try{return az(t,"text/html")}catch(t){return}}(t.hp);n&&(this.Pgt=X0(n,"a","href"),this.TUt=X0(n,"img","src"))},T(t,[{key:"Rgt",get:function(){return this.ygt}},{key:"Cgt",get:function(){return""}},{key:"EUt",get:function(){return this.AUt}},{key:"Lgt",get:function(){return this.Pgt}},{key:"bT",get:function(){return this.La}},{key:"q_t",get:function(){return this.TUt}},{key:"xp",get:function(){return this.Ba}}]),t}();function X0(t,n,i){var e=t.querySelector(n);return e&&e.getAttribute(i)||""}var V0=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).IUt=0,n.GSt=void 0,n}E(n,t);var i=n.prototype;return i.gg=function(){var t,n=vG(this);return t=this,b_(n,{bitrate:0,contentType:void 0,mediaUrl:void 0,traffickingParameters:void 0,traffickingParametersString:void 0,universalAdIds:[],get adSystem(){return t.jwt},get apiFramework(){return t.$St},get creativeId(){return t.sgt},get title(){return t.$N},get wrapperAdIds(){return t.Mbt},get wrapperAdSystems(){return t.Fbt},get wrapperCreativeIds(){return t.Ubt}})},i.QSt=function(t){this.GSt=t;var n=function(t){return t.Pwt.map(function(t){return new H0(t)})}(t);this.zSt(t.s_t,t.Lbt,t.Bbt,t.uy,n,-1)},T(n,[{key:"RUt",get:function(){return this.IUt},set:function(t){this.IUt=t}},{key:"ASt",get:function(){return GW.vSt}},{key:"jwt",get:function(){var t;return null==(t=this.GSt)?void 0:t.jwt}},{key:"$St",get:function(){var t;return null==(t=this.GSt)?void 0:t.Igt}},{key:"sgt",get:function(){var t;return null==(t=this.GSt)?void 0:t.sgt}},{key:"$N",get:function(){var t;return null==(t=this.GSt)?void 0:t.$N}},{key:"Mbt",get:function(){var t,n;return null!=(t=null==(n=this.GSt)?void 0:n.Mbt)?t:[]}},{key:"Fbt",get:function(){var t,n;return null!=(t=null==(n=this.GSt)?void 0:n.Fbt)?t:[]}},{key:"Ubt",get:function(){var t,n;return null!=(t=null==(n=this.GSt)?void 0:n.Ubt)?t:[]}}]),n}(lG);var z0,W0=function(t){function n(n,i){var e;return(e=t.call(this,new WS,GW.vSt)||this).jFt=function(t){var n=e.nEt;if(n&&e.PSt){var i=t.xFt.HFt;e.PSt.RUt=i.sy,function(t,n){var i,e=n._bt,r=n.pbt,s=n.uy,u=n.Vbt,o=n.sy;i=1===e?u-o:e===r?s-o:u-o-(e-1)*s;t.bSt=i}(n,i)}},e.NUt=function(t){var n=t.xFt.XFt;if(n)for(var i=0;i<n.length;i++){var r=n[i];if(!e.DUt(r.op)){var s=r.ap-r.op,u=new j0(s,s,r.op,!0);e.tEt.push(u)}}},e.CUt=function(t){e.PUt(t.type),e.OUt(t)},e.xUt=function(t){e.iEt=!1,e.PSt=void 0;var n=e.nwt;n&&(n.bSt=0,e.BUt(t.type,!1,!1),e.nEt=void 0)},e.BFt=n,e.BD=i,e.LUt(),e}E(n,t);var i=n.prototype;return i.LUt=function(){var t=[h0.STARTED,h0.FIRST_QUARTILE,h0.MIDPOINT,h0.THIRD_QUARTILE,h0.COMPLETE];this.BFt.tu(t,this.CUt),this.BFt.tu(h0.AD_BREAK_ENDED,this.xUt),this.BFt.tu(h0.AD_PROGRESS,this.jFt),this.BFt.tu(h0.CUEPOINTS_CHANGED,this.NUt)},i.MUt=function(t){var n=t.Hbt.Z1,i=this.nEt||this.findAdBreakWithPredicate(n,function(t){return!t.Lm});if(!i){var e=t.Hbt.ybt;n=this.BD.JL(),(i=new j0(e,e,n,!1)).mSt(),this.tEt.push(i)}return i},i.PUt=function(t){switch(t){case h0.STARTED:this.iEt=!0;break;case h0.AD_BREAK_ENDED:this.iEt=!1}},i.BUt=function(t,n,i){if(n)switch(t){case h0.STARTED:case h0.FIRST_QUARTILE:case h0.MIDPOINT:case h0.THIRD_QUARTILE:case h0.COMPLETE:this.Cdt.Ks(new FG(this.nEt))}if(i)switch(t){case h0.STARTED:case h0.FIRST_QUARTILE:case h0.MIDPOINT:case h0.THIRD_QUARTILE:case h0.COMPLETE:this.Cdt.Ks(new bG(this.PSt,this.PSt.RUt))}switch(t){case h0.COMPLETE:this.Cdt.Ks(new LG(this.PSt,this.KSt.RUt));break;case h0.AD_BREAK_ENDED:this.Cdt.Ks(new jG(this.nwt))}switch(t){case h0.FIRST_QUARTILE:this.Cdt.Ks(new RG(this.PSt,this.KSt.RUt));break;case h0.MIDPOINT:this.Cdt.Ks(new DG(this.PSt,this.KSt.RUt));break;case h0.THIRD_QUARTILE:this.Cdt.Ks(new PG(this.PSt,this.KSt.RUt))}},i.OUt=function(t){var n=t.jdt,i=this.MUt(n),e=function(t,n){if(t.owt.length)return!1;for(var i=0;i<n;i++){var e=new V0(t,rG.xmt);t.pSt(e)}return!0}(i,n.Hbt.pbt),r=function(t,n){var i=n.Hbt._bt-1;return t.owt[i]}(i,n),s=function(t,n){return t.WSt!==sG.READY&&(t.QSt(n),!0)}(r,n);this.PSt=r,this.nEt=i,i.mSt(),this.BUt(t.type,e,s)},i.DUt=function(t){for(var n=0,i=this.tEt;n<i.length;n++){var e=i[n];if(jt(t,e.Z1))return e}},i.findAdBreakWithPredicate=function(t,n){for(var i=0,e=this.tEt;i<e.length;i++){var r=e[i];if(jt(r.Z1,t)&&n(r))return r}},i.FUt=function(t,n){for(var i,e=0,r=this.tEt;e<r.length;e++){var s=r[e];s.Z1>=t&&s.Z1<=n&&!s.Lm&&(!i||s.Z1>=i.Z1)&&(i=s)}return i},i.wc=function(){this.PSt&&(this.Cdt.Ks(new LG(this.PSt,this.PSt.RUt)),this.PSt=void 0),this.nEt&&(this.Cdt.Ks(new jG(this.nEt)),this.nEt=void 0),this.iEt=!1,Zs(this.tEt)},i.Kc=function(){this.wc(),this.Cdt.Kc()},T(n,[{key:"uwt",get:function(){return this.iEt}},{key:"Cdt",get:function(){return this.awt}},{key:"ewt",get:function(){return this.tEt.filter(function(t){return!t.Lm})}},{key:"UUt",get:function(){var t=this.findAdBreakWithPredicate(0,function(t){return t.bUt}),n=0;return t&&(n=t.ybt),n}}]),n}(_G),G0=function(){function t(t){this.yUt=function(t){return t},this.BFt=t}var n=t.prototype;return n.gUt=function(t,n){var i,e,r,s,u,o,a,h,c,f;return Ur.async(function(v){for(;;)switch(v.prev=v.next){case 0:i=[],e=[],r=0,s=t.sources;case 3:if(!(r<s.length)){v.next=15;break}if(vy(u=s[r])){v.next=9;break}e.push(u),v.next=12;break;case 9:if(this.BFt){v.next=11;break}return v.abrupt("continue",12);case 11:i.push(u);case 12:r++,v.next=3;break;case 15:if(0!==i.length){v.next=17;break}return v.abrupt("return",t);case 17:if(void 0!==o||0===i.length){v.next=39;break}return v.next=20,Ur.awrap(wS.qn.TD(i,t));case 20:return h=v.sent,c=h.ED,f=c,fu(n),v.prev=24,v.next=27,Ur.awrap(this.jUt(f,n));case 27:o=v.sent,e.push(o),v.next=37;break;case 31:v.prev=31,v.t0=v.catch(24),lu(v.t0),a=v.t0,Ys(i,f);case 37:v.next=17;break;case 39:if(0===t.sources.length||0!==e.length){v.next=43;break}throw new l("Fatal: unable to play DAI streams.");case 43:a&&at(a.message);case 44:return v.abrupt("return",jr({},t,{sources:e}));case 45:case"end":return v.stop()}},null,this,[[24,31]],Ge)},n.jUt=function(t,n){var i,e,r,s,u,o;return Ur.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(this.BFt){a.next=2;break}throw new l("Could not find Google\u2019s IMA DAI HTML5 SDK, all DAI sources will be ignored.");case 2:return i=this.BFt.wu(h0.LOADED,n),e=this.BFt.wu(h0.ERROR,n),r=t.type===ey.L_?"dash":"hls",this.BFt.l6(jr({},t.ssai,{format:r})),a.next=8,Ur.awrap(Ge.race([i,e]));case 8:if((s=a.sent).type!==h0.LOADED){a.next=22;break}if(u=t.type===ey.L_?ey.L_:ey.H_,!this.yUt){a.next=17;break}return a.next=14,Ur.awrap(this.yUt(s.xFt._d||""));case 14:a.t0=a.sent,a.next=18;break;case 17:a.t0=s.xFt._d;case 18:return o=a.t0,a.abrupt("return",EE(jr({},t,{src:o,type:u})));case 22:throw l(s.xFt.VFt);case 23:case"end":return a.stop()}},null,this,null,Ge)},t}();gN((z0=function(t,n){return new B0},function(t){return function(t){function n(n,i){var e;(e=t.call(this,n,i)||this).HUt=void 0;var r=s.createElement("a");r.className=M0,r.tabIndex=0,r.style.display="none",e.Em.appendChild(r);var u,o,a=new L0(Kt(e));try{u=z0(a,r),o=new W0(u,Kt(e))}catch(t){}var h=new G0(u);return e.HUt=new U0(Kt(e),a,u,o,h),e}E(n,t);var i=n.prototype;return i.gg=function(){var n=t.prototype.gg.call(this),i=n.ads;if(!i)return n;var e=this.HUt.wg;return b_(n,{get ads(){return b_(i,{get dai(){return e}})}})},i.dUt=function(n){t.prototype.ZL.call(this,n)},i.ZL=function(t){this.HUt.ZL(t)},i.iUt=function(){return t.prototype.wM.call(this)},i.wM=function(){return this.HUt.wM()},i.tm=function(n){return this.HUt.wc(),t.prototype.tm.call(this,n)},i.wUt=function(n,i){return Ur.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.prototype.SU.call(this,n,i));case 1:case"end":return e.stop()}},null,this,null,Ge)},i.SU=function(t,n){return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.HUt.SU(t,n));case 1:case"end":return i.stop()}},null,this,null,Ge)},i.mUt=function(){return t.prototype.iM.call(this)},i.pUt=function(){return t.prototype.eM.call(this)},i.iM=function(){return this.HUt.Au},i.eM=function(){return this.HUt.ly},i._Ut=function(){t.prototype.Kc.call(this)},i.Kc=function(){this.HUt.Kc()},n}(t)}),fN.nU);var q0,$0=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).XUt=function(){},e.VUt(),e}E(n,t);var e=n.prototype;return e.zUt=function(){this.BD&&this.BD.au(Bf.Af,this.handleAirplayChangedEvent),this.BD=this.gL,this.BD.tu(Bf.Af,this.handleAirplayChangedEvent)},e.WUt=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.BD){t.next=2;break}return t.abrupt("return");case 2:this.GUt(rE.CONNECTED);case 3:case"end":return t.stop()}},null,this,null,Ge)},e.qUt=function(){this.GUt(rE.AVAILABLE)},e.im=function(){i.jr.ze&&(this.$Ut.hm(),this.YUt.Ws(),this.YUt=new au,mu(this.QUt(this.YUt.$s)))},n}(function(t){function n(n,i){var e;return(e=t.call(this)||this).dg=void 0,e.$Ut=void 0,e.BD=void 0,e.gL=void 0,e.me=rE.UNAVAILABLE,e.YUt=new au,e.XUt=void 0,e.handleAirplayChangedEvent=function(){e.BD&&e.BD.Im?e.WUt():e.RY===rE.CONNECTED&&e.qUt()},e.$Ut=n,e.gL=i,e}E(n,t);var e=n.prototype;return e.VUt=function(){this.zUt(),this.$Ut.tu("sourcechange",this.XUt),i.jr.ze&&this.GUt(rE.AVAILABLE)},e.preloadPlayer=function(t){if(fu(t),this.BD.m_<uy.W_){var n=this.BD.wu("loadedmetadata",t);return this.BD.Mm=gS.dA,n}return Ge.resolve()},e.GUt=function(t){t!==this.me&&(this.me=t,this.Ks(new vV(this.me)))},e.QUt=function(t){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ur.awrap(this.preloadPlayer(t));case 2:this.gL.im();case 3:case"end":return n.stop()}},null,this,null,Ge)},e.um=function(){i.jr.ze&&this.BD.um()},e.Kc=function(){this.ou(),this.$Ut.au("sourcechange",this.XUt),this.YUt.Ws()},T(n,[{key:"qM",get:function(){return this.RY===rE.CONNECTED}},{key:"RY",get:function(){return this.me}},{key:"wg",get:function(){var t;return this.dg||(this.dg=(t=this,{get casting(){return t.qM},get state(){return t.RY},start:function(){t.im()},stop:function(){t.um()},addEventListener:function(n,i){var e=O_(n,C_);t.tu(e,i)},removeEventListener:function(n,i){var e=O_(n,C_);t.au(e,i)}})),this.dg}}]),n}(Su));gN(function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).JUt=void 0,e.JUt=new $0(Kt(e),e.jM),e.QF.$M(e.JUt),e.tu("currentsourcechange",function(){e.JUt.zUt()}),e}E(n,t);var i=n.prototype;return i.gg=function(){var n=this,i=t.prototype.gg.call(this);return b_(i.cast,{get airplay(){return n.JUt.wg}}),i},i.Kc=function(){this.JUt.Kc(),t.prototype.Kc.call(this)},n}(t)},fN.tU),function(t){t.uft="airplaystatechange"}(q0||(q0={}));var Y0=function(t){this.type=q0.uft,this.state=t},Q0=function(t){function n(n){var i;return(i=t.call(this)||this).ZUt=void 0,i.KUt=function(t){var n=new Y0(t.state);i.oFt(n)},i.ZUt=n,i.EMt(n),i}return E(n,t),n.prototype.EMt=function(t){t.addEventListener("statechange",this.KUt)},n}(kK);mN(function(t){var n;null!=(n=t.wg.cast)&&n.airplay&&new Q0(t.wg.cast.airplay)});var J0,Z0=function(t){this.type=t};!function(t){t.tjt="chromecastsendmessage",t.njt="chromecaststartforwarding",t.ijt="chromecaststopforwarding"}(J0||(J0={}));var K0,t1=function(t){function n(n,i,e){var r;return(r=t.call(this,J0.tjt)||this).namespace=n,r.message=i,r.messageId=e,r}return E(n,t),n}(Z0),n1=function(t){function n(n){var i;return(i=t.call(this,J0.njt)||this).namespace=n,i}return E(n,t),n}(Z0),i1=function(t){function n(n){var i;return(i=t.call(this,J0.ijt)||this).namespace=n,i}return E(n,t),n}(Z0),e1=function(){function t(){this.ejt=new kK,this.rjt=void 0,this.sjt={},this.ujt={},this.rjt=0}var n=t.prototype;return n.mft=function(t,n){void 0===this.ujt[t]&&(this.ujt[t]=[]),0===this.ujt[t].length&&this.ejt.oFt(new n1(t)),this.ujt[t].push(n)},n.Nc=function(t,n){if(void 0!==this.ujt[t])for(var i=0,e=this.ujt[t].slice();i<e.length;i++){(0,e[i])(t,n)}},n.Tft=function(t,n){void 0!==this.ujt[t]&&(Ys(this.ujt[t],n),0===this.ujt[t].length&&(this.ejt.oFt(new i1(t)),this.ujt[t]=void 0))},n.EJ=function(t,n){var i=new na;return this.sjt[++this.rjt]=i,this.ejt.oFt(new t1(t,JSON.stringify(n),this.rjt)),i.Wu},n.ojt=function(t){var n;null==(n=this.sjt[t])||n.Yu(),this.sjt[t]=void 0},n.ajt=function(t,n){var i;null==(i=this.sjt[t])||i.Qu(new HH("CHANNEL_ERROR",n)),this.sjt[t]=void 0},n.Kc=function(){for(var t in this.sjt)this.ajt(Number(t),"Chromecast message bus unloading");this.ujt={}},t}();!function(t){t.hjt="chromecastmediasessioninitialize",t.Xf="chromecastplay",t.Hf="chromecastpause",t.SP="chromecastseek",t.cjt="chromecastsetactivetracks",t.fjt="chromecastsetplaybackrate",t.ljt="chromecaststop",t.fft="chromecastreceiverinfo",t.vjt="chromecastmediasessionunload"}(K0||(K0={}));var r1,s1=function(t){function n(){return t.call(this,K0.hjt)||this}return E(n,t),n}(Z0),u1=function(t){function n(){return t.call(this,K0.Xf)||this}return E(n,t),n}(Z0),o1=function(t){function n(){return t.call(this,K0.Hf)||this}return E(n,t),n}(Z0),a1=function(t){function n(n,i){var e;return(e=t.call(this,K0.SP)||this).time=n,e.paused=i,e}return E(n,t),n}(Z0),h1=function(t){function n(n){var i;return(i=t.call(this,K0.cjt)||this).serializedActiveTrackIds=n,i}return E(n,t),n}(Z0),c1=function(t){function n(n){var i;return(i=t.call(this,K0.fjt)||this).playbackRate=n,i}return E(n,t),n}(Z0),f1=function(t){function n(){return t.call(this,K0.ljt)||this}return E(n,t),n}(Z0),l1=function(t){function n(n){var i;return(i=t.call(this,K0.fft)||this).receiverVersion=n,i}return E(n,t),n}(Z0),v1=function(t){function n(){return t.call(this,K0.vjt)||this}return E(n,t),n}(Z0),d1=function(n){function i(i,e){var r;return(r=n.call(this,e)||this).Kft=void 0,r.ejt=new kK,r.djt=void 0,r.wjt=function(){var t=r.Kft.jft();t&&r.ejt.oFt(new l1(t.version))},r.Kft=i,t.iosChromecastMediaSessionUpwardBridge=Kt(r),r.wjt(),r.Kft.tu(GH.Dft,r.wjt),r.ejt.oFt(new s1),r}E(i,n);var e=i.prototype;return e.notifySourceChange=function(t,n){var i=JSON.parse(t),e=JSON.parse(n),r=e?HE(e,Wy({})):void 0;this.Ks(new gX(i,r))},e.notifyMediaStatusUpdate=function(t){var n,i=JSON.parse(t);i.ended?this.Ks(new hX):(i.buffers&&this.Ks(new wX(new TS(i.buffers.seekable))),this.Ks(new aX(null!=(n=i.duration)?n:1/0)),this.Ks(new fX(i.paused)),this.Ks(new lX(i.playbackRate)),this.hlt(i.tracks),i.activeTracks&&this.Ks(new bX(i.activeTracks)))},e.hlt=function(t){if(t){var n=t.filter(CX),i=t.filter(PX),e=t.filter(OX);this.Ks(new kX(n,i,e))}},e.notifyTimeChange=function(t){this.Ks(new uX(t))},e.notifySeekSuccess=function(){var t;null==(t=this.djt)||t.Yu(),this.djt=void 0},e.notifySeekError=function(t){var n;null==(n=this.djt)||n.Qu(new HH("CANCEL",t)),this.djt=void 0},e.Jy=function(){this.ejt.oFt(new o1)},e.Qy=function(){this.ejt.oFt(new u1)},e.Uu=function(t,n){return this.djt?Ge.reject(new HH("CANCEL","Seeking cancelled, there was already a seek in progress.")):(this.djt=new na,this.ejt.oFt(new a1(t,n)),this.djt.Wu)},e.glt=function(t){this.ejt.oFt(new h1(JSON.stringify(t)))},e.cM=function(t){n.prototype.cM.call(this,t),this.ejt.oFt(new c1(t))},e.Zy=function(){this.ejt.oFt(new f1)},e.Kc=function(){this.djt&&this.notifySeekError("Seeking cancelled, Chromecast media session ending"),this.Kft.au(GH.Dft,this.wjt),this.ejt.oFt(new v1),t.iosChromecastMediaSessionUpwardBridge=void 0,n.prototype.Kc.call(this)},i}(DX);!function(t){t.SESSION_INITIALIZE="chromecastsessioninitialize",t.gjt="chromecastload",t._jt="chromecastsetvolume",t.yjt="chromecastsetmuted",t.mjt="chromecastsessionunload"}(r1||(r1={}));var w1,g1=function(t){function n(){return t.call(this,r1.SESSION_INITIALIZE)||this}return E(n,t),n}(Z0),_1=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,r1.gjt)||this).src=n,u.sourceType=i,u.currentTime=e,u.customData=r,u.source=s,u}return E(n,t),n}(Z0),y1=function(t){function n(n){var i;return(i=t.call(this,r1._jt)||this).volume=n,i}return E(n,t),n}(Z0),m1=function(t){function n(n){var i;return(i=t.call(this,r1.yjt)||this).muted=n,i}return E(n,t),n}(Z0),p1=function(t){function n(){return t.call(this,r1.mjt)||this}return E(n,t),n}(Z0),k1=function(n){function i(){var i;return(i=n.call(this,new e1)||this).ejt=new kK,i.pjt=new na,i.kjt="",i.bjt=[],i.tlt=void 0,t.iosChromecastSessionUpwardBridge=Kt(i),i.ejt.oFt(new g1),i}E(i,n),i.jJ=function(){var t;return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:return t=new i,n.next=3,Ur.awrap(t.pjt.Wu);case 3:return n.abrupt("return",t);case 4:case"end":return n.stop()}},null,null,null,Ge)};var e=i.prototype;return e.notifyReceiverName=function(t){this.kjt=t,this.pjt.Yu()},e.notifyVolumeChange=function(t,n){this.Ks(new JH(t,n))},e.notifyLoadSuccess=function(){var t;null==(t=this.bjt.shift())||t.Yu()},e.notifyLoadFailed=function(t){var n;null==(n=this.bjt.shift())||n.Qu(new HH("LOAD_MEDIA_FAILED",t))},e.notifyMediaSessionStart=function(){this.tlt=new d1(this,this.Pft),this.Ks(new QH)},e.notifyMediaSessionStop=function(){this.tlt=void 0,this.Ks(new QH)},e.notifyMessage=function(t,n){this.dft.Nc(t,n)},e.notifyMessageSuccess=function(t){this.dft.ojt(t)},e.notifyMessageError=function(t,n){this.dft.ajt(t,n)},e.Slt=function(){return this.tlt},e.Nlt=function(){return this.kjt},e.Elt=function(t){var n=new na;this.bjt.push(n);var i=t.Ilt,e=CE(i)||"",r=DE(i)||"";return this.ejt.oFt(new _1(e,r,t.sy,JSON.stringify(t.Rlt),JSON.stringify(t.Ilt))),n.Wu},e.uM=function(t){this.ejt.oFt(new m1(t))},e.bM=function(t){this.ejt.oFt(new y1(t))},e.Kc=function(){this.ejt.oFt(new p1),n.prototype.Kc.call(this),t.iosChromecastSessionUpwardBridge=void 0},i}(iX);!function(t){t.Ajt="chromecaststartsession",t.Tjt="chromecaststopsession",t.Sjt="chromecastonstart",t.Ejt="chromecastonstop",t.Ijt="chromecastonjoin",t.Rjt="chromecastonleave"}(w1||(w1={}));var b1=function(t){function n(){return t.call(this,w1.Ajt)||this}return E(n,t),n}(Z0),A1=function(t){function n(n){var i;return(i=t.call(this,w1.Tjt)||this).killSession=n,i}return E(n,t),n}(Z0),T1=function(t){function n(n){var i;return(i=t.call(this,w1.Sjt)||this).source=n,i}return E(n,t),n}(Z0),S1=function(t){function n(n){var i;return(i=t.call(this,w1.Ejt)||this).source=n,i}return E(n,t),n}(Z0),E1=function(t){function n(n){var i;return(i=t.call(this,w1.Ijt)||this).source=n,i}return E(n,t),n}(Z0),I1=function(t){function n(n){var i;return(i=t.call(this,w1.Rjt)||this).source=n,i}return E(n,t),n}(Z0);function R1(t){throw new l('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}gN(yV(new(function(n){function i(){var i;return(i=n.call(this)||this).ejt=new kK,i.Kft=void 0,i.me=rE.AVAILABLE,i.Njt=[],i.Djt=[],i.Cjt=[],i.Pjt=[],i.Ojt=[],t.iosChromecastClientUpwardBridge=Kt(i),i}E(i,n);var e=i.prototype;return e.xlt=function(t){},e.Blt=function(){},e.notifySessionStateChange=function(t){var n=function(t){switch(t.toLowerCase()){case"available":return rE.AVAILABLE;case"connecting":return rE.CONNECTING;case"connected":return rE.CONNECTED;default:return rE.UNAVAILABLE}}(t);this.me=n,n!==rE.CONNECTED&&(this.Kft=void 0),this.Ks(new jH(n))},e.notifySessionStartSucceeded=function(){this.xjt()},e.xjt=function(){var t,n;return Ur.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Ur.awrap(k1.jJ());case 2:for(this.Kft=i.sent,t=0,n=this.Njt;t<n.length;t++)n[t].Yu();Zs(this.Njt);case 5:case"end":return i.stop()}},null,this,null,Ge)},e.notifySessionStartFailed=function(t){var n=this.Njt.shift(),i="abort"===t?new hu:new HH("SESSION_ERROR",t);null==n||n.Qu(i)},e.Llt=function(){return this.Kft},e.Olt=function(){return this.me},e.LL=function(t){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Ge.resolve());case 1:case"end":return t.stop()}},null,null,null,Ge)},e.Mlt=function(){var t;return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.Olt()!==rE.CONNECTED){n.next=2;break}return n.abrupt("return",Ge.resolve());case 2:return t=new na,this.Njt.push(t),this.ejt.oFt(new b1),n.abrupt("return",t.Wu);case 6:case"end":return n.stop()}},null,this,null,Ge)},e.Flt=function(t){var n=new na;return this.Djt.push(n),this.ejt.oFt(new T1(t)),n.Wu},e.notifyOnStarted=function(t){for(var n=JSON.parse(t),i=n?HE(n,Wy({})):void 0,e=0,r=this.Djt;e<r.length;e++){r[e].Yu(i)}Zs(this.Djt)},e.Ult=function(t){var n=new na;return this.Cjt.push(n),this.ejt.oFt(new S1(t)),n.Wu},e.notifyOnStopped=function(t){for(var n=JSON.parse(t),i=n?HE(n,Wy({})):void 0,e=0,r=this.Cjt;e<r.length;e++){r[e].Yu(i)}Zs(this.Cjt)},e.jlt=function(t){var n=new na;return this.Pjt.push(n),this.ejt.oFt(new E1(t)),n.Wu},e.notifyOnJoined=function(t){for(var n=JSON.parse(t),i=n?HE(n,Wy({})):void 0,e=0,r=this.Pjt;e<r.length;e++){r[e].Yu(i)}Zs(this.Pjt)},e.Hlt=function(t){var n=new na;return this.Ojt.push(n),this.ejt.oFt(new I1(t)),n.Wu},e.notifyOnLeft=function(t){for(var n=JSON.parse(t),i=n?HE(n,Wy({})):void 0,e=0,r=this.Ojt;e<r.length;e++){r[e].Yu(i)}Zs(this.Ojt)},e.Xlt=function(t){this.ejt.oFt(new A1(t))},i}(Su))),fN.tU);var N1={exports:{}},D1=Mr(N1.exports=function t(n,i,e){function r(u,o){if(!i[u]){if(!n[u]){var a=R1;if(!o&&a)return a(u,!0);if(s)return s(u,!0);var h=new l("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var c=i[u]={exports:{}};n[u][0].call(c.exports,function(t){var i=n[u][1][t];return r(i||t)},c,c.exports,t,n,i,e)}return i[u].exports}for(var s=R1,u=0;u<e.length;u++)r(e[u]);return r}({1:[function(t,n,i){i.__esModule=!0;var e=t(2),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.Bjt=!1,r.on("mousedown",r.handleMouseDown),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-big-play-button"},n.prototype.handleClick=function(t){var n=this.RD.play();if(!(this.Bjt&&t.clientX&&t.clientY)){var i=this.RD.getChild("controlBar"),e=i&&i.getChild("playToggle");if(e){var r=function(){return e.focus()};n&&n.then?n.then(r,function(){}):this.setTimeout(r,1)}else this.RD.focus()}},n.prototype.handleKeyPress=function(n){this.Bjt=!1,t.prototype.handleKeyPress.call(this,n)},n.prototype.handleMouseDown=function(t){this.Bjt=!0},n}(r.default);a.prototype.Ljt="Play Video",u.default.registerComponent("BigPlayButton",a),i.default=a},{2:2,5:5}],2:[function(t,n,i){i.__esModule=!0;var e=t(3),r=c(e),s=t(5),u=c(s),o=t(87),a=c(o),h=t(89);function c(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"button",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n=(0,h.assign)({className:this.buildCSSClass()},n),"button"!==t&&(a.default.warn("Creating a Button with an HTML element of "+t+" is deprecated; use ClickableComponent instead."),n=(0,h.assign)({tabIndex:0},n),i=(0,h.assign)({role:"button"},i)),i=(0,h.assign)({type:"button","aria-live":"polite"},i);var e=u.default.prototype.createEl.call(this,t,n,i);return this.createControlTextEl(e),e},n.prototype.addChild=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.constructor.name;return a.default.warn("Adding an actionable (user controllable) child to a Button ("+i+") is not supported; use a ClickableComponent instead."),u.default.prototype.addChild.call(this,t,n)},n.prototype.enable=function(){t.prototype.enable.call(this),this.Mjt.removeAttribute("disabled")},n.prototype.disable=function(){t.prototype.disable.call(this),this.Mjt.setAttribute("disabled","disabled")},n.prototype.handleKeyPress=function(n){32!==n.which&&13!==n.which&&t.prototype.handleKeyPress.call(this,n)},n}(r.default);u.default.registerComponent("Button",f),i.default=f},{3:3,5:5,87:87,89:89}],3:[function(t,n,i){i.__esModule=!0;var e=t(5),r=y(e),s=t(81),u=_(s),o=t(82),a=_(o),h=t(83),c=_(h),f=t(87),l=y(f),d=t(85),g=t(89);function _(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function y(t){return t&&t.__esModule?t:{default:t}}var m=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.emitTapEvents(),r.on(i,"languagechange",r.handleLanguagechange),r.enable(),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i=(0,g.assign)({className:this.buildCSSClass(),tabIndex:0},i),"button"===n&&l.default.error("Creating a ClickableComponent with an HTML element of "+n+" is not supported; use a Button instead."),e=(0,g.assign)({role:"button","aria-live":"polite"},e),this.Fjt=i.tabIndex;var r=t.prototype.createEl.call(this,n,i,e);return this.createControlTextEl(r),r},n.prototype.createControlTextEl=function(t){return this.Ujt=u.createEl("span",{className:"vjs-control-text"}),t&&t.appendChild(this.Ujt),this.controlText(this.Ljt,t),this.Ujt},n.prototype.controlText=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.el();if(void 0===t)return this.Ljt||"Need Text";var i=this.localize(t);return this.Ljt=t,this.Ujt.innerHTML=i,this.nonIconControl||n.setAttribute("title",i),this},n.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},n.prototype.enable=function(){return this.removeClass("vjs-disabled"),this.Mjt.setAttribute("aria-disabled","false"),void 0!==this.Fjt&&this.Mjt.setAttribute("tabIndex",this.Fjt),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this},n.prototype.disable=function(){return this.addClass("vjs-disabled"),this.Mjt.setAttribute("aria-disabled","true"),void 0!==this.Fjt&&this.Mjt.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this},n.prototype.handleLanguagechange=function(){this.controlText(this.Ljt)},n.prototype.handleClick=function(t){},n.prototype.handleFocus=function(t){a.on(d.document,"keydown",c.bind(this,this.handleKeyPress))},n.prototype.handleKeyPress=function(n){32===n.which||13===n.which?(n.preventDefault(),this.handleClick(n)):t.prototype.handleKeyPress&&t.prototype.handleKeyPress.call(this,n)},n.prototype.handleBlur=function(t){a.off(d.document,"keydown",c.bind(this,this.handleKeyPress))},n}(r.default);r.default.registerComponent("ClickableComponent",m),i.default=m},{5:5,81:81,82:82,83:83,85:85,87:87,89:89}],4:[function(t,n,i){i.__esModule=!0;var e=t(2),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.controlText(e&&e.controlText||"Close"),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},n.prototype.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},n}(r.default);u.default.registerComponent("CloseButton",a),i.default=a},{2:2,5:5}],5:[function(t,n,i){i.__esModule=!0;var e=t(85),r=t(81),s=S(r),u=t(83),o=S(u),a=t(86),h=S(a),c=t(82),f=S(c),d=t(87),m=T(d),p=t(92),k=T(p),b=t(88),A=T(b);function T(t){return t&&t.__esModule?t:{default:t}}function S(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}var E=function(){function t(n,i,e){if(function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,t),!n&&this.play?this.RD=n=this:this.RD=n,this.jjt=(0,A.default)({},this.jjt),i=this.jjt=(0,A.default)(this.jjt,i),this.r_=i.id||i.el&&i.el.id,!this.r_){var r=n&&n.id&&n.id()||"no_player";this.r_=r+"Hjt"+h.newGUID()}this.gi=i.name||null,i.el?this.Mjt=i.el:!1!==i.createEl&&(this.Mjt=this.createEl()),this.Oi=[],this.Xjt={},this.Vjt={},!1!==i.initChildren&&this.initChildren(),this.ready(e),!1!==i.reportTouchActivity&&this.enableTouchActivity()}return t.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.Oi)for(var t=this.Oi.length-1;t>=0;t--)this.Oi[t].dispose&&this.Oi[t].dispose();this.Oi=null,this.Xjt=null,this.Vjt=null,this.off(),this.Mjt.parentNode&&this.Mjt.parentNode.removeChild(this.Mjt),s.removeElData(this.Mjt),this.Mjt=null},t.prototype.player=function(){return this.RD},t.prototype.options=function(t){return m.default.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),t?(this.jjt=(0,A.default)(this.jjt,t),this.jjt):this.jjt},t.prototype.el=function(){return this.Mjt},t.prototype.createEl=function(t,n,i){return s.createEl(t,n,i)},t.prototype.localize=function(t){var n=this.RD.language&&this.RD.language(),i=this.RD.languages&&this.RD.languages();if(!n||!i)return t;var e=i[n];if(e&&e[t])return e[t];var r=n.split("-")[0],s=i[r];return s&&s[t]?s[t]:t},t.prototype.contentEl=function(){return this.zjt||this.Mjt},t.prototype.id=function(){return this.r_},t.prototype.name=function(){return this.gi},t.prototype.children=function(){return this.Oi},t.prototype.getChildById=function(t){return this.Xjt[t]},t.prototype.getChild=function(t){if(t)return t=(0,k.default)(t),this.Vjt[t]},t.prototype.addChild=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.Oi.length,r=void 0,s=void 0;if("string"==typeof n){s=(0,k.default)(n),i||(i={}),!0===i&&(m.default.warn("Initializing a child component with `true` is deprecated.Children should be defined in an array when possible, but if necessary use an object instead of `true`."),i={});var u=i.componentClass||s;i.name=s;var o=t.getComponent(u);if(!o)throw new l("Component "+u+" does not exist");if("function"!=typeof o)return null;r=new o(this.RD||this,i)}else r=n;if(this.Oi.splice(e,0,r),"function"==typeof r.id&&(this.Xjt[r.id()]=r),(s=s||r.name&&(0,k.default)(r.name()))&&(this.Vjt[s]=r),"function"==typeof r.el&&r.el()){var a=this.contentEl().children,h=a[e]||null;this.contentEl().insertBefore(r.el(),h)}return r},t.prototype.removeChild=function(t){if("string"==typeof t&&(t=this.getChild(t)),t&&this.Oi){for(var n=!1,i=this.Oi.length-1;i>=0;i--)if(this.Oi[i]===t){n=!0,this.Oi.splice(i,1);break}if(n){this.Xjt[t.id()]=null,this.Vjt[t.name()]=null;var e=t.el();e&&e.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},t.prototype.initChildren=function(){var n=this,i=this.jjt.children;if(i){var e=this.jjt,r=void 0,s=t.getComponent("Tech");(r=Array.isArray(i)?i:w.keys(i)).concat(w.keys(this.jjt).filter(function(t){return!r.some(function(n){return"string"==typeof n?t===n:t===n.name})})).map(function(t){var e=void 0,r=void 0;return"string"==typeof t?r=i[e=t]||n.jjt[e]||{}:(e=t.name,r=t),{name:e,opts:r}}).filter(function(n){var i=t.getComponent(n.opts.componentClass||(0,k.default)(n.name));return i&&!s.isTech(i)}).forEach(function(t){var i=t.name,r=t.opts;if(void 0!==e[i]&&(r=e[i]),!1!==r){!0===r&&(r={}),r.playerOptions=n.jjt.playerOptions;var s=n.addChild(i,r);s&&(n[i]=s)}})}},t.prototype.buildCSSClass=function(){return""},t.prototype.on=function(t,n,i){var e=this;if("string"==typeof t||Array.isArray(t))f.on(this.Mjt,t,o.bind(this,n));else{var r=t,s=n,u=o.bind(this,i),a=function(){return e.off(r,s,u)};a.guid=u.guid,this.on("dispose",a);var h=function(){return e.off("dispose",a)};h.guid=u.guid,t.nodeName?(f.on(r,s,u),f.on(r,"dispose",h)):"function"==typeof t.on&&(r.on(s,u),r.on("dispose",h))}return this},t.prototype.off=function(t,n,i){if(!t||"string"==typeof t||Array.isArray(t))f.off(this.Mjt,t,n);else{var e=t,r=n,s=o.bind(this,i);this.off("dispose",s),t.nodeName?(f.off(e,r,s),f.off(e,"dispose",s)):(e.off(r,s),e.off("dispose",s))}return this},t.prototype.one=function(t,n,i){var e=this,r=arguments;if("string"==typeof t||Array.isArray(t))f.one(this.Mjt,t,o.bind(this,n));else{var s=t,u=n,a=o.bind(this,i),h=function t(){e.off(s,u,t),a.apply(null,r)};h.guid=a.guid,this.on(s,u,h)}return this},t.prototype.trigger=function(t,n){return f.trigger(this.Mjt,t,n),this},t.prototype.ready=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&(this.Wjt?n?t.call(this):this.setTimeout(t,1):(this.Gjt=this.Gjt||[],this.Gjt.push(t))),this},t.prototype.triggerReady=function(){this.Wjt=!0,this.setTimeout(function(){var t=this.Gjt;this.Gjt=[],t&&t.length>0&&t.forEach(function(t){t.call(this)},this),this.trigger("ready")},1)},t.prototype.$=function(t,n){return s.$(t,n||this.contentEl())},t.prototype.$$=function(t,n){return s.$$(t,n||this.contentEl())},t.prototype.hasClass=function(t){return s.hasElClass(this.Mjt,t)},t.prototype.addClass=function(t){return s.addElClass(this.Mjt,t),this},t.prototype.removeClass=function(t){return s.removeElClass(this.Mjt,t),this},t.prototype.toggleClass=function(t,n){return s.toggleElClass(this.Mjt,t,n),this},t.prototype.show=function(){return this.removeClass("vjs-hidden"),this},t.prototype.hide=function(){return this.addClass("vjs-hidden"),this},t.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},t.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},t.prototype.getAttribute=function(t){return s.getAttribute(this.Mjt,t)},t.prototype.setAttribute=function(t,n){return s.setAttribute(this.Mjt,t,n),this},t.prototype.removeAttribute=function(t){return s.removeAttribute(this.Mjt,t),this},t.prototype.width=function(t,n){return this.dimension("width",t,n)},t.prototype.height=function(t,n){return this.dimension("height",t,n)},t.prototype.dimensions=function(t,n){return this.width(t,!0).height(n)},t.prototype.dimension=function(t,n,i){if(void 0!==n)return null!==n&&n==n||(n=0),-1!==(""+n).indexOf("%")||-1!==(""+n).indexOf("px")?this.Mjt.style[t]=n:this.Mjt.style[t]="auto"===n?"":n+"px",i||this.trigger("resize"),this;if(!this.Mjt)return 0;var e=this.Mjt.style[t],r=e.indexOf("px");return _(-1!==r?e.slice(0,r):this.Mjt["offset"+(0,k.default)(t)],10)},t.prototype.currentDimension=function(t){var n=0;if("width"!==t&&"height"!==t)throw new l("currentDimension only accepts width or height value");if("function"==typeof e.window.getComputedStyle){var i=e.window.getComputedStyle(this.Mjt);n=i.getPropertyValue(t)||i[t]}if(0===(n=y(n))){var r="offset"+(0,k.default)(t);n=this.Mjt[r]}return n},t.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.prototype.currentWidth=function(){return this.currentDimension("width")},t.prototype.currentHeight=function(){return this.currentDimension("height")},t.prototype.focus=function(){this.Mjt.focus()},t.prototype.blur=function(){this.Mjt.blur()},t.prototype.emitTapEvents=function(){var t=0,n=null,i=void 0;this.on("touchstart",function(e){1===e.touches.length&&(n={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY},t=(new Date).getTime(),i=!0)}),this.on("touchmove",function(t){if(t.touches.length>1)i=!1;else if(n){var e=t.touches[0].pageX-n.pageX,r=t.touches[0].pageY-n.pageY,s=g.sqrt(e*e+r*r);s>10&&(i=!1)}});var e=function(){i=!1};this.on("touchleave",e),this.on("touchcancel",e),this.on("touchend",function(e){if(n=null,!0===i){var r=(new Date).getTime()-t;r<200&&(e.preventDefault(),this.trigger("tap"))}})},t.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t=o.bind(this.player(),this.player().reportUserActivity),n=void 0;this.on("touchstart",function(){t(),this.clearInterval(n),n=this.setInterval(t,250)});var i=function(i){t(),this.clearInterval(n)};this.on("touchmove",t),this.on("touchend",i),this.on("touchcancel",i)}},t.prototype.setTimeout=function(t,n){t=o.bind(this,t);var i=e.window.setTimeout(t,n),r=function(){this.clearTimeout(i)};return r.guid="vjs-timeout-"+i,this.on("dispose",r),i},t.prototype.clearTimeout=function(t){e.window.clearTimeout(t);var n=function(){};return n.guid="vjs-timeout-"+t,this.off("dispose",n),t},t.prototype.setInterval=function(t,n){t=o.bind(this,t);var i=e.window.setInterval(t,n),r=function(){this.clearInterval(i)};return r.guid="vjs-interval-"+i,this.on("dispose",r),i},t.prototype.clearInterval=function(t){e.window.clearInterval(t);var n=function(){};return n.guid="vjs-interval-"+t,this.off("dispose",n),t},t.registerComponent=function(n,i){if(n){if(n=(0,k.default)(n),t.qjt||(t.qjt={}),"Player"===n&&t.qjt[n]){var e=t.qjt[n];if(e.players&&w.keys(e.players).length>0&&w.keys(e.players).map(function(t){return e.players[t]}).every(Boolean))throw new l("Can not register Player component after player has been created")}return t.qjt[n]=i,i}},t.getComponent=function(n){if(n)return n=(0,k.default)(n),t.qjt&&t.qjt[n]?t.qjt[n]:e.window&&e.window.videojs&&e.window.videojs[n]?(m.default.warn("The "+n+" component was added to the videojs object when it should be registered using videojs.registerComponent(name, component)"),e.window.videojs[n]):void 0},t.extend=function(n){n=n||{},m.default.warn("Component.extend({}) has been deprecated,  use videojs.extend(Component, {}) instead");var i=n.init||n.init||this.prototype.init||this.prototype.init||function(){},e=function(){i.apply(this,arguments)};for(var r in(e.prototype=w.create(this.prototype)).constructor=e,e.extend=t.extend,n)n.hasOwnProperty(r)&&(e.prototype[r]=n[r]);return e},t}();E.registerComponent("Component",E),i.default=E},{81:81,82:82,83:83,85:85,86:86,87:87,88:88,92:92}],6:[function(t,n,i){i.__esModule=!0;var e=t(36),r=h(e),s=t(5),u=h(s),o=t(7),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),e.tracks=i.audioTracks&&i.audioTracks();var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.Mjt.setAttribute("aria-label","Audio Menu"),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},n.prototype.createItems=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.$jt=1;var n=this.RD.audioTracks&&this.RD.audioTracks();if(!n)return t;for(var i=0;i<n.length;i++){var e=n[i];t.push(new a.default(this.RD,{track:e,selectable:!0}))}return t},n}(r.default);c.prototype.Ljt="Audio Track",u.default.registerComponent("AudioTrackButton",c),i.default=c},{36:36,5:5,7:7}],7:[function(t,n,i){i.__esModule=!0;var e=t(48),r=h(e),s=t(5),u=h(s),o=t(83),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=e.track,s=i.audioTracks();e.label=r.label||r.language||"Unknown",e.selected=r.enabled;var u=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));if(u.track=r,s){var o=a.bind(u,u.handleTracksChange);s.addEventListener("change",o),u.on("dispose",function(){s.removeEventListener("change",o)})}return u}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleClick=function(n){var i=this.RD.audioTracks();if(t.prototype.handleClick.call(this,n),i)for(var e=0;e<i.length;e++){var r=i[e];r.enabled=r===this.track}},n.prototype.handleTracksChange=function(t){this.selected(this.track.enabled)},n}(r.default);u.default.registerComponent("AudioTrackMenuItem",c),i.default=c},{48:48,5:5,83:83}],8:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e};t(12),t(32),t(33),t(35),t(34),t(10),t(18),t(9),t(38),t(40),t(11),t(25),t(27),t(29),t(24),t(6),t(13),t(21);var u=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})},n}(s.default);u.prototype.jjt={children:["playToggle","volumeMenuButton","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subtitlesButton","captionsButton","audioTrackButton","fullscreenToggle"]},s.default.registerComponent("ControlBar",u),i.default=u},{10:10,11:11,12:12,13:13,18:18,21:21,24:24,25:25,27:27,29:29,32:32,33:33,34:34,35:35,38:38,40:40,5:5,6:6,9:9}],9:[function(t,n,i){i.__esModule=!0;var e=t(2),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"fullscreenchange",r.handleFullscreenChange),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},n.prototype.handleFullscreenChange=function(t){this.RD.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},n.prototype.handleClick=function(t){this.RD.isFullscreen()?this.RD.exitFullscreen():this.RD.requestFullscreen()},n}(r.default);a.prototype.Ljt="Fullscreen",u.default.registerComponent("FullscreenToggle",a),i.default=a},{2:2,5:5}],10:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=t(81),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(85),h=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.updateShowing(),r.on(r.player(),"durationchange",r.updateShowing),r.on(r.player(),"languagechange",r.handleLanguagechange),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.zjt=o.createEl("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.Ujt=o.createEl("span",{className:"vjs-control-text",innerHTML:this.localize("Stream Type")}),this.Yjt=a.document.createTextNode(this.localize("LIVE")),this.zjt.appendChild(this.Ujt),this.zjt.appendChild(this.Yjt),n.appendChild(this.zjt),n},n.prototype.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},n.prototype.handleLanguagechange=function(){this.Ujt.innerHTML=this.localize("Stream Type"),this.Yjt.innerHTML=this.localize("LIVE")},n}(s.default);s.default.registerComponent("LiveDisplay",h),i.default=h},{5:5,81:81,85:85}],11:[function(t,n,i){i.__esModule=!0;var e=t(2),r=h(e),s=t(5),u=h(s),o=t(81),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"volumechange",r.update),i.Qjt&&!1===i.Qjt.featuresVolumeControl&&r.addClass("vjs-hidden"),r.on(i,"loadstart",function(){this.update(),!1===i.Qjt.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},n.prototype.handleClick=function(t){this.RD.muted(!this.RD.muted())},n.prototype.update=function(t){var n=this.RD.volume(),i=3;this.RD.muted()?i=0:n<.33?i=1:n<.67&&(i=2);var e=this.RD.muted()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e);for(var r=0;r<4;r++)a.removeElClass(this.Mjt,"vjs-vol-"+r);a.addElClass(this.Mjt,"vjs-vol-"+i)},n}(r.default);c.prototype.Ljt="Mute",u.default.registerComponent("MuteToggle",c),i.default=c},{2:2,5:5,81:81}],12:[function(t,n,i){i.__esModule=!0;var e=t(2),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"play",r.handlePlay),r.on(i,"pause",r.handlePause),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},n.prototype.handleClick=function(t){this.RD.paused()?this.RD.play():this.RD.pause()},n.prototype.handlePlay=function(t){this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},n.prototype.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n}(r.default);a.prototype.Ljt="Play",u.default.registerComponent("PlayToggle",a),i.default=a},{2:2,5:5}],13:[function(t,n,i){i.__esModule=!0;var e=t(47),r=d(e),s=t(49),u=d(s),o=t(14),a=d(o),h=t(5),c=d(h),f=t(81),l=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(f);function d(t){return t&&t.__esModule?t:{default:t}}var g=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.updateVisibility(),r.updateLabel(),r.on(i,"loadstart",r.updateVisibility),r.on(i,"ratechange",r.updateLabel),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this);return this.Jjt=l.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1}),n.appendChild(this.Jjt),n},n.prototype.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},n.prototype.createMenu=function(){var t=new u.default(this.player()),n=this.playbackRates();if(n)for(var i=n.length-1;i>=0;i--)t.addChild(new a.default(this.player(),{rate:n[i]+"x"}));return t},n.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.prototype.handleClick=function(t){for(var n=this.player().playbackRate(),i=this.playbackRates(),e=i[0],r=0;r<i.length;r++)if(i[r]>n){e=i[r];break}this.player().playbackRate(e)},n.prototype.playbackRates=function(){return this.jjt.playbackRates||this.jjt.playerOptions&&this.jjt.playerOptions.playbackRates},n.prototype.playbackRateSupported=function(){return this.player().Qjt&&this.player().Qjt.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.prototype.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.prototype.updateLabel=function(t){this.playbackRateSupported()&&(this.Jjt.innerHTML=this.player().playbackRate()+"x")},n}(r.default);g.prototype.Ljt="Playback Rate",c.default.registerComponent("PlaybackRateMenuButton",g),i.default=g},{14:14,47:47,49:49,5:5,81:81}],14:[function(t,n,i){i.__esModule=!0;var e=t(48),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=e.rate,s=y(r,10);e.label=r,e.selected=1===s,e.selectable=!0;var u=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return u.label=r,u.rate=s,u.on(i,"ratechange",u.update),u}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleClick=function(n){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},n.prototype.update=function(t){this.selected(this.player().playbackRate()===this.rate)},n}(r.default);a.prototype.contentElType="button",u.default.registerComponent("PlaybackRateMenuItem",a),i.default=a},{48:48,5:5}],15:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=t(81),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(85),h=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.Zjt=[],r.on(i,"progress",r.update),r.on(i,"languagechange",r.handleLanguagechange),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-load-progress"});return this.Kjt=o.createEl("span",{innerHTML:this.localize("Loaded")}),this.tHt=a.document.createTextNode(": 0%"),this.Ujt=o.createEl("span",{className:"vjs-control-text"}),this.Ujt.appendChild(this.Kjt),this.Ujt.appendChild(this.tHt),n.appendChild(this.Ujt),n},n.prototype.update=function(t){var n=this.RD.buffered(),i=this.RD.duration(),e=this.RD.bufferedEnd(),r=this.Zjt,s=function(t,n){var i=t/n||0;return 100*(i>=1?1:i)+"%"};this.Mjt.style.width=s(e,i);for(var u=0;u<n.length;u++){var a=n.start(u),h=n.end(u),c=r[u];c||(c=this.Mjt.appendChild(o.createEl()),r[u]=c),c.style.left=s(a,e),c.style.width=s(h-a,e)}for(var f=r.length;f>n.length;f--)this.Mjt.removeChild(r[f-1]);r.length=n.length},n.prototype.handleLanguagechange=function(){this.Kjt.innerHTML=this.localize("Loaded")},n}(s.default);s.default.registerComponent("LoadProgressBar",h),i.default=h},{5:5,81:81,85:85}],16:[function(t,n,i){i.__esModule=!0;var e=t(5),r=_(e),s=t(81),u=d(s),o=t(83),a=d(o),h=t(84),c=_(h),f=t(80),l=_(f);function d(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function _(t){return t&&t.__esModule?t:{default:t}}var m=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return e.playerOptions&&e.playerOptions.controlBar&&e.playerOptions.controlBar.progressControl&&e.playerOptions.controlBar.progressControl.keepTooltipsInside&&(r.keepTooltipsInside=e.playerOptions.controlBar.progressControl.keepTooltipsInside),r.keepTooltipsInside&&(r.tooltip=u.createEl("div",{className:"vjs-time-tooltip"}),r.el().appendChild(r.tooltip),r.addClass("vjs-keep-tooltips-inside")),r.update(0,0),i.on("ready",function(){r.on(i.controlBar.progressControl.el(),"mousemove",a.throttle(a.bind(r,r.handleMouseMove),25))}),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.prototype.handleMouseMove=function(t){var n=this.RD.duration(),i=this.calculateDistance(t)*n,e=t.pageX-u.findElPosition(this.el().parentNode).left;this.update(i,e)},n.prototype.update=function(t,n){var i=(0,c.default)(t,this.RD.duration());if(this.el().style.left=n+"px",this.el().setAttribute("data-current-time",i),this.keepTooltipsInside){var e=this.nHt(n),r=n-e+1,s=y((0,l.default)(this.tooltip,"width")),u=s/2;this.tooltip.innerHTML=i,this.tooltip.style.right="-"+(u-r)+"px"}},n.prototype.calculateDistance=function(t){return u.getPointerPosition(this.el().parentNode,t).x},n.prototype.nHt=function(t){if(!this.keepTooltipsInside)return t;var n=y((0,l.default)(this.player().el(),"width")),i=y((0,l.default)(this.tooltip,"width")),e=i/2,r=t;return t<e?r=g.ceil(e):t>n-e&&(r=g.floor(n-e)),r},n}(r.default);r.default.registerComponent("MouseTimeDisplay",m),i.default=m},{5:5,80:80,81:81,83:83,84:84}],17:[function(t,n,i){i.__esModule=!0;var e=t(5),r=d(e),s=t(83),u=l(s),o=t(84),a=d(o),h=t(81),c=l(h),f=t(85);function l(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function d(t){return t&&t.__esModule?t:{default:t}}var g=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.updateDataAttr(),r.on(i,"timeupdate",r.updateDataAttr),r.on(i,"languagechange",r.handleLanguagechange),i.ready(u.bind(r,r.updateDataAttr)),e.playerOptions&&e.playerOptions.controlBar&&e.playerOptions.controlBar.progressControl&&e.playerOptions.controlBar.progressControl.keepTooltipsInside&&(r.keepTooltipsInside=e.playerOptions.controlBar.progressControl.keepTooltipsInside),r.keepTooltipsInside&&r.addClass("vjs-keep-tooltips-inside"),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"});return this.iHt=c.createEl("span",{innerHTML:this.localize("Progress")}),this.eHt=f.document.createTextNode(": 0%"),this.Ujt=c.createEl("span",{className:"vjs-control-text"}),this.Ujt.appendChild(this.iHt),this.Ujt.appendChild(this.eHt),n.appendChild(this.Ujt),n},n.prototype.updateDataAttr=function(t){var n=this.RD.scrubbing()?this.RD.getCache().currentTime:this.RD.currentTime();this.Mjt.setAttribute("data-current-time",(0,a.default)(n,this.RD.duration()))},n.prototype.handleLanguagechange=function(){this.iHt.innerHTML=this.localize("Progress")},n}(r.default);r.default.registerComponent("PlayProgressBar",g),i.default=g},{5:5,81:81,83:83,84:84,85:85}],18:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e};t(19),t(16);var u=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n}(s.default);u.prototype.jjt={children:["seekBar"]},s.default.registerComponent("ProgressControl",u),i.default=u},{16:16,19:19,5:5}],19:[function(t,n,i){i.__esModule=!0;var e=t(57),r=d(e),s=t(5),u=d(s),o=t(83),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o),h=t(84),c=d(h),f=t(80),l=d(f);function d(t){return t&&t.__esModule?t:{default:t}}t(15),t(17),t(20);var _=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"timeupdate",r.updateProgress),r.on(i,"ended",r.updateProgress),i.ready(a.bind(r,r.updateProgress)),e.playerOptions&&e.playerOptions.controlBar&&e.playerOptions.controlBar.progressControl&&e.playerOptions.controlBar.progressControl.keepTooltipsInside&&(r.keepTooltipsInside=e.playerOptions.controlBar.progressControl.keepTooltipsInside),r.keepTooltipsInside&&(r.tooltipProgressBar=r.addChild("TooltipProgressBar")),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":"progress bar"})},n.prototype.updateProgress=function(t){if(this.updateAriaAttributes(this.Mjt),this.keepTooltipsInside){this.updateAriaAttributes(this.tooltipProgressBar.Mjt),this.tooltipProgressBar.Mjt.style.width=this.bar.Mjt.style.width;var n=y((0,l.default)(this.player().el(),"width")),i=y((0,l.default)(this.tooltipProgressBar.tooltip,"width")),e=this.tooltipProgressBar.el().style;e.maxWidth=g.floor(n-i/2)+"px",e.minWidth=g.ceil(i/2)+"px",e.right="-"+i/2+"px"}},n.prototype.updateAriaAttributes=function(t){var n=this.RD.scrubbing()?this.RD.getCache().currentTime:this.RD.currentTime();t.setAttribute("aria-valuenow",(100*this.getPercent()).toFixed(2)),t.setAttribute("aria-valuetext",(0,c.default)(n,this.RD.duration()))},n.prototype.getPercent=function(){var t=this.RD.currentTime()/this.RD.duration();return t>=1?1:t},n.prototype.handleMouseDown=function(n){this.RD.scrubbing(!0),this.videoWasPlaying=!this.RD.paused(),this.RD.pause(),t.prototype.handleMouseDown.call(this,n)},n.prototype.handleMouseMove=function(t){var n=this.calculateDistance(t)*this.RD.duration();n===this.RD.duration()&&(n-=.1),this.RD.currentTime(n)},n.prototype.handleMouseUp=function(n){t.prototype.handleMouseUp.call(this,n),this.RD.scrubbing(!1),this.videoWasPlaying&&this.RD.play()},n.prototype.stepForward=function(){this.RD.currentTime(this.RD.currentTime()+5)},n.prototype.stepBack=function(){this.RD.currentTime(this.RD.currentTime()-5)},n}(r.default);_.prototype.jjt={children:["loadProgressBar","mouseTimeDisplay","playProgressBar"],barName:"playProgressBar"},_.prototype.playerEvent="timeupdate",u.default.registerComponent("SeekBar",_),i.default=_},{15:15,17:17,20:20,5:5,57:57,80:80,83:83,84:84}],20:[function(t,n,i){i.__esModule=!0;var e=t(5),r=d(e),s=t(83),u=l(s),o=t(84),a=d(o),h=t(81),c=l(h),f=t(85);function l(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function d(t){return t&&t.__esModule?t:{default:t}}var g=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.updateDataAttr(),r.on(i,"timeupdate",r.updateDataAttr),r.on(i,"languagechange",r.handleLanguagechange),i.ready(u.bind(r,r.updateDataAttr)),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-tooltip-progress-bar vjs-slider-bar"});return this.tooltip=c.createEl("div",{className:"vjs-time-tooltip"}),this.iHt=c.createEl("span",{innerHTML:this.localize("Progress")}),this.eHt=f.document.createTextNode(": 0%"),this.Ujt=c.createEl("span",{className:"vjs-control-text"}),this.Ujt.appendChild(this.iHt),this.Ujt.appendChild(this.eHt),n.appendChild(this.tooltip),n.appendChild(this.Ujt),n},n.prototype.updateDataAttr=function(t){var n=this.RD.scrubbing()?this.RD.getCache().currentTime:this.RD.currentTime(),i=(0,a.default)(n,this.RD.duration());this.Mjt.setAttribute("data-current-time",i),this.tooltip.innerHTML=i},n.prototype.handleLanguagechange=function(){this.iHt.innerHTML=this.localize("Progress")},n}(r.default);r.default.registerComponent("TooltipProgressBar",g),i.default=g},{5:5,81:81,83:83,84:84,85:85}],21:[function(t,n,i){i.__esModule=!0;var e=t(22),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return n.innerHTML="&nbsp;",n},n}(r.default);u.default.registerComponent("CustomControlSpacer",a),i.default=a},{22:22,5:5}],22:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},n}(s.default);s.default.registerComponent("Spacer",u),i.default=u},{5:5}],23:[function(t,n,i){i.__esModule=!0;var e=t(31),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),e.track={player:i,kind:e.kind,label:e.kind+" settings",selectable:!1,default:!1,mode:"disabled"},e.selectable=!1;var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.addClass("vjs-texttrack-settings"),r.controlText(", opens "+e.kind+" settings dialog"),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleClick=function(t){this.player().getChild("textTrackSettings").show(),this.player().getChild("textTrackSettings").Mjt.focus()},n}(r.default);u.default.registerComponent("CaptionSettingsMenuItem",a),i.default=a},{31:31,5:5}],24:[function(t,n,i){i.__esModule=!0;var e=t(30),r=h(e),s=t(5),u=h(s),o=t(23),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e,r){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,r));return s.Mjt.setAttribute("aria-label","Captions Menu"),s}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},n.prototype.createItems=function(){var n=[];return this.player().Qjt&&this.player().Qjt.featuresNativeTextTracks||(n.push(new a.default(this.RD,{kind:this.u_})),this.$jt+=1),t.prototype.createItems.call(this,n)},n}(r.default);c.prototype.u_="captions",c.prototype.Ljt="Captions",u.default.registerComponent("CaptionsButton",c),i.default=c},{23:23,30:30,5:5}],25:[function(t,n,i){i.__esModule=!0;var e=t(30),r=f(e),s=t(5),u=f(s),o=t(26),a=f(o),h=t(92),c=f(h);function f(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function n(i,e,r){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,r));return s.Mjt.setAttribute("aria-label","Chapters Menu"),s}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},n.prototype.update=function(n){this._g&&(!n||"addtrack"!==n.type&&"removetrack"!==n.type)||this.setTrack(this.findChaptersTrack()),t.prototype.update.call(this)},n.prototype.setTrack=function(t){if(this._g!==t){if(this.rHt||(this.rHt=this.update.bind(this)),this._g){var n=this.RD.remoteTextTrackEls().sHt(this._g);n&&n.removeEventListener("load",this.rHt),this._g=null}if(this._g=t,this._g){this._g.mode="hidden";var i=this.RD.remoteTextTrackEls().sHt(this._g);i&&i.addEventListener("load",this.rHt)}}},n.prototype.findChaptersTrack=function(){for(var t=this.RD.textTracks()||[],n=t.length-1;n>=0;n--){var i=t[n];if(i.kind===this.u_)return i}},n.prototype.getMenuCaption=function(){return this._g&&this._g.label?this._g.label:this.localize((0,c.default)(this.u_))},n.prototype.createMenu=function(){return this.jjt.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},n.prototype.createItems=function(){var t=[];if(!this._g)return t;var n=this._g.cues;if(!n)return t;for(var i=0,e=n.length;i<e;i++){var r=n[i],s=new a.default(this.RD,{track:this._g,cue:r});t.push(s)}return t},n}(r.default);l.prototype.u_="chapters",l.prototype.Ljt="Chapters",u.default.registerComponent("ChaptersButton",l),i.default=l},{26:26,30:30,5:5,92:92}],26:[function(t,n,i){i.__esModule=!0;var e=t(48),r=h(e),s=t(5),u=h(s),o=t(83),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=e.track,s=e.cue,u=i.currentTime();e.selectable=!0,e.label=s.text,e.selected=s.startTime<=u&&u<s.endTime;var o=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return o.track=r,o.cue=s,r.addEventListener("cuechange",a.bind(o,o.update)),o}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleClick=function(n){t.prototype.handleClick.call(this),this.RD.currentTime(this.cue.startTime),this.update(this.cue.startTime)},n.prototype.update=function(t){var n=this.cue,i=this.RD.currentTime();this.selected(n.startTime<=i&&i<n.endTime)},n}(r.default);u.default.registerComponent("ChaptersTrackMenuItem",c),i.default=c},{48:48,5:5,83:83}],27:[function(t,n,i){i.__esModule=!0;var e=t(30),r=h(e),s=t(5),u=h(s),o=t(83),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e,r){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,r));s.Mjt.setAttribute("aria-label","Descriptions Menu");var u=i.textTracks();if(u){var o=a.bind(s,s.handleTracksChange);u.addEventListener("change",o),s.on("dispose",function(){u.removeEventListener("change",o)})}return s}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleTracksChange=function(t){for(var n=this.player().textTracks(),i=!1,e=0,r=n.length;e<r;e++){var s=n[e];if(s.kind!==this.u_&&"showing"===s.mode){i=!0;break}}i?this.disable():this.enable()},n.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},n}(r.default);c.prototype.u_="descriptions",c.prototype.Ljt="Descriptions",u.default.registerComponent("DescriptionsButton",c),i.default=c},{30:30,5:5,83:83}],28:[function(t,n,i){i.__esModule=!0;var e=t(31),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),e.track={player:i,kind:e.kind,label:e.kind+" off",default:!1,mode:"disabled"},e.selectable=!0;var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.selected(!0),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleTracksChange=function(t){for(var n=this.player().textTracks(),i=!0,e=0,r=n.length;e<r;e++){var s=n[e];if(s.kind===this.track.kind&&"showing"===s.mode){i=!1;break}}this.selected(i)},n}(r.default);u.default.registerComponent("OffTextTrackMenuItem",a),i.default=a},{31:31,5:5}],29:[function(t,n,i){i.__esModule=!0;var e=t(30),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e,r){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,r));return s.Mjt.setAttribute("aria-label","Subtitles Menu"),s}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},n}(r.default);a.prototype.u_="subtitles",a.prototype.Ljt="Subtitles",u.default.registerComponent("SubtitlesButton",a),i.default=a},{30:30,5:5}],30:[function(t,n,i){i.__esModule=!0;var e=t(36),r=f(e),s=t(5),u=f(s),o=t(31),a=f(o),h=t(28),c=f(h);function f(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function n(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),e.tracks=i.textTracks(),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createItems=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.push(new c.default(this.RD,{kind:this.u_})),this.$jt+=1;var n=this.RD.textTracks();if(!n)return t;for(var i=0;i<n.length;i++){var e=n[i];e.kind===this.u_&&t.push(new a.default(this.RD,{track:e,selectable:!0}))}return t},n}(r.default);u.default.registerComponent("TextTrackButton",l),i.default=l},{28:28,31:31,36:36,5:5}],31:[function(t,n,i){i.__esModule=!0;var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=t(48),s=f(r),u=t(5),o=f(u),a=t(83),h=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(a),c=t(85);function f(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function n(i,r){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=r.track,u=i.textTracks();r.label=s.label||s.language||"Unknown",r.selected=s.default||"showing"===s.mode;var o=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,r));if(o.track=s,u){var a=h.bind(o,o.handleTracksChange);i.on(["loadstart","texttrackchange"],a),u.addEventListener("change",a),o.on("dispose",function(){u.removeEventListener("change",a)})}if(u&&void 0===u.onchange){var f=void 0;o.on(["tap","click"],function(){if("object"!==e(c.window.Event))try{f=new c.window.Event("change")}catch(t){}f||(f=c.document.createEvent("Event")).initEvent("change",!0,!0),u.dispatchEvent(f)})}return o}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleClick=function(n){var i=this.track.kind,e=this.RD.textTracks();if(t.prototype.handleClick.call(this,n),e)for(var r=0;r<e.length;r++){var s=e[r];s.kind===i&&(s===this.track?"showing"!==s.mode&&(s.mode="showing"):"disabled"!==s.mode&&(s.mode="disabled"))}},n.prototype.handleTracksChange=function(t){this.selected("showing"===this.track.mode)},n}(s.default);o.default.registerComponent("TextTrackMenuItem",l),i.default=l},{48:48,5:5,83:83,85:85}],32:[function(t,n,i){i.__esModule=!0;var e=t(5),r=h(e),s=t(81),u=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(s),o=t(84),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"timeupdate",r.updateContent),r.on(i,"languagechange",r.updateContent),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-control vjs-control"});return this.zjt=u.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00'},{"aria-live":"off"}),n.appendChild(this.zjt),n},n.prototype.updateContent=function(t){var n=this.RD.scrubbing()?this.RD.getCache().currentTime:this.RD.currentTime(),i=this.localize("Current Time"),e=(0,a.default)(n,this.RD.duration());e!==this.uHt&&(this.uHt=e,this.zjt.innerHTML='<span class="vjs-control-text">'+i+"</span> "+e)},n}(r.default);r.default.registerComponent("CurrentTimeDisplay",c),i.default=c},{5:5,81:81,84:84}],33:[function(t,n,i){i.__esModule=!0;var e=t(5),r=h(e),s=t(81),u=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(s),o=t(84),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"durationchange",r.updateContent),r.on(i,"timeupdate",r.updateContent),r.on(i,"loadedmetadata",r.updateContent),r.on(i,"languagechange",r.updateContent),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-control vjs-control"});return this.zjt=u.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> 0:00"},{"aria-live":"off"}),n.appendChild(this.zjt),n},n.prototype.updateContent=function(t){var n=this.RD.duration();if(n&&this.uy!==n){this.uy=n;var i=this.localize("Duration Time"),e=(0,a.default)(n);this.zjt.innerHTML='<span class="vjs-control-text">'+i+"</span> "+e}},n}(r.default);r.default.registerComponent("DurationDisplay",c),i.default=c},{5:5,81:81,84:84}],34:[function(t,n,i){i.__esModule=!0;var e=t(5),r=h(e),s=t(81),u=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(s),o=t(84),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"timeupdate",r.updateContent),r.on(i,"durationchange",r.updateContent),r.on(i,"languagechange",r.updateContent),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-control vjs-control"});return this.zjt=u.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -0:00"},{"aria-live":"off"}),n.appendChild(this.zjt),n},n.prototype.updateContent=function(t){if(this.RD.duration()){var n=this.localize("Remaining Time"),i=(0,a.default)(this.RD.remainingTime());i!==this.uHt&&(this.uHt=i,this.zjt.innerHTML='<span class="vjs-control-text">'+n+"</span> -"+i)}},n}(r.default);r.default.registerComponent("RemainingTimeDisplay",c),i.default=c},{5:5,81:81,84:84}],35:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},n}(s.default);s.default.registerComponent("TimeDivider",u),i.default=u},{5:5}],36:[function(t,n,i){i.__esModule=!0;var e=t(47),r=h(e),s=t(5),u=h(s),o=t(83),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o);function h(t){return t&&t.__esModule?t:{default:t}}function c(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var f=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=e.tracks,s=c(this,t.call(this,i,e));if(s.items.length<=1&&s.hide(),!r)return c(s);var u=a.bind(s,s.update);return r.addEventListener("removetrack",u),r.addEventListener("addtrack",u),s.RD.on("dispose",function(){r.removeEventListener("removetrack",u),r.removeEventListener("addtrack",u)}),s}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(r.default);u.default.registerComponent("TrackButton",f),i.default=f},{47:47,5:5,83:83}],37:[function(t,n,i){i.__esModule=!0;var e=t(57),r=h(e),s=t(5),u=h(s),o=t(83),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o);function h(t){return t&&t.__esModule?t:{default:t}}t(39);var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"volumechange",r.updateARIAAttributes),i.ready(a.bind(r,r.updateARIAAttributes)),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":"volume level"})},n.prototype.handleMouseMove=function(t){this.checkMuted(),this.RD.volume(this.calculateDistance(t))},n.prototype.checkMuted=function(){this.RD.muted()&&this.RD.muted(!1)},n.prototype.getPercent=function(){return this.RD.muted()?0:this.RD.volume()},n.prototype.stepForward=function(){this.checkMuted(),this.RD.volume(this.RD.volume()+.1)},n.prototype.stepBack=function(){this.checkMuted(),this.RD.volume(this.RD.volume()-.1)},n.prototype.updateARIAAttributes=function(t){var n=(100*this.RD.volume()).toFixed(2);this.Mjt.setAttribute("aria-valuenow",n),this.Mjt.setAttribute("aria-valuetext",n+"%")},n}(r.default);c.prototype.jjt={children:["volumeLevel"],barName:"volumeLevel"},c.prototype.playerEvent="volumechange",u.default.registerComponent("VolumeBar",c),i.default=c},{39:39,5:5,57:57,83:83}],38:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e};t(37);var u=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return i.Qjt&&!1===i.Qjt.featuresVolumeControl&&r.addClass("vjs-hidden"),r.on(i,"loadstart",function(){!1===i.Qjt.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},n}(s.default);u.prototype.jjt={children:["volumeBar"]},s.default.registerComponent("VolumeControl",u),i.default=u},{37:37,5:5}],39:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},n}(s.default);s.default.registerComponent("VolumeLevel",u),i.default=u},{5:5}],40:[function(t,n,i){i.__esModule=!0;var e=t(83),r=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(e),s=t(5),u=_(s),o=t(54),a=_(o),h=t(53),c=_(h),f=t(11),l=_(f),d=t(37),g=_(d);function _(t){return t&&t.__esModule?t:{default:t}}var y=function(t){function n(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),void 0===e.inline&&(e.inline=!0),void 0===e.vertical&&(e.inline?e.vertical=!1:e.vertical=!0),e.volumeBar=e.volumeBar||{},e.volumeBar.vertical=!!e.vertical;var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));function s(){i.Qjt&&!1===i.Qjt.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}return r.on(i,"volumechange",r.volumeUpdate),r.on(i,"loadstart",r.volumeUpdate),s.call(r),r.on(i,"loadstart",s),r.on(r.volumeBar,["slideractive","focus"],function(){this.addClass("vjs-slider-active")}),r.on(r.volumeBar,["sliderinactive","blur"],function(){this.removeClass("vjs-slider-active")}),r.on(r.volumeBar,["focus"],function(){this.addClass("vjs-lock-showing")}),r.on(r.volumeBar,["blur"],function(){this.removeClass("vjs-lock-showing")}),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){var n="";return n=this.jjt.vertical?"vjs-volume-menu-button-vertical":"vjs-volume-menu-button-horizontal","vjs-volume-menu-button "+t.prototype.buildCSSClass.call(this)+" "+n},n.prototype.createPopup=function(){var t=new a.default(this.RD,{contentElType:"div"}),n=new g.default(this.RD,this.jjt.volumeBar);return t.addChild(n),this.menuContent=t,this.volumeBar=n,this.attachVolumeBarEvents(),t},n.prototype.handleClick=function(n){l.default.prototype.handleClick.call(this),t.prototype.handleClick.call(this)},n.prototype.attachVolumeBarEvents=function(){this.menuContent.on(["mousedown","touchdown"],r.bind(this,this.handleMouseDown))},n.prototype.handleMouseDown=function(t){this.on(["mousemove","touchmove"],r.bind(this.volumeBar,this.volumeBar.handleMouseMove)),this.on(this.Mjt.ownerDocument,["mouseup","touchend"],this.handleMouseUp)},n.prototype.handleMouseUp=function(t){this.off(["mousemove","touchmove"],r.bind(this.volumeBar,this.volumeBar.handleMouseMove))},n}(c.default);y.prototype.volumeUpdate=l.default.prototype.update,y.prototype.Ljt="Mute",u.default.registerComponent("VolumeMenuButton",y),i.default=y},{11:11,37:37,5:5,53:53,54:54,83:83}],41:[function(t,n,i){i.__esModule=!0;var e=t(5),r=h(e),s=t(50),u=h(s),o=t(88),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"error",r.open),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},n.prototype.content=function(){var t=this.player().error();return t?this.localize(t.message):""},n}(u.default);c.prototype.jjt=(0,a.default)(u.default.prototype.jjt,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),r.default.registerComponent("ErrorDisplay",c),i.default=c},{5:5,50:50,88:88}],42:[function(t,n,i){i.__esModule=!0;var e=t(82),r=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(e),s=function(){};s.prototype.oHt={},s.prototype.on=function(t,n){var i=this.addEventListener;this.addEventListener=function(){},r.on(this,t,n),this.addEventListener=i},s.prototype.addEventListener=s.prototype.on,s.prototype.off=function(t,n){r.off(this,t,n)},s.prototype.removeEventListener=s.prototype.off,s.prototype.one=function(t,n){var i=this.addEventListener;this.addEventListener=function(){},r.one(this,t,n),this.addEventListener=i},s.prototype.trigger=function(t){var n=t.type||t;"string"==typeof t&&(t={type:n}),t=r.fixEvent(t),this.oHt[n]&&this["on"+n]&&this["on"+n](t),r.trigger(this,t)},s.prototype.dispatchEvent=s.prototype.trigger,i.default=s},{82:82}],43:[function(t,n,i){i.__esModule=!0;var e,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=t(87),u=(e=s)&&e.__esModule?e:{default:e},o=t(89);i.default=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=function(){t.apply(this,arguments)},e={};for(var s in(0,o.isObject)(n)?("function"==typeof n.init&&(u.default.warn("Constructor logic via init() is deprecated; please use constructor() instead."),n.constructor=n.init),n.constructor!==w.prototype.constructor&&(i=n.constructor),e=n):"function"==typeof n&&(i=n),function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+(void 0===n?"undefined":r(n)));t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(t.aHt=n)}(i,t),e)e.hasOwnProperty(s)&&(i.prototype[s]=e[s]);return i}},{87:87,89:89}],44:[function(t,n,i){i.__esModule=!0;for(var e=t(85),r={prefixed:!0},s=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],u=s[0],o=void 0,a=0;a<s.length;a++)if(s[a][1]in e.document){o=s[a];break}if(o){for(var h=0;h<o.length;h++)r[u[h]]=o[h];r.prefixed=o[0]!==u[0]}i.default=r},{85:85}],45:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"})},n}(s.default);s.default.registerComponent("LoadingSpinner",u),i.default=u},{5:5}],46:[function(t,n,i){i.__esModule=!0;var e=t(89);function r(t){if(t instanceof r)return t;"number"==typeof t?this.code=t:"string"==typeof t?this.message=t:(0,e.isObject)(t)&&("number"==typeof t.code&&(this.code=t.code),(0,e.assign)(this,t)),this.message||(this.message=r.defaultMessages[this.code]||"")}r.prototype.code=0,r.prototype.message="",r.prototype.status=null,r.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],r.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var s=0;s<r.errorTypes.length;s++)r[r.errorTypes[s]]=s,r.prototype[r.errorTypes[s]]=s;i.default=r},{89:89}],47:[function(t,n,i){i.__esModule=!0;var e=t(3),r=y(e),s=t(5),u=y(s),o=t(49),a=y(o),h=t(81),c=_(h),f=t(83),l=_(f),d=t(92),g=y(d);function _(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function y(t){return t&&t.__esModule?t:{default:t}}var m=function(t){function n(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.update(),r.e_=!0,r.Mjt.setAttribute("aria-haspopup","true"),r.Mjt.setAttribute("role","menuitem"),r.on("keydown",r.handleSubmenuKeyPress),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.update=function(){var t=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=t,this.addChild(t),this.hHt=!1,this.Mjt.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.$jt?this.hide():this.show()},n.prototype.createMenu=function(){var t=new a.default(this.RD);if(this.$jt=0,this.jjt.title){var n=c.createEl("li",{className:"vjs-menu-title",innerHTML:(0,g.default)(this.jjt.title),tabIndex:-1});this.$jt+=1,t.Oi.unshift(n),c.insertElFirst(n,t.contentEl())}if(this.items=this.createItems(),this.items)for(var i=0;i<this.items.length;i++)t.addItem(this.items[i]);return t},n.prototype.createItems=function(){},n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},n.prototype.buildCSSClass=function(){var n="vjs-menu-button";return!0===this.jjt.inline?n+="-inline":n+="-popup","vjs-menu-button "+n+" "+t.prototype.buildCSSClass.call(this)},n.prototype.handleClick=function(t){this.one(this.menu.contentEl(),"mouseleave",l.bind(this,function(t){this.unpressButton(),this.Mjt.blur()})),this.hHt?this.unpressButton():this.pressButton()},n.prototype.handleKeyPress=function(n){27===n.which||9===n.which?(this.hHt&&this.unpressButton(),9!==n.which&&n.preventDefault()):38===n.which||40===n.which?this.hHt||(this.pressButton(),n.preventDefault()):t.prototype.handleKeyPress.call(this,n)},n.prototype.handleSubmenuKeyPress=function(t){27!==t.which&&9!==t.which||(this.hHt&&this.unpressButton(),9!==t.which&&t.preventDefault())},n.prototype.pressButton=function(){this.e_&&(this.hHt=!0,this.menu.lockShowing(),this.Mjt.setAttribute("aria-expanded","true"),this.menu.focus())},n.prototype.unpressButton=function(){this.e_&&(this.hHt=!1,this.menu.unlockShowing(),this.Mjt.setAttribute("aria-expanded","false"),this.Mjt.focus())},n.prototype.disable=function(){return this.hHt=!1,this.menu.unlockShowing(),this.Mjt.setAttribute("aria-expanded","false"),this.e_=!1,t.prototype.disable.call(this)},n.prototype.enable=function(){return this.e_=!0,t.prototype.enable.call(this)},n}(r.default);u.default.registerComponent("MenuButton",m),i.default=m},{3:3,49:49,5:5,81:81,83:83,92:92}],48:[function(t,n,i){i.__esModule=!0;var e=t(3),r=h(e),s=t(5),u=h(s),o=t(89),a=t(85);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.selectable=e.selectable,r.selected(e.selected),r.selectable?r.Mjt.setAttribute("role","menuitemcheckbox"):r.Mjt.setAttribute("role","menuitem"),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(n,i,e){this.nonIconControl=!0;var r=t.prototype.createEl.call(this,"li",(0,o.assign)({className:"vjs-menu-item",tabIndex:-1},i),e);return this.Jjt=a.document.createTextNode(this.localize(this.jjt.label)),r.appendChild(this.Jjt),r},n.prototype.handleClick=function(t){this.selected(!0)},n.prototype.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.Mjt.setAttribute("aria-checked","true"),this.controlText(", selected")):(this.removeClass("vjs-selected"),this.Mjt.setAttribute("aria-checked","false"),this.controlText("")))},n.prototype.handleLanguagechange=function(){t.prototype.handleLanguagechange.call(this),this.Jjt.innerHTML=this.localize(this.jjt.label)},n}(r.default);u.default.registerComponent("MenuItem",c),i.default=c},{3:3,5:5,85:85,89:89}],49:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=t(81),o=l(u),a=t(83),h=l(a),c=t(82),f=l(c);function l(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}var d=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.cHt=-1,r.on("keydown",r.handleKeyPress),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.addItem=function(t){this.addChild(t),t.on("click",h.bind(this,function(t){this.unlockShowing()}))},n.prototype.createEl=function(){var n=this.jjt.contentElType||"ul";this.zjt=o.createEl(n,{className:"vjs-menu-content"}),this.zjt.setAttribute("role","menu");var i=t.prototype.createEl.call(this,"div",{append:this.zjt,className:"vjs-menu"});return i.setAttribute("role","presentation"),i.appendChild(this.zjt),f.on(i,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),i},n.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepForward()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepBack())},n.prototype.stepForward=function(){var t=0;void 0!==this.cHt&&(t=this.cHt+1),this.focus(t)},n.prototype.stepBack=function(){var t=0;void 0!==this.cHt&&(t=this.cHt-1),this.focus(t)},n.prototype.focus=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=this.children().slice(),i=n.length&&n[0].className&&/vjs-menu-title/.test(n[0].className);i&&n.shift(),n.length>0&&(t<0?t=0:t>=n.length&&(t=n.length-1),this.cHt=t,n[t].Mjt.focus())},n}(s.default);s.default.registerComponent("Menu",d),i.default=d},{5:5,81:81,82:82,83:83}],50:[function(t,n,i){i.__esModule=!0;var e,r=t(81),s=c(r),u=t(83),o=c(u),a=t(5),h=(e=a)&&e.__esModule?e:{default:e};function c(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}var f="vjs-modal-dialog",l=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.fHt=r.lHt=r.vHt=!1,r.closeable(!r.jjt.uncloseable),r.content(r.jjt.content),r.zjt=s.createEl("div",{className:f+"-content"},{role:"document"}),r.dHt=s.createEl("p",{className:f+"-description vjs-offscreen",id:r.el().getAttribute("aria-describedby")}),s.textContent(r.dHt,r.description()),r.Mjt.appendChild(r.dHt),r.Mjt.appendChild(r.zjt),r.on(i,"languagechange",r.handleLanguagechange),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"wHt","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},n.prototype.buildCSSClass=function(){return f+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},n.prototype.handleKeyPress=function(t){27===t.which&&this.closeable()&&this.close()},n.prototype.label=function(){return this.jjt.label||this.localize("Modal Window")},n.prototype.description=function(){var t=this.jjt.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},n.prototype.open=function(){if(!this.fHt){var t=this.player();this.trigger("beforemodalopen"),this.fHt=!0,(this.jjt.fillAlways||!this.lHt&&!this.vHt)&&this.fill(),this.gHt=!t.paused(),this.jjt.pauseOnOpen&&this.gHt&&t.pause(),this.closeable()&&this.on(this.Mjt.ownerDocument,"keydown",o.bind(this,this.handleKeyPress)),t.controls(!1),this.show(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.lHt=!0}return this},n.prototype.opened=function(t){return"boolean"==typeof t&&this[t?"open":"close"](),this.fHt},n.prototype.close=function(){if(this.fHt){var t=this.player();this.trigger("beforemodalclose"),this.fHt=!1,this.gHt&&this.jjt.pauseOnOpen&&t.play(),this.closeable()&&this.off(this.Mjt.ownerDocument,"keydown",o.bind(this,this.handleKeyPress)),t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.jjt.temporary&&this.dispose()}return this},n.prototype.closeable=function(t){if("boolean"==typeof t){var n=this._Ht=!!t,i=this.getChild("closeButton");if(n&&!i){var e=this.zjt;this.zjt=this.Mjt,i=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.zjt=e,this.on(i,"close",this.close)}!n&&i&&(this.off(i,"close",this.close),this.removeChild(i),i.dispose())}return this._Ht},n.prototype.fill=function(){return this.fillWith(this.content())},n.prototype.fillWith=function(t){var n=this.contentEl(),i=n.parentNode,e=n.nextSibling;return this.trigger("beforemodalfill"),this.vHt=!0,i.removeChild(n),this.empty(),s.insertContent(n,t),this.trigger("modalfill"),e?i.insertBefore(n,e):i.appendChild(n),this},n.prototype.empty=function(){return this.trigger("beforemodalempty"),s.emptyEl(this.contentEl()),this.trigger("modalempty"),this},n.prototype.content=function(t){return void 0!==t&&(this.hp=t),this.hp},n.prototype.handleLanguagechange=function(){this.Mjt.setAttribute("aria-label",this.label()),s.textContent(this.dHt,this.description()),this.opened()?this.fill():(this.lHt||this.vHt)&&(this.lHt=!1,this.vHt=!1,this.empty())},n}(h.default);l.prototype.jjt={pauseOnOpen:!0,temporary:!0},h.default.registerComponent("ModalDialog",l),i.default=l},{5:5,81:81,83:83}],51:[function(t,n,i){i.__esModule=!0;var e=t(5),r=Q(e),s=t(85),u=t(82),o=Y(u),a=t(81),h=Y(a),c=t(83),f=Y(c),d=t(86),_=Y(d),p=t(78),k=Y(p),b=t(87),A=Q(b),T=t(92),S=Q(T),E=t(91),I=t(79),R=t(90),N=Y(R),D=t(44),C=Q(D),P=t(46),O=Q(P),x=t(116),B=Q(x),L=t(89),M=t(88),F=Q(M),U=t(69),j=Q(U),H=t(50),X=Q(H),V=t(62),z=Q(V),W=t(63),G=Q(W),q=t(76),$=Q(q);function Y(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function Q(t){return t&&t.__esModule?t:{default:t}}t(61),t(59),t(55),t(68),t(45),t(1),t(4),t(8),t(41),t(71),t(60);var J=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","ratechange","volumechange","texttrackchange"],Z=function(t){function n(i,e,r){if(function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),i.id=i.id||["vjs_video",_.newGUID()].join("_"),(e=(0,L.assign)(n.getTagSettings(i),e)).initChildren=!1,e.createEl=!1,e.reportTouchActivity=!1,!e.language)if("function"==typeof i.closest){var s=i.closest("[lang]");s&&(e.language=s.getAttribute("lang"))}else for(var u=i;u&&1===u.nodeType;){if(h.getElAttributes(u).hasOwnProperty("lang")){e.language=u.getAttribute("lang");break}u=u.parentNode}var o=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,null,e,r));if(!o.jjt||!o.jjt.techOrder||!o.jjt.techOrder.length)throw new l("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(o.tag=i,o.tagAttributes=i&&h.getElAttributes(i),o.language(o.jjt.language),e.languages){var a={};w.getOwnPropertyNames(e.languages).forEach(function(t){a[t.toLowerCase()]=e.languages[t]}),o.yHt=a}else o.yHt=n.prototype.jjt.languages;o._xt={},o.CU=e.poster||"",o.mHt=!!e.controls,i.controls=!1,o.pHt=!1,o.Mjt=o.createEl();var c=(0,F.default)(o.jjt);if(e.plugins){var f=e.plugins;w.getOwnPropertyNames(f).forEach(function(t){"function"==typeof this[t]?this[t](f[t]):A.default.error("Unable to find plugin:",t)},o)}o.jjt.playerOptions=c,o.initChildren(),o.isAudio("audio"===i.nodeName.toLowerCase()),o.controls()?o.addClass("vjs-controls-enabled"):o.addClass("vjs-controls-disabled"),o.Mjt.setAttribute("role","region"),o.isAudio()?o.Mjt.setAttribute("aria-label","audio player"):o.Mjt.setAttribute("aria-label","video player"),o.isAudio()&&o.addClass("vjs-audio"),o.kHt()&&o.addClass("vjs-no-flex"),k.IS_IOS||o.addClass("vjs-workinghover"),n.players[o.r_]=o;var d="5.20.6-opentelly.9".split(".")[0];return o.addClass("vjs-v"+d),o.userActive(!0),o.reportUserActivity(),o.bHt(),o.on("fullscreenchange",o.fP),o.on("stageclick",o.AHt),o}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.THt&&this.THt.parentNode&&this.THt.parentNode.removeChild(this.THt),n.players[this.r_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.Mjt&&this.Mjt.player&&(this.Mjt.player=null),this.Qjt&&this.Qjt.dispose(),t.prototype.dispose.call(this)},n.prototype.createEl=function(){var n=this.tag,i=void 0,e=this.SHt=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player");i=this.Mjt=e?n.parentNode:t.prototype.createEl.call(this,"div"),n.setAttribute("tabindex","-1"),n.removeAttribute("width"),n.removeAttribute("height");var r=h.getElAttributes(n);if(w.getOwnPropertyNames(r).forEach(function(t){"class"===t?i.className+=" "+r[t]:i.setAttribute(t,r[t])}),n.playerId=n.id,n.id+="EHt",n.className="vjs-tech",n.player=i.player=this,this.addClass("vjs-paused"),!0!==s.window.VIDEOJS_NO_DYNAMIC_STYLE){this.THt=N.createStyleElement("vjs-styles-dimensions");var u=h.$(".vjs-styles-defaults"),o=h.$("head");o.insertBefore(this.THt,u?u.nextSibling:o.firstChild)}this.width(this.jjt.width),this.height(this.jjt.height),this.fluid(this.jjt.fluid),this.aspectRatio(this.jjt.aspectRatio);for(var a=n.getElementsByTagName("a"),c=0;c<a.length;c++){var f=a.item(c);h.addElClass(f,"vjs-hidden"),f.setAttribute("hidden","hidden")}return n.IHt=n.networkState,n.parentNode&&!e&&n.parentNode.insertBefore(i,n),h.insertElFirst(n,i),this.Oi.unshift(n),this.Mjt=i,i},n.prototype.width=function(t){return this.dimension("width",t)},n.prototype.height=function(t){return this.dimension("height",t)},n.prototype.dimension=function(t,n){var i="width"===t?"xp":"bT";if(void 0===n)return this[i]||0;if(""===n)this[i]=void 0;else{var e=y(n);if(m(e))return A.default.error('Improper value "'+n+'" supplied for for '+t),this;this[i]=e}return this.RHt(),this},n.prototype.fluid=function(t){if(void 0===t)return!!this.NHt;this.NHt=!!t,t?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),this.RHt()},n.prototype.aspectRatio=function(t){if(void 0===t)return this.DHt;if(!/^\d+\:\d+$/.test(t))throw new l("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.DHt=t,this.fluid(!0),this.RHt()},n.prototype.RHt=function(){if(!0!==s.window.VIDEOJS_NO_DYNAMIC_STYLE){var t=void 0,n=void 0,i=void 0,e=(void 0!==this.DHt&&"auto"!==this.DHt?this.DHt:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),r=e[1]/e[0];t=void 0!==this.xp?this.xp:void 0!==this.bT?this.bT/r:this.videoWidth()||300,n=void 0!==this.bT?this.bT:t*r,i=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(i),N.setTextContent(this.THt,"\n      ."+i+" {\n        width: "+t+"px;\n        height: "+n+"px;\n      }\n\n      ."+i+".vjs-fluid {\n        padding-top: "+100*r+"%;\n      }\n    ")}else{var u="number"==typeof this.xp?this.xp:this.jjt.width,o="number"==typeof this.bT?this.bT:this.jjt.height,a=this.Qjt&&this.Qjt.el();a&&(u>=0&&(a.width=u),o>=0&&(a.height=o))}},n.prototype.CHt=function(t,n){var i=this;this.Qjt&&this.PHt(),"Html5"!==t&&this.tag&&(z.default.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.OHt=t,this.Wjt=!1;var e=(0,L.assign)({source:n,nativeControlsForTouch:this.jjt.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+t+"xHt",videoTracks:this.qy,textTracks:this.$y,audioTracks:this.Gy,autoplay:this.jjt.autoplay,playsinline:this.jjt.playsinline,preload:this.jjt.preload,loop:this.jjt.loop,muted:this.jjt.muted,poster:this.poster(),language:this.language(),playerElIngest:this.SHt||!1,"vtt.js":this.jjt["vtt.js"]},this.jjt[t.toLowerCase()]);this.tag&&(e.tag=this.tag),n&&(this.BHt=n.type,n.src===this._xt.src&&this._xt.currentTime>0&&(e.startTime=this._xt.currentTime),this._xt.sources=null,this._xt.source=n,this._xt.src=n.src);var s=z.default.getTech(t);s||(s=r.default.getComponent(t)),this.Qjt=new s(e),this.Qjt.ready(f.bind(this,this.LHt),!0),j.default.jsonToTextTracks(this.MHt||[],this.Qjt),J.forEach(function(t){i.on(i.Qjt,t,i["handleTech"+(0,S.default)(t)+"_"])}),this.on(this.Qjt,"loadstart",this.FHt),this.on(this.Qjt,"waiting",this.UHt),this.on(this.Qjt,"canplay",this.jHt),this.on(this.Qjt,"canplaythrough",this.HHt),this.on(this.Qjt,"playing",this.XHt),this.on(this.Qjt,"ended",this.VHt),this.on(this.Qjt,"seeking",this.zHt),this.on(this.Qjt,"seeked",this.WHt),this.on(this.Qjt,"play",this.GHt),this.on(this.Qjt,"firstplay",this.qHt),this.on(this.Qjt,"pause",this.$Ht),this.on(this.Qjt,"durationchange",this.YHt),this.on(this.Qjt,"fullscreenchange",this.QHt),this.on(this.Qjt,"error",this.JHt),this.on(this.Qjt,"loadedmetadata",this.RHt),this.on(this.Qjt,"resize",this.RHt),this.on(this.Qjt,"posterchange",this.ZHt),this.on(this.Qjt,"textdata",this.KHt),this.usingNativeControls(this.tXt("controls")),this.controls()&&!this.usingNativeControls()&&this.nXt(),this.Qjt.el().parentNode===this.contentEl()||"Html5"===t&&this.tag||h.insertElFirst(this.Qjt.el(),this.contentEl()),this.tag&&(this.tag.player=null,this.tag=null)},n.prototype.PHt=function(){this.qy=this.videoTracks(),this.$y=this.textTracks(),this.Gy=this.audioTracks(),this.MHt=j.default.textTracksToJson(this.Qjt),this.Wjt=!1,this.Qjt.dispose(),this.Qjt=!1},n.prototype.tech=function(t){if(t&&t.IWillNotUseThisInPlugins)return this.Qjt;var n="\n      Please make sure that you are not using this inside of a plugin.\n      To disable this alert and error, please pass in an object with\n      `IWillNotUseThisInPlugins` to the `tech` method. See\n      https://github.com/videojs/video.js/issues/2617 for more info.\n    ";throw s.window.alert(n),new l(n)},n.prototype.nXt=function(){this.iXt(),this.on(this.Qjt,"mousedown",this.eXt),this.on(this.Qjt,"touchstart",this.rXt),this.on(this.Qjt,"touchmove",this.sXt),this.on(this.Qjt,"touchend",this.uXt),this.on(this.Qjt,"tap",this.oXt)},n.prototype.iXt=function(){this.off(this.Qjt,"tap",this.oXt),this.off(this.Qjt,"touchstart",this.rXt),this.off(this.Qjt,"touchmove",this.sXt),this.off(this.Qjt,"touchend",this.uXt),this.off(this.Qjt,"mousedown",this.eXt)},n.prototype.LHt=function(){if(this.triggerReady(),this._xt.volume&&this.aXt("setVolume",this._xt.volume),this.ZHt(),this.YHt(),(this.src()||this.currentSrc())&&this.tag&&this.jjt.autoplay&&this.paused()){try{delete this.tag.poster}catch(t){(0,A.default)("deleting tag.poster throws in some browsers",t)}this.play()}},n.prototype.FHt=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},n.prototype.hasStarted=function(t){return void 0!==t?(this.hXt!==t&&(this.hXt=t,t?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):!!this.hXt},n.prototype.GHt=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},n.prototype.UHt=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return t.removeClass("vjs-waiting")})},n.prototype.jHt=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},n.prototype.HHt=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},n.prototype.XHt=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},n.prototype.zHt=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},n.prototype.WHt=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},n.prototype.qHt=function(){this.jjt.starttime&&(A.default.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.jjt.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},n.prototype.$Ht=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},n.prototype.VHt=function(){this.addClass("vjs-ended"),this.jjt.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},n.prototype.YHt=function(){this.duration(this.tXt("duration"))},n.prototype.eXt=function(t){0===t.button&&this.controls()&&(void 0!==this.jjt&&void 0!==this.jjt.userActions&&void 0!==this.jjt.userActions.click&&!1===this.jjt.userActions.click||(void 0!==this.jjt&&void 0!==this.jjt.userActions&&"function"==typeof this.jjt.userActions.click?this.jjt.userActions.click.call(this,t):this.paused()?this.play():this.pause()))},n.prototype.oXt=function(){this.userActive(!this.userActive())},n.prototype.rXt=function(){this.userWasActive=this.userActive()},n.prototype.sXt=function(){this.userWasActive&&this.reportUserActivity()},n.prototype.uXt=function(t){t.cancelable&&t.preventDefault()},n.prototype.fP=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},n.prototype.AHt=function(){this.reportUserActivity()},n.prototype.QHt=function(t,n){n&&this.isFullscreen(n.isFullscreen),this.trigger("fullscreenchange")},n.prototype.JHt=function(){var t=this.Qjt.error();this.error(t)},n.prototype.KHt=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},n.prototype.getCache=function(){return this._xt},n.prototype.aXt=function(t,n){if(this.Qjt&&!this.Qjt.Wjt)this.Qjt.ready(function(){this[t](n)},!0);else try{this.Qjt&&this.Qjt[t](n)}catch(t){throw(0,A.default)(t),t}},n.prototype.tXt=function(t){if(this.Qjt&&this.Qjt.Wjt)try{return this.Qjt[t]()}catch(n){throw void 0===this.Qjt[t]?(0,A.default)("Video.js: "+t+" method not defined for "+this.OHt+" playback technology.",n):"TypeError"===n.name?((0,A.default)("Video.js: "+t+" unavailable on "+this.OHt+" playback technology element.",n),this.Qjt.Wjt=!1):(0,A.default)(n),n}},n.prototype.play=function(){return this.src()||this.currentSrc()?this.aXt("play"):this.Qjt.one("loadstart",function(){this.play()}),this},n.prototype.pause=function(){return this.aXt("pause"),this},n.prototype.paused=function(){return!1!==this.tXt("paused")},n.prototype.scrubbing=function(t){return void 0!==t?(this.pHt=!!t,t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing"),this):this.pHt},n.prototype.currentTime=function(t){return void 0!==t?(this.aXt("setCurrentTime",t),this):(this._xt.currentTime=this.tXt("currentTime")||0,this._xt.currentTime)},n.prototype.duration=function(t){return void 0===t?void 0!==this._xt.duration?this._xt.duration:NaN:((t=y(t))<0&&(t=1/0),t!==this._xt.duration&&(this._xt.duration=t,t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange")),this)},n.prototype.remainingTime=function(){return this.duration()-this.currentTime()},n.prototype.buffered=function(){var t=this.tXt("buffered");return t&&t.length||(t=(0,E.createTimeRange)(0,0)),t},n.prototype.bufferedPercent=function(){return(0,I.bufferedPercent)(this.buffered(),this.duration())},n.prototype.bufferedEnd=function(){var t=this.buffered(),n=this.duration(),i=t.end(t.length-1);return i>n&&(i=n),i},n.prototype.volume=function(t){var n=void 0;return void 0!==t?(n=g.max(0,g.min(1,y(t))),this._xt.volume=n,this.aXt("setVolume",n),this):(n=y(this.tXt("volume")),m(n)?1:n)},n.prototype.muted=function(t){return void 0!==t?(this.aXt("setMuted",t),this):this.tXt("muted")||!1},n.prototype.supportsFullScreen=function(){return this.tXt("supportsFullScreen")||!1},n.prototype.isFullscreen=function(t){return void 0!==t?(this.DC=!!t,this):!!this.DC},n.prototype.requestFullscreen=function(t){var n=C.default,i=void 0;return this.isFullscreen(!0),n.requestFullscreen?(o.on(s.document,n.fullscreenchange,f.bind(this,function t(i){this.isFullscreen(s.document[n.fullscreenElement]),!1===this.isFullscreen()&&o.off(s.document,n.fullscreenchange,t),this.trigger("fullscreenchange")})),n.prefixed||(i=this.jjt.fullscreenOptions,void 0!==t&&(i=t)),this.Mjt[n.requestFullscreen](i)):this.Qjt.supportsFullScreen()?this.aXt("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},n.prototype.exitFullscreen=function(){var t=C.default;return this.isFullscreen(!1),t.requestFullscreen?s.document[t.exitFullscreen]():this.Qjt.supportsFullScreen()?this.aXt("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},n.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=s.document.documentElement.style.overflow,o.on(s.document,"keydown",f.bind(this,this.fullWindowOnEscKey)),s.document.documentElement.style.overflow="hidden",h.addElClass(s.document.body,"vjs-full-window"),this.trigger("enterFullWindow")},n.prototype.fullWindowOnEscKey=function(t){27===t.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},n.prototype.exitFullWindow=function(){this.isFullWindow=!1,o.off(s.document,"keydown",this.fullWindowOnEscKey),s.document.documentElement.style.overflow=this.docOrigOverflow,h.removeElClass(s.document.body,"vjs-full-window"),this.trigger("exitFullWindow")},n.prototype.canPlayType=function(t){for(var n=void 0,i=0,e=this.jjt.techOrder;i<e.length;i++){var s=(0,S.default)(e[i]),u=z.default.getTech(s);if(u||(u=r.default.getComponent(s)),u){if(u.isSupported()&&(n=u.canPlayType(t)))return n}else A.default.error('The "'+s+'" tech is undefined. Skipped browser support check for that tech.')}return""},n.prototype.selectSource=function(t){var n,i=this,e=this.jjt.techOrder.map(S.default).map(function(t){return[t,z.default.getTech(t)||r.default.getComponent(t)]}).filter(function(t){var n=t[0],i=t[1];return i?i.isSupported():(A.default.error('The "'+n+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),s=function(t,n,i){var e=void 0;return t.some(function(t){return n.some(function(n){if(e=i(t,n))return!0})}),e},u=function(t,n){var e=t[0],r=t[1];if(r.canPlaySource(n,i.jjt[e.toLowerCase()]))return{source:n,tech:e}};return(this.jjt.sourceOrder?s(t,e,(n=u,function(t,i){return n(i,t)})):s(e,t,u))||!1},n.prototype.src=function(t){if(void 0===t)return this.tXt("src");var n=z.default.getTech(this.OHt);return n||(n=r.default.getComponent(this.OHt)),Array.isArray(t)?this.cXt(t):"string"==typeof t?this.src({src:t}):t instanceof w&&(t.type&&!n.canPlaySource(t,this.jjt[this.OHt.toLowerCase()])?this.cXt([t]):(this._xt.sources=null,this._xt.source=t,this._xt.src=t.src,this.BHt=t.type||"",this.ready(function(){n.prototype.hasOwnProperty("setSource")?this.aXt("setSource",t):this.aXt("src",t.src),"auto"===this.jjt.preload&&this.load(),this.jjt.autoplay&&this.play()},!0))),this},n.prototype.cXt=function(t){var n=this.selectSource(t);n?(n.tech===this.OHt?this.src(n.source):this.CHt(n.tech,n.source),this._xt.sources=t):(this.setTimeout(function(){this.error({code:4,message:this.localize(this.jjt.notSupportedMessage)})},0),this.triggerReady())},n.prototype.load=function(){return this.aXt("load"),this},n.prototype.reset=function(){return this.CHt((0,S.default)(this.jjt.techOrder[0]),null),this.aXt("reset"),this},n.prototype.currentSources=function(){var t=this.currentSource(),n=[];return 0!==w.keys(t).length&&n.push(t),this._xt.sources||n},n.prototype.currentSource=function(){var t={},n=this.currentSrc();return n&&(t.src=n),this._xt.source||t},n.prototype.currentSrc=function(){return this.tXt("currentSrc")||this._xt.src||""},n.prototype.currentType=function(){return this.BHt||""},n.prototype.preload=function(t){return void 0!==t?(this.aXt("setPreload",t),this.jjt.preload=t,this):this.tXt("preload")},n.prototype.autoplay=function(t){return void 0!==t?(this.aXt("setAutoplay",t),this.jjt.autoplay=t,this):this.tXt("autoplay",t)},n.prototype.playsinline=function(t){return void 0!==t?(this.aXt("setPlaysinline",t),this.jjt.playsinline=t,this):this.tXt("playsinline")},n.prototype.loop=function(t){return void 0!==t?(this.aXt("setLoop",t),this.jjt.loop=t,this):this.tXt("loop")},n.prototype.poster=function(t){return void 0===t?this.CU:(t||(t=""),this.CU=t,this.aXt("setPoster",t),this.trigger("posterchange"),this)},n.prototype.ZHt=function(){!this.CU&&this.Qjt&&this.Qjt.poster&&(this.CU=this.Qjt.poster()||"",this.trigger("posterchange"))},n.prototype.controls=function(t){return void 0!==t?(t=!!t,this.mHt!==t&&(this.mHt=t,this.usingNativeControls()&&this.aXt("setControls",t),t?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.nXt()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.iXt())),this):!!this.mHt},n.prototype.usingNativeControls=function(t){return void 0!==t?(t=!!t,this.fXt!==t&&(this.fXt=t,t?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):!!this.fXt},n.prototype.error=function(t){return void 0===t?this.Au||null:null===t?(this.Au=t,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close(),this):(this.Au=new O.default(t),this.addClass("vjs-error"),A.default.error("(CODE:"+this.Au.code+" "+O.default.errorTypes[this.Au.code]+")",this.Au.message,this.Au),this.trigger("error"),this)},n.prototype.reportUserActivity=function(t){this.lXt=!0},n.prototype.userActive=function(t){return void 0!==t?((t=!!t)!==this.vXt&&(this.vXt=t,t?(this.lXt=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.lXt=!1,this.Qjt&&this.Qjt.one("mousemove",function(t){t.stopPropagation(),t.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.vXt},n.prototype.bHt=function(){var t=void 0,n=void 0,i=void 0,e=f.bind(this,this.reportUserActivity);this.on("mousedown",function(){e(),this.clearInterval(t),t=this.setInterval(e,250)}),this.on("mousemove",function(t){t.screenX===n&&t.screenY===i||(n=t.screenX,i=t.screenY,e())}),this.on("mouseup",function(n){e(),this.clearInterval(t)}),this.on("keydown",e),this.on("keyup",e);var r=void 0;this.setInterval(function(){if(this.lXt){this.lXt=!1,this.userActive(!0),this.clearTimeout(r);var t=this.jjt.inactivityTimeout;t>0&&(r=this.setTimeout(function(){this.lXt||this.userActive(!1)},t))}},250)},n.prototype.playbackRate=function(t){return void 0!==t?(this.aXt("setPlaybackRate",t),this):this.Qjt&&this.Qjt.featuresPlaybackRate?this.tXt("playbackRate"):1},n.prototype.isAudio=function(t){return void 0!==t?(this.dXt=!!t,this):!!this.dXt},n.prototype.videoTracks=function(){return this.Qjt?this.Qjt.videoTracks():(this.qy=this.qy||new $.default,this.qy)},n.prototype.audioTracks=function(){return this.Qjt?this.Qjt.audioTracks():(this.Gy=this.Gy||new G.default,this.Gy)},n.prototype.textTracks=function(){if(this.Qjt)return this.Qjt.textTracks()},n.prototype.remoteTextTracks=function(){if(this.Qjt)return this.Qjt.remoteTextTracks()},n.prototype.remoteTextTrackEls=function(){if(this.Qjt)return this.Qjt.remoteTextTrackEls()},n.prototype.addTextTrack=function(t,n,i){if(this.Qjt)return this.Qjt.addTextTrack(t,n,i)},n.prototype.addRemoteTextTrack=function(t,n){if(this.Qjt)return this.Qjt.addRemoteTextTrack(t,n)},n.prototype.removeRemoteTextTrack=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.track,i=void 0===n?arguments[0]:n;if(this.Qjt)return this.Qjt.removeRemoteTextTrack(i)},n.prototype.getVideoPlaybackQuality=function(){return this.tXt("getVideoPlaybackQuality")},n.prototype.videoWidth=function(){return this.Qjt&&this.Qjt.videoWidth&&this.Qjt.videoWidth()||0},n.prototype.videoHeight=function(){return this.Qjt&&this.Qjt.videoHeight&&this.Qjt.videoHeight()||0},n.prototype.language=function(t){return void 0===t?this.a_:(this.a_!==String(t).toLowerCase()&&(this.a_=String(t).toLowerCase(),void 0!==this.Mjt&&this.trigger("languagechange")),this)},n.prototype.languages=function(){return(0,F.default)(n.prototype.jjt.languages,this.yHt)},n.prototype.toJSON=function(){var t=(0,F.default)(this.jjt),n=t.tracks;t.tracks=[];for(var i=0;i<n.length;i++){var e=n[i];(e=(0,F.default)(e)).player=void 0,t.tracks[i]=e}return t},n.prototype.createModal=function(t,n){var i=this;(n=n||{}).content=t||"";var e=new X.default(this,n);return this.addChild(e),e.on("dispose",function(){i.removeChild(e)}),e.open()},n.getTagSettings=function(t){var n={sources:[],tracks:[]},i=h.getElAttributes(t),e=i["data-setup"];if(h.hasElClass(t,"vjs-fluid")&&(i.fluid=!0),null!==e){var r=(0,B.default)(e||"{}"),s=r[0],u=r[1];s&&A.default.error(s),(0,L.assign)(i,u)}if((0,L.assign)(n,i),t.hasChildNodes())for(var o=t.childNodes,a=0,c=o.length;a<c;a++){var f=o[a],l=f.nodeName.toLowerCase();"source"===l?n.sources.push(h.getElAttributes(f)):"track"===l&&n.tracks.push(h.getElAttributes(f))}return n},n.prototype.kHt=function(){var t=s.document.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},n}(r.default);Z.players={};var K=s.window.navigator;Z.prototype.jjt={techOrder:["html5","flash"],html5:{},flash:{},defaultVolume:0,inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:K&&(K.languages&&K.languages[0]||K.userLanguage||K.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",fullscreenOptions:{navigationUI:"hide"}},["ended","seeking","seekable","networkState","readyState"].forEach(function(t){Z.prototype[t]=function(){return this.tXt(t)}}),J.forEach(function(t){Z.prototype["handleTech"+(0,S.default)(t)+"_"]=function(){return this.trigger(t)}}),r.default.registerComponent("Player",Z),i.default=Z},{1:1,116:116,4:4,41:41,44:44,45:45,46:46,5:5,50:50,55:55,59:59,60:60,61:61,62:62,63:63,68:68,69:69,71:71,76:76,78:78,79:79,8:8,81:81,82:82,83:83,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:92}],52:[function(t,n,i){i.__esModule=!0;var e,r=t(51),s=(e=r)&&e.__esModule?e:{default:e};i.default=function(t,n){s.default.prototype[t]=n}},{51:51}],53:[function(t,n,i){i.__esModule=!0;var e=t(3),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.update(),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.update=function(){var t=this.createPopup();this.popup&&this.removeChild(this.popup),this.popup=t,this.addChild(t),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},n.prototype.createPopup=function(){},n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},n.prototype.buildCSSClass=function(){var n="vjs-menu-button";return!0===this.jjt.inline?n+="-inline":n+="-popup","vjs-menu-button "+n+" "+t.prototype.buildCSSClass.call(this)},n}(r.default);u.default.registerComponent("PopupButton",a),i.default=a},{3:3,5:5}],54:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=t(81),o=l(u),a=t(83),h=l(a),c=t(82),f=l(c);function l(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}var d=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.addItem=function(t){this.addChild(t),t.on("click",h.bind(this,function(){this.unlockShowing()}))},n.prototype.createEl=function(){var n=this.jjt.contentElType||"ul";this.zjt=o.createEl(n,{className:"vjs-menu-content"});var i=t.prototype.createEl.call(this,"div",{append:this.zjt,className:"vjs-menu"});return i.appendChild(this.zjt),f.on(i,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),i},n}(s.default);s.default.registerComponent("Popup",d),i.default=d},{5:5,81:81,82:82,83:83}],55:[function(t,n,i){i.__esModule=!0;var e=t(3),r=g(e),s=t(5),u=g(s),o=t(83),a=d(o),h=t(81),c=d(h),f=t(78),l=d(f);function d(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function g(t){return t&&t.__esModule?t:{default:t}}var _=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.update(),i.on("posterchange",a.bind(r,r.update)),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.dispose=function(){this.player().off("posterchange",this.update),t.prototype.dispose.call(this)},n.prototype.createEl=function(){var t=c.createEl("div",{className:"vjs-poster",tabIndex:-1});return l.BACKGROUND_SIZE_SUPPORTED||(this.wXt=c.createEl("img"),t.appendChild(this.wXt)),t},n.prototype.update=function(t){var n=this.player().poster();this.setSrc(n),n?this.show():this.hide()},n.prototype.setSrc=function(t){if(this.wXt)this.wXt.src=t;else{var n="";t&&(n='url("'+t+'")'),this.Mjt.style.backgroundImage=n}},n.prototype.handleClick=function(t){this.RD.controls()&&(this.RD.paused()?this.RD.play():this.RD.pause())},n}(r.default);u.default.registerComponent("PosterImage",_),i.default=_},{3:3,5:5,78:78,81:81,83:83}],56:[function(t,n,i){i.__esModule=!0,i.hasLoaded=i.autoSetupTimeout=i.autoSetup=void 0;var e=t(81),r=a(e),s=t(82),u=a(s),o=t(85);function a(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}var h=!1,c=void 0,f=function(){if(r.isReal()){var t=o.document.getElementsByTagName("video"),n=o.document.getElementsByTagName("audio"),i=[];if(t&&t.length>0)for(var e=0,s=t.length;e<s;e++)i.push(t[e]);if(n&&n.length>0)for(var u=0,a=n.length;u<a;u++)i.push(n[u]);if(i&&i.length>0)for(var f=0,v=i.length;f<v;f++){var d=i[f];if(!d||!d.getAttribute){l(1);break}if(void 0===d.player){var w=d.getAttribute("data-setup");null!==w&&c(d)}}else h||l(1)}};function l(t,n){n&&(c=n),o.window.setTimeout(f,t)}r.isReal()&&"complete"===o.document.readyState?h=!0:u.one(o.window,"load",function(){h=!0}),i.autoSetup=f,i.autoSetupTimeout=l,i.hasLoaded=function(){return h}},{81:81,82:82,85:85}],57:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=t(81),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(89),h=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.bar=r.getChild(r.jjt.barName),r.vertical(!!r.jjt.vertical),r.on("mousedown",r.handleMouseDown),r.on("touchstart",r.handleMouseDown),r.on("focus",r.handleFocus),r.on("blur",r.handleBlur),r.on("click",r.handleClick),r.on(i,"controlsvisible",r.update),r.on(i,r.playerEvent,r.update),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i.className=i.className+" vjs-slider",i=(0,a.assign)({tabIndex:0},i),e=(0,a.assign)({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},e),t.prototype.createEl.call(this,n,i,e)},n.prototype.handleMouseDown=function(t){var n=this.bar.Mjt.ownerDocument;t.preventDefault(),o.blockTextSelection(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(n,"mousemove",this.handleMouseMove),this.on(n,"mouseup",this.handleMouseUp),this.on(n,"touchmove",this.handleMouseMove),this.on(n,"touchend",this.handleMouseUp),this.handleMouseMove(t)},n.prototype.handleMouseMove=function(t){},n.prototype.handleMouseUp=function(){var t=this.bar.Mjt.ownerDocument;o.unblockTextSelection(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},n.prototype.update=function(){if(this.Mjt){var t=this.getPercent(),n=this.bar;if(n){("number"!=typeof t||t!=t||t<0||t===1/0)&&(t=0);var i=(100*t).toFixed(2)+"%";this.vertical()?n.el().style.height=i:n.el().style.width=i}}},n.prototype.calculateDistance=function(t){var n=o.getPointerPosition(this.Mjt,t);return this.vertical()?n.y:n.x},n.prototype.handleFocus=function(){this.on(this.bar.Mjt.ownerDocument,"keydown",this.handleKeyPress)},n.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepBack()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepForward())},n.prototype.handleBlur=function(){this.off(this.bar.Mjt.ownerDocument,"keydown",this.handleKeyPress)},n.prototype.handleClick=function(t){t.stopImmediatePropagation(),t.preventDefault()},n.prototype.vertical=function(t){return void 0===t?this._p||!1:(this._p=!!t,this._p?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal"),this)},n}(s.default);s.default.registerComponent("Slider",h),i.default=h},{5:5,81:81,89:89}],58:[function(t,n,i){i.__esModule=!0,i.default=function(t){return t.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},t.streamFromParts=function(t,n){return t+"&"+n},t.streamToParts=function(t){var n={connection:"",stream:""};if(!t)return n;var i=t.search(/&(?!\w+=)/),e=void 0;return-1!==i?e=i+1:0===(i=e=t.lastIndexOf("/")+1)&&(i=e=t.length),n.connection=t.substring(0,i),n.stream=t.substring(e,t.length),n},t.isStreamingType=function(n){return n in t.streamingFormats},t.RTMP_RE=/^rtmp[set]?:\/\//i,t.isStreamingSrc=function(n){return t.RTMP_RE.test(n)},t.rtmpSourceHandler={},t.rtmpSourceHandler.canPlayType=function(n){return t.isStreamingType(n)?"maybe":""},t.rtmpSourceHandler.canHandleSource=function(n,i){var e=t.rtmpSourceHandler.canPlayType(n.type);return e||(t.isStreamingSrc(n.src)?"maybe":"")},t.rtmpSourceHandler.handleSource=function(n,i,e){var r=t.streamToParts(n.src);i.setRtmpConnection(r.connection),i.setRtmpStream(r.stream)},t.registerSourceHandler(t.rtmpSourceHandler),t}},{}],59:[function(t,n,i){i.__esModule=!0;var e=t(62),r=m(e),s=t(81),u=y(s),o=t(93),a=y(o),h=t(91),c=t(58),f=m(c),l=t(5),d=m(l),g=t(85),_=t(89);function y(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function m(t){return t&&t.__esModule?t:{default:t}}var p=g.window.navigator,k=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return i.source&&r.ready(function(){this.setSource(i.source)},!0),i.startTime&&r.ready(function(){this.load(),this.play(),this.currentTime(i.startTime)},!0),g.window.videojs=g.window.videojs||{},g.window.videojs.Flash=g.window.videojs.Flash||{},g.window.videojs.Flash.onReady=n.onReady,g.window.videojs.Flash.onEvent=n.onEvent,g.window.videojs.Flash.onError=n.onError,r.on("seeked",function(){this.gXt=void 0}),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var t=this.jjt;t.swf||(t.swf="//vjs.zencdn.net/swf/5.4.1/video-js.swf");var i=t.techId,e=(0,_.assign)({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:t.autoplay,preload:t.preload,loop:t.loop,muted:t.muted},t.flashVars),r=(0,_.assign)({wmode:"opaque",bgcolor:"#000000"},t.params),s=(0,_.assign)({id:i,name:i,class:"vjs-tech"},t.attributes);return this.Mjt=n.embed(t.swf,e,r,s),this.Mjt.tech=this,this.Mjt},n.prototype.play=function(){this.ended()&&this.setCurrentTime(0),this.Mjt.vjs_play()},n.prototype.pause=function(){this.Mjt.vjs_pause()},n.prototype.src=function(t){return void 0===t?this.currentSrc():this.setSrc(t)},n.prototype.setSrc=function(t){var n=this;t=a.getAbsoluteURL(t),this.Mjt.vjs_src(t),this.autoplay()&&this.setTimeout(function(){return n.play()},0)},n.prototype.seeking=function(){return void 0!==this.gXt},n.prototype.setCurrentTime=function(n){var i=this.seekable();i.length&&(n=(n=n>i.start(0)?n:i.start(0))<i.end(i.length-1)?n:i.end(i.length-1),this.gXt=n,this.trigger("seeking"),this.Mjt.vjs_setProperty("currentTime",n),t.prototype.setCurrentTime.call(this))},n.prototype.currentTime=function(){return this.seeking()?this.gXt||0:this.Mjt.vjs_getProperty("currentTime")},n.prototype.currentSrc=function(){return this.pm?this.pm.src:this.Mjt.vjs_getProperty("currentSrc")},n.prototype.duration=function(){if(0===this.readyState())return NaN;var t=this.Mjt.vjs_getProperty("duration");return t>=0?t:1/0},n.prototype.load=function(){this.Mjt.vjs_load()},n.prototype.poster=function(){this.Mjt.vjs_getProperty("poster")},n.prototype.setPoster=function(){},n.prototype.seekable=function(){var t=this.duration();return 0===t?(0,h.createTimeRange)():(0,h.createTimeRange)(0,t)},n.prototype.buffered=function(){var t=this.Mjt.vjs_getProperty("buffered");return 0===t.length?(0,h.createTimeRange)():(0,h.createTimeRange)(t[0][0],t[0][1])},n.prototype.supportsFullScreen=function(){return!1},n.prototype.enterFullScreen=function(){return!1},n.prototype.getVideoPlaybackQuality=function(){var t=this.Mjt.vjs_getProperty("getVideoPlaybackQuality");return g.window.performance&&"function"==typeof g.window.performance.now?t.creationTime=g.window.performance.now():g.window.performance&&g.window.performance.timing&&"number"==typeof g.window.performance.timing.navigationStart&&(t.creationTime=g.window.Date.now()-g.window.performance.timing.navigationStart),t},n}(r.default),b=k.prototype,A="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),T="networkState,readyState,initialTime,startOffsetTime,paused,ended,videoWidth,videoHeight".split(",");function S(t){var n=t.charAt(0).toUpperCase()+t.slice(1);b["set"+n]=function(n){return this.Mjt.vjs_setProperty(t,n)}}function E(t){b[t]=function(){return this.Mjt.vjs_getProperty(t)}}for(var I=0;I<A.length;I++)E(A[I]),S(A[I]);for(var R=0;R<T.length;R++)E(T[R]);k.isSupported=function(){return k.version()[0]>=10},r.default.withSourceHandlers(k),k.nativeSourceHandler={},k.nativeSourceHandler.canPlayType=function(t){return t in k.formats?"maybe":""},k.nativeSourceHandler.canHandleSource=function(t,n){var i,e,r=void 0;return r=t.type?t.type.replace(/;.*/,"").toLowerCase():(i=t.src,(e=a.getFileExtension(i))?"video/"+e:""),k.nativeSourceHandler.canPlayType(r)},k.nativeSourceHandler.handleSource=function(t,n,i){n.setSrc(t.src)},k.nativeSourceHandler.dispose=function(){},k.registerSourceHandler(k.nativeSourceHandler),k.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},k.onReady=function(t){var n=u.getEl(t),i=n&&n.tech;i&&i.el()&&k.checkReady(i)},k.checkReady=function(t){t.el()&&(t.el().vjs_getProperty?t.triggerReady():this.setTimeout(function(){k.checkReady(t)},50))},k.onEvent=function(t,n){var i=u.getEl(t).tech,e=Array.prototype.slice.call(arguments,2);i.setTimeout(function(){i.trigger(n,e)},1)},k.onError=function(t,n){var i=u.getEl(t).tech;if("srcnotfound"===n)return i.error(4);i.error("FLASH: "+n)},k.version=function(){var t="0,0,0";try{t=new g.window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(n){try{p.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(t=(p.plugins["Shockwave Flash 2.0"]||p.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(t){}}return t.split(",")},k.embed=function(t,n,i,e){var r=k.getEmbedCode(t,n,i,e),s=u.createEl("div",{innerHTML:r}).childNodes[0];return s},k.getEmbedCode=function(t,n,i,e){var r="",s="",u="";return n&&w.getOwnPropertyNames(n).forEach(function(t){r+=t+"="+n[t]+"&amp;"}),i=(0,_.assign)({movie:t,flashvars:r,allowScriptAccess:"always",allowNetworking:"all"},i),w.getOwnPropertyNames(i).forEach(function(t){s+='<param name="'+t+'" value="'+i[t]+'" />'}),e=(0,_.assign)({data:t,width:"100%",height:"100%"},e),w.getOwnPropertyNames(e).forEach(function(t){u+=t+'="'+e[t]+'" '}),'<object type="application/x-shockwave-flash" '+u+">"+s+"</object>"},(0,f.default)(k),d.default.registerComponent("Flash",k),r.default.registerTech("Flash",k),i.default=k},{5:5,58:58,62:62,81:81,85:85,89:89,91:91,93:93}],60:[function(t,n,i){i.__esModule=!0;var e,r=((e=["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]).raw=["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],e),s=t(62),u=D(s),o=t(5),a=D(o),h=t(81),c=N(h),f=t(93),l=N(f),d=t(83),g=N(d),_=t(87),y=D(_),m=t(121),p=D(m),k=t(78),b=N(k),A=t(85),T=t(89),S=t(88),E=D(S),I=t(92),R=D(I);function N(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function D(t){return t&&t.__esModule?t:{default:t}}var C=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e)),u=i.source,o=!1;if(u&&(s.Mjt.currentSrc!==u.src||i.tag&&3===i.tag.IHt)?s.setSource(u):s._Xt(s.Mjt),s.Mjt.hasChildNodes()){for(var a=s.Mjt.childNodes,h=a.length,c=[];h--;){var f=a[h],d=f.nodeName.toLowerCase();"track"===d&&(s.featuresNativeTextTracks?(s.remoteTextTrackEls().yXt(f),s.remoteTextTracks().zg(f.track),o||s.Mjt.hasAttribute("crossorigin")||!l.isCrossOrigin(f.src)||(o=!0)):c.push(f))}for(var w=0;w<c.length;w++)s.Mjt.removeChild(c[w])}return["audio","video"].forEach(function(t){var n=s.el()[t+"Tracks"],i=s[t+"Tracks"](),e=(0,R.default)(t);s["featuresNative"+e+"Tracks"]&&n&&n.addEventListener&&(s["handle"+e+"mXt"]=function(t){i.trigger({type:"change",target:i,currentTarget:i,srcElement:i})},s["handle"+e+"pXt"]=function(t){return i.addTrack(t.track)},s["handle"+e+"kXt"]=function(t){return i.removeTrack(t.track)},n.addEventListener("change",s["handle"+e+"mXt"]),n.addEventListener("addtrack",s["handle"+e+"pXt"]),n.addEventListener("removetrack",s["handle"+e+"kXt"]),s["removeOld"+e+"bXt"]=function(t){return s.AXt(i,n)},s.on("loadstart",s["removeOld"+e+"bXt"]))}),s.featuresNativeTextTracks&&(o&&y.default.warn((0,p.default)(r)),s.TXt=g.bind(s,s.handleTextTrackChange),s.SXt=g.bind(s,s.handleTextTrackAdd),s.EXt=g.bind(s,s.handleTextTrackRemove),s.IXt()),s.RXt(),(b.TOUCH_ENABLED||b.IS_IPHONE||b.IS_NATIVE_ANDROID)&&!0===i.nativeControlsForTouch&&s.setControls(!0),s.NXt(),s.triggerReady(),s}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.dispose=function(){var i=this;["audio","video","text"].forEach(function(t){var n=(0,R.default)(t),e=i.Mjt[t+"Tracks"];e&&e.removeEventListener&&(e.removeEventListener("change",i["handle"+n+"mXt"]),e.removeEventListener("addtrack",i["handle"+n+"pXt"]),e.removeEventListener("removetrack",i["handle"+n+"kXt"])),e&&i.off("loadstart",i["removeOld"+n+"bXt"])}),n.disposeMediaElement(this.Mjt),t.prototype.dispose.call(this)},n.prototype.RXt=function(){var t=this.textTracks(),n=void 0,i=function(){n=[];for(var i=0;i<t.length;i++){var e=t[i];"metadata"===e.kind&&n.push({track:e,storedMode:e.mode})}};i(),t.addEventListener("change",i);var e=function i(){for(var e=0;e<n.length;e++){var r=n[e];"disabled"===r.track.mode&&r.track.mode!==r.storedMode&&(r.track.mode=r.storedMode)}t.removeEventListener("change",i)};this.on("webkitbeginfullscreen",function(){t.removeEventListener("change",i),t.removeEventListener("change",e),t.addEventListener("change",e)}),this.on("webkitendfullscreen",function(){t.removeEventListener("change",i),t.addEventListener("change",i),t.removeEventListener("change",e)})},n.prototype.createEl=function(){var t=this.jjt.tag;if(!t||!this.jjt.playerElIngest&&!this.movingMediaElementInDOM){if(t){var i=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(i,t),n.disposeMediaElement(t),t=i}else{t=A.document.createElement("video");var e=this.jjt.tag&&c.getElAttributes(this.jjt.tag),r=(0,E.default)({},e);b.TOUCH_ENABLED&&!0===this.jjt.nativeControlsForTouch||delete r.controls,c.setElAttributes(t,(0,T.assign)(r,{id:this.jjt.techId,class:"vjs-tech"}))}t.playerId=this.jjt.playerId}void 0!==this.jjt.preload&&c.setAttribute(t,"preload",this.jjt.preload);for(var s=["loop","muted","playsinline","autoplay"],u=s.length-1;u>=0;u--){var o=s[u],a=this.jjt[o];void 0!==a&&(a?c.setAttribute(t,o,o):c.removeAttribute(t,o),t[o]=a)}return t},n.prototype._Xt=function(t){if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){var n=!1,i=function(){n=!0};this.on("loadstart",i);var e=function(){n||this.trigger("loadstart")};return this.on("loadedmetadata",e),void this.ready(function(){this.off("loadstart",i),this.off("loadedmetadata",e),n||this.trigger("loadstart")})}var r=["loadstart"];r.push("loadedmetadata"),t.readyState>=2&&r.push("loadeddata"),t.readyState>=3&&r.push("canplay"),t.readyState>=4&&r.push("canplaythrough"),this.ready(function(){r.forEach(function(t){this.trigger(t)},this)})}},n.prototype.IXt=function(){var t=this.el().textTracks;if(t){for(var n=0;n<t.length;n++)this.textTracks().zg(t[n]);t.addEventListener&&(t.addEventListener("change",this.TXt),t.addEventListener("addtrack",this.SXt),t.addEventListener("removetrack",this.EXt)),this.on("loadstart",this.DXt)}},n.prototype.handleTextTrackChange=function(t){var n=this.textTracks();this.textTracks().trigger({type:"change",target:n,currentTarget:n,srcElement:n})},n.prototype.handleTextTrackAdd=function(t){this.textTracks().zg(t.track)},n.prototype.handleTextTrackRemove=function(t){this.textTracks().Wg(t.track)},n.prototype.AXt=function(t,n){var i=[];if(n){for(var e=0;e<t.length;e++){for(var r=t[e],s=!1,u=0;u<n.length;u++)if(n[u]===r){s=!0;break}s||i.push(r)}for(var o=0;o<i.length;o++){var a=i[o];t.Wg(a)}}},n.prototype.DXt=function(t){var n=this.textTracks(),i=this.el().textTracks;this.AXt(n,i)},n.prototype.play=function(){var t=this.Mjt.play();void 0!==t&&"function"==typeof t.then&&t.then(null,function(t){})},n.prototype.setCurrentTime=function(t){try{this.Mjt.currentTime=t}catch(t){(0,y.default)(t,"Video is not ready. (Video.js)")}},n.prototype.duration=function(){var t=this;return this.Mjt.duration===1/0&&b.IS_ANDROID&&b.IS_CHROME&&0===this.Mjt.currentTime?(this.on("timeupdate",function n(){t.Mjt.currentTime>0&&(t.Mjt.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",n))}),NaN):this.Mjt.duration||NaN},n.prototype.width=function(){return this.Mjt.offsetWidth},n.prototype.height=function(){return this.Mjt.offsetHeight},n.prototype.NXt=function(){var t=this;if("webkitDisplayingFullscreen"in this.Mjt){var n=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},i=function(){"webkitPresentationMode"in this.Mjt&&"picture-in-picture"!==this.Mjt.webkitPresentationMode&&(this.one("webkitendfullscreen",n),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",i),this.on("dispose",function(){t.off("webkitbeginfullscreen",i),t.off("webkitendfullscreen",n)})}},n.prototype.supportsFullScreen=function(){if("function"==typeof this.Mjt.webkitEnterFullScreen){var t=A.window.navigator&&A.window.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},n.prototype.enterFullScreen=function(){var t=this.Mjt;t.paused&&t.networkState<=t.HAVE_METADATA?(this.Mjt.play(),this.setTimeout(function(){t.pause(),t.webkitEnterFullScreen()},0)):t.webkitEnterFullScreen()},n.prototype.exitFullScreen=function(){this.Mjt.webkitExitFullScreen()},n.prototype.src=function(t){if(void 0===t)return this.Mjt.src;this.setSrc(t)},n.prototype.reset=function(){n.resetMediaElement(this.Mjt)},n.prototype.currentSrc=function(){return this.pm?this.pm.src:this.Mjt.currentSrc},n.prototype.setControls=function(t){this.Mjt.controls=!!t},n.prototype.addTextTrack=function(n,i,e){return this.featuresNativeTextTracks?this.Mjt.addTextTrack(n,i,e):t.prototype.addTextTrack.call(this,n,i,e)},n.prototype.createRemoteTextTrack=function(n){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,n);var i=A.document.createElement("track");return n.kind&&(i.kind=n.kind),n.label&&(i.label=n.label),(n.language||n.srclang)&&(i.srclang=n.language||n.srclang),n.default&&(i.default=n.default),n.id&&(i.id=n.id),n.src&&(i.src=n.src),i},n.prototype.addRemoteTextTrack=function(n,i){var e=t.prototype.addRemoteTextTrack.call(this,n,i);return this.featuresNativeTextTracks&&this.el().appendChild(e),e},n.prototype.removeRemoteTextTrack=function(n){if(t.prototype.removeRemoteTextTrack.call(this,n),this.featuresNativeTextTracks)for(var i=this.$$("track"),e=i.length;e--;)n!==i[e]&&n!==i[e].track||this.el().removeChild(i[e])},n.prototype.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var t={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),A.window.performance&&"function"==typeof A.window.performance.now?t.creationTime=A.window.performance.now():A.window.performance&&A.window.performance.timing&&"number"==typeof A.window.performance.timing.navigationStart&&(t.creationTime=A.window.Date.now()-A.window.performance.timing.navigationStart),t},n}(u.default);if(c.isReal()){C.TEST_VID=A.document.createElement("video");var P=A.document.createElement("track");P.kind="captions",P.srclang="en",P.label="English",C.TEST_VID.appendChild(P)}C.isSupported=function(){try{C.TEST_VID.volume=.5}catch(t){return!1}return!(!C.TEST_VID||!C.TEST_VID.canPlayType)},C.canControlVolume=function(){try{var t=C.TEST_VID.volume;return C.TEST_VID.volume=t/2+.1,t!==C.TEST_VID.volume}catch(t){return!1}},C.canControlPlaybackRate=function(){if(b.IS_ANDROID&&b.IS_CHROME&&b.CHROME_VERSION<58)return!1;try{var t=C.TEST_VID.playbackRate;return C.TEST_VID.playbackRate=t/2+.1,t!==C.TEST_VID.playbackRate}catch(t){return!1}},C.supportsNativeTextTracks=function(){return b.IS_ANY_SAFARI},C.supportsNativeVideoTracks=function(){return!(!C.TEST_VID||!C.TEST_VID.videoTracks)},C.supportsNativeAudioTracks=function(){return!(!C.TEST_VID||!C.TEST_VID.audioTracks)},C.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange"],C.prototype.featuresVolumeControl=C.canControlVolume(),C.prototype.featuresPlaybackRate=C.canControlPlaybackRate(),C.prototype.movingMediaElementInDOM=!b.IS_IOS,C.prototype.featuresFullscreenResize=!0,C.prototype.featuresProgressEvents=!0,C.prototype.featuresTimeupdateEvents=!0,C.prototype.featuresNativeTextTracks=C.supportsNativeTextTracks(),C.prototype.featuresNativeVideoTracks=C.supportsNativeVideoTracks(),C.prototype.featuresNativeAudioTracks=C.supportsNativeAudioTracks();var O=C.TEST_VID&&C.TEST_VID.constructor.prototype.canPlayType,x=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,B=/^video\/mp4/i;C.patchCanPlayType=function(){b.ANDROID_VERSION>=4&&!b.IS_FIREFOX?C.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&x.test(t)?"maybe":O.call(this,t)}:b.IS_OLD_ANDROID&&(C.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&B.test(t)?"maybe":O.call(this,t)})},C.unpatchCanPlayType=function(){var t=C.TEST_VID.constructor.prototype.canPlayType;return C.TEST_VID.constructor.prototype.canPlayType=O,t},C.patchCanPlayType(),C.disposeMediaElement=function(t){if(t){var n=t.nodeName.toLowerCase();if("video"===n||"audio"===n){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}}},C.resetMediaElement=function(t){if(t){for(var n=t.querySelectorAll("source"),i=n.length;i--;)t.removeChild(n[i]);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){C.prototype[t]=function(){return this.Mjt[t]||this.Mjt.hasAttribute(t)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){C.prototype["set"+(0,R.default)(t)]=function(n){this.Mjt[t]=n,n?this.Mjt.setAttribute(t,t):this.Mjt.removeAttribute(t)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(t){C.prototype[t]=function(){return this.Mjt[t]}}),["volume","src","poster","preload","playbackRate"].forEach(function(t){C.prototype["set"+(0,R.default)(t)]=function(n){this.Mjt[t]=n}}),["pause","load"].forEach(function(t){C.prototype[t]=function(){return this.Mjt[t]()}}),u.default.withSourceHandlers(C),C.nativeSourceHandler={},C.nativeSourceHandler.canPlayType=function(t){try{return C.TEST_VID.canPlayType(t)}catch(t){return""}},C.nativeSourceHandler.canHandleSource=function(t,n){if(t.type)return C.nativeSourceHandler.canPlayType(t.type);if(t.src){var i=l.getFileExtension(t.src);return C.nativeSourceHandler.canPlayType("video/"+i)}return""},C.nativeSourceHandler.handleSource=function(t,n,i){n.setSrc(t.src)},C.nativeSourceHandler.dispose=function(){},C.registerSourceHandler(C.nativeSourceHandler),a.default.registerComponent("Html5",C),u.default.registerTech("Html5",C),i.default=C},{121:121,5:5,62:62,78:78,81:81,83:83,85:85,87:87,88:88,89:89,92:92,93:93}],61:[function(t,n,i){i.__esModule=!0;var e=t(5),r=h(e),s=t(62),u=h(s),o=t(92),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e,s){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var o=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,s));if(e.playerOptions.sources&&0!==e.playerOptions.sources.length)i.src(e.playerOptions.sources);else for(var h=0,c=e.playerOptions.techOrder;h<c.length;h++){var f=(0,a.default)(c[h]),l=u.default.getTech(f);if(f||(l=r.default.getComponent(f)),l&&l.isSupported()){i.CHt(f);break}}return o}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(r.default);r.default.registerComponent("MediaLoader",c),i.default=c},{5:5,62:62,92:92}],62:[function(t,n,i){i.__esModule=!0;var e=t(5),r=P(e),s=t(66),u=P(s),o=t(65),a=P(o),h=t(88),c=P(h),f=t(72),d=P(f),g=t(70),_=P(g),y=t(76),m=P(y),p=t(63),k=P(p),b=t(83),A=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(b),T=t(87),S=P(T),E=t(91),I=t(79),R=t(46),N=P(R),D=t(85),C=t(89);function P(t){return t&&t.__esModule?t:{default:t}}var O=function(t){function n(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),i.reportTouchActivity=!1;var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,null,i,e));return r.hXt=!1,r.on("playing",function(){this.hXt=!0}),r.on("loadstart",function(){this.hXt=!1}),r.$y=i.textTracks,r.qy=i.videoTracks,r.Gy=i.audioTracks,r.featuresProgressEvents||r.manualProgressOn(),r.featuresTimeupdateEvents||r.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(t){!1===i["native"+t+"Tracks"]&&(r["featuresNative"+t+"Tracks"]=!1)}),!1===i.nativeCaptions&&(r.featuresNativeTextTracks=!1),r.featuresNativeTextTracks||r.emulateTextTracks(),r.CXt=new _.default,r.initTextTrackListeners(),r.initTrackListeners(),i.nativeControlsForTouch||r.emitTapEvents(),r.constructor&&(r.gi=r.constructor.name||"Unknown Tech"),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},n.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},n.prototype.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(A.bind(this,function(){var t=this.bufferedPercent();this.PXt!==t&&this.trigger("progress"),this.PXt=t,1===t&&this.stopTrackingProgress()}),500)},n.prototype.onDurationChange=function(t){this.uy=this.duration()},n.prototype.buffered=function(){return(0,E.createTimeRange)(0,0)},n.prototype.bufferedPercent=function(){return(0,I.bufferedPercent)(this.buffered(),this.uy)},n.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},n.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},n.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},n.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},n.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.prototype.dispose=function(){this.clearTracks(["audio","video","text"]),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},n.prototype.clearTracks=function(t){var n=this;(t=[].concat(t)).forEach(function(t){for(var i=n[t+"Tracks"]()||[],e=i.length;e--;){var r=i[e];"text"===t&&n.removeRemoteTextTrack(r),i.Wg(r)}})},n.prototype.cleanupAutoTextTracks=function(){for(var t=this.CXt||[],n=t.length;n--;){var i=t[n];this.removeRemoteTextTrack(i)}},n.prototype.reset=function(){},n.prototype.error=function(t){return void 0!==t&&(this.Au=new N.default(t),this.trigger("error")),this.Au},n.prototype.played=function(){return this.hXt?(0,E.createTimeRange)(0,0):(0,E.createTimeRange)()},n.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.prototype.initTextTrackListeners=function(){var t=A.bind(this,function(){this.trigger("texttrackchange")}),n=this.textTracks();n&&(n.addEventListener("removetrack",t),n.addEventListener("addtrack",t),this.on("dispose",A.bind(this,function(){n.removeEventListener("removetrack",t),n.removeEventListener("addtrack",t)})))},n.prototype.initTrackListeners=function(){var t=this;["video","audio"].forEach(function(n){var i=function(){t.trigger(n+"trackchange")},e=t[n+"Tracks"]();e.addEventListener("removetrack",i),e.addEventListener("addtrack",i),t.on("dispose",function(){e.removeEventListener("removetrack",i),e.removeEventListener("addtrack",i)})})},n.prototype.OXt=function(){var t=this;if(!D.window.WebVTT)if(D.document.body.contains(this.el())){var n={};if(!this.jjt["vtt.js"]&&(0,C.isPlain)(n)&&w.keys(n).length>0)return void this.trigger("vttjsloaded");var i=D.document.createElement("script");i.src=this.jjt["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js",i.onload=function(){t.trigger("vttjsloaded")},i.onerror=function(){t.trigger("vttjserror")},this.on("dispose",function(){i.onload=null,i.onerror=null}),D.window.WebVTT=!0,this.el().parentNode.appendChild(i)}else this.ready(this.OXt)},n.prototype.emulateTextTracks=function(){var t=this,n=this.textTracks();if(n){var i=this.remoteTextTracks(),e=function(t){return n.zg(t.track)},r=function(t){return n.Wg(t.track)};i.on("addtrack",e),i.on("removetrack",r),this.OXt();var s=function(){return t.trigger("texttrackchange")},u=function(){s();for(var t=0;t<n.length;t++){var i=n[t];i.removeEventListener("cuechange",s),"showing"===i.mode&&i.addEventListener("cuechange",s)}};u(),n.addEventListener("change",u),n.addEventListener("addtrack",u),n.addEventListener("removetrack",u),this.on("dispose",function(){i.off("addtrack",e),i.off("removetrack",r),n.removeEventListener("change",u),n.removeEventListener("addtrack",u),n.removeEventListener("removetrack",u);for(var t=0;t<n.length;t++){var o=n[t];o.removeEventListener("cuechange",s)}})}},n.prototype.videoTracks=function(){return this.qy=this.qy||new m.default,this.qy},n.prototype.audioTracks=function(){return this.Gy=this.Gy||new k.default,this.Gy},n.prototype.textTracks=function(){return this.$y=this.$y||new _.default,this.$y},n.prototype.remoteTextTracks=function(){return this.xXt=this.xXt||new _.default,this.xXt},n.prototype.remoteTextTrackEls=function(){return this.BXt=this.BXt||new a.default,this.BXt},n.prototype.addTextTrack=function(t,n,i){if(!t)throw new l("TextTrack kind is required but was not provided");return function(t,n,i,e){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=t.textTracks();r.kind=n,i&&(r.label=i),e&&(r.language=e),r.tech=t;var u=new d.default(r);return s.zg(u),u}(this,t,n,i)},n.prototype.createRemoteTextTrack=function(t){var n=(0,c.default)(t,{tech:this});return new u.default(n)},n.prototype.addRemoteTextTrack=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],i=this.createRemoteTextTrack(t);return!0!==n&&!1!==n&&(S.default.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),n=!0),this.remoteTextTrackEls().yXt(i),this.remoteTextTracks().zg(i.track),!0!==n&&this.CXt.zg(i.track),i},n.prototype.removeRemoteTextTrack=function(t){var n=this.remoteTextTrackEls().sHt(t);this.remoteTextTrackEls().LXt(n),this.remoteTextTracks().Wg(t),this.CXt.Wg(t)},n.prototype.getVideoPlaybackQuality=function(){return{}},n.prototype.setPoster=function(){},n.prototype.playsinline=function(){},n.prototype.setPlaysinline=function(){},n.prototype.canPlayType=function(){return""},n.isTech=function(t){return t.prototype instanceof n||t instanceof n||t===n},n.registerTech=function(t,i){if(n.MXt||(n.MXt={}),!n.isTech(i))throw new l("Tech "+t+" must be a Tech");return n.MXt[t]=i,i},n.getTech=function(t){return n.MXt&&n.MXt[t]?n.MXt[t]:D.window&&D.window.videojs&&D.window.videojs[t]?(S.default.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),D.window.videojs[t]):void 0},n}(r.default);O.prototype.$y,O.prototype.Gy,O.prototype.qy,O.prototype.featuresVolumeControl=!0,O.prototype.featuresFullscreenResize=!1,O.prototype.featuresPlaybackRate=!1,O.prototype.featuresProgressEvents=!1,O.prototype.featuresTimeupdateEvents=!1,O.prototype.featuresNativeTextTracks=!1,O.withSourceHandlers=function(t){t.registerSourceHandler=function(n,i){var e=t.sourceHandlers;e||(e=t.sourceHandlers=[]),void 0===i&&(i=e.length),e.splice(i,0,n)},t.canPlayType=function(n){for(var i=t.sourceHandlers||[],e=void 0,r=0;r<i.length;r++)if(e=i[r].canPlayType(n))return e;return""},t.selectSourceHandler=function(n,i){for(var e=t.sourceHandlers||[],r=0;r<e.length;r++)if(e[r].canHandleSource(n,i))return e[r];return null},t.canPlaySource=function(n,i){var e=t.selectSourceHandler(n,i);return e?e.canHandleSource(n,i):""},["seekable","duration"].forEach(function(t){var n=this[t];"function"==typeof n&&(this[t]=function(){return this.FXt&&this.FXt[t]?this.FXt[t].apply(this.FXt,arguments):n.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(n){var i=t.selectSourceHandler(n,this.jjt);return i||(t.nativeSourceHandler?i=t.nativeSourceHandler:S.default.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),i!==t.nativeSourceHandler&&(this.pm=n,this.off(this.Mjt,"loadstart",t.prototype.UXt),this.off(this.Mjt,"loadstart",t.prototype.jXt),this.one(this.Mjt,"loadstart",t.prototype.UXt)),this.FXt=i.handleSource(n,this,this.jjt),this.on("dispose",this.disposeSourceHandler),this},t.prototype.UXt=function(){this.one(this.Mjt,"loadstart",t.prototype.jXt)},t.prototype.jXt=function(){this.disposeSourceHandler(),this.one(this.Mjt,"loadstart",t.prototype.jXt)},t.prototype.disposeSourceHandler=function(){this.pm&&(this.clearTracks(["audio","video"]),this.pm=null),this.cleanupAutoTextTracks(),this.FXt&&(this.off(this.Mjt,"loadstart",t.prototype.UXt),this.off(this.Mjt,"loadstart",t.prototype.jXt),this.FXt.dispose&&this.FXt.dispose(),this.FXt=null)}},r.default.registerComponent("Tech",O),r.default.registerComponent("MediaTechController",O),O.registerTech("Tech",O),i.default=O},{46:46,5:5,63:63,65:65,66:66,70:70,72:72,76:76,79:79,83:83,85:85,87:87,88:88,89:89,91:91}],63:[function(t,n,i){i.__esModule=!0;var e,r=t(74),s=(e=r)&&e.__esModule?e:{default:e},u=t(78),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(85);function h(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var c=function(t,n){for(var i=0;i<t.length;i++)n.id!==t[i].id&&(t[i].enabled=!1)},f=function(t){function n(){var i,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);for(var r=void 0,u=e.length-1;u>=0;u--)if(e[u].enabled){c(e,e[u]);break}if(o.IS_IE8){for(var f in r=a.document.createElement("custom"),s.default.prototype)"constructor"!==f&&(r[f]=s.default.prototype[f]);for(var l in n.prototype)"constructor"!==l&&(r[l]=n.prototype[l])}return i=h(this,t.call(this,e,r)),(r=i).HXt=!1,h(i,r)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.zg=function(n){var i=this;n.enabled&&c(this,n),t.prototype.zg.call(this,n),n.addEventListener&&n.addEventListener("enabledchange",function(){i.HXt||(i.HXt=!0,c(i,n),i.HXt=!1,i.trigger("change"))})},n.prototype.addTrack=function(t){this.zg(t)},n.prototype.removeTrack=function(n){t.prototype.Wg.call(this,n)},n}(s.default);i.default=f},{74:74,78:78,85:85}],64:[function(t,n,i){i.__esModule=!0;var e=t(73),r=t(75),s=c(r),u=t(88),o=c(u),a=t(78),h=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(a);function c(t){return t&&t.__esModule?t:{default:t}}function f(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var l=function(t){function n(){var i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=(0,o.default)(r,{kind:e.AudioTrackKind[r.kind]||""}),u=i=f(this,t.call(this,s)),a=!1;if(h.IS_IE8)for(var c in n.prototype)"constructor"!==c&&(u[c]=n.prototype[c]);return w.defineProperty(u,"enabled",{get:function(){return a},set:function(t){"boolean"==typeof t&&t!==a&&(a=t,this.trigger("enabledchange"))}}),s.enabled&&(u.enabled=s.enabled),u.Opt=!0,f(i,u)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(s.default);i.default=l},{73:73,75:75,78:78,88:88}],65:[function(t,n,i){i.__esModule=!0;var e=t(78),r=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(e),s=t(85),u=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,t);var i=this;if(r.IS_IE8)for(var e in i=s.document.createElement("custom"),t.prototype)"constructor"!==e&&(i[e]=t.prototype[e]);i.XXt=[],w.defineProperty(i,"length",{get:function(){return this.XXt.length}});for(var u=0,o=n.length;u<o;u++)i.yXt(n[u]);if(r.IS_IE8)return i}return t.prototype.yXt=function(t){var n=this.XXt.length;""+n in this||w.defineProperty(this,n,{get:function(){return this.XXt[n]}}),-1===this.XXt.indexOf(t)&&this.XXt.push(t)},t.prototype.sHt=function(t){for(var n=void 0,i=0,e=this.XXt.length;i<e;i++)if(t===this.XXt[i].track){n=this.XXt[i];break}return n},t.prototype.LXt=function(t){for(var n=0,i=this.XXt.length;n<i;n++)if(t===this.XXt[n]){this.XXt.splice(n,1);break}},t}();i.default=u},{78:78,85:85}],66:[function(t,n,i){i.__esModule=!0;var e=t(78),r=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(e),s=t(85),u=t(42),o=c(u),a=t(72),h=c(a);function c(t){return t&&t.__esModule?t:{default:t}}function f(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var l=0,d=2,g=function(t){function n(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var e=f(this,t.call(this)),u=void 0,o=e;if(r.IS_IE8)for(var a in o=s.document.createElement("custom"),n.prototype)"constructor"!==a&&(o[a]=n.prototype[a]);var c=new h.default(i);return o.kind=c.kind,o.src=c.src,o.srclang=c.language,o.label=c.label,o.default=c.default,w.defineProperty(o,"readyState",{get:function(){return u}}),w.defineProperty(o,"track",{get:function(){return c}}),u=l,c.addEventListener("loadeddata",function(){u=d,o.trigger({type:"load",target:o})}),r.IS_IE8?f(e,o):e}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(o.default);g.prototype.oHt={load:"load"},g.NONE=l,g.LOADING=1,g.LOADED=d,g.ERROR=3,i.default=g},{42:42,72:72,78:78,85:85}],67:[function(t,n,i){i.__esModule=!0;var e=t(78),r=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(e),s=t(85),u=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,t);var i=this;if(r.IS_IE8)for(var e in i=s.document.createElement("custom"),t.prototype)"constructor"!==e&&(i[e]=t.prototype[e]);if(t.prototype.VXt.call(i,n),w.defineProperty(i,"length",{get:function(){return this.$g}}),r.IS_IE8)return i}return t.prototype.VXt=function(t){var n=this.length||0,i=0,e=t.length;this.p_=t,this.$g=t.length;var r=function(t){""+t in this||w.defineProperty(this,""+t,{get:function(){return this.p_[t]}})};if(n<e)for(i=n;i<e;i++)r.call(this,i)},t.prototype.getCueById=function(t){for(var n=null,i=0,e=this.length;i<e;i++){var r=this[i];if(r.id===t){n=r;break}}return n},t}();i.default=u},{78:78,85:85}],68:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=t(83),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(85),h={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function c(t,n){return"rgba("+_(t[1]+t[1],16)+","+_(t[2]+t[2],16)+","+_(t[3]+t[3],16)+","+n+")"}function f(t,n,i){try{t.style[n]=i}catch(t){return}}var l=function(t){function n(i,e,r){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,r));return i.on("loadstart",o.bind(s,s.toggleDisplay)),i.on("texttrackchange",o.bind(s,s.updateDisplay)),i.ready(o.bind(s,function(){if(i.Qjt&&i.Qjt.featuresNativeTextTracks)this.hide();else{i.on("fullscreenchange",o.bind(this,this.updateDisplay));for(var t=this.jjt.playerOptions.tracks||[],n=0;n<t.length;n++)this.RD.addRemoteTextTrack(t[n],!0);var e={captions:1,subtitles:1},r=this.RD.textTracks(),s=void 0,u=void 0;if(r){for(var a=0;a<r.length;a++){var h=r[a];h.default&&("descriptions"!==h.kind||s?h.kind in e&&!u&&(u=h):s=h)}u?u.mode="showing":s&&(s.mode="showing")}}})),s}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.toggleDisplay=function(){this.RD.Qjt&&this.RD.Qjt.featuresNativeTextTracks?this.hide():this.show()},n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},n.prototype.clearDisplay=function(){"function"==typeof a.window.WebVTT&&a.window.WebVTT.processCues(a.window,[],this.Mjt)},n.prototype.updateDisplay=function(){var t=this.RD.textTracks();if(this.clearDisplay(),t){for(var n=null,i=null,e=t.length;e--;){var r=t[e];"showing"===r.mode&&("descriptions"===r.kind?n=r:i=r)}i?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(i)):n&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(n))}},n.prototype.updateForTrack=function(t){if("function"==typeof a.window.WebVTT&&t.activeCues){for(var n=this.RD.textTrackSettings.getValues(),i=[],e=0;e<t.activeCues.length;e++)i.push(t.activeCues[e]);a.window.WebVTT.processCues(a.window,i,this.Mjt);for(var r=i.length;r--;){var s=i[r];if(s){var u=s.displayState;if(n.color&&(u.firstChild.style.color=n.color),n.textOpacity&&f(u.firstChild,"color",c(n.color||"#fff",n.textOpacity)),n.backgroundColor&&(u.firstChild.style.backgroundColor=n.backgroundColor),n.backgroundOpacity&&f(u.firstChild,"backgroundColor",c(n.backgroundColor||"#000",n.backgroundOpacity)),n.windowColor&&(n.windowOpacity?f(u,"backgroundColor",c(n.windowColor,n.windowOpacity)):u.style.backgroundColor=n.windowColor),n.edgeStyle&&("dropshadow"===n.edgeStyle?u.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===n.edgeStyle?u.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===n.edgeStyle?u.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===n.edgeStyle&&(u.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),n.fontPercent&&1!==n.fontPercent){var o=a.window.parseFloat(u.style.fontSize);u.style.fontSize=o*n.fontPercent+"px",u.style.height="auto",u.style.top="auto",u.style.bottom="2px"}n.fontFamily&&"default"!==n.fontFamily&&("small-caps"===n.fontFamily?u.firstChild.style.fontVariant="small-caps":u.firstChild.style.fontFamily=h[n.fontFamily])}}}},n}(s.default);s.default.registerComponent("TextTrackDisplay",l),i.default=l},{5:5,83:83,85:85}],69:[function(t,n,i){i.__esModule=!0;var e=function(t){var n=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(n,i,e){return t[i]&&(n[i]=t[i]),n},{cues:t.cues&&Array.prototype.map.call(t.cues,function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}})});return n};i.default={textTracksToJson:function(t){var n=t.$$("track"),i=Array.prototype.map.call(n,function(t){return t.track});return Array.prototype.map.call(n,function(t){var n=e(t.track);return t.src&&(n.src=t.src),n}).concat(Array.prototype.filter.call(t.textTracks(),function(t){return-1===i.indexOf(t)}).map(e))},jsonToTextTracks:function(t,n){return t.forEach(function(t){var i=n.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach(function(t){return i.addCue(t)})}),n.textTracks()},zXt:e}},{}],70:[function(t,n,i){i.__esModule=!0;var e,r=t(74),s=(e=r)&&e.__esModule?e:{default:e},u=t(83),o=f(u),a=t(78),h=f(a),c=t(85);function f(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function l(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var d=function(t){function n(){var i,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=void 0;if(h.IS_IE8){for(var u in r=c.document.createElement("custom"),s.default.prototype)"constructor"!==u&&(r[u]=s.default.prototype[u]);for(var o in n.prototype)"constructor"!==o&&(r[o]=n.prototype[o])}return i=l(this,t.call(this,e,r)),l(i,r=i)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.zg=function(n){t.prototype.zg.call(this,n),n.addEventListener("modechange",o.bind(this,function(){this.trigger("change")}))},n}(s.default);i.default=d},{74:74,78:78,83:83,85:85}],71:[function(t,n,i){i.__esModule=!0;var e=t(85),r=t(5),s=g(r),u=t(81),o=t(83),a=d(o),h=t(89),c=d(h),f=t(87),l=g(f);function d(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function g(t){return t&&t.__esModule?t:{default:t}}var _=["#000","Black"],y=["#00F","Blue"],m=["#0FF","Cyan"],p=["#0F0","Green"],k=["#F0F","Magenta"],b=["#F00","Red"],A=["#FFF","White"],T=["#FF0","Yellow"],S=["1","Opaque"],E=["0.5","Semi-Transparent"],I=["0","Transparent"],R={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[_,A,b,p,y,T,k,m]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[S,E,I]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[A,_,b,p,y,T,k,m]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[S,E]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[I,E,S]}};function N(t,n){if(n&&(t=n(t)),t&&"none"!==t)return t}R.windowColor.options=R.backgroundColor.options;var D=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.setDefaults(),r.hide(),r.updateDisplay=a.bind(r,r.updateDisplay),void 0===e.persistTextTrackSettings&&(r.jjt.persistTextTrackSettings=r.jjt.playerOptions.persistTextTrackSettings),r.on(r.$(".vjs-done-button"),"click",function(){r.saveSettings(),r.hide()}),r.on(r.$(".vjs-default-button"),"click",function(){r.setDefaults(),r.updateDisplay()}),c.each(R,function(t){r.on(r.$(t.selector),"change",r.updateDisplay)}),r.jjt.persistTextTrackSettings&&r.restoreSettings(),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.WXt=function(t){var n=this,i=R[t],e=i.id.replace("%s",this.r_);return[(0,u.createEl)("label",{className:"vjs-label",textContent:i.label},{for:e}),(0,u.createEl)("select",{id:e},void 0,i.options.map(function(t){return(0,u.createEl)("option",{textContent:n.localize(t[1]),value:t[0]})}))]},n.prototype.GXt=function(){var t=(0,u.createEl)("legend",{textContent:this.localize("Text")}),n=this.WXt("color"),i=(0,u.createEl)("span",{className:"vjs-text-opacity vjs-opacity"},void 0,this.WXt("textOpacity"));return(0,u.createEl)("fieldset",{className:"vjs-fg-color vjs-tracksetting"},void 0,[t].concat(n,i))},n.prototype.qXt=function(){var t=(0,u.createEl)("legend",{textContent:this.localize("Background")}),n=this.WXt("backgroundColor"),i=(0,u.createEl)("span",{className:"vjs-bg-opacity vjs-opacity"},void 0,this.WXt("backgroundOpacity"));return(0,u.createEl)("fieldset",{className:"vjs-bg-color vjs-tracksetting"},void 0,[t].concat(n,i))},n.prototype.$Xt=function(){var t=(0,u.createEl)("legend",{textContent:this.localize("Window")}),n=this.WXt("windowColor"),i=(0,u.createEl)("span",{className:"vjs-window-opacity vjs-opacity"},void 0,this.WXt("windowOpacity"));return(0,u.createEl)("fieldset",{className:"vjs-window-color vjs-tracksetting"},void 0,[t].concat(n,i))},n.prototype.YXt=function(){return(0,u.createEl)("div",{className:"vjs-tracksettings-colors"},void 0,[this.GXt(),this.qXt(),this.$Xt()])},n.prototype.QXt=function(){var t=(0,u.createEl)("div",{className:"vjs-font-percent vjs-tracksetting"},void 0,this.WXt("fontPercent")),n=(0,u.createEl)("div",{className:"vjs-edge-style vjs-tracksetting"},void 0,this.WXt("edgeStyle")),i=(0,u.createEl)("div",{className:"vjs-font-family vjs-tracksetting"},void 0,this.WXt("fontFamily"));return(0,u.createEl)("div",{className:"vjs-tracksettings-font"},void 0,[t,n,i])},n.prototype.JXt=function(){var t=(0,u.createEl)("button",{className:"vjs-default-button",textContent:this.localize("Defaults")}),n=(0,u.createEl)("button",{className:"vjs-done-button",textContent:"Done"});return(0,u.createEl)("div",{className:"vjs-tracksettings-controls"},void 0,[t,n])},n.prototype.createEl=function(){var t=(0,u.createEl)("div",{className:"vjs-tracksettings"},void 0,[this.YXt(),this.QXt(),this.JXt()]),n=(0,u.createEl)("div",{className:"vjs-control-text",id:"TTsettingsDialogLabel-"+this.r_,textContent:"Caption Settings Dialog"},{"aria-level":"1",role:"heading"}),i=(0,u.createEl)("div",{className:"vjs-control-text",id:"TTsettingsDialogDescription-"+this.r_,textContent:"Beginning of dialog window. Escape will cancel and close the window."}),e=(0,u.createEl)("div",void 0,{role:"document"},[n,i,t]);return(0,u.createEl)("div",{className:"vjs-caption-settings vjs-modal-overlay",tabIndex:-1},{role:"dialog","aria-labelledby":n.id,"aria-describedby":i.id},e)},n.prototype.getValues=function(){var t=this;return c.reduce(R,function(n,i,e){var r,s,u=(r=t.$(i.selector),s=i.parser,N(r.options[r.options.selectedIndex].value,s));return void 0!==u&&(n[e]=u),n},{})},n.prototype.setValues=function(t){var n=this;c.each(R,function(i,e){!function(t,n,i){if(n)for(var e=0;e<t.options.length;e++)if(N(t.options[e].value,i)===n){t.selectedIndex=e;break}}(n.$(i.selector),t[e],i.parser)})},n.prototype.setDefaults=function(){var t=this;c.each(R,function(n){var i=n.hasOwnProperty("default")?n.default:0;t.$(n.selector).selectedIndex=i})},n.prototype.restoreSettings=function(){var t=void 0;try{t=JSON.parse(e.window.localStorage.getItem("vjs-text-track-settings"))}catch(t){l.default.warn(t)}t&&this.setValues(t)},n.prototype.saveSettings=function(){if(this.jjt.persistTextTrackSettings){var t=this.getValues();try{w.keys(t).length?e.window.localStorage.setItem("vjs-text-track-settings",JSON.stringify(t)):e.window.localStorage.removeItem("vjs-text-track-settings")}catch(t){l.default.warn(t)}}},n.prototype.updateDisplay=function(){var t=this.RD.getChild("textTrackDisplay");t&&t.updateDisplay()},n}(s.default);s.default.registerComponent("TextTrackSettings",D),i.default=D},{5:5,81:81,83:83,85:85,87:87,89:89}],72:[function(t,n,i){i.__esModule=!0;var e=t(67),r=T(e),s=t(83),u=A(s),o=t(73),a=t(87),h=T(a),c=t(85),f=t(75),d=T(f),g=t(93),_=t(122),y=T(_),m=t(88),p=T(m),k=t(78),b=A(k);function A(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function T(t){return t&&t.__esModule?t:{default:t}}function S(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var E=function(t,n){var i=new c.window.WebVTT.Parser(c.window,c.window.vttjs,c.window.WebVTT.StringDecoder()),e=[];i.oncue=function(t){n.addCue(t)},i.onparsingerror=function(t){e.push(t)},i.onflush=function(){n.trigger({type:"loadeddata",target:n})},i.parse(t),e.length>0&&(c.window.console&&c.window.console.groupCollapsed&&c.window.console.groupCollapsed("Text Track parsing errors for "+n.src),e.forEach(function(t){return h.default.error(t)}),c.window.console&&c.window.console.groupEnd&&c.window.console.groupEnd()),i.flush()},I=function(t,n){var i={uri:t},e=(0,g.isCrossOrigin)(t);e&&(i.cors=e),(0,y.default)(i,u.bind(this,function(t,i,e){if(t)return h.default.error(t,i);if(n.Opt=!0,"function"!=typeof c.window.WebVTT){if(n.Qjt){var r=function(){return E(e,n)};n.Qjt.on("vttjsloaded",r),n.Qjt.on("vttjserror",function(){h.default.error("vttjs failed to load, stopping trying to process "+n.src),n.Qjt.off("vttjsloaded",r)})}}else E(e,n)}))},R=function(t){function n(){var i,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),!e.tech)throw new l("A tech was not provided.");var s=(0,p.default)(e,{kind:o.TextTrackKind[e.kind]||"subtitles",language:e.language||e.srclang||""}),a=o.TextTrackMode[s.mode]||"disabled",h=s.default;"metadata"!==s.kind&&"chapters"!==s.kind||(a="hidden");var c=i=S(this,t.call(this,s));if(c.Qjt=s.tech,b.IS_IE8)for(var f in n.prototype)"constructor"!==f&&(c[f]=n.prototype[f]);c.p_=[],c.k_=[];var d=new r.default(c.p_),g=new r.default(c.k_),_=!1,y=u.bind(c,function(){this.activeCues,_&&(this.trigger("cuechange"),_=!1)});return"disabled"!==a&&c.Qjt.ready(function(){c.Qjt.on("timeupdate",y)},!0),w.defineProperty(c,"default",{get:function(){return h},set:function(){}}),w.defineProperty(c,"mode",{get:function(){return a},set:function(t){var n=this;o.TextTrackMode[t]&&("showing"===(a=t)&&this.Qjt.ready(function(){n.Qjt.on("timeupdate",y)},!0),this.trigger("modechange"))}}),w.defineProperty(c,"cues",{get:function(){return this.Opt?d:null},set:function(){}}),w.defineProperty(c,"activeCues",{get:function(){if(!this.Opt)return null;if(0===this.cues.length)return g;for(var t=this.Qjt.currentTime(),n=[],i=0,e=this.cues.length;i<e;i++){var r=this.cues[i];r.startTime<=t&&r.endTime>=t?n.push(r):r.startTime===r.endTime&&r.startTime<=t&&r.startTime+.5>=t&&n.push(r)}if(_=!1,n.length!==this.k_.length)_=!0;else for(var s=0;s<n.length;s++)-1===this.k_.indexOf(n[s])&&(_=!0);return this.k_=n,g.VXt(this.k_),g},set:function(){}}),s.src?(c.src=s.src,I(s.src,c)):c.Opt=!0,S(i,c)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.addCue=function(t){var n=t;if(c.window.vttjs&&!(t instanceof c.window.vttjs.VTTCue)){for(var i in n=new c.window.vttjs.VTTCue(t.startTime,t.endTime,t.text),t)i in n||(n[i]=t[i]);n.id=t.id,n.ZXt=t}var e=this.Qjt.textTracks();if(e)for(var r=0;r<e.length;r++)e[r]!==this&&e[r].removeCue(n);this.p_.push(n),this.cues.VXt(this.p_)},n.prototype.removeCue=function(t){for(var n=this.p_.length;n--;){var i=this.p_[n];if(i===t||i.ZXt&&i.ZXt===t){this.p_.splice(n,1),this.cues.VXt(this.p_);break}}},n}(d.default);R.prototype.oHt={cuechange:"cuechange"},i.default=R},{122:122,67:67,73:73,75:75,78:78,83:83,85:85,87:87,88:88,93:93}],73:[function(t,n,i){i.__esModule=!0,i.VideoTrackKind={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},i.AudioTrackKind={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},i.TextTrackKind={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},i.TextTrackMode={disabled:"disabled",hidden:"hidden",showing:"showing"}},{}],74:[function(t,n,i){i.__esModule=!0;var e,r=t(42),s=(e=r)&&e.__esModule?e:{default:e},u=t(78),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(85);function h(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var c=function(t){function n(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=h(this,t.call(this));if(!e&&(e=r,o.IS_IE8))for(var s in e=a.document.createElement("custom"),n.prototype)"constructor"!==s&&(e[s]=n.prototype[s]);e.uT=[],w.defineProperty(e,"length",{get:function(){return this.uT.length}});for(var u=0;u<i.length;u++)e.zg(i[u]);return h(r,e)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.zg=function(t){var n=this.uT.length;""+n in this||w.defineProperty(this,n,{get:function(){return this.uT[n]}}),-1===this.uT.indexOf(t)&&(this.uT.push(t),this.trigger({track:t,type:"addtrack"}))},n.prototype.Wg=function(t){for(var n=void 0,i=0,e=this.length;i<e;i++)if(this[i]===t){(n=this[i]).off&&n.off(),this.uT.splice(i,1);break}n&&this.trigger({track:n,type:"removetrack"})},n.prototype.getTrackById=function(t){for(var n=null,i=0,e=this.length;i<e;i++){var r=this[i];if(r.id===t){n=r;break}}return n},n}(s.default);for(var f in c.prototype.oHt={change:"change",addtrack:"addtrack",removetrack:"removetrack"},c.prototype.oHt)c.prototype["on"+f]=null;i.default=c},{42:42,78:78,85:85}],75:[function(t,n,i){i.__esModule=!0;var e,r=t(78),s=f(r),u=t(85),o=t(86),a=f(o),h=t(42),c=(e=h)&&e.__esModule?e:{default:e};function f(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function l(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var d=function(t){function n(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var e=l(this,t.call(this)),r=e;if(s.IS_IE8)for(var o in r=u.document.createElement("custom"),n.prototype)"constructor"!==o&&(r[o]=n.prototype[o]);var h={id:i.id||["vjs_track",a.newGUID()].join("_"),kind:i.kind||"",label:i.label||"",language:i.language||""},c=function(t){w.defineProperty(r,t,{get:function(){return h[t]},set:function(){}})};for(var f in h)c(f);return l(e,r)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(c.default);i.default=d},{42:42,78:78,85:85,86:86}],76:[function(t,n,i){i.__esModule=!0;var e,r=t(74),s=(e=r)&&e.__esModule?e:{default:e},u=t(78),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(85);function h(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var c=function(t,n){for(var i=0;i<t.length;i++)n.id!==t[i].id&&(t[i].selected=!1)},f=function(t){function n(){var i,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);for(var r=void 0,u=e.length-1;u>=0;u--)if(e[u].selected){c(e,e[u]);break}if(o.IS_IE8){for(var f in r=a.document.createElement("custom"),s.default.prototype)"constructor"!==f&&(r[f]=s.default.prototype[f]);for(var l in n.prototype)"constructor"!==l&&(r[l]=n.prototype[l])}return i=h(this,t.call(this,e,r)),(r=i).HXt=!1,w.defineProperty(r,"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),h(i,r)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.zg=function(n){var i=this;n.selected&&c(this,n),t.prototype.zg.call(this,n),n.addEventListener&&n.addEventListener("selectedchange",function(){i.HXt||(i.HXt=!0,c(i,n),i.HXt=!1,i.trigger("change"))})},n.prototype.addTrack=function(t){this.zg(t)},n.prototype.removeTrack=function(n){t.prototype.Wg.call(this,n)},n}(s.default);i.default=f},{74:74,78:78,85:85}],77:[function(t,n,i){i.__esModule=!0;var e=t(73),r=t(75),s=c(r),u=t(88),o=c(u),a=t(78),h=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(a);function c(t){return t&&t.__esModule?t:{default:t}}function f(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var l=function(t){function n(){var i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=(0,o.default)(r,{kind:e.VideoTrackKind[r.kind]||""}),u=i=f(this,t.call(this,s)),a=!1;if(h.IS_IE8)for(var c in n.prototype)"constructor"!==c&&(u[c]=n.prototype[c]);return w.defineProperty(u,"selected",{get:function(){return a},set:function(t){"boolean"==typeof t&&t!==a&&(a=t,this.trigger("selectedchange"))}}),s.selected&&(u.selected=s.selected),f(i,u)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(s.default);i.default=l},{73:73,75:75,78:78,88:88}],78:[function(t,n,i){i.__esModule=!0,i.BACKGROUND_SIZE_SUPPORTED=i.TOUCH_ENABLED=i.IS_ANY_SAFARI=i.IS_SAFARI=i.IE_VERSION=i.IS_IE8=i.CHROME_VERSION=i.IS_CHROME=i.IS_EDGE=i.IS_FIREFOX=i.IS_NATIVE_ANDROID=i.IS_OLD_ANDROID=i.ANDROID_VERSION=i.IS_ANDROID=i.IOS_VERSION=i.IS_IOS=i.IS_IPOD=i.IS_IPHONE=i.IS_IPAD=void 0;var e,r=t(81),s=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(r),u=t(85),o=u.window.navigator&&u.window.navigator.userAgent||"",a=/AppleWebKit\/([\d.]+)/i.exec(o),h=a?y(a.pop()):null,c=i.IS_IPAD=/iPad/i.test(o),f=i.IS_IPHONE=/iPhone/i.test(o)&&!c,l=i.IS_IPOD=/iPod/i.test(o),v=i.IS_IOS=f||c||l;i.IOS_VERSION=(e=o.match(/OS (\d+)_/i))&&e[1]?e[1]:null;var d=i.IS_ANDROID=/Android/i.test(o),g=i.ANDROID_VERSION=function(){var t=o.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var n=t[1]&&y(t[1]),i=t[2]&&y(t[2]);return n&&i?y(t[1]+"."+t[2]):n||null}();i.IS_OLD_ANDROID=d&&/webkit/i.test(o)&&g<2.3,i.IS_NATIVE_ANDROID=d&&g<5&&h<537,i.IS_FIREFOX=/Firefox/i.test(o);var _,m,p=i.IS_EDGE=/Edge/i.test(o),k=i.IS_CHROME=!p&&/Chrome/i.test(o);i.CHROME_VERSION=function(){var t=o.match(/Chrome\/(\d+)/);return t&&t[1]?y(t[1]):null}(),i.IS_IE8=/MSIE\s8\.0/.test(o),i.IE_VERSION=(_=/MSIE\s(\d+)\.\d/.exec(o),!(m=_&&y(_[1]))&&/Trident\/7.0/i.test(o)&&/rv:11.0/.test(o)&&(m=11),m);var b=i.IS_SAFARI=/Safari/i.test(o)&&!k&&!d&&!p;i.IS_ANY_SAFARI=b||v,i.TOUCH_ENABLED=s.isReal()&&("ontouchstart"in u.window||u.window.DocumentTouch&&u.window.document instanceof u.window.DocumentTouch),i.BACKGROUND_SIZE_SUPPORTED=s.isReal()&&"backgroundSize"in u.window.document.createElement("video").style},{81:81,85:85}],79:[function(t,n,i){i.__esModule=!0,i.bufferedPercent=function(t,n){var i=0,r=void 0,s=void 0;if(!n)return 0;t&&t.length||(t=(0,e.createTimeRange)(0,0));for(var u=0;u<t.length;u++)r=t.start(u),(s=t.end(u))>n&&(s=n),i+=s-r;return i/n};var e=t(91)},{91:91}],80:[function(t,n,i){i.__esModule=!0,i.default=function(t,n){if(!t||!n)return"";if("function"==typeof e.window.getComputedStyle){var i=e.window.getComputedStyle(t);return i?i[n]:""}return t.currentStyle[n]||""};var e=t(85)},{85:85}],81:[function(t,n,i){i.__esModule=!0,i.$$=i.$=void 0;var e,r=((e=["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]).raw=["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],e);i.isReal=function(){return s.document===s.window.document&&void 0!==s.document.createElement},i.isEl=m,i.getEl=function(t){return 0===t.indexOf("#")&&(t=t.slice(1)),s.document.getElementById(t)},i.createEl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},e=arguments[3],u=s.document.createElement(t);return w.getOwnPropertyNames(n).forEach(function(t){var i=n[t];-1!==t.indexOf("aria-")||"role"===t||"type"===t?(h.default.warn((0,f.default)(r,t,i)),u.setAttribute(t,i)):"textContent"===t?k(u,i):u[t]=i}),w.getOwnPropertyNames(i).forEach(function(t){u.setAttribute(t,i[t])}),e&&C(u,e),u},i.textContent=k,i.insertElFirst=function(t,n){n.firstChild?n.insertBefore(t,n.firstChild):n.appendChild(t)},i.getElData=function(t){var n=t[A];return n||(n=t[A]=o.newGUID()),b[n]||(b[n]={}),b[n]},i.hasElData=function(t){var n=t[A];return!!n&&!!w.getOwnPropertyNames(b[n]).length},i.removeElData=function(t){var n=t[A];if(n){delete b[n];try{delete t[A]}catch(n){t.removeAttribute?t.removeAttribute(A):t[A]=null}}},i.hasElClass=T,i.addElClass=S,i.removeElClass=E,i.toggleElClass=function(t,n,i){var e=T(t,n);if("function"==typeof i&&(i=i(t,n)),"boolean"!=typeof i&&(i=!e),i!==e)return i?S(t,n):E(t,n),t},i.setElAttributes=function(t,n){w.getOwnPropertyNames(n).forEach(function(i){var e=n[i];null==e||!1===e?t.removeAttribute(i):t.setAttribute(i,!0===e?"":e)})},i.getElAttributes=function(t){var n={},i=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(t&&t.attributes&&t.attributes.length>0)for(var e=t.attributes,r=e.length-1;r>=0;r--){var s=e[r].name,u=e[r].value;"boolean"!=typeof t[s]&&-1===i.indexOf(","+s+",")||(u=null!==u),n[s]=u}return n},i.getAttribute=function(t,n){return t.getAttribute(n)},i.setAttribute=function(t,n,i){t.setAttribute(n,i)},i.removeAttribute=function(t,n){t.removeAttribute(n)},i.blockTextSelection=function(){s.document.body.focus(),s.document.onselectstart=function(){return!1}},i.unblockTextSelection=function(){s.document.onselectstart=function(){return!0}},i.findElPosition=I,i.getPointerPosition=function(t,n){var i={},e=I(t),r=t.offsetWidth,s=t.offsetHeight,u=e.top,o=e.left,a=n.pageY,h=n.pageX;return n.changedTouches&&(h=n.changedTouches[0].pageX,a=n.changedTouches[0].pageY),i.y=g.max(0,g.min(1,(u-a+s)/s)),i.x=g.max(0,g.min(1,(h-o)/r)),i},i.isTextNode=R,i.emptyEl=N,i.normalizeContent=D,i.appendContent=C,i.insertContent=function(t,n){return C(N(t),n)};var s=t(85),u=t(86),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(87),h=d(a),c=t(121),f=d(c),v=t(89);function d(t){return t&&t.__esModule?t:{default:t}}function _(t){return"string"==typeof t&&/\S/.test(t)}function y(t){if(/\s/.test(t))throw new l("class has illegal whitespace characters")}function m(t){return(0,v.isObject)(t)&&1===t.nodeType}function p(t){return function(n,i){if(!_(n))return s.document[t](null);_(i)&&(i=s.document.querySelector(i));var e=m(i)?i:s.document;return e[t]&&e[t](n)}}function k(t,n){return void 0===t.textContent?t.innerText=n:t.textContent=n,t}var b={},A="vdata"+(new Date).getTime();function T(t,n){return y(n),t.classList?t.classList.contains(n):(i=n,new RegExp("(^|\\s)"+i+"($|\\s)")).test(t.className);var i}function S(t,n){return t.classList?t.classList.add(n):T(t,n)||(t.className=(t.className+" "+n).trim()),t}function E(t,n){return t.classList?t.classList.remove(n):(y(n),t.className=t.className.split(/\s+/).filter(function(t){return t!==n}).join(" ")),t}function I(t){var n=void 0;if(t.getBoundingClientRect&&t.parentNode&&(n=t.getBoundingClientRect()),!n)return{left:0,top:0};var i=s.document.documentElement,e=s.document.body,r=i.clientLeft||e.clientLeft||0,u=s.window.pageXOffset||e.scrollLeft,o=n.left+u-r,a=i.clientTop||e.clientTop||0,h=s.window.pageYOffset||e.scrollTop,c=n.top+h-a;return{left:g.round(o),top:g.round(c)}}function R(t){return(0,v.isObject)(t)&&3===t.nodeType}function N(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function D(t){return"function"==typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map(function(t){return"function"==typeof t&&(t=t()),m(t)||R(t)?t:"string"==typeof t&&/\S/.test(t)?s.document.createTextNode(t):void 0}).filter(function(t){return t})}function C(t,n){return D(n).forEach(function(n){return t.appendChild(n)}),t}i.$=p("querySelector"),i.$$=p("querySelectorAll")},{121:121,85:85,86:86,87:87,89:89}],82:[function(t,n,i){i.__esModule=!0,i.fixEvent=d,i.on=y,i.off=m,i.trigger=function t(n,i,e){var r=s.hasElData(n)?s.getElData(n):{},u=n.parentNode||n.ownerDocument;if("string"==typeof i&&(i={type:i,target:n}),i=d(i),r.dispatcher&&r.dispatcher.call(n,i,e),u&&!i.isPropagationStopped()&&!0===i.bubbles)t.call(null,u,i,e);else if(!u&&!i.defaultPrevented){var o=s.getElData(i.target);i.target[i.type]&&(o.disabled=!0,"function"==typeof i.target[i.type]&&i.target[i.type](),o.disabled=!1)}return!i.defaultPrevented},i.one=function t(n,i,e){if(Array.isArray(i))return v(t,n,i,e);var r=function t(){m(n,i,t),e.apply(this,arguments)};r.guid=e.guid=e.guid||o.newGUID(),y(n,i,r)};var e,r=t(81),s=f(r),u=t(86),o=f(u),a=t(87),h=(e=a)&&e.__esModule?e:{default:e},c=t(85);function f(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function l(t,n){var i=s.getElData(t);0===i.handlers[n].length&&(delete i.handlers[n],t.removeEventListener?t.removeEventListener(n,i.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+n,i.dispatcher)),w.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),0===w.getOwnPropertyNames(i).length&&s.removeElData(t)}function v(t,n,i,e){i.forEach(function(i){t(n,i,e)})}function d(t){function n(){return!0}function i(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){var e=t||c.window.event;for(var r in t={},e)"layerX"!==r&&"layerY"!==r&&"keyLocation"!==r&&"webkitMovementX"!==r&&"webkitMovementY"!==r&&"path"!==r&&("returnValue"===r&&e.preventDefault||(t[r]=e[r]));if(t.target||(t.target=t.srcElement||c.document),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){e.preventDefault&&e.preventDefault(),t.returnValue=!1,e.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){e.stopPropagation&&e.stopPropagation(),t.cancelBubble=!0,e.cancelBubble=!0,t.isPropagationStopped=n},t.isPropagationStopped=i,t.stopImmediatePropagation=function(){e.stopImmediatePropagation&&e.stopImmediatePropagation(),t.isImmediatePropagationStopped=n,t.stopPropagation()},t.isImmediatePropagationStopped=i,null!==t.clientX&&void 0!==t.clientX){var s=c.document.documentElement,u=c.document.body;t.pageX=t.clientX+(s&&s.scrollLeft||u&&u.scrollLeft||0)-(s&&s.clientLeft||u&&u.clientLeft||0),t.pageY=t.clientY+(s&&s.scrollTop||u&&u.scrollTop||0)-(s&&s.clientTop||u&&u.clientTop||0)}t.which=t.charCode||t.keyCode,null!==t.button&&void 0!==t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t}var g=!1;!function(){try{var t=w.defineProperty({},"passive",{get:function(){g=!0}});c.window.addEventListener("test",null,t)}catch(t){}}();var _=["touchstart","touchmove"];function y(t,n,i){if(Array.isArray(n))return v(y,t,n,i);var e=s.getElData(t);if(e.handlers||(e.handlers={}),e.handlers[n]||(e.handlers[n]=[]),i.guid||(i.guid=o.newGUID()),e.handlers[n].push(i),e.dispatcher||(e.disabled=!1,e.dispatcher=function(n,i){if(!e.disabled){n=d(n);var r=e.handlers[n.type];if(r)for(var s=r.slice(0),u=0,o=s.length;u<o&&!n.isImmediatePropagationStopped();u++)try{s[u].call(t,n,i)}catch(t){h.default.error(t)}}}),1===e.handlers[n].length)if(t.addEventListener){var r=!1;g&&_.indexOf(n)>-1&&(r={passive:!0}),t.addEventListener(n,e.dispatcher,r)}else t.attachEvent&&t.attachEvent("on"+n,e.dispatcher)}function m(t,n,i){if(s.hasElData(t)){var e=s.getElData(t);if(e.handlers){if(Array.isArray(n))return v(m,t,n,i);var r=function(n){e.handlers[n]=[],l(t,n)};if(n){var u=e.handlers[n];if(u)if(i){if(i.guid)for(var o=0;o<u.length;o++)u[o].guid===i.guid&&u.splice(o--,1);l(t,n)}else r(n)}else for(var a in e.handlers)r(a)}}}},{81:81,85:85,86:86,87:87}],83:[function(t,n,i){i.__esModule=!0,i.throttle=i.bind=void 0;var e=t(86);i.bind=function(t,n,i){n.guid||(n.guid=(0,e.newGUID)());var r=function(){return n.apply(t,arguments)};return r.guid=i?i+"_"+n.guid:n.guid,r},i.throttle=function(t,n){var i=Date.now();return function(){var e=Date.now();e-i>=n&&(t.apply(void 0,arguments),i=e)}}},{86:86}],84:[function(t,n,i){i.__esModule=!0,i.default=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;t=t<0?0:t;var i=g.floor(t%60),e=g.floor(t/60%60),r=g.floor(t/3600),s=g.floor(n/60%60),u=g.floor(n/3600);return(m(t)||t===1/0)&&(r=e=i="-"),(r=r>0||u>0?r+":":"")+(e=((r||s>=10)&&e<10?"0"+e:e)+":")+(i=i<10?"0"+i:i)}},{}],85:[function(n,i,e){(function(n){e.__esModule=!0;var i=void 0!==r?r:void 0!==n?n:void 0!==t?t:{},u=void 0!==s?s:{createElement:function(){}};e.window=i,e.document=u}).call(this,void 0!==Lr?Lr:void 0!==t?t:void 0!==r?r:{})},{}],86:[function(t,n,i){i.__esModule=!0,i.newGUID=function(){return e++};var e=1},{}],87:[function(t,n,i){i.__esModule=!0,i.logByType=void 0;var e=t(85),r=t(78),s=t(89),u=void 0,o=i.logByType=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!!r.IE_VERSION&&r.IE_VERSION<11;"log"!==t&&n.unshift(t.toUpperCase()+":"),u.history.push(n),n.unshift("VIDEOJS:");var o=e.window.console&&e.window.console[t];o&&(i&&(n=n.map(function(t){if((0,s.isObject)(t)||Array.isArray(t))try{return JSON.stringify(t)}catch(n){return String(t)}return String(t)}).join(" ")),o.apply?o[Array.isArray(n)?"apply":"call"](e.window.console,n):o(n))};(u=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];o("log",n)}).history=[],u.error=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return o("error",n)},u.warn=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return o("warn",n)},i.default=u},{78:78,85:85,89:89}],88:[function(t,n,i){i.__esModule=!0,i.default=function t(){for(var n={},i=arguments.length,r=Array(i),s=0;s<i;s++)r[s]=arguments[s];return r.forEach(function(i){i&&(0,e.each)(i,function(i,r){(0,e.isPlain)(i)?((0,e.isPlain)(n[r])||(n[r]={}),n[r]=t(n[r],i)):n[r]=i})}),n};var e=t(89)},{89:89}],89:[function(t,n,i){i.__esModule=!0;var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};i.each=u,i.reduce=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return s(t).reduce(function(i,e){return n(i,t[e],e)},i)},i.assign=function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];return w.assign?w.assign.apply(w,[t].concat(i)):(i.forEach(function(n){n&&u(n,function(n,i){t[i]=n})}),t)},i.isObject=o,i.isPlain=function(t){return o(t)&&"[object Object]"===r.call(t)&&t.constructor===w};var r=w.prototype.toString,s=function(t){return o(t)?w.keys(t):[]};function u(t,n){s(t).forEach(function(i){return n(t[i],i)})}function o(t){return!!t&&"object"===(void 0===t?"undefined":e(t))}},{}],90:[function(t,n,i){i.__esModule=!0,i.setTextContent=i.createStyleElement=void 0;var e=t(85);i.createStyleElement=function(t){var n=e.document.createElement("style");return n.className=t,n},i.setTextContent=function(t,n){t.styleSheet?t.styleSheet.cssText=n:t.textContent=n}},{85:85}],91:[function(t,n,i){i.__esModule=!0,i.createTimeRange=void 0,i.createTimeRanges=a;var e,r=t(87),s=(e=r)&&e.__esModule?e:{default:e};function u(t,n,i,e){return void 0===e&&(s.default.warn("DEPRECATED: Function '"+t+"' on 'TimeRanges' called without an index argument."),e=0),function(t,n,i){if(n<0||n>i)throw new l("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+n+") is greater than or equal to the maximum bound ("+i+").")}(t,e,i.length-1),i[e][n]}function o(t){return void 0===t||0===t.length?{length:0,start:function(){throw new l("This TimeRanges object is empty")},end:function(){throw new l("This TimeRanges object is empty")}}:{length:t.length,start:u.bind(null,"start",0,t),end:u.bind(null,"end",1,t)}}function a(t,n){return Array.isArray(t)?o(t):void 0===t||void 0===n?o():o([[t,n]])}i.createTimeRange=a},{87:87}],92:[function(t,n,i){i.__esModule=!0,i.default=function(t){return"string"!=typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)}},{}],93:[function(t,n,i){i.__esModule=!0,i.isCrossOrigin=i.getFileExtension=i.getAbsoluteURL=i.parseUrl=void 0;var e=t(85),r=i.parseUrl=function(t){var n=["protocol","hostname","port","pathname","search","hash","host"],i=e.document.createElement("a");i.href=t;var r=""===i.host&&"file:"!==i.protocol,s=void 0;r&&((s=e.document.createElement("div")).innerHTML='<a href="'+t+'"></a>',i=s.firstChild,s.setAttribute("style","display:none; position:absolute;"),e.document.body.appendChild(s));for(var u={},o=0;o<n.length;o++)u[n[o]]=i[n[o]];return"http:"===u.protocol&&(u.host=u.host.replace(/:80$/,"")),"https:"===u.protocol&&(u.host=u.host.replace(/:443$/,"")),r&&e.document.body.removeChild(s),u};i.getAbsoluteURL=function(t){if(!t.match(/^https?:\/\//)){var n=e.document.createElement("div");n.innerHTML='<a href="'+t+'">x</a>',t=n.firstChild.href}return t},i.getFileExtension=function(t){if("string"==typeof t){var n=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(t);if(n)return n.pop().toLowerCase()}return""},i.isCrossOrigin=function(t){var n=e.window.location,i=r(t),s=":"===i.protocol?n.protocol:i.protocol,u=s+i.host!==n.protocol+n.host;return u}},{85:85}],94:[function(t,n,i){i.__esModule=!0;var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=t(85),s=t(78),u=Z(s),o=t(81),a=Z(o),h=t(56),c=Z(h),f=t(90),l=Z(f),d=t(5),g=J(d),_=t(42),y=J(_),m=t(82),p=Z(m),k=t(51),b=J(k),A=t(52),T=J(A),S=t(88),E=J(S),I=t(83),R=Z(I),N=t(72),D=J(N),C=t(64),P=J(C),O=t(77),x=J(O),B=t(91),L=t(84),M=J(L),F=t(87),U=J(F),j=t(93),H=Z(j),X=t(89),V=t(80),z=J(V),W=t(43),G=J(W),q=t(122),$=J(q),Y=t(62),Q=J(Y);function J(t){return t&&t.__esModule?t:{default:t}}function Z(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function K(t,n,i){var e=void 0;if("string"==typeof t){if(0===t.indexOf("#")&&(t=t.slice(1)),K.getPlayers()[t])return n&&U.default.warn('Player "'+t+'" is already initialised. Options will not be applied.'),i&&K.getPlayers()[t].ready(i),K.getPlayers()[t];e=a.getEl(t)}else e=t;if(!e||!e.nodeName)throw new v("The element or ID supplied is not valid. (videojs)");if(e.player||b.default.players[e.playerId])return e.player||b.default.players[e.playerId];n=n||{},K.hooks("beforesetup").forEach(function(t){var i=t(e,(0,E.default)(n));(0,X.isObject)(i)&&!Array.isArray(i)?n=(0,E.default)(n,i):U.default.error("please return an object in beforesetup hooks")});var r=g.default.getComponent("Player"),s=new r(e,n,i);return K.hooks("setup").forEach(function(t){return t(s)}),s}if("undefined"==typeof HTMLVideoElement&&a.isReal()&&(r.document.createElement("video"),r.document.createElement("audio"),r.document.createElement("track")),K.KXt={},K.hooks=function(t,n){return K.KXt[t]=K.KXt[t]||[],n&&(K.KXt[t]=K.KXt[t].concat(n)),K.KXt[t]},K.hook=function(t,n){K.hooks(t,n)},K.removeHook=function(t,n){var i=K.hooks(t).indexOf(n);return!(i<=-1||(K.KXt[t]=K.KXt[t].slice(),K.KXt[t].splice(i,1),0))},!0!==r.window.VIDEOJS_NO_DYNAMIC_STYLE&&a.isReal()){var tt=a.$(".vjs-styles-defaults");if(!tt){tt=l.createStyleElement("vjs-styles-defaults");var nt=a.$("head");nt&&nt.insertBefore(tt,nt.firstChild),l.setTextContent(tt,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}c.autoSetupTimeout(1,K),K.VERSION="5.20.6-opentelly.9",K.options=b.default.prototype.jjt,K.getPlayers=function(){return b.default.players},K.players=b.default.players,K.getComponent=g.default.getComponent,K.registerComponent=function(t,n){Q.default.isTech(n)&&U.default.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),g.default.registerComponent.call(g.default,t,n)},K.getTech=Q.default.getTech,K.registerTech=Q.default.registerTech,K.browser=u,K.TOUCH_ENABLED=u.TOUCH_ENABLED,K.extend=G.default,K.mergeOptions=E.default,K.bind=R.bind,K.plugin=T.default,K.addLanguage=function(t,n){var i;return t=(""+t).toLowerCase(),K.options.languages=(0,E.default)(K.options.languages,((i={})[t]=n,i)),K.options.languages[t]},K.log=U.default,K.createTimeRange=K.createTimeRanges=B.createTimeRanges,K.formatTime=M.default,K.parseUrl=H.parseUrl,K.isCrossOrigin=H.isCrossOrigin,K.EventTarget=y.default,K.on=p.on,K.one=p.one,K.off=p.off,K.trigger=p.trigger,K.xhr=$.default,K.TextTrack=D.default,K.AudioTrack=P.default,K.VideoTrack=x.default,K.isEl=a.isEl,K.isTextNode=a.isTextNode,K.createEl=a.createEl,K.hasClass=a.hasElClass,K.addClass=a.addElClass,K.removeClass=a.removeElClass,K.toggleClass=a.toggleElClass,K.setAttributes=a.setElAttributes,K.getAttributes=a.getElAttributes,K.emptyEl=a.emptyEl,K.appendContent=a.appendContent,K.insertContent=a.insertContent,K.computedStyle=z.default,"object"===(void 0===i?"undefined":e(i))&&"object"===(void 0===n?"undefined":e(n))&&(n.exports=K),i.default=K},{122:122,42:42,43:43,5:5,51:51,52:52,56:56,62:62,64:64,72:72,77:77,78:78,80:80,81:81,82:82,83:83,84:84,85:85,87:87,88:88,89:89,90:90,91:91,93:93}],95:[function(t,n,i){var e=t(113),r="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),s=w.prototype.toString,u=Array.prototype.concat,o=w.defineProperty,a=o&&function(){var t={};try{for(var n in o(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}}(),h=function(t,n,i,e){var r;n in t&&("function"!=typeof(r=e)||"[object Function]"!==s.call(r)||!e())||(a?o(t,n,{configurable:!0,enumerable:!1,value:i,writable:!0}):t[n]=i)},c=function(t,n){var i=arguments.length>2?arguments[2]:{},s=e(n);r&&(s=u.call(s,w.getOwnPropertySymbols(n)));for(var o=0;o<s.length;o+=1)h(t,s[o],n[s[o]],i[s[o]])};c.supportsDescriptors=!!a,n.exports=c},{113:113}],96:[function(t,n,i){var e=w.getOwnPropertyDescriptor?function(){return w.getOwnPropertyDescriptor(arguments,"callee").get}():function(){throw new v},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,s=w.getPrototypeOf||function(t){return t.__proto__},u=void 0===p?void 0:s(p),o={"$ %Array%":Array,"$ %ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"$ %ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":r?s([][Symbol.iterator]()):void 0,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":void 0,"$ %AsyncFunction%":void 0,"$ %AsyncFunctionPrototype%":void 0,"$ %AsyncGenerator%":void 0,"$ %AsyncGeneratorFunction%":void 0,"$ %AsyncGeneratorPrototype%":void 0,"$ %AsyncIteratorPrototype%":void 0,"$ %Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":"undefined"==typeof DataView?void 0:DataView,"$ %DataViewPrototype%":"undefined"==typeof DataView?void 0:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":l,"$ %ErrorPrototype%":l.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"$ %Float32ArrayPrototype%":"undefined"==typeof Float32Array?void 0:Float32Array.prototype,"$ %Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"$ %Float64ArrayPrototype%":"undefined"==typeof Float64Array?void 0:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":void 0,"$ %GeneratorFunction%":void 0,"$ %GeneratorPrototype%":void 0,"$ %Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"$ %Int8ArrayPrototype%":"undefined"==typeof Int8Array?void 0:Int8Array.prototype,"$ %Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"$ %Int16ArrayPrototype%":"undefined"==typeof Int16Array?void 0:Int8Array.prototype,"$ %Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"$ %Int32ArrayPrototype%":"undefined"==typeof Int32Array?void 0:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":m,"$ %IteratorPrototype%":r?s(s([][Symbol.iterator]())):void 0,"$ %JSON%":JSON,"$ %JSONParse%":JSON.parse,"$ %Map%":"undefined"==typeof Map?void 0:Map,"$ %MapIteratorPrototype%":"undefined"!=typeof Map&&r?s((new Map)[Symbol.iterator]()):void 0,"$ %MapPrototype%":"undefined"==typeof Map?void 0:Map.prototype,"$ %Math%":g,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":w,"$ %ObjectPrototype%":w.prototype,"$ %ObjProto_toString%":w.prototype.toString,"$ %ObjProto_valueOf%":w.prototype.valueOf,"$ %parseFloat%":y,"$ %parseInt%":_,"$ %Promise%":"undefined"==typeof Promise?void 0:Promise,"$ %PromisePrototype%":"undefined"==typeof Promise?void 0:Promise.prototype,"$ %PromiseProto_then%":"undefined"==typeof Promise?void 0:Promise.prototype.then,"$ %Promise_all%":"undefined"==typeof Promise?void 0:Promise.all,"$ %Promise_reject%":"undefined"==typeof Promise?void 0:Promise.reject,"$ %Promise_resolve%":"undefined"==typeof Promise?void 0:Promise.resolve,"$ %Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":"undefined"==typeof Set?void 0:Set,"$ %SetIteratorPrototype%":"undefined"!=typeof Set&&r?s((new Set)[Symbol.iterator]()):void 0,"$ %SetPrototype%":"undefined"==typeof Set?void 0:Set.prototype,"$ %SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":r?s(""[Symbol.iterator]()):void 0,"$ %StringPrototype%":String.prototype,"$ %Symbol%":r?Symbol:void 0,"$ %SymbolPrototype%":r?Symbol.prototype:void 0,"$ %SyntaxError%":d,"$ %SyntaxErrorPrototype%":d.prototype,"$ %ThrowTypeError%":e,"$ %TypedArray%":u,"$ %TypedArrayPrototype%":u?u.prototype:void 0,"$ %TypeError%":v,"$ %TypeErrorPrototype%":v.prototype,"$ %Uint8Array%":void 0===p?void 0:p,"$ %Uint8ArrayPrototype%":void 0===p?void 0:p.prototype,"$ %Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"$ %Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"$ %Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?void 0:Uint16Array.prototype,"$ %Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"$ %Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?void 0:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"$ %WeakMapPrototype%":"undefined"==typeof WeakMap?void 0:WeakMap.prototype,"$ %WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"$ %WeakSetPrototype%":"undefined"==typeof WeakSet?void 0:WeakSet.prototype};n.exports=function(t,n){if(arguments.length>1&&"boolean"!=typeof n)throw new v('"allowMissing" argument must be a boolean');var i="$ "+t;if(!(i in o))throw new d("intrinsic "+t+" does not exist!");if(void 0===o[i]&&!n)throw new v("intrinsic "+t+" exists, but is not available. Please file an issue!");return o[i]}},{}],97:[function(t,n,i){var e=t(96),r=e("%Object%"),s=e("%TypeError%"),u=e("%String%"),o=t(98),a=t(100),h=t(99),c=t(102),f=t(101),l=t(110),d=t(103),w=t(109),_={ToPrimitive:d,ToBoolean:function(t){return!!t},ToNumber:function(t){return+t},ToInteger:function(t){var n=this.ToNumber(t);return a(n)?0:0!==n&&h(n)?c(n)*g.floor(g.abs(n)):n},ToInt32:function(t){return this.ToNumber(t)>>0},ToUint32:function(t){return this.ToNumber(t)>>>0},ToUint16:function(t){var n=this.ToNumber(t);if(a(n)||0===n||!h(n))return 0;var i=c(n)*g.floor(g.abs(n));return f(i,65536)},ToString:function(t){return u(t)},ToObject:function(t){return this.CheckObjectCoercible(t),r(t)},CheckObjectCoercible:function(t,n){if(null==t)throw new s(n||"Cannot call method on "+t);return t},IsCallable:l,SameValue:function(t,n){return t===n?0!==t||1/t==1/n:a(t)&&a(n)},Type:function(t){return null===t?"Null":void 0===t?"Undefined":"function"==typeof t||"object"==typeof t?"Object":"number"==typeof t?"Number":"boolean"==typeof t?"Boolean":"string"==typeof t?"String":void 0},IsPropertyDescriptor:function(t){if("Object"!==this.Type(t))return!1;var n={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var i in t)if(w(t,i)&&!n[i])return!1;var e=w(t,"[[Value]]"),r=w(t,"[[Get]]")||w(t,"[[Set]]");if(e&&r)throw new s("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function(t){return void 0!==t&&(o(this,"Property Descriptor","Desc",t),!(!w(t,"[[Get]]")&&!w(t,"[[Set]]")))},IsDataDescriptor:function(t){return void 0!==t&&(o(this,"Property Descriptor","Desc",t),!(!w(t,"[[Value]]")&&!w(t,"[[Writable]]")))},IsGenericDescriptor:function(t){return void 0!==t&&(o(this,"Property Descriptor","Desc",t),!this.IsAccessorDescriptor(t)&&!this.IsDataDescriptor(t))},FromPropertyDescriptor:function(t){if(void 0===t)return t;if(o(this,"Property Descriptor","Desc",t),this.IsDataDescriptor(t))return{value:t["[[Value]]"],writable:!!t["[[Writable]]"],enumerable:!!t["[[Enumerable]]"],configurable:!!t["[[Configurable]]"]};if(this.IsAccessorDescriptor(t))return{get:t["[[Get]]"],set:t["[[Set]]"],enumerable:!!t["[[Enumerable]]"],configurable:!!t["[[Configurable]]"]};throw new s("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function(t){if("Object"!==this.Type(t))throw new s("ToPropertyDescriptor requires an object");var n={};if(w(t,"enumerable")&&(n["[[Enumerable]]"]=this.ToBoolean(t.enumerable)),w(t,"configurable")&&(n["[[Configurable]]"]=this.ToBoolean(t.configurable)),w(t,"value")&&(n["[[Value]]"]=t.value),w(t,"writable")&&(n["[[Writable]]"]=this.ToBoolean(t.writable)),w(t,"get")){var i=t.get;if(void 0!==i&&!this.IsCallable(i))throw new v("getter must be a function");n["[[Get]]"]=i}if(w(t,"set")){var e=t.set;if(void 0!==e&&!this.IsCallable(e))throw new s("setter must be a function");n["[[Set]]"]=e}if((w(n,"[[Get]]")||w(n,"[[Set]]"))&&(w(n,"[[Value]]")||w(n,"[[Writable]]")))throw new s("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return n}};n.exports=_},{100:100,101:101,102:102,103:103,109:109,110:110,96:96,98:98,99:99}],98:[function(t,n,i){var e=t(96),r=e("%TypeError%"),s=e("%SyntaxError%"),u=t(109),o={"Property Descriptor":function(t,n){if("Object"!==t.Type(n))return!1;var i={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var e in n)if(u(n,e)&&!i[e])return!1;var s=u(n,"[[Value]]"),o=u(n,"[[Get]]")||u(n,"[[Set]]");if(s&&o)throw new r("Property Descriptors may not be both accessor and data descriptors");return!0}};n.exports=function(t,n,i,e){var u=o[n];if("function"!=typeof u)throw new s("unknown record type: "+n);if(!u(t,e))throw new r(i+" must be a "+n);console.log(u(t,e),e)}},{109:109,96:96}],99:[function(t,n,i){var e=Number.isNaN||function(t){return t!=t};n.exports=Number.isFinite||function(t){return"number"==typeof t&&!e(t)&&t!==1/0&&t!==-1/0}},{}],100:[function(t,n,i){n.exports=Number.isNaN||function(t){return t!=t}},{}],101:[function(t,n,i){n.exports=function(t,n){var i=t%n;return g.floor(i>=0?i:i+n)}},{}],102:[function(t,n,i){n.exports=function(t){return t>=0?1:-1}},{}],103:[function(t,n,i){var e=w.prototype.toString,r=t(104),s=t(110),u={"[[DefaultValue]]":function(t){var n;if((n=arguments.length>1?arguments[1]:"[object Date]"===e.call(t)?String:Number)===String||n===Number){var i,u,o=n===String?["toString","valueOf"]:["valueOf","toString"];for(u=0;u<o.length;++u)if(s(t[o[u]])&&(i=t[o[u]](),r(i)))return i;throw new v("No default value")}throw new v("invalid [[DefaultValue]] hint supplied")}};n.exports=function(t){return r(t)?t:arguments.length>1?u["[[DefaultValue]]"](t,arguments[1]):u["[[DefaultValue]]"](t)}},{104:104,110:110}],104:[function(t,n,i){n.exports=function(t){return null===t||"function"!=typeof t&&"object"!=typeof t}},{}],105:[function(t,n,i){var e=t(110),r=w.prototype.toString,s=w.prototype.hasOwnProperty;n.exports=function(t,n,i){if(!e(n))throw new v("iterator must be a function");var u;arguments.length>=3&&(u=i),"[object Array]"===r.call(t)?function(t,n,i){for(var e=0,r=t.length;e<r;e++)s.call(t,e)&&(null==i?n(t[e],e,t):n.call(i,t[e],e,t))}(t,n,u):"string"==typeof t?function(t,n,i){for(var e=0,r=t.length;e<r;e++)null==i?n(t.charAt(e),e,t):n.call(i,t.charAt(e),e,t)}(t,n,u):function(t,n,i){for(var e in t)s.call(t,e)&&(null==i?n(t[e],e,t):n.call(i,t[e],e,t))}(t,n,u)}},{110:110}],106:[function(t,n,i){var e=Array.prototype.slice,r=w.prototype.toString;n.exports=function(t){var n=this;if("function"!=typeof n||"[object Function]"!==r.call(n))throw new v("Function.prototype.bind called on incompatible "+n);for(var i,s=e.call(arguments,1),u=g.max(0,n.length-s.length),o=[],a=0;a<u;a++)o.push("$"+a);if(i=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof i){var r=n.apply(this,s.concat(e.call(arguments)));return w(r)===r?r:this}return n.apply(t,s.concat(e.call(arguments)))}),n.prototype){var h=function(){};h.prototype=n.prototype,i.prototype=new h,h.prototype=null}return i}},{}],107:[function(t,n,i){var e=t(106);n.exports=Function.prototype.bind||e},{106:106}],108:[function(n,i,e){(function(n){i.exports=void 0!==r?r:void 0!==n?n:void 0!==t?t:{}}).call(this,void 0!==Lr?Lr:void 0!==t?t:void 0!==r?r:{})},{}],109:[function(t,n,i){var e=t(107);n.exports=e.call(Function.call,w.prototype.hasOwnProperty)},{107:107}],110:[function(t,n,i){var e=Function.prototype.toString,r=/^\s*class\b/,s=function(t){try{var n=e.call(t);return r.test(n)}catch(t){return!1}},u=w.prototype.toString,o="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;n.exports=function(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;if(o)return function(t){try{return!s(t)&&(e.call(t),!0)}catch(t){return!1}}(t);if(s(t))return!1;var n=u.call(t);return"[object Function]"===n||"[object GeneratorFunction]"===n}},{}],111:[function(t,n,i){n.exports=function(t){var n=e.call(t);return"[object Function]"===n||"function"==typeof t&&"[object RegExp]"!==n||void 0!==r&&(t===r.setTimeout||t===r.alert||t===r.confirm||t===r.prompt)};var e=w.prototype.toString},{}],112:[function(t,n,i){var e;if(!w.keys){var s=w.prototype.hasOwnProperty,u=w.prototype.toString,o=t(114),a=w.prototype.propertyIsEnumerable,h=!a.call({toString:null},"toString"),c=a.call(function(){},"prototype"),f=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(t){var n=t.constructor;return n&&n.prototype===t},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},g=function(){if(void 0===r)return!1;for(var t in r)try{if(!d["$"+t]&&s.call(r,t)&&null!==r[t]&&"object"==typeof r[t])try{l(r[t])}catch(t){return!0}}catch(t){return!0}return!1}();e=function(t){var n=null!==t&&"object"==typeof t,i="[object Function]"===u.call(t),e=o(t),a=n&&"[object String]"===u.call(t),d=[];if(!n&&!i&&!e)throw new v("Object.keys called on a non-object");var w=c&&i;if(a&&t.length>0&&!s.call(t,0))for(var _=0;_<t.length;++_)d.push(String(_));if(e&&t.length>0)for(var y=0;y<t.length;++y)d.push(String(y));else for(var m in t)w&&"prototype"===m||!s.call(t,m)||d.push(String(m));if(h)for(var p=function(t){if(void 0===r||!g)return l(t);try{return l(t)}catch(t){return!1}}(t),k=0;k<f.length;++k)p&&"constructor"===f[k]||!s.call(t,f[k])||d.push(f[k]);return d}}n.exports=e},{114:114}],113:[function(t,n,i){var e=Array.prototype.slice,r=t(114),s=w.keys,u=s?function(t){return s(t)}:t(112),o=w.keys;u.shim=function(){if(w.keys){var t=function(){var t=w.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(w.keys=function(t){return r(t)?o(e.call(t)):o(t)})}else w.keys=u;return w.keys||u},n.exports=u},{112:112,114:114}],114:[function(t,n,i){var e=w.prototype.toString;n.exports=function(t){var n=e.call(t),i="[object Arguments]"===n;return i||(i="[object Array]"!==n&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===e.call(t.callee)),i}},{}],115:[function(t,n,i){var e=t(118),r=t(105);n.exports=function(t){if(!t)return{};var n={};return r(e(t).split("\n"),function(t){var i,r=t.indexOf(":"),s=e(t.slice(0,r)).toLowerCase(),u=e(t.slice(r+1));void 0===n[s]?n[s]=u:(i=n[s],"[object Array]"===w.prototype.toString.call(i)?n[s].push(u):n[s]=[n[s],u])}),n}},{105:105,118:118}],116:[function(t,n,i){n.exports=function(t,n){var i,e=null;try{i=JSON.parse(t,n)}catch(t){e=t}return[e,i]}},{}],117:[function(t,n,i){var e=t(107),r=t(97),s=e.call(Function.call,String.prototype.replace),u=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,o=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;n.exports=function(){var t=r.ToString(r.CheckObjectCoercible(this));return s(s(t,u,""),o,"")}},{107:107,97:97}],118:[function(t,n,i){var e=t(107),r=t(95),s=t(117),u=t(119),o=t(120),a=e.call(Function.call,u());r(a,{getPolyfill:u,implementation:s,shim:o}),n.exports=a},{107:107,117:117,119:119,120:120,95:95}],119:[function(t,n,i){var e=t(117);n.exports=function(){return String.prototype.trim&&"\u200b"==="\u200b".trim()?String.prototype.trim:e}},{117:117}],120:[function(t,n,i){var e=t(95),r=t(119);n.exports=function(){var t=r();return e(String.prototype,{trim:t},{trim:function(){return String.prototype.trim!==t}}),t}},{119:119,95:95}],121:[function(t,n,i){function e(t){return t.replace(/\n\r?\s*/g,"")}n.exports=function(t){for(var n="",i=0;i<arguments.length;i++)n+=e(t[i])+(arguments[i+1]||"");return n}},{}],122:[function(t,n,i){var e=t(108),r=t(111),s=t(115),u=t(123);function o(t,n,i){var e=t;return r(n)?(i=n,"string"==typeof t&&(e={uri:t})):e=u(n,{uri:t}),e.callback=i,e}function c(t,n,i){return f(n=o(t,n,i))}function f(t){if(void 0===t.callback)throw new l("callback argument missing");var n=!1,i=function(i,e,r){n||(n=!0,t.callback(i,e,r))};function e(){var t=void 0;if(t=d.response?d.response:d.responseText||function(t){if("document"===t.responseType)return t.responseXML;var n=204===t.status&&t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;return""!==t.responseType||n?null:t.responseXML}(d),k)try{t=JSON.parse(t)}catch(t){}return t}var r={body:void 0,headers:{},statusCode:0,method:_,url:g,rawRequest:d};function u(t){return h(w),t instanceof l||(t=new l(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,i(t,r)}function o(){if(!v){var n;h(w),n=t.useXDR&&void 0===d.status?200:1223===d.status?204:d.status;var u=r,o=null;return 0!==n?(u={body:e(),statusCode:n,method:_,headers:{},url:g,rawRequest:d},d.getAllResponseHeaders&&(u.headers=s(d.getAllResponseHeaders()))):o=new l("Internal XMLHttpRequest Error"),i(o,u,u.body)}}var f,v,d=t.xhr||null;d||(d=t.cors||t.useXDR?new c.XDomainRequest:new c.XMLHttpRequest);var w,g=d.url=t.uri||t.url,_=d.method=t.method||"GET",y=t.body||t.data||null,m=d.headers=t.headers||{},p=!!t.sync,k=!1;if("json"in t&&(k=!0,m.accept||m.Accept||(m.Accept="application/json"),"GET"!==_&&"HEAD"!==_&&(m["content-type"]||m["Content-Type"]||(m["Content-Type"]="application/json"),y=JSON.stringify(t.json))),d.onreadystatechange=function(){4===d.readyState&&o()},d.onload=o,d.onerror=u,d.onprogress=function(){},d.ontimeout=u,d.open(_,g,!p,t.username,t.password),p||(d.withCredentials=!!t.withCredentials),!p&&t.timeout>0&&(w=a(function(){v=!0,d.abort("timeout");var t=new l("XMLHttpRequest timeout");t.code="ETIMEDOUT",u(t)},t.timeout)),d.setRequestHeader)for(f in m)m.hasOwnProperty(f)&&d.setRequestHeader(f,m[f]);else if(t.headers&&!function(t){for(var n in t)if(t.hasOwnProperty(n))return!1;return!0}(t.headers))throw new l("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(d.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(d),d.send(y),d}n.exports=c,c.XMLHttpRequest=e.XMLHttpRequest||function(){},c.XDomainRequest="withCredentials"in new c.XMLHttpRequest?c.XMLHttpRequest:e.XDomainRequest,function(t,n){for(var i=0;i<t.length;i++)n(t[i])}(["get","put","post","patch","head","delete"],function(t){c["delete"===t?"del":t]=function(n,i,e){return(i=o(n,i,e)).method=t.toUpperCase(),f(i)}})},{108:108,111:111,115:115,123:123}],123:[function(t,n,i){n.exports=function(){for(var t={},n=0;n<arguments.length;n++){var i=arguments[n];for(var r in i)e.call(i,r)&&(t[r]=i[r])}return t};var e=w.prototype.hasOwnProperty},{}]},{},[94])(94)),C1=function(){function t(t,n){var i=this;this.tVt=void 0,this.nVt=void 0,this.iVt=function(){ur(i.tVt,"vjs-hidden");var t=i.nVt.player().contentEl().getClientRects(),n=t.length>0?t[0]:void 0,e=y(getComputedStyle(i.tVt).fontSize);xO(i.tVt,i.nVt.el(),n,e)},this.eVt=function(){sr(i.tVt,"vjs-hidden")},this.rVt=function(){return i.sVt()},this.nVt=t,lr(t.el()),t.el().addEventListener("mouseover",function(t){lr(t.target)}),this.tVt=s.createElement("span"),this.tVt.innerHTML=this.nVt.localize(n),this.tVt.className="theo-button-tooltip vjs-hidden",this.tVt.setAttribute("aria-hidden","true"),this.nVt.el().appendChild(this.tVt),this.nVt.on("mouseover",this.iVt),this.nVt.on("mouseout",this.eVt),this.nVt.on("dispose",this.rVt)}return t.prototype.sVt=function(){this.nVt.off("mouseover",this.iVt),this.nVt.off("mouseout",this.eVt),this.nVt.off("dispose",this.rVt),nr(this.tVt)},T(t,[{key:"uVt",get:function(){return this.tVt.textContent||""},set:function(t){this.tVt.innerHTML=this.nVt.localize(t),this.eVt(),this.iVt(),lr(this.nVt.el())}}]),t}(),P1=function(t){var n=this;this.DD=void 0,this.oVt=function(t){sr(n.DD,"theo-mobile-button-hover"),t.stopImmediatePropagation()},this.aVt=function(t){ur(n.DD,"theo-mobile-button-hover")},this.hVt=function(t){n.DD.blur()},this.DD=t,t.addEventListener("touchstart",this.oVt),t.addEventListener("touchend",this.aVt),t.addEventListener("focusin",this.hVt)};function O1(t){return function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).cVt=void 0,n}return E(n,t),n.prototype.dispose=function(){this.cVt=void 0,t.prototype.dispose.call(this)},T(n,[{key:"fVt",get:function(){return this.cVt||(this.cVt=this.player().tech({IWillNotUseThisInPlugins:!0}).theoplayer()),this.cVt}}]),n}(t)}var x1=function(t){function n(n,e){var r,s;return(s=t.call(this,n,e)||this).lVt=void 0,s.me=void 0,s.tVt=void 0,s.lVt=n.el(),s.me=rE.UNAVAILABLE,s.controlText("Unavailable"),s.tVt=new C1(Kt(s),s.controlText()),null==(r=s.vVt)||r.addEventListener("statechange",function(t){var n=t;s.GUt(n.state)}),i.jr.Wt&&new P1(s.el()),s.GUt(s.vVt?s.vVt.state:rE.UNAVAILABLE),s.on(n,"languagechange",s.dVt),s}E(n,t);var e=n.prototype;return e.buildCSSClass=function(){return"theo-cast-button theo-"+this.wVt+"-button theo-controlbar-button "+t.prototype.buildCSSClass.call(this)},e.createEl=function(n,i,e){var r=t.prototype.createEl.call(this),u=s.createElement("div");u.className="theo-button-icon-blur";var o=s.createElement("div");return o.className="theo-cast-svg-container",o.innerHTML=this.gVt,r.appendChild(u),r.appendChild(o),r},e.handleClick=function(n){var i;if(t.prototype.handleClick.call(this,n),this.me===rE.AVAILABLE)null==(i=this.vVt)||i.start();else if(this.me===rE.CONNECTED||this.me===rE.CONNECTING){var e;null==(e=this.vVt)||e.stop()}},e.GUt=function(t){ur(this.lVt,"theo-"+this.wVt+"-"+this.me),this.me=t,sr(this.lVt,"theo-"+this.wVt+"-"+this.me),this.dVt()},e.dVt=function(){this._Vt(this.me),this.tVt.uVt=this.controlText()},e._Vt=function(t){t===rE.CONNECTED?this.controlText("Stop Casting"):t===rE.AVAILABLE?this.controlText("Start Casting"):t===rE.CONNECTING?this.controlText("Connecting"):this.controlText("Unavailable")},T(n,[{key:"vVt",get:function(){throw new l("yVt")}},{key:"gVt",get:function(){return this.jjt.gVt}},{key:"wVt",get:function(){return this.jjt.wVt}}]),n}(O1(D1.getComponent("Button"))),B1=0;var L1=function(t){function n(n,i){return t.call(this,n,jr({},i,{wVt:"chromecast",gVt:(e='\n    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" fill="currentColor">\n        <defs>\n            <clipPath id="theo-chromecast-rings-mask-'+B1+'">\n                <path d="M0-36h44V0H0z"/>\n            </clipPath>\n        </defs>\n\t    <path class="theo-chromecast-outer" d="M2 10a4 4 0 0 1 4-4h36a4 4 0 0 1 4 4v28a4 4 0 0 1-4 4H28v-4h14V10H6v6H2z"/>\n\t    <path class="theo-chromecast-inner" d="M10 14h28v20H26.74A26 26 0 0 0 10 17.26z"/>\n        <g class="theo-chromecast-rings" fill="none" stroke="currentColor" stroke-width="4" transform="translate(2 42)" clip-path="url(#theo-chromecast-rings-mask-'+B1+')">\n            <circle stroke="none" cx="0" cy="0" r="30" />\n            <circle class="theo-chromecast-ring theo-chromecast-ring1" stroke-width="6" cx="0" cy="0" r="3" />\n            <circle class="theo-chromecast-ring theo-chromecast-ring2" cx="0" cy="0" r="12" />\n            <circle class="theo-chromecast-ring theo-chromecast-ring3" cx="0" cy="0" r="20"/>\n            <path class="theo-chromecast-ring theo-chromecast-ring4" stroke-linecap="round" d="M0-20A20 20 0 0 1 20 0" />\n        </g>\n    </svg>',B1++,e)}))||this;var e}return E(n,t),T(n,[{key:"vVt",get:function(){var t;return null==(t=this.fVt.cast)?void 0:t.chromecast}}]),n}(x1);D1.registerComponent("chromecastButton",L1);var M1,F1,U1,j1,H1=function(t){function n(n,i){var e,r,s;return(s=t.call(this,n,i)||this).mVt=void 0,s.update=function(){s.mVt?(s.pVt&&BO(s.pVt,s.mVt.receiverName||""),s.mVt.state===rE.CONNECTED?s.show():s.hide()):s.hide()},s.mVt=null==(e=s.fVt.cast)?void 0:e.chromecast,null==(r=s.mVt)||r.addEventListener("statechange",s.update),s.fVt.addEventListener("play",s.update),s.update(),s}E(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-chromecast-overlay "+t.prototype.buildCSSClass.call(this)},i.createEl=function(){var i=t.prototype.createEl.call(this);sr(i,"theo-chromecast-overlay");var e=D1.createEl("div",{className:"theo-chromecast-status-icon",innerHTML:n.ICON_SVG}),r=D1.createEl("div",{className:"theo-chromecast-status-info"});BO(r,"Playing on");var s=D1.createEl("div",{className:"theo-chromecast-status-title"}),u=D1.createEl("div",{className:"theo-chromecast-status"});return this.pVt=s,u.appendChild(e),u.appendChild(r),u.appendChild(s),i.appendChild(u),i},i.dispose=function(){var n;null==(n=this.mVt)||n.removeEventListener("statechange",this.update),this.mVt=void 0,this.fVt.removeEventListener("play",this.update),t.prototype.dispose.call(this)},n}(O1(D1.getComponent("Component")));H1.ICON_SVG='\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36" fill="currentColor">\n    <path d="M7 24v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm18-7H11v1.63c3.96 1.28 7.09 4.41 8.37 8.37H25V13zM7 16v2a9 9 0 0 1 9 9h2c0-6.08-4.93-11-11-11zm20-7H9c-1.1 0-2 .9-2 2v3h2v-3h18v14h-7v2h7c1.1 0 2-.9 2-2V11c0-1.1-.9-2-2-2z"/>\n</svg>',D1.registerComponent("chromecastOverlay",H1),function(t){t.SET_VOLUME="IMA_ADSMANAGER_SET_VOLUME",t.DESTROY="IMA_ADSMANAGER_DESTROY",t.START="IMA_ADSMANAGER_START",t.RESUME="IMA_ADSMANAGER_RESUME",t.PAUSE="IMA_ADSMANAGER_PAUSE",t.SKIP="IMA_ADSMANAGER_SKIP",t.STOP="IMA_ADSMANAGER_STOP"}(M1||(M1={})),function(t){t.VOLUME_UPDATE="IMA_VOLUME_UPDATE",t.REMAINING_TIME_UPDATE="IMA_REMAINING_TIME_UPDATE",t.CURRENT_AD_UPDATE="IMA_CURRENT_AD_UPDATE",t.CUE_POINTS_UPDATE="IMA_CUE_POINTS_UPDATE"}(F1||(F1={})),function(t){t.CONTENT_COMPLETE="IMA_ADSLOADER_CONTENT_COMPLETE",t.REQUEST_ADS="IMA_ADSLOADER_REQUEST_ADS",t.DESTROY="IMA_ADSLOADER_DESTROY"}(U1||(U1={})),function(t){t.INITIALIZE="IMA_DISPLAY_CONTAINER_INITIALIZE",t.SHOW="IMA_DISPLAY_CONTAINER_SHOW",t.HIDE="IMA_DISPLAY_CONTAINER_HIDE",t.DESTROY="IMA_DISPLAY_CONTAINER_DESTROY"}(j1||(j1={}));var X1,V1=function(){this.type=j1.INITIALIZE},z1=function(){this.type=j1.SHOW},W1=function(){this.type=j1.HIDE},G1=function(){this.type=j1.DESTROY},q1=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){switch(t){case X1.AD_EVENT_RECEIVED:this.Ks(new Q1({type:n.type,ad:n.ad,adData:n.adData}));break;case X1.ERROR:this.Ks(new J1(n));break;case X1.UPDATE_NATIVE_PROPERTY:var i=this.getNativePropertyUpdateEvent(n);i&&this.Ks(i);break;case X1.ADS_LOADER_STATUS:this.Ks(new $1(n));break;case X1.AD_DISPLAY_CONTAINER_CREATED:this.Ks(new Y1)}},i.getNativePropertyUpdateEvent=function(t){switch(t.type){case F1.REMAINING_TIME_UPDATE:return new Z1(t);case F1.CURRENT_AD_UPDATE:return new K1(t);case F1.CUE_POINTS_UPDATE:return new t2(t)}},n}(bZ),$1=function(t){function n(n){var i;return(i=t.call(this,X1.ADS_LOADER_STATUS)||this).detail=n,i}return E(n,t),n}(Iu),Y1=function(t){function n(n){var i;return void 0===n&&(n=void 0),(i=t.call(this,X1.AD_DISPLAY_CONTAINER_CREATED)||this).detail=n,i}return E(n,t),n}(Iu),Q1=function(t){function n(n){var i;return(i=t.call(this,X1.AD_EVENT_RECEIVED)||this).detail=n,i}return E(n,t),n}(Iu),J1=function(t){function n(n){var i;return(i=t.call(this,X1.ERROR)||this).detail=n,i}return E(n,t),n}(Iu),Z1=function(t){function n(n){var i;return(i=t.call(this,F1.REMAINING_TIME_UPDATE)||this).detail=n,i}return E(n,t),n}(Iu),K1=function(t){function n(n){var i;return(i=t.call(this,F1.CURRENT_AD_UPDATE)||this).detail=n,i}return E(n,t),n}(Iu),t2=function(t){function n(n){var i;return(i=t.call(this,F1.CUE_POINTS_UPDATE)||this).detail=n,i}return E(n,t),n}(Iu);!function(t){t.AD_EVENT_RECEIVED="adEventReceived",t.ERROR="error",t.UPDATE_NATIVE_PROPERTY="updateNativeProperty",t.ADS_LOADER_STATUS="adsLoaderStatus",t.AD_DISPLAY_CONTAINER_CREATED="adDisplayContainerCreated"}(X1||(X1={}));var n2=function(){function t(t,n){var i=this;this.BLt=void 0,this.DFt=void 0,this.CEt=void 0,this.kVt=function(t){var n;null==(n=i.CEt)||n.Yu(),i.CEt=void 0},this.BLt=t,this.DFt=n,this.BLt.addEventListener(X1.AD_DISPLAY_CONTAINER_CREATED,this.kVt)}var n=t.prototype;return n.lm=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.DFt.oFt(new z1);case 1:case"end":return t.stop()}},null,this,null,Ge)},n.vm=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.DFt.oFt(new W1);case 1:case"end":return t.stop()}},null,this,null,Ge)},n.LL=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.CEt=new na,this.DFt.oFt(new V1),t.abrupt("return",this.CEt.Wu);case 3:case"end":return t.stop()}},null,this,null,Ge)},n.Us=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.DFt.oFt(new G1),this.CEt=void 0;case 2:case"end":return t.stop()}},null,this,null,Ge)},t}(),i2=function(t){this.type=M1.SET_VOLUME,this.value=t},e2=function(){this.type=M1.DESTROY},r2=function(){this.type=M1.START},s2=function(){this.type=M1.RESUME},u2=function(){this.type=M1.PAUSE},o2=function(){this.type=M1.SKIP},a2=function(){this.type=M1.STOP};function h2(t){if(t){var n=void 0;t.adPodInfo&&(n={_bt:t.adPodInfo.adPosition,ybt:t.adPodInfo.maxDuration,mbt:t.adPodInfo.podIndex,Z1:t.adPodInfo.timeOffset,pbt:t.adPodInfo.totalAds,kbt:t.adPodInfo.isBumper});var i=t.companionAds&&t.companionAds.map(function(t){return{Rgt:t.adSlotId,hp:t.content,Gv:t.contentType,bT:t.height,xp:t.width}})||[],e=t.universalAdIds&&t.universalAdIds.map(function(t){return{bbt:t.adIdRegistry,Abt:t.adIdValue}})||[],r={};try{r=JSON.parse(t.traffickingParametersString)}catch(t){}return{s_t:t.adId,Hbt:n,jwt:t.adSystem,Tbt:t.advertiserName,Igt:t.apiFramework,Pwt:i,Gv:t.contentType,sgt:t.creativeId,Sbt:t.creativeAdId,Ebt:t.dealId,PT:t.description,uy:t.duration,xp:t.width,bT:t.height,Ibt:t.mediaUrl,Rbt:t.minSuggestedDuration,Nbt:t.skipTimeOffset,Dbt:t.surveyUrl,$N:t.title,Cbt:r,Pbt:t.traffickingParametersString,Obt:t.uiElements,Bwt:e,xbt:t.vastMediaBitrate,Bbt:t.vastMediaHeight,Lbt:t.vastMediaWidth,Mbt:t.wrapperAdIds,Fbt:t.wrapperAdSystems,Ubt:t.wrapperCreativeIds,jbt:t.isLinear}}}var c2=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).BLt=void 0,r.DFt=void 0,r.bVt=void 0,r.AVt=function(t){r.bVt.remainingTime=t.detail.time},r.TVt=function(t){r.bVt.currentAd=t.detail.ad},r.SVt=function(t){r.bVt.cuePoints=t.detail.cuePoints},r.UFt=function(t){var n=h2(t.detail.ad),i={type:t.detail.type,date:new Date,jdt:n,cTt:t.detail.adData};r.Ks(i)},r.lTt=function(t){r.Ks({date:new Date,jdt:void 0,type:MW.yAt,cTt:{vTt:{mu:t.detail.message,Gbt:t.detail.vastErrorCode,Udt:t.detail.errorCode,gs:t.detail.type,qbt:void 0}}})},r.BLt=n,r.DFt=i,r.bVt={volume:void 0,remainingTime:void 0,currentAd:void 0,cuePoints:e},r.BLt.addEventListener(F1.REMAINING_TIME_UPDATE,r.AVt),r.BLt.addEventListener(F1.CURRENT_AD_UPDATE,r.TVt),r.BLt.addEventListener(F1.CUE_POINTS_UPDATE,r.SVt),r.BLt.addEventListener(X1.AD_EVENT_RECEIVED,r.UFt),r.BLt.addEventListener(X1.ERROR,r.lTt),r}E(n,t);var i=n.prototype;return i.bM=function(t){return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:this.DFt.oFt(new i2(t));case 1:case"end":return n.stop()}},null,this,null,Ge)},i.kM=function(){var t;return null!=(t=this.bVt.volume)?t:-1},i.hSt=function(){var t;return null!=(t=this.bVt.remainingTime)?t:-1},i.Us=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.DFt.oFt(new e2),this.BLt.removeEventListener(F1.REMAINING_TIME_UPDATE,this.AVt),this.BLt.removeEventListener(F1.CURRENT_AD_UPDATE,this.TVt),this.BLt.removeEventListener(F1.CUE_POINTS_UPDATE,this.SVt),this.BLt.removeEventListener(X1.AD_EVENT_RECEIVED,this.UFt),this.BLt.removeEventListener(X1.ERROR,this.lTt);case 6:case"end":return t.stop()}},null,this,null,Ge)},i.WD=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.DFt.oFt(new r2);case 1:case"end":return t.stop()}},null,this,null,Ge)},i.nIt=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.DFt.oFt(new s2);case 1:case"end":return t.stop()}},null,this,null,Ge)},i.Jy=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.DFt.oFt(new u2);case 1:case"end":return t.stop()}},null,this,null,Ge)},i.IA=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.DFt.oFt(new o2);case 1:case"end":return t.stop()}},null,this,null,Ge)},i.Zy=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.DFt.oFt(new a2);case 1:case"end":return t.stop()}},null,this,null,Ge)},i.vIt=function(t){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:Ge.resolve();case 1:case"end":return t.stop()}},null,null,null,Ge)},i.fTt=function(){return h2(this.bVt.currentAd)},i.sIt=function(){var t;return null!=(t=this.bVt.cuePoints)?t:[]},n}(Su),f2=function(t){this.adsResponse=void 0,this.adTagUrl=void 0,this.adWillAutoPlay=void 0,this.adWillPlayMuted=void 0,this.adsResponse=t.vkt,this.adTagUrl=t.lkt,this.adWillAutoPlay=t.ckt,this.adWillPlayMuted=t.fkt},l2=function(t){this.enablePreloading=void 0,this.mimeTypes=void 0,this.playAdsAfterTime=void 0,this.loadVideoTimeout=void 0,this.bitrate=void 0,this.enablePreloading=t.cIt,this.mimeTypes=t.hIt,this.playAdsAfterTime=t.lIt,this.loadVideoTimeout=t.fIt,this.bitrate=t.YSt},v2=function(){this.type=U1.CONTENT_COMPLETE},d2=function(t,n){this.type=U1.REQUEST_ADS,this.adsRequest=t,this.adsRenderingSettings=n},w2=function(){this.type=U1.DESTROY},g2=function(t){function n(n,i){var e;return(e=t.call(this)||this).uLt=void 0,e.DFt=void 0,e.BLt=void 0,e.EVt=function(t){if(e.uLt){if(t.detail.isLoaded){var n,i=new c2(e.BLt,e.DFt,t.detail.initialCuePoints);null==(n=e.uLt)||n.Yu(i)}else{var r,s={mu:t.detail.error.message,Gbt:t.detail.error.vastErrorCode,Udt:t.detail.error.errorCode,gs:t.detail.error.type,qbt:void 0};null==(r=e.uLt)||r.Qu(s)}e.uLt=void 0}},e.DFt=i,e.BLt=n,e.BLt.addEventListener(X1.ADS_LOADER_STATUS,e.EVt),e}E(n,t);var i=n.prototype;return i.iIt=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.DFt.oFt(new v2);case 1:case"end":return t.stop()}},null,this,null,Ge)},i.fbt=function(t,n,i){var e,r;return Ur.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.uLt){n.next=2;break}throw new l("Only one ImaAdsRequest can be made at a time.");case 2:return this.uLt=new na,e=new f2(t),r=new l2(i),this.DFt.oFt(new d2(e,r)),n.abrupt("return",this.uLt.Wu);case 8:case"end":return n.stop()}},null,this,null,Ge)},i.Us=function(){return Ur.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.BLt.removeEventListener(X1.ADS_LOADER_STATUS,this.EVt),this.DFt.oFt(new w2);case 2:case"end":return t.stop()}},null,this,null,Ge)},n}(Su),_2=function(){function t(t){this.fFt=void 0,this.fFt=new NK(t)}return t.prototype.oFt=function(t){this.fFt.EJ(t.type,nQ(t))},t}();ZG.qn.registerNativeImaAdPlayerConstructor(function(t,n,i,e,r){var s=new q1;gZ().ima={sdkEventBus:s};var u=F.zn?new _2(e.uid):new kK,o=new n2(s,u),a=new g2(s,u);return new JG(t,n,i,e,r,o,a)}),n.ChromelessPlayer=BN,n.Player=BN,n.cache=lK,n.createGlobals=mZ,n.features=FN,n.getCueMirrorMap=_Z,n.getGlobalId=yZ,n.getSdkEventBridge=gZ,n.playerSuiteVersion="2023.2.0",n.players=UN,n.registerContentProtectionIntegration=jN,n.utils=MN,n.version="4.12.9",w.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
